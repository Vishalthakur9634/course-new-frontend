var JM=Object.defineProperty;var qM=(r,e,t)=>e in r?JM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var sr=(r,e,t)=>qM(r,typeof e!="symbol"?e+"":e,t);function ZM(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Gee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pN={exports:{}},fp={},xN={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Symbol.for("react.element"),eD=Symbol.for("react.portal"),tD=Symbol.for("react.fragment"),rD=Symbol.for("react.strict_mode"),nD=Symbol.for("react.profiler"),sD=Symbol.for("react.provider"),iD=Symbol.for("react.context"),aD=Symbol.for("react.forward_ref"),oD=Symbol.for("react.suspense"),lD=Symbol.for("react.memo"),AD=Symbol.for("react.lazy"),R4=Symbol.iterator;function cD(r){return r===null||typeof r!="object"?null:(r=R4&&r[R4]||r["@@iterator"],typeof r=="function"?r:null)}var yN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wN=Object.assign,bN={};function If(r,e,t){this.props=r,this.context=e,this.refs=bN,this.updater=t||yN}If.prototype.isReactComponent={};If.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};If.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function vN(){}vN.prototype=If.prototype;function Kw(r,e,t){this.props=r,this.context=e,this.refs=bN,this.updater=t||yN}var $w=Kw.prototype=new vN;$w.constructor=Kw;wN($w,If.prototype);$w.isPureReactComponent=!0;var _4=Array.isArray,CN=Object.prototype.hasOwnProperty,Vw={current:null},LN={key:!0,ref:!0,__self:!0,__source:!0};function SN(r,e,t){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)CN.call(e,n)&&!LN.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];s.children=A}if(r&&r.defaultProps)for(n in l=r.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:oh,type:r,key:i,ref:a,props:s,_owner:Vw.current}}function fD(r,e){return{$$typeof:oh,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function Yw(r){return typeof r=="object"&&r!==null&&r.$$typeof===oh}function dD(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var P4=/\/+/g;function $1(r,e){return typeof r=="object"&&r!==null&&r.key!=null?dD(""+r.key):e.toString(36)}function vg(r,e,t,n,s){var i=typeof r;(i==="undefined"||i==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case oh:case eD:a=!0}}if(a)return a=r,s=s(a),r=n===""?"."+$1(a,0):n,_4(s)?(t="",r!=null&&(t=r.replace(P4,"$&/")+"/"),vg(s,e,t,"",function(c){return c})):s!=null&&(Yw(s)&&(s=fD(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(P4,"$&/")+"/")+r)),e.push(s)),1;if(a=0,n=n===""?".":n+":",_4(r))for(var l=0;l<r.length;l++){i=r[l];var A=n+$1(i,l);a+=vg(i,e,t,A,s)}else if(A=cD(r),typeof A=="function")for(r=A.call(r),l=0;!(i=r.next()).done;)i=i.value,A=n+$1(i,l++),a+=vg(i,e,t,A,s);else if(i==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function a0(r,e,t){if(r==null)return r;var n=[],s=0;return vg(r,n,"","",function(i){return e.call(t,i,s++)}),n}function uD(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var ws={current:null},Cg={transition:null},hD={ReactCurrentDispatcher:ws,ReactCurrentBatchConfig:Cg,ReactCurrentOwner:Vw};function EN(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:a0,forEach:function(r,e,t){a0(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return a0(r,function(){e++}),e},toArray:function(r){return a0(r,function(e){return e})||[]},only:function(r){if(!Yw(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Ot.Component=If;Ot.Fragment=tD;Ot.Profiler=nD;Ot.PureComponent=Kw;Ot.StrictMode=rD;Ot.Suspense=oD;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hD;Ot.act=EN;Ot.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=wN({},r.props),s=r.key,i=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Vw.current),e.key!==void 0&&(s=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(A in e)CN.call(e,A)&&!LN.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&l!==void 0?l[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=t;else if(1<A){l=Array(A);for(var c=0;c<A;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:oh,type:r.type,key:s,ref:i,props:n,_owner:a}};Ot.createContext=function(r){return r={$$typeof:iD,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:sD,_context:r},r.Consumer=r};Ot.createElement=SN;Ot.createFactory=function(r){var e=SN.bind(null,r);return e.type=r,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(r){return{$$typeof:aD,render:r}};Ot.isValidElement=Yw;Ot.lazy=function(r){return{$$typeof:AD,_payload:{_status:-1,_result:r},_init:uD}};Ot.memo=function(r,e){return{$$typeof:lD,type:r,compare:e===void 0?null:e}};Ot.startTransition=function(r){var e=Cg.transition;Cg.transition={};try{r()}finally{Cg.transition=e}};Ot.unstable_act=EN;Ot.useCallback=function(r,e){return ws.current.useCallback(r,e)};Ot.useContext=function(r){return ws.current.useContext(r)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(r){return ws.current.useDeferredValue(r)};Ot.useEffect=function(r,e){return ws.current.useEffect(r,e)};Ot.useId=function(){return ws.current.useId()};Ot.useImperativeHandle=function(r,e,t){return ws.current.useImperativeHandle(r,e,t)};Ot.useInsertionEffect=function(r,e){return ws.current.useInsertionEffect(r,e)};Ot.useLayoutEffect=function(r,e){return ws.current.useLayoutEffect(r,e)};Ot.useMemo=function(r,e){return ws.current.useMemo(r,e)};Ot.useReducer=function(r,e,t){return ws.current.useReducer(r,e,t)};Ot.useRef=function(r){return ws.current.useRef(r)};Ot.useState=function(r){return ws.current.useState(r)};Ot.useSyncExternalStore=function(r,e,t){return ws.current.useSyncExternalStore(r,e,t)};Ot.useTransition=function(){return ws.current.useTransition()};Ot.version="18.3.1";xN.exports=Ot;var S=xN.exports;const wo=XM(S),gD=ZM({__proto__:null,default:wo},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=S,pD=Symbol.for("react.element"),xD=Symbol.for("react.fragment"),yD=Object.prototype.hasOwnProperty,wD=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bD={key:!0,ref:!0,__self:!0,__source:!0};function NN(r,e,t){var n,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)yD.call(e,n)&&!bD.hasOwnProperty(n)&&(s[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:pD,type:r,key:i,ref:a,props:s,_owner:wD.current}}fp.Fragment=xD;fp.jsx=NN;fp.jsxs=NN;pN.exports=fp;var o=pN.exports,_2={},BN={exports:{}},ni={},kN={exports:{}},jN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(H,re){var ce=H.length;H.push(re);e:for(;0<ce;){var le=ce-1>>>1,D=H[le];if(0<s(D,re))H[le]=re,H[ce]=D,ce=le;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var re=H[0],ce=H.pop();if(ce!==re){H[0]=ce;e:for(var le=0,D=H.length,K=D>>>1;le<K;){var Y=2*(le+1)-1,se=H[Y],J=Y+1,ie=H[J];if(0>s(se,ce))J<D&&0>s(ie,se)?(H[le]=ie,H[J]=ce,le=J):(H[le]=se,H[Y]=ce,le=Y);else if(J<D&&0>s(ie,ce))H[le]=ie,H[J]=ce,le=J;else break e}}return re}function s(H,re){var ce=H.sortIndex-re.sortIndex;return ce!==0?ce:H.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var A=[],c=[],f=1,d=null,u=3,h=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(H){for(var re=t(c);re!==null;){if(re.callback===null)n(c);else if(re.startTime<=H)n(c),re.sortIndex=re.expirationTime,e(A,re);else break;re=t(c)}}function C(H){if(m=!1,v(H),!g)if(t(A)!==null)g=!0,Z(N);else{var re=t(c);re!==null&&oe(C,re.startTime-H)}}function N(H,re){g=!1,m&&(m=!1,x(M),M=-1),h=!0;var ce=u;try{for(v(re),d=t(A);d!==null&&(!(d.expirationTime>re)||H&&!T());){var le=d.callback;if(typeof le=="function"){d.callback=null,u=d.priorityLevel;var D=le(d.expirationTime<=re);re=r.unstable_now(),typeof D=="function"?d.callback=D:d===t(A)&&n(A),v(re)}else n(A);d=t(A)}if(d!==null)var K=!0;else{var Y=t(c);Y!==null&&oe(C,Y.startTime-re),K=!1}return K}finally{d=null,u=ce,h=!1}}var B=!1,j=null,M=-1,I=5,U=-1;function T(){return!(r.unstable_now()-U<I)}function P(){if(j!==null){var H=r.unstable_now();U=H;var re=!0;try{re=j(!0,H)}finally{re?G():(B=!1,j=null)}}else B=!1}var G;if(typeof w=="function")G=function(){w(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,q=R.port2;R.port1.onmessage=P,G=function(){q.postMessage(null)}}else G=function(){y(P,0)};function Z(H){j=H,B||(B=!0,G())}function oe(H,re){M=y(function(){H(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_continueExecution=function(){g||h||(g=!0,Z(N))},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return u},r.unstable_getFirstCallbackNode=function(){return t(A)},r.unstable_next=function(H){switch(u){case 1:case 2:case 3:var re=3;break;default:re=u}var ce=u;u=re;try{return H()}finally{u=ce}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=u;u=H;try{return re()}finally{u=ce}},r.unstable_scheduleCallback=function(H,re,ce){var le=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?le+ce:le):ce=le,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,H={id:f++,callback:re,priorityLevel:H,startTime:ce,expirationTime:D,sortIndex:-1},ce>le?(H.sortIndex=ce,e(c,H),t(A)===null&&H===t(c)&&(m?(x(M),M=-1):m=!0,oe(C,ce-le))):(H.sortIndex=D,e(A,H),g||h||(g=!0,Z(N))),H},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(H){var re=u;return function(){var ce=u;u=re;try{return H.apply(this,arguments)}finally{u=ce}}}})(jN);kN.exports=jN;var vD=kN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD=S,ri=vD;function Re(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IN=new Set,wu={};function HA(r,e){cf(r,e),cf(r+"Capture",e)}function cf(r,e){for(wu[r]=e,r=0;r<e.length;r++)IN.add(e[r])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P2=Object.prototype.hasOwnProperty,LD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q4={},O4={};function SD(r){return P2.call(O4,r)?!0:P2.call(Q4,r)?!1:LD.test(r)?O4[r]=!0:(Q4[r]=!0,!1)}function ED(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function ND(r,e,t,n){if(e===null||typeof e>"u"||ED(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bs(r,e,t,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){$n[r]=new bs(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];$n[e]=new bs(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){$n[r]=new bs(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){$n[r]=new bs(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){$n[r]=new bs(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){$n[r]=new bs(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){$n[r]=new bs(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){$n[r]=new bs(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){$n[r]=new bs(r,5,!1,r.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Jw(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(Ww,Jw);$n[e]=new bs(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(Ww,Jw);$n[e]=new bs(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(Ww,Jw);$n[e]=new bs(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){$n[r]=new bs(r,1,!1,r.toLowerCase(),null,!1,!1)});$n.xlinkHref=new bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){$n[r]=new bs(r,1,!1,r.toLowerCase(),null,!0,!0)});function qw(r,e,t,n){var s=$n.hasOwnProperty(e)?$n[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ND(e,t,s,n)&&(t=null),n||s===null?SD(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):s.mustUseProperty?r[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,n=s.attributeNamespace,t===null?r.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Mo=CD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o0=Symbol.for("react.element"),Ic=Symbol.for("react.portal"),Tc=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),Q2=Symbol.for("react.profiler"),TN=Symbol.for("react.provider"),MN=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),O2=Symbol.for("react.suspense"),H2=Symbol.for("react.suspense_list"),eb=Symbol.for("react.memo"),al=Symbol.for("react.lazy"),DN=Symbol.for("react.offscreen"),H4=Symbol.iterator;function pd(r){return r===null||typeof r!="object"?null:(r=H4&&r[H4]||r["@@iterator"],typeof r=="function"?r:null)}var _r=Object.assign,V1;function Fd(r){if(V1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);V1=e&&e[1]||""}return`
`+V1+r}var Y1=!1;function W1(r,e){if(!r||Y1)return"";Y1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){n=c}r.call(e.prototype)}else{try{throw Error()}catch(c){n=c}r()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var A=`
`+s[a].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=a&&0<=l);break}}}finally{Y1=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?Fd(r):""}function BD(r){switch(r.tag){case 5:return Fd(r.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return r=W1(r.type,!1),r;case 11:return r=W1(r.type.render,!1),r;case 1:return r=W1(r.type,!0),r;default:return""}}function z2(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Tc:return"Fragment";case Ic:return"Portal";case Q2:return"Profiler";case Zw:return"StrictMode";case O2:return"Suspense";case H2:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case MN:return(r.displayName||"Context")+".Consumer";case TN:return(r._context.displayName||"Context")+".Provider";case Xw:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case eb:return e=r.displayName||null,e!==null?e:z2(r.type)||"Memo";case al:e=r._payload,r=r._init;try{return z2(r(e))}catch{}}return null}function kD(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z2(e);case 8:return e===Zw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tl(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function FN(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jD(r){var e=FN(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function l0(r){r._valueTracker||(r._valueTracker=jD(r))}function UN(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=FN(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function im(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function G2(r,e){var t=e.checked;return _r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function z4(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Tl(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RN(r,e){e=e.checked,e!=null&&qw(r,"checked",e,!1)}function K2(r,e){RN(r,e);var t=Tl(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?$2(r,e.type,t):e.hasOwnProperty("defaultValue")&&$2(r,e.type,Tl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function G4(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function $2(r,e,t){(e!=="number"||im(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Ud=Array.isArray;function $c(r,e,t,n){if(r=r.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<r.length;t++)s=e.hasOwnProperty("$"+r[t].value),r[t].selected!==s&&(r[t].selected=s),s&&n&&(r[t].defaultSelected=!0)}else{for(t=""+Tl(t),e=null,s=0;s<r.length;s++){if(r[s].value===t){r[s].selected=!0,n&&(r[s].defaultSelected=!0);return}e!==null||r[s].disabled||(e=r[s])}e!==null&&(e.selected=!0)}}function V2(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return _r({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function K4(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Re(92));if(Ud(t)){if(1<t.length)throw Error(Re(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Tl(t)}}function _N(r,e){var t=Tl(e.value),n=Tl(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function $4(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function PN(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y2(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?PN(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var A0,QN=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,s)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(A0=A0||document.createElement("div"),A0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=A0.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function bu(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ID=["Webkit","ms","Moz","O"];Object.keys(Wd).forEach(function(r){ID.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Wd[e]=Wd[r]})});function ON(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Wd.hasOwnProperty(r)&&Wd[r]?(""+e).trim():e+"px"}function HN(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,s=ON(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,s):r[t]=s}}var TD=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W2(r,e){if(e){if(TD[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function J2(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q2=null;function tb(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Z2=null,Vc=null,Yc=null;function V4(r){if(r=ch(r)){if(typeof Z2!="function")throw Error(Re(280));var e=r.stateNode;e&&(e=mp(e),Z2(r.stateNode,r.type,e))}}function zN(r){Vc?Yc?Yc.push(r):Yc=[r]:Vc=r}function GN(){if(Vc){var r=Vc,e=Yc;if(Yc=Vc=null,V4(r),e)for(r=0;r<e.length;r++)V4(e[r])}}function KN(r,e){return r(e)}function $N(){}var J1=!1;function VN(r,e,t){if(J1)return r(e,t);J1=!0;try{return KN(r,e,t)}finally{J1=!1,(Vc!==null||Yc!==null)&&($N(),GN())}}function vu(r,e){var t=r.stateNode;if(t===null)return null;var n=mp(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Re(231,e,typeof t));return t}var X2=!1;if(So)try{var xd={};Object.defineProperty(xd,"passive",{get:function(){X2=!0}}),window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{X2=!1}function MD(r,e,t,n,s,i,a,l,A){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(f){this.onError(f)}}var Jd=!1,am=null,om=!1,ey=null,DD={onError:function(r){Jd=!0,am=r}};function FD(r,e,t,n,s,i,a,l,A){Jd=!1,am=null,MD.apply(DD,arguments)}function UD(r,e,t,n,s,i,a,l,A){if(FD.apply(this,arguments),Jd){if(Jd){var c=am;Jd=!1,am=null}else throw Error(Re(198));om||(om=!0,ey=c)}}function zA(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function YN(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function Y4(r){if(zA(r)!==r)throw Error(Re(188))}function RD(r){var e=r.alternate;if(!e){if(e=zA(r),e===null)throw Error(Re(188));return e!==r?null:r}for(var t=r,n=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){t=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return Y4(s),r;if(i===n)return Y4(s),e;i=i.sibling}throw Error(Re(188))}if(t.return!==n.return)t=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===t){a=!0,t=s,n=i;break}if(l===n){a=!0,n=s,t=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===t){a=!0,t=i,n=s;break}if(l===n){a=!0,n=i,t=s;break}l=l.sibling}if(!a)throw Error(Re(189))}}if(t.alternate!==n)throw Error(Re(190))}if(t.tag!==3)throw Error(Re(188));return t.stateNode.current===t?r:e}function WN(r){return r=RD(r),r!==null?JN(r):null}function JN(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=JN(r);if(e!==null)return e;r=r.sibling}return null}var qN=ri.unstable_scheduleCallback,W4=ri.unstable_cancelCallback,_D=ri.unstable_shouldYield,PD=ri.unstable_requestPaint,Xr=ri.unstable_now,QD=ri.unstable_getCurrentPriorityLevel,rb=ri.unstable_ImmediatePriority,ZN=ri.unstable_UserBlockingPriority,lm=ri.unstable_NormalPriority,OD=ri.unstable_LowPriority,XN=ri.unstable_IdlePriority,dp=null,Ma=null;function HD(r){if(Ma&&typeof Ma.onCommitFiberRoot=="function")try{Ma.onCommitFiberRoot(dp,r,void 0,(r.current.flags&128)===128)}catch{}}var Xi=Math.clz32?Math.clz32:KD,zD=Math.log,GD=Math.LN2;function KD(r){return r>>>=0,r===0?32:31-(zD(r)/GD|0)|0}var c0=64,f0=4194304;function Rd(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Am(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,s=r.suspendedLanes,i=r.pingedLanes,a=t&268435455;if(a!==0){var l=a&~s;l!==0?n=Rd(l):(i&=a,i!==0&&(n=Rd(i)))}else a=t&~s,a!==0?n=Rd(a):i!==0&&(n=Rd(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-Xi(e),s=1<<t,n|=r[t],e&=~s;return n}function $D(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VD(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,s=r.expirationTimes,i=r.pendingLanes;0<i;){var a=31-Xi(i),l=1<<a,A=s[a];A===-1?(!(l&t)||l&n)&&(s[a]=$D(l,e)):A<=e&&(r.expiredLanes|=l),i&=~l}}function ty(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function eB(){var r=c0;return c0<<=1,!(c0&4194240)&&(c0=64),r}function q1(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function lh(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-Xi(e),r[e]=t}function YD(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var s=31-Xi(t),i=1<<s;e[s]=0,n[s]=-1,r[s]=-1,t&=~i}}function nb(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Xi(t),s=1<<n;s&e|r[n]&e&&(r[n]|=e),t&=~s}}var lr=0;function tB(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var rB,sb,nB,sB,iB,ry=!1,d0=[],wl=null,bl=null,vl=null,Cu=new Map,Lu=new Map,fl=[],WD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J4(r,e){switch(r){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(e.pointerId)}}function yd(r,e,t,n,s,i){return r===null||r.nativeEvent!==i?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ch(e),e!==null&&sb(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),r)}function JD(r,e,t,n,s){switch(e){case"focusin":return wl=yd(wl,r,e,t,n,s),!0;case"dragenter":return bl=yd(bl,r,e,t,n,s),!0;case"mouseover":return vl=yd(vl,r,e,t,n,s),!0;case"pointerover":var i=s.pointerId;return Cu.set(i,yd(Cu.get(i)||null,r,e,t,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Lu.set(i,yd(Lu.get(i)||null,r,e,t,n,s)),!0}return!1}function aB(r){var e=yA(r.target);if(e!==null){var t=zA(e);if(t!==null){if(e=t.tag,e===13){if(e=YN(t),e!==null){r.blockedOn=e,iB(r.priority,function(){nB(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Lg(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=ny(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);q2=n,t.target.dispatchEvent(n),q2=null}else return e=ch(t),e!==null&&sb(e),r.blockedOn=t,!1;e.shift()}return!0}function q4(r,e,t){Lg(r)&&t.delete(e)}function qD(){ry=!1,wl!==null&&Lg(wl)&&(wl=null),bl!==null&&Lg(bl)&&(bl=null),vl!==null&&Lg(vl)&&(vl=null),Cu.forEach(q4),Lu.forEach(q4)}function wd(r,e){r.blockedOn===e&&(r.blockedOn=null,ry||(ry=!0,ri.unstable_scheduleCallback(ri.unstable_NormalPriority,qD)))}function Su(r){function e(s){return wd(s,r)}if(0<d0.length){wd(d0[0],r);for(var t=1;t<d0.length;t++){var n=d0[t];n.blockedOn===r&&(n.blockedOn=null)}}for(wl!==null&&wd(wl,r),bl!==null&&wd(bl,r),vl!==null&&wd(vl,r),Cu.forEach(e),Lu.forEach(e),t=0;t<fl.length;t++)n=fl[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<fl.length&&(t=fl[0],t.blockedOn===null);)aB(t),t.blockedOn===null&&fl.shift()}var Wc=Mo.ReactCurrentBatchConfig,cm=!0;function ZD(r,e,t,n){var s=lr,i=Wc.transition;Wc.transition=null;try{lr=1,ib(r,e,t,n)}finally{lr=s,Wc.transition=i}}function XD(r,e,t,n){var s=lr,i=Wc.transition;Wc.transition=null;try{lr=4,ib(r,e,t,n)}finally{lr=s,Wc.transition=i}}function ib(r,e,t,n){if(cm){var s=ny(r,e,t,n);if(s===null)ox(r,e,n,fm,t),J4(r,n);else if(JD(s,r,e,t,n))n.stopPropagation();else if(J4(r,n),e&4&&-1<WD.indexOf(r)){for(;s!==null;){var i=ch(s);if(i!==null&&rB(i),i=ny(r,e,t,n),i===null&&ox(r,e,n,fm,t),i===s)break;s=i}s!==null&&n.stopPropagation()}else ox(r,e,n,null,t)}}var fm=null;function ny(r,e,t,n){if(fm=null,r=tb(n),r=yA(r),r!==null)if(e=zA(r),e===null)r=null;else if(t=e.tag,t===13){if(r=YN(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return fm=r,null}function oB(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QD()){case rb:return 1;case ZN:return 4;case lm:case OD:return 16;case XN:return 536870912;default:return 16}default:return 16}}var ul=null,ab=null,Sg=null;function lB(){if(Sg)return Sg;var r,e=ab,t=e.length,n,s="value"in ul?ul.value:ul.textContent,i=s.length;for(r=0;r<t&&e[r]===s[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===s[i-n];n++);return Sg=s.slice(r,1<n?1-n:void 0)}function Eg(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function u0(){return!0}function Z4(){return!1}function si(r){function e(t,n,s,i,a){this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?u0:Z4,this.isPropagationStopped=Z4,this}return _r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=u0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=u0)},persist:function(){},isPersistent:u0}),e}var Tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ob=si(Tf),Ah=_r({},Tf,{view:0,detail:0}),eF=si(Ah),Z1,X1,bd,up=_r({},Ah,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lb,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==bd&&(bd&&r.type==="mousemove"?(Z1=r.screenX-bd.screenX,X1=r.screenY-bd.screenY):X1=Z1=0,bd=r),Z1)},movementY:function(r){return"movementY"in r?r.movementY:X1}}),X4=si(up),tF=_r({},up,{dataTransfer:0}),rF=si(tF),nF=_r({},Ah,{relatedTarget:0}),ex=si(nF),sF=_r({},Tf,{animationName:0,elapsedTime:0,pseudoElement:0}),iF=si(sF),aF=_r({},Tf,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oF=si(aF),lF=_r({},Tf,{data:0}),eC=si(lF),AF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dF(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=fF[r])?!!e[r]:!1}function lb(){return dF}var uF=_r({},Ah,{key:function(r){if(r.key){var e=AF[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Eg(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cF[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lb,charCode:function(r){return r.type==="keypress"?Eg(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eg(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),hF=si(uF),gF=_r({},up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tC=si(gF),mF=_r({},Ah,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lb}),pF=si(mF),xF=_r({},Tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),yF=si(xF),wF=_r({},up,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),bF=si(wF),vF=[9,13,27,32],Ab=So&&"CompositionEvent"in window,qd=null;So&&"documentMode"in document&&(qd=document.documentMode);var CF=So&&"TextEvent"in window&&!qd,AB=So&&(!Ab||qd&&8<qd&&11>=qd),rC=" ",nC=!1;function cB(r,e){switch(r){case"keyup":return vF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fB(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Mc=!1;function LF(r,e){switch(r){case"compositionend":return fB(e);case"keypress":return e.which!==32?null:(nC=!0,rC);case"textInput":return r=e.data,r===rC&&nC?null:r;default:return null}}function SF(r,e){if(Mc)return r==="compositionend"||!Ab&&cB(r,e)?(r=lB(),Sg=ab=ul=null,Mc=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AB&&e.locale!=="ko"?null:e.data;default:return null}}var EF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sC(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!EF[r.type]:e==="textarea"}function dB(r,e,t,n){zN(n),e=dm(e,"onChange"),0<e.length&&(t=new ob("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Zd=null,Eu=null;function NF(r){CB(r,0)}function hp(r){var e=Uc(r);if(UN(e))return r}function BF(r,e){if(r==="change")return e}var uB=!1;if(So){var tx;if(So){var rx="oninput"in document;if(!rx){var iC=document.createElement("div");iC.setAttribute("oninput","return;"),rx=typeof iC.oninput=="function"}tx=rx}else tx=!1;uB=tx&&(!document.documentMode||9<document.documentMode)}function aC(){Zd&&(Zd.detachEvent("onpropertychange",hB),Eu=Zd=null)}function hB(r){if(r.propertyName==="value"&&hp(Eu)){var e=[];dB(e,Eu,r,tb(r)),VN(NF,e)}}function kF(r,e,t){r==="focusin"?(aC(),Zd=e,Eu=t,Zd.attachEvent("onpropertychange",hB)):r==="focusout"&&aC()}function jF(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hp(Eu)}function IF(r,e){if(r==="click")return hp(e)}function TF(r,e){if(r==="input"||r==="change")return hp(e)}function MF(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var ra=typeof Object.is=="function"?Object.is:MF;function Nu(r,e){if(ra(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var s=t[n];if(!P2.call(e,s)||!ra(r[s],e[s]))return!1}return!0}function oC(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lC(r,e){var t=oC(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=oC(t)}}function gB(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?gB(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function mB(){for(var r=window,e=im();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=im(r.document)}return e}function cb(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function DF(r){var e=mB(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&gB(t.ownerDocument.documentElement,t)){if(n!==null&&cb(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var s=t.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!r.extend&&i>n&&(s=n,n=i,i=s),s=lC(t,i);var a=lC(t,n);s&&a&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),r.removeAllRanges(),i>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var FF=So&&"documentMode"in document&&11>=document.documentMode,Dc=null,sy=null,Xd=null,iy=!1;function AC(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;iy||Dc==null||Dc!==im(n)||(n=Dc,"selectionStart"in n&&cb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xd&&Nu(Xd,n)||(Xd=n,n=dm(sy,"onSelect"),0<n.length&&(e=new ob("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=Dc)))}function h0(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Fc={animationend:h0("Animation","AnimationEnd"),animationiteration:h0("Animation","AnimationIteration"),animationstart:h0("Animation","AnimationStart"),transitionend:h0("Transition","TransitionEnd")},nx={},pB={};So&&(pB=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function gp(r){if(nx[r])return nx[r];if(!Fc[r])return r;var e=Fc[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in pB)return nx[r]=e[t];return r}var xB=gp("animationend"),yB=gp("animationiteration"),wB=gp("animationstart"),bB=gp("transitionend"),vB=new Map,cC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ol(r,e){vB.set(r,e),HA(e,[r])}for(var sx=0;sx<cC.length;sx++){var ix=cC[sx],UF=ix.toLowerCase(),RF=ix[0].toUpperCase()+ix.slice(1);Ol(UF,"on"+RF)}Ol(xB,"onAnimationEnd");Ol(yB,"onAnimationIteration");Ol(wB,"onAnimationStart");Ol("dblclick","onDoubleClick");Ol("focusin","onFocus");Ol("focusout","onBlur");Ol(bB,"onTransitionEnd");cf("onMouseEnter",["mouseout","mouseover"]);cf("onMouseLeave",["mouseout","mouseover"]);cf("onPointerEnter",["pointerout","pointerover"]);cf("onPointerLeave",["pointerout","pointerover"]);HA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));HA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));HA("onBeforeInput",["compositionend","keypress","textInput","paste"]);HA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));HA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));HA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_F=new Set("cancel close invalid load scroll toggle".split(" ").concat(_d));function fC(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,UD(n,e,void 0,r),r.currentTarget=null}function CB(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],A=l.instance,c=l.currentTarget;if(l=l.listener,A!==i&&s.isPropagationStopped())break e;fC(s,l,c),i=A}else for(a=0;a<n.length;a++){if(l=n[a],A=l.instance,c=l.currentTarget,l=l.listener,A!==i&&s.isPropagationStopped())break e;fC(s,l,c),i=A}}}if(om)throw r=ey,om=!1,ey=null,r}function vr(r,e){var t=e[cy];t===void 0&&(t=e[cy]=new Set);var n=r+"__bubble";t.has(n)||(LB(e,r,2,!1),t.add(n))}function ax(r,e,t){var n=0;e&&(n|=4),LB(t,r,n,e)}var g0="_reactListening"+Math.random().toString(36).slice(2);function Bu(r){if(!r[g0]){r[g0]=!0,IN.forEach(function(t){t!=="selectionchange"&&(_F.has(t)||ax(t,!1,r),ax(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[g0]||(e[g0]=!0,ax("selectionchange",!1,e))}}function LB(r,e,t,n){switch(oB(e)){case 1:var s=ZD;break;case 4:s=XD;break;default:s=ib}t=s.bind(null,e,t,r),s=void 0,!X2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?r.addEventListener(e,t,{capture:!0,passive:s}):r.addEventListener(e,t,!0):s!==void 0?r.addEventListener(e,t,{passive:s}):r.addEventListener(e,t,!1)}function ox(r,e,t,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===s||A.nodeType===8&&A.parentNode===s))return;a=a.return}for(;l!==null;){if(a=yA(l),a===null)return;if(A=a.tag,A===5||A===6){n=i=a;continue e}l=l.parentNode}}n=n.return}VN(function(){var c=i,f=tb(t),d=[];e:{var u=vB.get(r);if(u!==void 0){var h=ob,g=r;switch(r){case"keypress":if(Eg(t)===0)break e;case"keydown":case"keyup":h=hF;break;case"focusin":g="focus",h=ex;break;case"focusout":g="blur",h=ex;break;case"beforeblur":case"afterblur":h=ex;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=X4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=rF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=pF;break;case xB:case yB:case wB:h=iF;break;case bB:h=yF;break;case"scroll":h=eF;break;case"wheel":h=bF;break;case"copy":case"cut":case"paste":h=oF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tC}var m=(e&4)!==0,y=!m&&r==="scroll",x=m?u!==null?u+"Capture":null:u;m=[];for(var w=c,v;w!==null;){v=w;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,x!==null&&(C=vu(w,x),C!=null&&m.push(ku(w,C,v)))),y)break;w=w.return}0<m.length&&(u=new h(u,g,null,t,f),d.push({event:u,listeners:m}))}}if(!(e&7)){e:{if(u=r==="mouseover"||r==="pointerover",h=r==="mouseout"||r==="pointerout",u&&t!==q2&&(g=t.relatedTarget||t.fromElement)&&(yA(g)||g[Eo]))break e;if((h||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,h?(g=t.relatedTarget||t.toElement,h=c,g=g?yA(g):null,g!==null&&(y=zA(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(m=X4,C="onMouseLeave",x="onMouseEnter",w="mouse",(r==="pointerout"||r==="pointerover")&&(m=tC,C="onPointerLeave",x="onPointerEnter",w="pointer"),y=h==null?u:Uc(h),v=g==null?u:Uc(g),u=new m(C,w+"leave",h,t,f),u.target=y,u.relatedTarget=v,C=null,yA(f)===c&&(m=new m(x,w+"enter",g,t,f),m.target=v,m.relatedTarget=y,C=m),y=C,h&&g)t:{for(m=h,x=g,w=0,v=m;v;v=fc(v))w++;for(v=0,C=x;C;C=fc(C))v++;for(;0<w-v;)m=fc(m),w--;for(;0<v-w;)x=fc(x),v--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=fc(m),x=fc(x)}m=null}else m=null;h!==null&&dC(d,u,h,m,!1),g!==null&&y!==null&&dC(d,y,g,m,!0)}}e:{if(u=c?Uc(c):window,h=u.nodeName&&u.nodeName.toLowerCase(),h==="select"||h==="input"&&u.type==="file")var N=BF;else if(sC(u))if(uB)N=TF;else{N=jF;var B=kF}else(h=u.nodeName)&&h.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(N=IF);if(N&&(N=N(r,c))){dB(d,N,t,f);break e}B&&B(r,u,c),r==="focusout"&&(B=u._wrapperState)&&B.controlled&&u.type==="number"&&$2(u,"number",u.value)}switch(B=c?Uc(c):window,r){case"focusin":(sC(B)||B.contentEditable==="true")&&(Dc=B,sy=c,Xd=null);break;case"focusout":Xd=sy=Dc=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,AC(d,t,f);break;case"selectionchange":if(FF)break;case"keydown":case"keyup":AC(d,t,f)}var j;if(Ab)e:{switch(r){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Mc?cB(r,t)&&(M="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(AB&&t.locale!=="ko"&&(Mc||M!=="onCompositionStart"?M==="onCompositionEnd"&&Mc&&(j=lB()):(ul=f,ab="value"in ul?ul.value:ul.textContent,Mc=!0)),B=dm(c,M),0<B.length&&(M=new eC(M,r,null,t,f),d.push({event:M,listeners:B}),j?M.data=j:(j=fB(t),j!==null&&(M.data=j)))),(j=CF?LF(r,t):SF(r,t))&&(c=dm(c,"onBeforeInput"),0<c.length&&(f=new eC("onBeforeInput","beforeinput",null,t,f),d.push({event:f,listeners:c}),f.data=j))}CB(d,e)})}function ku(r,e,t){return{instance:r,listener:e,currentTarget:t}}function dm(r,e){for(var t=e+"Capture",n=[];r!==null;){var s=r,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vu(r,t),i!=null&&n.unshift(ku(r,i,s)),i=vu(r,e),i!=null&&n.push(ku(r,i,s))),r=r.return}return n}function fc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function dC(r,e,t,n,s){for(var i=e._reactName,a=[];t!==null&&t!==n;){var l=t,A=l.alternate,c=l.stateNode;if(A!==null&&A===n)break;l.tag===5&&c!==null&&(l=c,s?(A=vu(t,i),A!=null&&a.unshift(ku(t,A,l))):s||(A=vu(t,i),A!=null&&a.push(ku(t,A,l)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var PF=/\r\n?/g,QF=/\u0000|\uFFFD/g;function uC(r){return(typeof r=="string"?r:""+r).replace(PF,`
`).replace(QF,"")}function m0(r,e,t){if(e=uC(e),uC(r)!==e&&t)throw Error(Re(425))}function um(){}var ay=null,oy=null;function ly(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ay=typeof setTimeout=="function"?setTimeout:void 0,OF=typeof clearTimeout=="function"?clearTimeout:void 0,hC=typeof Promise=="function"?Promise:void 0,HF=typeof queueMicrotask=="function"?queueMicrotask:typeof hC<"u"?function(r){return hC.resolve(null).then(r).catch(zF)}:Ay;function zF(r){setTimeout(function(){throw r})}function lx(r,e){var t=e,n=0;do{var s=t.nextSibling;if(r.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(n===0){r.removeChild(s),Su(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=s}while(t);Su(e)}function Cl(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function gC(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),ka="__reactFiber$"+Mf,ju="__reactProps$"+Mf,Eo="__reactContainer$"+Mf,cy="__reactEvents$"+Mf,GF="__reactListeners$"+Mf,KF="__reactHandles$"+Mf;function yA(r){var e=r[ka];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Eo]||t[ka]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=gC(r);r!==null;){if(t=r[ka])return t;r=gC(r)}return e}r=t,t=r.parentNode}return null}function ch(r){return r=r[ka]||r[Eo],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Uc(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Re(33))}function mp(r){return r[ju]||null}var fy=[],Rc=-1;function Hl(r){return{current:r}}function Lr(r){0>Rc||(r.current=fy[Rc],fy[Rc]=null,Rc--)}function wr(r,e){Rc++,fy[Rc]=r.current,r.current=e}var Ml={},as=Hl(Ml),ks=Hl(!1),TA=Ml;function ff(r,e){var t=r.type.contextTypes;if(!t)return Ml;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=s),s}function js(r){return r=r.childContextTypes,r!=null}function hm(){Lr(ks),Lr(as)}function mC(r,e,t){if(as.current!==Ml)throw Error(Re(168));wr(as,e),wr(ks,t)}function SB(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Re(108,kD(r)||"Unknown",s));return _r({},t,n)}function gm(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ml,TA=as.current,wr(as,r),wr(ks,ks.current),!0}function pC(r,e,t){var n=r.stateNode;if(!n)throw Error(Re(169));t?(r=SB(r,e,TA),n.__reactInternalMemoizedMergedChildContext=r,Lr(ks),Lr(as),wr(as,r)):Lr(ks),wr(ks,t)}var mo=null,pp=!1,Ax=!1;function EB(r){mo===null?mo=[r]:mo.push(r)}function $F(r){pp=!0,EB(r)}function zl(){if(!Ax&&mo!==null){Ax=!0;var r=0,e=lr;try{var t=mo;for(lr=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}mo=null,pp=!1}catch(s){throw mo!==null&&(mo=mo.slice(r+1)),qN(rb,zl),s}finally{lr=e,Ax=!1}}return null}var _c=[],Pc=0,mm=null,pm=0,wi=[],bi=0,MA=null,xo=1,yo="";function uA(r,e){_c[Pc++]=pm,_c[Pc++]=mm,mm=r,pm=e}function NB(r,e,t){wi[bi++]=xo,wi[bi++]=yo,wi[bi++]=MA,MA=r;var n=xo;r=yo;var s=32-Xi(n)-1;n&=~(1<<s),t+=1;var i=32-Xi(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,xo=1<<32-Xi(e)+s|t<<s|n,yo=i+r}else xo=1<<i|t<<s|n,yo=r}function fb(r){r.return!==null&&(uA(r,1),NB(r,1,0))}function db(r){for(;r===mm;)mm=_c[--Pc],_c[Pc]=null,pm=_c[--Pc],_c[Pc]=null;for(;r===MA;)MA=wi[--bi],wi[bi]=null,yo=wi[--bi],wi[bi]=null,xo=wi[--bi],wi[bi]=null}var ei=null,Js=null,jr=!1,Ji=null;function BB(r,e){var t=Ci(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function xC(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,ei=r,Js=Cl(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,ei=r,Js=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=MA!==null?{id:xo,overflow:yo}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ci(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,ei=r,Js=null,!0):!1;default:return!1}}function dy(r){return(r.mode&1)!==0&&(r.flags&128)===0}function uy(r){if(jr){var e=Js;if(e){var t=e;if(!xC(r,e)){if(dy(r))throw Error(Re(418));e=Cl(t.nextSibling);var n=ei;e&&xC(r,e)?BB(n,t):(r.flags=r.flags&-4097|2,jr=!1,ei=r)}}else{if(dy(r))throw Error(Re(418));r.flags=r.flags&-4097|2,jr=!1,ei=r}}}function yC(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ei=r}function p0(r){if(r!==ei)return!1;if(!jr)return yC(r),jr=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!ly(r.type,r.memoizedProps)),e&&(e=Js)){if(dy(r))throw kB(),Error(Re(418));for(;e;)BB(r,e),e=Cl(e.nextSibling)}if(yC(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Re(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){Js=Cl(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}Js=null}}else Js=ei?Cl(r.stateNode.nextSibling):null;return!0}function kB(){for(var r=Js;r;)r=Cl(r.nextSibling)}function df(){Js=ei=null,jr=!1}function ub(r){Ji===null?Ji=[r]:Ji.push(r)}var VF=Mo.ReactCurrentBatchConfig;function vd(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Re(309));var n=t.stateNode}if(!n)throw Error(Re(147,r));var s=n,i=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof r!="string")throw Error(Re(284));if(!t._owner)throw Error(Re(290,r))}return r}function x0(r,e){throw r=Object.prototype.toString.call(e),Error(Re(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function wC(r){var e=r._init;return e(r._payload)}function jB(r){function e(x,w){if(r){var v=x.deletions;v===null?(x.deletions=[w],x.flags|=16):v.push(w)}}function t(x,w){if(!r)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Nl(x,w),x.index=0,x.sibling=null,x}function i(x,w,v){return x.index=v,r?(v=x.alternate,v!==null?(v=v.index,v<w?(x.flags|=2,w):v):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return r&&x.alternate===null&&(x.flags|=2),x}function l(x,w,v,C){return w===null||w.tag!==6?(w=mx(v,x.mode,C),w.return=x,w):(w=s(w,v),w.return=x,w)}function A(x,w,v,C){var N=v.type;return N===Tc?f(x,w,v.props.children,C,v.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===al&&wC(N)===w.type)?(C=s(w,v.props),C.ref=vd(x,w,v),C.return=x,C):(C=Mg(v.type,v.key,v.props,null,x.mode,C),C.ref=vd(x,w,v),C.return=x,C)}function c(x,w,v,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=px(v,x.mode,C),w.return=x,w):(w=s(w,v.children||[]),w.return=x,w)}function f(x,w,v,C,N){return w===null||w.tag!==7?(w=SA(v,x.mode,C,N),w.return=x,w):(w=s(w,v),w.return=x,w)}function d(x,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mx(""+w,x.mode,v),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case o0:return v=Mg(w.type,w.key,w.props,null,x.mode,v),v.ref=vd(x,null,w),v.return=x,v;case Ic:return w=px(w,x.mode,v),w.return=x,w;case al:var C=w._init;return d(x,C(w._payload),v)}if(Ud(w)||pd(w))return w=SA(w,x.mode,v,null),w.return=x,w;x0(x,w)}return null}function u(x,w,v,C){var N=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(x,w,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case o0:return v.key===N?A(x,w,v,C):null;case Ic:return v.key===N?c(x,w,v,C):null;case al:return N=v._init,u(x,w,N(v._payload),C)}if(Ud(v)||pd(v))return N!==null?null:f(x,w,v,C,null);x0(x,v)}return null}function h(x,w,v,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(v)||null,l(w,x,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case o0:return x=x.get(C.key===null?v:C.key)||null,A(w,x,C,N);case Ic:return x=x.get(C.key===null?v:C.key)||null,c(w,x,C,N);case al:var B=C._init;return h(x,w,v,B(C._payload),N)}if(Ud(C)||pd(C))return x=x.get(v)||null,f(w,x,C,N,null);x0(w,C)}return null}function g(x,w,v,C){for(var N=null,B=null,j=w,M=w=0,I=null;j!==null&&M<v.length;M++){j.index>M?(I=j,j=null):I=j.sibling;var U=u(x,j,v[M],C);if(U===null){j===null&&(j=I);break}r&&j&&U.alternate===null&&e(x,j),w=i(U,w,M),B===null?N=U:B.sibling=U,B=U,j=I}if(M===v.length)return t(x,j),jr&&uA(x,M),N;if(j===null){for(;M<v.length;M++)j=d(x,v[M],C),j!==null&&(w=i(j,w,M),B===null?N=j:B.sibling=j,B=j);return jr&&uA(x,M),N}for(j=n(x,j);M<v.length;M++)I=h(j,x,M,v[M],C),I!==null&&(r&&I.alternate!==null&&j.delete(I.key===null?M:I.key),w=i(I,w,M),B===null?N=I:B.sibling=I,B=I);return r&&j.forEach(function(T){return e(x,T)}),jr&&uA(x,M),N}function m(x,w,v,C){var N=pd(v);if(typeof N!="function")throw Error(Re(150));if(v=N.call(v),v==null)throw Error(Re(151));for(var B=N=null,j=w,M=w=0,I=null,U=v.next();j!==null&&!U.done;M++,U=v.next()){j.index>M?(I=j,j=null):I=j.sibling;var T=u(x,j,U.value,C);if(T===null){j===null&&(j=I);break}r&&j&&T.alternate===null&&e(x,j),w=i(T,w,M),B===null?N=T:B.sibling=T,B=T,j=I}if(U.done)return t(x,j),jr&&uA(x,M),N;if(j===null){for(;!U.done;M++,U=v.next())U=d(x,U.value,C),U!==null&&(w=i(U,w,M),B===null?N=U:B.sibling=U,B=U);return jr&&uA(x,M),N}for(j=n(x,j);!U.done;M++,U=v.next())U=h(j,x,M,U.value,C),U!==null&&(r&&U.alternate!==null&&j.delete(U.key===null?M:U.key),w=i(U,w,M),B===null?N=U:B.sibling=U,B=U);return r&&j.forEach(function(P){return e(x,P)}),jr&&uA(x,M),N}function y(x,w,v,C){if(typeof v=="object"&&v!==null&&v.type===Tc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case o0:e:{for(var N=v.key,B=w;B!==null;){if(B.key===N){if(N=v.type,N===Tc){if(B.tag===7){t(x,B.sibling),w=s(B,v.props.children),w.return=x,x=w;break e}}else if(B.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===al&&wC(N)===B.type){t(x,B.sibling),w=s(B,v.props),w.ref=vd(x,B,v),w.return=x,x=w;break e}t(x,B);break}else e(x,B);B=B.sibling}v.type===Tc?(w=SA(v.props.children,x.mode,C,v.key),w.return=x,x=w):(C=Mg(v.type,v.key,v.props,null,x.mode,C),C.ref=vd(x,w,v),C.return=x,x=C)}return a(x);case Ic:e:{for(B=v.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){t(x,w.sibling),w=s(w,v.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=px(v,x.mode,C),w.return=x,x=w}return a(x);case al:return B=v._init,y(x,w,B(v._payload),C)}if(Ud(v))return g(x,w,v,C);if(pd(v))return m(x,w,v,C);x0(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(t(x,w.sibling),w=s(w,v),w.return=x,x=w):(t(x,w),w=mx(v,x.mode,C),w.return=x,x=w),a(x)):t(x,w)}return y}var uf=jB(!0),IB=jB(!1),xm=Hl(null),ym=null,Qc=null,hb=null;function gb(){hb=Qc=ym=null}function mb(r){var e=xm.current;Lr(xm),r._currentValue=e}function hy(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Jc(r,e){ym=r,hb=Qc=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Ns=!0),r.firstContext=null)}function Bi(r){var e=r._currentValue;if(hb!==r)if(r={context:r,memoizedValue:e,next:null},Qc===null){if(ym===null)throw Error(Re(308));Qc=r,ym.dependencies={lanes:0,firstContext:r}}else Qc=Qc.next=r;return e}var wA=null;function pb(r){wA===null?wA=[r]:wA.push(r)}function TB(r,e,t,n){var s=e.interleaved;return s===null?(t.next=t,pb(e)):(t.next=s.next,s.next=t),e.interleaved=t,No(r,n)}function No(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var ol=!1;function xb(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MB(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function bo(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,No(r,t)}return s=n.interleaved,s===null?(e.next=e,pb(n)):(e.next=s.next,s.next=e),n.interleaved=e,No(r,t)}function Ng(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,nb(r,t)}}function bC(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function wm(r,e,t,n){var s=r.updateQueue;ol=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var A=l,c=A.next;A.next=null,a===null?i=c:a.next=c,a=A;var f=r.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=A))}if(i!==null){var d=s.baseState;a=0,f=c=A=null,l=i;do{var u=l.lane,h=l.eventTime;if((n&u)===u){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=r,m=l;switch(u=e,h=t,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(h,d,u);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,u=typeof g=="function"?g.call(h,d,u):g,u==null)break e;d=_r({},d,u);break e;case 2:ol=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,u=s.effects,u===null?s.effects=[l]:u.push(l))}else h={eventTime:h,lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=h,A=d):f=f.next=h,a|=u;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;u=l,l=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(!0);if(f===null&&(A=d),s.baseState=A,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);FA|=a,r.lanes=a,r.memoizedState=d}}function vC(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],s=n.callback;if(s!==null){if(n.callback=null,n=t,typeof s!="function")throw Error(Re(191,s));s.call(n)}}}var fh={},Da=Hl(fh),Iu=Hl(fh),Tu=Hl(fh);function bA(r){if(r===fh)throw Error(Re(174));return r}function yb(r,e){switch(wr(Tu,e),wr(Iu,r),wr(Da,fh),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Y2(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Y2(e,r)}Lr(Da),wr(Da,e)}function hf(){Lr(Da),Lr(Iu),Lr(Tu)}function DB(r){bA(Tu.current);var e=bA(Da.current),t=Y2(e,r.type);e!==t&&(wr(Iu,r),wr(Da,t))}function wb(r){Iu.current===r&&(Lr(Da),Lr(Iu))}var Dr=Hl(0);function bm(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cx=[];function bb(){for(var r=0;r<cx.length;r++)cx[r]._workInProgressVersionPrimary=null;cx.length=0}var Bg=Mo.ReactCurrentDispatcher,fx=Mo.ReactCurrentBatchConfig,DA=0,Ur=null,yn=null,Nn=null,vm=!1,eu=!1,Mu=0,YF=0;function Wn(){throw Error(Re(321))}function vb(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!ra(r[t],e[t]))return!1;return!0}function Cb(r,e,t,n,s,i){if(DA=i,Ur=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bg.current=r===null||r.memoizedState===null?ZF:XF,r=t(n,s),eu){i=0;do{if(eu=!1,Mu=0,25<=i)throw Error(Re(301));i+=1,Nn=yn=null,e.updateQueue=null,Bg.current=eU,r=t(n,s)}while(eu)}if(Bg.current=Cm,e=yn!==null&&yn.next!==null,DA=0,Nn=yn=Ur=null,vm=!1,e)throw Error(Re(300));return r}function Lb(){var r=Mu!==0;return Mu=0,r}function Ea(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ur.memoizedState=Nn=r:Nn=Nn.next=r,Nn}function ki(){if(yn===null){var r=Ur.alternate;r=r!==null?r.memoizedState:null}else r=yn.next;var e=Nn===null?Ur.memoizedState:Nn.next;if(e!==null)Nn=e,yn=r;else{if(r===null)throw Error(Re(310));yn=r,r={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Nn===null?Ur.memoizedState=Nn=r:Nn=Nn.next=r}return Nn}function Du(r,e){return typeof e=="function"?e(r):e}function dx(r){var e=ki(),t=e.queue;if(t===null)throw Error(Re(311));t.lastRenderedReducer=r;var n=yn,s=n.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,A=null,c=i;do{var f=c.lane;if((DA&f)===f)A!==null&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:r(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};A===null?(l=A=d,a=n):A=A.next=d,Ur.lanes|=f,FA|=f}c=c.next}while(c!==null&&c!==i);A===null?a=n:A.next=l,ra(n,e.memoizedState)||(Ns=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,t.lastRenderedState=n}if(r=t.interleaved,r!==null){s=r;do i=s.lane,Ur.lanes|=i,FA|=i,s=s.next;while(s!==r)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ux(r){var e=ki(),t=e.queue;if(t===null)throw Error(Re(311));t.lastRenderedReducer=r;var n=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=r(i,a.action),a=a.next;while(a!==s);ra(i,e.memoizedState)||(Ns=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,n]}function FB(){}function UB(r,e){var t=Ur,n=ki(),s=e(),i=!ra(n.memoizedState,s);if(i&&(n.memoizedState=s,Ns=!0),n=n.queue,Sb(PB.bind(null,t,n,r),[r]),n.getSnapshot!==e||i||Nn!==null&&Nn.memoizedState.tag&1){if(t.flags|=2048,Fu(9,_B.bind(null,t,n,s,e),void 0,null),kn===null)throw Error(Re(349));DA&30||RB(t,e,s)}return s}function RB(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function _B(r,e,t,n){e.value=t,e.getSnapshot=n,QB(e)&&OB(r)}function PB(r,e,t){return t(function(){QB(e)&&OB(r)})}function QB(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!ra(r,t)}catch{return!0}}function OB(r){var e=No(r,1);e!==null&&ea(e,r,1,-1)}function CC(r){var e=Ea();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:r},e.queue=r,r=r.dispatch=qF.bind(null,Ur,r),[e.memoizedState,r]}function Fu(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function HB(){return ki().memoizedState}function kg(r,e,t,n){var s=Ea();Ur.flags|=r,s.memoizedState=Fu(1|e,t,void 0,n===void 0?null:n)}function xp(r,e,t,n){var s=ki();n=n===void 0?null:n;var i=void 0;if(yn!==null){var a=yn.memoizedState;if(i=a.destroy,n!==null&&vb(n,a.deps)){s.memoizedState=Fu(e,t,i,n);return}}Ur.flags|=r,s.memoizedState=Fu(1|e,t,i,n)}function LC(r,e){return kg(8390656,8,r,e)}function Sb(r,e){return xp(2048,8,r,e)}function zB(r,e){return xp(4,2,r,e)}function GB(r,e){return xp(4,4,r,e)}function KB(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function $B(r,e,t){return t=t!=null?t.concat([r]):null,xp(4,4,KB.bind(null,e,r),t)}function Eb(){}function VB(r,e){var t=ki();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&vb(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function YB(r,e){var t=ki();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&vb(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function WB(r,e,t){return DA&21?(ra(t,e)||(t=eB(),Ur.lanes|=t,FA|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Ns=!0),r.memoizedState=t)}function WF(r,e){var t=lr;lr=t!==0&&4>t?t:4,r(!0);var n=fx.transition;fx.transition={};try{r(!1),e()}finally{lr=t,fx.transition=n}}function JB(){return ki().memoizedState}function JF(r,e,t){var n=El(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},qB(r))ZB(e,t);else if(t=TB(r,e,t,n),t!==null){var s=ms();ea(t,r,n,s),XB(t,e,n)}}function qF(r,e,t){var n=El(r),s={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(qB(r))ZB(e,s);else{var i=r.alternate;if(r.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,t);if(s.hasEagerState=!0,s.eagerState=l,ra(l,a)){var A=e.interleaved;A===null?(s.next=s,pb(e)):(s.next=A.next,A.next=s),e.interleaved=s;return}}catch{}finally{}t=TB(r,e,s,n),t!==null&&(s=ms(),ea(t,r,n,s),XB(t,e,n))}}function qB(r){var e=r.alternate;return r===Ur||e!==null&&e===Ur}function ZB(r,e){eu=vm=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function XB(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,nb(r,t)}}var Cm={readContext:Bi,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},ZF={readContext:Bi,useCallback:function(r,e){return Ea().memoizedState=[r,e===void 0?null:e],r},useContext:Bi,useEffect:LC,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,kg(4194308,4,KB.bind(null,e,r),t)},useLayoutEffect:function(r,e){return kg(4194308,4,r,e)},useInsertionEffect:function(r,e){return kg(4,2,r,e)},useMemo:function(r,e){var t=Ea();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Ea();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=JF.bind(null,Ur,r),[n.memoizedState,r]},useRef:function(r){var e=Ea();return r={current:r},e.memoizedState=r},useState:CC,useDebugValue:Eb,useDeferredValue:function(r){return Ea().memoizedState=r},useTransition:function(){var r=CC(!1),e=r[0];return r=WF.bind(null,r[1]),Ea().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=Ur,s=Ea();if(jr){if(t===void 0)throw Error(Re(407));t=t()}else{if(t=e(),kn===null)throw Error(Re(349));DA&30||RB(n,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,LC(PB.bind(null,n,i,r),[r]),n.flags|=2048,Fu(9,_B.bind(null,n,i,t,e),void 0,null),t},useId:function(){var r=Ea(),e=kn.identifierPrefix;if(jr){var t=yo,n=xo;t=(n&~(1<<32-Xi(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=Mu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=YF++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},XF={readContext:Bi,useCallback:VB,useContext:Bi,useEffect:Sb,useImperativeHandle:$B,useInsertionEffect:zB,useLayoutEffect:GB,useMemo:YB,useReducer:dx,useRef:HB,useState:function(){return dx(Du)},useDebugValue:Eb,useDeferredValue:function(r){var e=ki();return WB(e,yn.memoizedState,r)},useTransition:function(){var r=dx(Du)[0],e=ki().memoizedState;return[r,e]},useMutableSource:FB,useSyncExternalStore:UB,useId:JB,unstable_isNewReconciler:!1},eU={readContext:Bi,useCallback:VB,useContext:Bi,useEffect:Sb,useImperativeHandle:$B,useInsertionEffect:zB,useLayoutEffect:GB,useMemo:YB,useReducer:ux,useRef:HB,useState:function(){return ux(Du)},useDebugValue:Eb,useDeferredValue:function(r){var e=ki();return yn===null?e.memoizedState=r:WB(e,yn.memoizedState,r)},useTransition:function(){var r=ux(Du)[0],e=ki().memoizedState;return[r,e]},useMutableSource:FB,useSyncExternalStore:UB,useId:JB,unstable_isNewReconciler:!1};function Yi(r,e){if(r&&r.defaultProps){e=_r({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function gy(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:_r({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var yp={isMounted:function(r){return(r=r._reactInternals)?zA(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=ms(),s=El(r),i=bo(n,s);i.payload=e,t!=null&&(i.callback=t),e=Ll(r,i,s),e!==null&&(ea(e,r,s,n),Ng(e,r,s))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=ms(),s=El(r),i=bo(n,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Ll(r,i,s),e!==null&&(ea(e,r,s,n),Ng(e,r,s))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=ms(),n=El(r),s=bo(t,n);s.tag=2,e!=null&&(s.callback=e),e=Ll(r,s,n),e!==null&&(ea(e,r,n,t),Ng(e,r,n))}};function SC(r,e,t,n,s,i,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Nu(t,n)||!Nu(s,i):!0}function ek(r,e,t){var n=!1,s=Ml,i=e.contextType;return typeof i=="object"&&i!==null?i=Bi(i):(s=js(e)?TA:as.current,n=e.contextTypes,i=(n=n!=null)?ff(r,s):Ml),e=new e(t,i),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yp,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=i),e}function EC(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&yp.enqueueReplaceState(e,e.state,null)}function my(r,e,t,n){var s=r.stateNode;s.props=t,s.state=r.memoizedState,s.refs={},xb(r);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bi(i):(i=js(e)?TA:as.current,s.context=ff(r,i)),s.state=r.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gy(r,e,i,t),s.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yp.enqueueReplaceState(s,s.state,null),wm(r,t,s,n),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function gf(r,e){try{var t="",n=e;do t+=BD(n),n=n.return;while(n);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:r,source:e,stack:s,digest:null}}function hx(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function py(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var tU=typeof WeakMap=="function"?WeakMap:Map;function tk(r,e,t){t=bo(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){Sm||(Sm=!0,Ny=n),py(r,e)},t}function rk(r,e,t){t=bo(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;t.payload=function(){return n(s)},t.callback=function(){py(r,e)}}var i=r.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){py(r,e),typeof n!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function NC(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new tU;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(t)||(s.add(t),r=gU.bind(null,r,e,t),e.then(r,r))}function BC(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function kC(r,e,t,n,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=bo(-1,1),e.tag=2,Ll(t,e,1))),t.lanes|=1),r)}var rU=Mo.ReactCurrentOwner,Ns=!1;function us(r,e,t,n){e.child=r===null?IB(e,null,t,n):uf(e,r.child,t,n)}function jC(r,e,t,n,s){t=t.render;var i=e.ref;return Jc(e,s),n=Cb(r,e,t,n,i,s),t=Lb(),r!==null&&!Ns?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,Bo(r,e,s)):(jr&&t&&fb(e),e.flags|=1,us(r,e,n,s),e.child)}function IC(r,e,t,n,s){if(r===null){var i=t.type;return typeof i=="function"&&!Db(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,nk(r,e,i,n,s)):(r=Mg(t.type,null,n,e,e.mode,s),r.ref=e.ref,r.return=e,e.child=r)}if(i=r.child,!(r.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:Nu,t(a,n)&&r.ref===e.ref)return Bo(r,e,s)}return e.flags|=1,r=Nl(i,n),r.ref=e.ref,r.return=e,e.child=r}function nk(r,e,t,n,s){if(r!==null){var i=r.memoizedProps;if(Nu(i,n)&&r.ref===e.ref)if(Ns=!1,e.pendingProps=n=i,(r.lanes&s)!==0)r.flags&131072&&(Ns=!0);else return e.lanes=r.lanes,Bo(r,e,s)}return xy(r,e,t,n,s)}function sk(r,e,t){var n=e.pendingProps,s=n.children,i=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(Hc,Ys),Ys|=t;else{if(!(t&1073741824))return r=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,wr(Hc,Ys),Ys|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:t,wr(Hc,Ys),Ys|=n}else i!==null?(n=i.baseLanes|t,e.memoizedState=null):n=t,wr(Hc,Ys),Ys|=n;return us(r,e,s,t),e.child}function ik(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xy(r,e,t,n,s){var i=js(t)?TA:as.current;return i=ff(e,i),Jc(e,s),t=Cb(r,e,t,n,i,s),n=Lb(),r!==null&&!Ns?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,Bo(r,e,s)):(jr&&n&&fb(e),e.flags|=1,us(r,e,t,s),e.child)}function TC(r,e,t,n,s){if(js(t)){var i=!0;gm(e)}else i=!1;if(Jc(e,s),e.stateNode===null)jg(r,e),ek(e,t,n),my(e,t,n,s),n=!0;else if(r===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var A=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Bi(c):(c=js(t)?TA:as.current,c=ff(e,c));var f=t.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||A!==c)&&EC(e,a,n,c),ol=!1;var u=e.memoizedState;a.state=u,wm(e,n,a,s),A=e.memoizedState,l!==n||u!==A||ks.current||ol?(typeof f=="function"&&(gy(e,t,f,n),A=e.memoizedState),(l=ol||SC(e,t,l,n,u,A,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,MB(r,e),l=e.memoizedProps,c=e.type===e.elementType?l:Yi(e.type,l),a.props=c,d=e.pendingProps,u=a.context,A=t.contextType,typeof A=="object"&&A!==null?A=Bi(A):(A=js(t)?TA:as.current,A=ff(e,A));var h=t.getDerivedStateFromProps;(f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||u!==A)&&EC(e,a,n,A),ol=!1,u=e.memoizedState,a.state=u,wm(e,n,a,s);var g=e.memoizedState;l!==d||u!==g||ks.current||ol?(typeof h=="function"&&(gy(e,t,h,n),g=e.memoizedState),(c=ol||SC(e,t,c,n,u,g,A)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=A,n=c):(typeof a.componentDidUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&u===r.memoizedState||(e.flags|=1024),n=!1)}return yy(r,e,t,n,i,s)}function yy(r,e,t,n,s,i){ik(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&pC(e,t,!1),Bo(r,e,i);n=e.stateNode,rU.current=e;var l=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=uf(e,r.child,null,i),e.child=uf(e,null,l,i)):us(r,e,l,i),e.memoizedState=n.state,s&&pC(e,t,!0),e.child}function ak(r){var e=r.stateNode;e.pendingContext?mC(r,e.pendingContext,e.pendingContext!==e.context):e.context&&mC(r,e.context,!1),yb(r,e.containerInfo)}function MC(r,e,t,n,s){return df(),ub(s),e.flags|=256,us(r,e,t,n),e.child}var wy={dehydrated:null,treeContext:null,retryLane:0};function by(r){return{baseLanes:r,cachePool:null,transitions:null}}function ok(r,e,t){var n=e.pendingProps,s=Dr.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=r!==null&&r.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),wr(Dr,s&1),r===null)return uy(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=vp(a,n,0,null),r=SA(r,n,t,null),i.return=e,r.return=e,i.sibling=r,e.child=i,e.child.memoizedState=by(t),e.memoizedState=wy,r):Nb(e,a));if(s=r.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return nU(r,e,a,n,l,s,t);if(i){i=n.fallback,a=e.mode,s=r.child,l=s.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Nl(s,A),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Nl(l,i):(i=SA(i,a,t,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=r.child.memoizedState,a=a===null?by(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=r.childLanes&~t,e.memoizedState=wy,n}return i=r.child,r=i.sibling,n=Nl(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function Nb(r,e){return e=vp({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function y0(r,e,t,n){return n!==null&&ub(n),uf(e,r.child,null,t),r=Nb(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function nU(r,e,t,n,s,i,a){if(t)return e.flags&256?(e.flags&=-257,n=hx(Error(Re(422))),y0(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=vp({mode:"visible",children:n.children},s,0,null),i=SA(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&uf(e,r.child,null,a),e.child.memoizedState=by(a),e.memoizedState=wy,i);if(!(e.mode&1))return y0(r,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Re(419)),n=hx(i,n,void 0),y0(r,e,a,n)}if(l=(a&r.childLanes)!==0,Ns||l){if(n=kn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,No(r,s),ea(n,r,s,-1))}return Mb(),n=hx(Error(Re(421))),y0(r,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=r.child,e=mU.bind(null,r),s._reactRetry=e,null):(r=i.treeContext,Js=Cl(s.nextSibling),ei=e,jr=!0,Ji=null,r!==null&&(wi[bi++]=xo,wi[bi++]=yo,wi[bi++]=MA,xo=r.id,yo=r.overflow,MA=e),e=Nb(e,n.children),e.flags|=4096,e)}function DC(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),hy(r.return,e,t)}function gx(r,e,t,n,s){var i=r.memoizedState;i===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=t,i.tailMode=s)}function lk(r,e,t){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(us(r,e,n.children,t),n=Dr.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&DC(r,t,e);else if(r.tag===19)DC(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(wr(Dr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)r=t.alternate,r!==null&&bm(r)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),gx(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(r=s.alternate,r!==null&&bm(r)===null){e.child=s;break}r=s.sibling,s.sibling=t,t=s,s=r}gx(e,!0,t,null,i);break;case"together":gx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jg(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Bo(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),FA|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(Re(153));if(e.child!==null){for(r=e.child,t=Nl(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Nl(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function sU(r,e,t){switch(e.tag){case 3:ak(e),df();break;case 5:DB(e);break;case 1:js(e.type)&&gm(e);break;case 4:yb(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;wr(xm,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(wr(Dr,Dr.current&1),e.flags|=128,null):t&e.child.childLanes?ok(r,e,t):(wr(Dr,Dr.current&1),r=Bo(r,e,t),r!==null?r.sibling:null);wr(Dr,Dr.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return lk(r,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wr(Dr,Dr.current),n)break;return null;case 22:case 23:return e.lanes=0,sk(r,e,t)}return Bo(r,e,t)}var Ak,vy,ck,fk;Ak=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};vy=function(){};ck=function(r,e,t,n){var s=r.memoizedProps;if(s!==n){r=e.stateNode,bA(Da.current);var i=null;switch(t){case"input":s=G2(r,s),n=G2(r,n),i=[];break;case"select":s=_r({},s,{value:void 0}),n=_r({},n,{value:void 0}),i=[];break;case"textarea":s=V2(r,s),n=V2(r,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=um)}W2(t,n);var a;t=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var A=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&A!==l&&(A!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in A)A.hasOwnProperty(a)&&l[a]!==A[a]&&(t||(t={}),t[a]=A[a])}else t||(i||(i=[]),i.push(c,t)),t=A;else c==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,l=l?l.__html:void 0,A!=null&&l!==A&&(i=i||[]).push(c,A)):c==="children"?typeof A!="string"&&typeof A!="number"||(i=i||[]).push(c,""+A):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wu.hasOwnProperty(c)?(A!=null&&c==="onScroll"&&vr("scroll",r),i||l===A||(i=[])):(i=i||[]).push(c,A))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fk=function(r,e,t,n){t!==n&&(e.flags|=4)};function Cd(r,e){if(!jr)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Jn(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function iU(r,e,t){var n=e.pendingProps;switch(db(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(e),null;case 1:return js(e.type)&&hm(),Jn(e),null;case 3:return n=e.stateNode,hf(),Lr(ks),Lr(as),bb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(p0(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ji!==null&&(jy(Ji),Ji=null))),vy(r,e),Jn(e),null;case 5:wb(e);var s=bA(Tu.current);if(t=e.type,r!==null&&e.stateNode!=null)ck(r,e,t,n,s),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return Jn(e),null}if(r=bA(Da.current),p0(e)){n=e.stateNode,t=e.type;var i=e.memoizedProps;switch(n[ka]=e,n[ju]=i,r=(e.mode&1)!==0,t){case"dialog":vr("cancel",n),vr("close",n);break;case"iframe":case"object":case"embed":vr("load",n);break;case"video":case"audio":for(s=0;s<_d.length;s++)vr(_d[s],n);break;case"source":vr("error",n);break;case"img":case"image":case"link":vr("error",n),vr("load",n);break;case"details":vr("toggle",n);break;case"input":z4(n,i),vr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},vr("invalid",n);break;case"textarea":K4(n,i),vr("invalid",n)}W2(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&m0(n.textContent,l,r),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&m0(n.textContent,l,r),s=["children",""+l]):wu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&vr("scroll",n)}switch(t){case"input":l0(n),G4(n,i,!0);break;case"textarea":l0(n),$4(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=um)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=PN(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[ka]=e,r[ju]=n,Ak(r,e,!1,!1),e.stateNode=r;e:{switch(a=J2(t,n),t){case"dialog":vr("cancel",r),vr("close",r),s=n;break;case"iframe":case"object":case"embed":vr("load",r),s=n;break;case"video":case"audio":for(s=0;s<_d.length;s++)vr(_d[s],r);s=n;break;case"source":vr("error",r),s=n;break;case"img":case"image":case"link":vr("error",r),vr("load",r),s=n;break;case"details":vr("toggle",r),s=n;break;case"input":z4(r,n),s=G2(r,n),vr("invalid",r);break;case"option":s=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},s=_r({},n,{value:void 0}),vr("invalid",r);break;case"textarea":K4(r,n),s=V2(r,n),vr("invalid",r);break;default:s=n}W2(t,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var A=l[i];i==="style"?HN(r,A):i==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&QN(r,A)):i==="children"?typeof A=="string"?(t!=="textarea"||A!=="")&&bu(r,A):typeof A=="number"&&bu(r,""+A):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wu.hasOwnProperty(i)?A!=null&&i==="onScroll"&&vr("scroll",r):A!=null&&qw(r,i,A,a))}switch(t){case"input":l0(r),G4(r,n,!1);break;case"textarea":l0(r),$4(r);break;case"option":n.value!=null&&r.setAttribute("value",""+Tl(n.value));break;case"select":r.multiple=!!n.multiple,i=n.value,i!=null?$c(r,!!n.multiple,i,!1):n.defaultValue!=null&&$c(r,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=um)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jn(e),null;case 6:if(r&&e.stateNode!=null)fk(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));if(t=bA(Tu.current),bA(Da.current),p0(e)){if(n=e.stateNode,t=e.memoizedProps,n[ka]=e,(i=n.nodeValue!==t)&&(r=ei,r!==null))switch(r.tag){case 3:m0(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&m0(n.nodeValue,t,(r.mode&1)!==0)}i&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[ka]=e,e.stateNode=n}return Jn(e),null;case 13:if(Lr(Dr),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(jr&&Js!==null&&e.mode&1&&!(e.flags&128))kB(),df(),e.flags|=98560,i=!1;else if(i=p0(e),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(Re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[ka]=e}else df(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jn(e),i=!1}else Ji!==null&&(jy(Ji),Ji=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||Dr.current&1?vn===0&&(vn=3):Mb())),e.updateQueue!==null&&(e.flags|=4),Jn(e),null);case 4:return hf(),vy(r,e),r===null&&Bu(e.stateNode.containerInfo),Jn(e),null;case 10:return mb(e.type._context),Jn(e),null;case 17:return js(e.type)&&hm(),Jn(e),null;case 19:if(Lr(Dr),i=e.memoizedState,i===null)return Jn(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Cd(i,!1);else{if(vn!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=bm(r),a!==null){for(e.flags|=128,Cd(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)i=t,r=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return wr(Dr,Dr.current&1|2),e.child}r=r.sibling}i.tail!==null&&Xr()>mf&&(e.flags|=128,n=!0,Cd(i,!1),e.lanes=4194304)}else{if(!n)if(r=bm(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Cd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!jr)return Jn(e),null}else 2*Xr()-i.renderingStartTime>mf&&t!==1073741824&&(e.flags|=128,n=!0,Cd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xr(),e.sibling=null,t=Dr.current,wr(Dr,n?t&1|2:t&1),e):(Jn(e),null);case 22:case 23:return Tb(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ys&1073741824&&(Jn(e),e.subtreeFlags&6&&(e.flags|=8192)):Jn(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function aU(r,e){switch(db(e),e.tag){case 1:return js(e.type)&&hm(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return hf(),Lr(ks),Lr(as),bb(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return wb(e),null;case 13:if(Lr(Dr),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));df()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Lr(Dr),null;case 4:return hf(),null;case 10:return mb(e.type._context),null;case 22:case 23:return Tb(),null;case 24:return null;default:return null}}var w0=!1,ns=!1,oU=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Oc(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Kr(r,e,n)}else t.current=null}function Cy(r,e,t){try{t()}catch(n){Kr(r,e,n)}}var FC=!1;function lU(r,e){if(ay=cm,r=mB(),cb(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,l=-1,A=-1,c=0,f=0,d=r,u=null;t:for(;;){for(var h;d!==t||s!==0&&d.nodeType!==3||(l=a+s),d!==i||n!==0&&d.nodeType!==3||(A=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)u=d,d=h;for(;;){if(d===r)break t;if(u===t&&++c===s&&(l=a),u===i&&++f===n&&(A=a),(h=d.nextSibling)!==null)break;d=u,u=d.parentNode}d=h}t=l===-1||A===-1?null:{start:l,end:A}}else t=null}t=t||{start:0,end:0}}else t=null;for(oy={focusedElem:r,selectionRange:t},cm=!1,qe=e;qe!==null;)if(e=qe,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,qe=r;else for(;qe!==null;){e=qe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Yi(e.type,m),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(C){Kr(e,e.return,C)}if(r=e.sibling,r!==null){r.return=e.return,qe=r;break}qe=e.return}return g=FC,FC=!1,g}function tu(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&r)===r){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cy(e,t,i)}s=s.next}while(s!==n)}}function wp(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function Ly(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function dk(r){var e=r.alternate;e!==null&&(r.alternate=null,dk(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[ka],delete e[ju],delete e[cy],delete e[GF],delete e[KF])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function uk(r){return r.tag===5||r.tag===3||r.tag===4}function UC(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||uk(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sy(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=um));else if(n!==4&&(r=r.child,r!==null))for(Sy(r,e,t),r=r.sibling;r!==null;)Sy(r,e,t),r=r.sibling}function Ey(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Ey(r,e,t),r=r.sibling;r!==null;)Ey(r,e,t),r=r.sibling}var Rn=null,Wi=!1;function Xo(r,e,t){for(t=t.child;t!==null;)hk(r,e,t),t=t.sibling}function hk(r,e,t){if(Ma&&typeof Ma.onCommitFiberUnmount=="function")try{Ma.onCommitFiberUnmount(dp,t)}catch{}switch(t.tag){case 5:ns||Oc(t,e);case 6:var n=Rn,s=Wi;Rn=null,Xo(r,e,t),Rn=n,Wi=s,Rn!==null&&(Wi?(r=Rn,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Rn.removeChild(t.stateNode));break;case 18:Rn!==null&&(Wi?(r=Rn,t=t.stateNode,r.nodeType===8?lx(r.parentNode,t):r.nodeType===1&&lx(r,t),Su(r)):lx(Rn,t.stateNode));break;case 4:n=Rn,s=Wi,Rn=t.stateNode.containerInfo,Wi=!0,Xo(r,e,t),Rn=n,Wi=s;break;case 0:case 11:case 14:case 15:if(!ns&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Cy(t,e,a),s=s.next}while(s!==n)}Xo(r,e,t);break;case 1:if(!ns&&(Oc(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(l){Kr(t,e,l)}Xo(r,e,t);break;case 21:Xo(r,e,t);break;case 22:t.mode&1?(ns=(n=ns)||t.memoizedState!==null,Xo(r,e,t),ns=n):Xo(r,e,t);break;default:Xo(r,e,t)}}function RC(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new oU),e.forEach(function(n){var s=pU.bind(null,r,n);t.has(n)||(t.add(n),n.then(s,s))})}}function zi(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];try{var i=r,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Rn=l.stateNode,Wi=!1;break e;case 3:Rn=l.stateNode.containerInfo,Wi=!0;break e;case 4:Rn=l.stateNode.containerInfo,Wi=!0;break e}l=l.return}if(Rn===null)throw Error(Re(160));hk(i,a,s),Rn=null,Wi=!1;var A=s.alternate;A!==null&&(A.return=null),s.return=null}catch(c){Kr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gk(e,r),e=e.sibling}function gk(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zi(e,r),ya(r),n&4){try{tu(3,r,r.return),wp(3,r)}catch(m){Kr(r,r.return,m)}try{tu(5,r,r.return)}catch(m){Kr(r,r.return,m)}}break;case 1:zi(e,r),ya(r),n&512&&t!==null&&Oc(t,t.return);break;case 5:if(zi(e,r),ya(r),n&512&&t!==null&&Oc(t,t.return),r.flags&32){var s=r.stateNode;try{bu(s,"")}catch(m){Kr(r,r.return,m)}}if(n&4&&(s=r.stateNode,s!=null)){var i=r.memoizedProps,a=t!==null?t.memoizedProps:i,l=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&RN(s,i),J2(l,a);var c=J2(l,i);for(a=0;a<A.length;a+=2){var f=A[a],d=A[a+1];f==="style"?HN(s,d):f==="dangerouslySetInnerHTML"?QN(s,d):f==="children"?bu(s,d):qw(s,f,d,c)}switch(l){case"input":K2(s,i);break;case"textarea":_N(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?$c(s,!!i.multiple,h,!1):u!==!!i.multiple&&(i.defaultValue!=null?$c(s,!!i.multiple,i.defaultValue,!0):$c(s,!!i.multiple,i.multiple?[]:"",!1))}s[ju]=i}catch(m){Kr(r,r.return,m)}}break;case 6:if(zi(e,r),ya(r),n&4){if(r.stateNode===null)throw Error(Re(162));s=r.stateNode,i=r.memoizedProps;try{s.nodeValue=i}catch(m){Kr(r,r.return,m)}}break;case 3:if(zi(e,r),ya(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(m){Kr(r,r.return,m)}break;case 4:zi(e,r),ya(r);break;case 13:zi(e,r),ya(r),s=r.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jb=Xr())),n&4&&RC(r);break;case 22:if(f=t!==null&&t.memoizedState!==null,r.mode&1?(ns=(c=ns)||f,zi(e,r),ns=c):zi(e,r),ya(r),n&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!f&&r.mode&1)for(qe=r,f=r.child;f!==null;){for(d=qe=f;qe!==null;){switch(u=qe,h=u.child,u.tag){case 0:case 11:case 14:case 15:tu(4,u,u.return);break;case 1:Oc(u,u.return);var g=u.stateNode;if(typeof g.componentWillUnmount=="function"){n=u,t=u.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Kr(n,t,m)}}break;case 5:Oc(u,u.return);break;case 22:if(u.memoizedState!==null){PC(d);continue}}h!==null?(h.return=u,qe=h):PC(d)}f=f.sibling}e:for(f=null,d=r;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,A=d.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,l.style.display=ON("display",a))}catch(m){Kr(r,r.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Kr(r,r.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===r)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zi(e,r),ya(r),n&4&&RC(r);break;case 21:break;default:zi(e,r),ya(r)}}function ya(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(uk(t)){var n=t;break e}t=t.return}throw Error(Re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(bu(s,""),n.flags&=-33);var i=UC(r);Ey(r,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=UC(r);Sy(r,l,a);break;default:throw Error(Re(161))}}catch(A){Kr(r,r.return,A)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function AU(r,e,t){qe=r,mk(r)}function mk(r,e,t){for(var n=(r.mode&1)!==0;qe!==null;){var s=qe,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||w0;if(!a){var l=s.alternate,A=l!==null&&l.memoizedState!==null||ns;l=w0;var c=ns;if(w0=a,(ns=A)&&!c)for(qe=s;qe!==null;)a=qe,A=a.child,a.tag===22&&a.memoizedState!==null?QC(s):A!==null?(A.return=a,qe=A):QC(s);for(;i!==null;)qe=i,mk(i),i=i.sibling;qe=s,w0=l,ns=c}_C(r)}else s.subtreeFlags&8772&&i!==null?(i.return=s,qe=i):_C(r)}}function _C(r){for(;qe!==null;){var e=qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ns||wp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ns)if(t===null)n.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Yi(e.type,t.memoizedProps);n.componentDidUpdate(s,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vC(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}vC(e,a,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&t.focus();break;case"img":A.src&&(t.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Su(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}ns||e.flags&512&&Ly(e)}catch(u){Kr(e,e.return,u)}}if(e===r){qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}}function PC(r){for(;qe!==null;){var e=qe;if(e===r){qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,qe=t;break}qe=e.return}}function QC(r){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{wp(4,e)}catch(A){Kr(e,t,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(A){Kr(e,s,A)}}var i=e.return;try{Ly(e)}catch(A){Kr(e,i,A)}break;case 5:var a=e.return;try{Ly(e)}catch(A){Kr(e,a,A)}}}catch(A){Kr(e,e.return,A)}if(e===r){qe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,qe=l;break}qe=e.return}}var cU=Math.ceil,Lm=Mo.ReactCurrentDispatcher,Bb=Mo.ReactCurrentOwner,Ni=Mo.ReactCurrentBatchConfig,qt=0,kn=null,cn=null,Gn=0,Ys=0,Hc=Hl(0),vn=0,Uu=null,FA=0,bp=0,kb=0,ru=null,Es=null,jb=0,mf=1/0,uo=null,Sm=!1,Ny=null,Sl=null,b0=!1,hl=null,Em=0,nu=0,By=null,Ig=-1,Tg=0;function ms(){return qt&6?Xr():Ig!==-1?Ig:Ig=Xr()}function El(r){return r.mode&1?qt&2&&Gn!==0?Gn&-Gn:VF.transition!==null?(Tg===0&&(Tg=eB()),Tg):(r=lr,r!==0||(r=window.event,r=r===void 0?16:oB(r.type)),r):1}function ea(r,e,t,n){if(50<nu)throw nu=0,By=null,Error(Re(185));lh(r,t,n),(!(qt&2)||r!==kn)&&(r===kn&&(!(qt&2)&&(bp|=t),vn===4&&dl(r,Gn)),Is(r,n),t===1&&qt===0&&!(e.mode&1)&&(mf=Xr()+500,pp&&zl()))}function Is(r,e){var t=r.callbackNode;VD(r,e);var n=Am(r,r===kn?Gn:0);if(n===0)t!==null&&W4(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&W4(t),e===1)r.tag===0?$F(OC.bind(null,r)):EB(OC.bind(null,r)),HF(function(){!(qt&6)&&zl()}),t=null;else{switch(tB(n)){case 1:t=rb;break;case 4:t=ZN;break;case 16:t=lm;break;case 536870912:t=XN;break;default:t=lm}t=Lk(t,pk.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function pk(r,e){if(Ig=-1,Tg=0,qt&6)throw Error(Re(327));var t=r.callbackNode;if(qc()&&r.callbackNode!==t)return null;var n=Am(r,r===kn?Gn:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=Nm(r,n);else{e=n;var s=qt;qt|=2;var i=yk();(kn!==r||Gn!==e)&&(uo=null,mf=Xr()+500,LA(r,e));do try{uU();break}catch(l){xk(r,l)}while(!0);gb(),Lm.current=i,qt=s,cn!==null?e=0:(kn=null,Gn=0,e=vn)}if(e!==0){if(e===2&&(s=ty(r),s!==0&&(n=s,e=ky(r,s))),e===1)throw t=Uu,LA(r,0),dl(r,n),Is(r,Xr()),t;if(e===6)dl(r,n);else{if(s=r.current.alternate,!(n&30)&&!fU(s)&&(e=Nm(r,n),e===2&&(i=ty(r),i!==0&&(n=i,e=ky(r,i))),e===1))throw t=Uu,LA(r,0),dl(r,n),Is(r,Xr()),t;switch(r.finishedWork=s,r.finishedLanes=n,e){case 0:case 1:throw Error(Re(345));case 2:hA(r,Es,uo);break;case 3:if(dl(r,n),(n&130023424)===n&&(e=jb+500-Xr(),10<e)){if(Am(r,0)!==0)break;if(s=r.suspendedLanes,(s&n)!==n){ms(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=Ay(hA.bind(null,r,Es,uo),e);break}hA(r,Es,uo);break;case 4:if(dl(r,n),(n&4194240)===n)break;for(e=r.eventTimes,s=-1;0<n;){var a=31-Xi(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cU(n/1960))-n,10<n){r.timeoutHandle=Ay(hA.bind(null,r,Es,uo),n);break}hA(r,Es,uo);break;case 5:hA(r,Es,uo);break;default:throw Error(Re(329))}}}return Is(r,Xr()),r.callbackNode===t?pk.bind(null,r):null}function ky(r,e){var t=ru;return r.current.memoizedState.isDehydrated&&(LA(r,e).flags|=256),r=Nm(r,e),r!==2&&(e=Es,Es=t,e!==null&&jy(e)),r}function jy(r){Es===null?Es=r:Es.push.apply(Es,r)}function fU(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var s=t[n],i=s.getSnapshot;s=s.value;try{if(!ra(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dl(r,e){for(e&=~kb,e&=~bp,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-Xi(e),n=1<<t;r[t]=-1,e&=~n}}function OC(r){if(qt&6)throw Error(Re(327));qc();var e=Am(r,0);if(!(e&1))return Is(r,Xr()),null;var t=Nm(r,e);if(r.tag!==0&&t===2){var n=ty(r);n!==0&&(e=n,t=ky(r,n))}if(t===1)throw t=Uu,LA(r,0),dl(r,e),Is(r,Xr()),t;if(t===6)throw Error(Re(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,hA(r,Es,uo),Is(r,Xr()),null}function Ib(r,e){var t=qt;qt|=1;try{return r(e)}finally{qt=t,qt===0&&(mf=Xr()+500,pp&&zl())}}function UA(r){hl!==null&&hl.tag===0&&!(qt&6)&&qc();var e=qt;qt|=1;var t=Ni.transition,n=lr;try{if(Ni.transition=null,lr=1,r)return r()}finally{lr=n,Ni.transition=t,qt=e,!(qt&6)&&zl()}}function Tb(){Ys=Hc.current,Lr(Hc)}function LA(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,OF(t)),cn!==null)for(t=cn.return;t!==null;){var n=t;switch(db(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hm();break;case 3:hf(),Lr(ks),Lr(as),bb();break;case 5:wb(n);break;case 4:hf();break;case 13:Lr(Dr);break;case 19:Lr(Dr);break;case 10:mb(n.type._context);break;case 22:case 23:Tb()}t=t.return}if(kn=r,cn=r=Nl(r.current,null),Gn=Ys=e,vn=0,Uu=null,kb=bp=FA=0,Es=ru=null,wA!==null){for(e=0;e<wA.length;e++)if(t=wA[e],n=t.interleaved,n!==null){t.interleaved=null;var s=n.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}t.pending=n}wA=null}return r}function xk(r,e){do{var t=cn;try{if(gb(),Bg.current=Cm,vm){for(var n=Ur.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vm=!1}if(DA=0,Nn=yn=Ur=null,eu=!1,Mu=0,Bb.current=null,t===null||t.return===null){vn=1,Uu=e,cn=null;break}e:{var i=r,a=t.return,l=t,A=e;if(e=Gn,l.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var c=A,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=BC(a);if(h!==null){h.flags&=-257,kC(h,a,l,i,e),h.mode&1&&NC(i,c,e),e=h,A=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(A),e.updateQueue=m}else g.add(A);break e}else{if(!(e&1)){NC(i,c,e),Mb();break e}A=Error(Re(426))}}else if(jr&&l.mode&1){var y=BC(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),kC(y,a,l,i,e),ub(gf(A,l));break e}}i=A=gf(A,l),vn!==4&&(vn=2),ru===null?ru=[i]:ru.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=tk(i,A,e);bC(i,x);break e;case 1:l=A;var w=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Sl===null||!Sl.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=rk(i,l,e);bC(i,C);break e}}i=i.return}while(i!==null)}bk(t)}catch(N){e=N,cn===t&&t!==null&&(cn=t=t.return);continue}break}while(!0)}function yk(){var r=Lm.current;return Lm.current=Cm,r===null?Cm:r}function Mb(){(vn===0||vn===3||vn===2)&&(vn=4),kn===null||!(FA&268435455)&&!(bp&268435455)||dl(kn,Gn)}function Nm(r,e){var t=qt;qt|=2;var n=yk();(kn!==r||Gn!==e)&&(uo=null,LA(r,e));do try{dU();break}catch(s){xk(r,s)}while(!0);if(gb(),qt=t,Lm.current=n,cn!==null)throw Error(Re(261));return kn=null,Gn=0,vn}function dU(){for(;cn!==null;)wk(cn)}function uU(){for(;cn!==null&&!_D();)wk(cn)}function wk(r){var e=Ck(r.alternate,r,Ys);r.memoizedProps=r.pendingProps,e===null?bk(r):cn=e,Bb.current=null}function bk(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=aU(t,e),t!==null){t.flags&=32767,cn=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vn=6,cn=null;return}}else if(t=iU(t,e,Ys),t!==null){cn=t;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=r}while(e!==null);vn===0&&(vn=5)}function hA(r,e,t){var n=lr,s=Ni.transition;try{Ni.transition=null,lr=1,hU(r,e,t,n)}finally{Ni.transition=s,lr=n}return null}function hU(r,e,t,n){do qc();while(hl!==null);if(qt&6)throw Error(Re(327));t=r.finishedWork;var s=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(Re(177));r.callbackNode=null,r.callbackPriority=0;var i=t.lanes|t.childLanes;if(YD(r,i),r===kn&&(cn=kn=null,Gn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||b0||(b0=!0,Lk(lm,function(){return qc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Ni.transition,Ni.transition=null;var a=lr;lr=1;var l=qt;qt|=4,Bb.current=null,lU(r,t),gk(t,r),DF(oy),cm=!!ay,oy=ay=null,r.current=t,AU(t),PD(),qt=l,lr=a,Ni.transition=i}else r.current=t;if(b0&&(b0=!1,hl=r,Em=s),i=r.pendingLanes,i===0&&(Sl=null),HD(t.stateNode),Is(r,Xr()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)s=e[t],n(s.value,{componentStack:s.stack,digest:s.digest});if(Sm)throw Sm=!1,r=Ny,Ny=null,r;return Em&1&&r.tag!==0&&qc(),i=r.pendingLanes,i&1?r===By?nu++:(nu=0,By=r):nu=0,zl(),null}function qc(){if(hl!==null){var r=tB(Em),e=Ni.transition,t=lr;try{if(Ni.transition=null,lr=16>r?16:r,hl===null)var n=!1;else{if(r=hl,hl=null,Em=0,qt&6)throw Error(Re(331));var s=qt;for(qt|=4,qe=r.current;qe!==null;){var i=qe,a=i.child;if(qe.flags&16){var l=i.deletions;if(l!==null){for(var A=0;A<l.length;A++){var c=l[A];for(qe=c;qe!==null;){var f=qe;switch(f.tag){case 0:case 11:case 15:tu(8,f,i)}var d=f.child;if(d!==null)d.return=f,qe=d;else for(;qe!==null;){f=qe;var u=f.sibling,h=f.return;if(dk(f),f===c){qe=null;break}if(u!==null){u.return=h,qe=u;break}qe=h}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}qe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,qe=a;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,qe=x;break e}qe=i.return}}var w=r.current;for(qe=w;qe!==null;){a=qe;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,qe=v;else e:for(a=w;qe!==null;){if(l=qe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wp(9,l)}}catch(N){Kr(l,l.return,N)}if(l===a){qe=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,qe=C;break e}qe=l.return}}if(qt=s,zl(),Ma&&typeof Ma.onPostCommitFiberRoot=="function")try{Ma.onPostCommitFiberRoot(dp,r)}catch{}n=!0}return n}finally{lr=t,Ni.transition=e}}return!1}function HC(r,e,t){e=gf(t,e),e=tk(r,e,1),r=Ll(r,e,1),e=ms(),r!==null&&(lh(r,1,e),Is(r,e))}function Kr(r,e,t){if(r.tag===3)HC(r,r,t);else for(;e!==null;){if(e.tag===3){HC(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sl===null||!Sl.has(n))){r=gf(t,r),r=rk(e,r,1),e=Ll(e,r,1),r=ms(),e!==null&&(lh(e,1,r),Is(e,r));break}}e=e.return}}function gU(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=ms(),r.pingedLanes|=r.suspendedLanes&t,kn===r&&(Gn&t)===t&&(vn===4||vn===3&&(Gn&130023424)===Gn&&500>Xr()-jb?LA(r,0):kb|=t),Is(r,e)}function vk(r,e){e===0&&(r.mode&1?(e=f0,f0<<=1,!(f0&130023424)&&(f0=4194304)):e=1);var t=ms();r=No(r,e),r!==null&&(lh(r,e,t),Is(r,t))}function mU(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),vk(r,t)}function pU(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,s=r.memoizedState;s!==null&&(t=s.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(e),vk(r,t)}var Ck;Ck=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||ks.current)Ns=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Ns=!1,sU(r,e,t);Ns=!!(r.flags&131072)}else Ns=!1,jr&&e.flags&1048576&&NB(e,pm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;jg(r,e),r=e.pendingProps;var s=ff(e,as.current);Jc(e,t),s=Cb(null,e,n,r,s,t);var i=Lb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,js(n)?(i=!0,gm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xb(e),s.updater=yp,e.stateNode=s,s._reactInternals=e,my(e,n,r,t),e=yy(null,e,n,!0,i,t)):(e.tag=0,jr&&i&&fb(e),us(null,e,s,t),e=e.child),e;case 16:n=e.elementType;e:{switch(jg(r,e),r=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=yU(n),r=Yi(n,r),s){case 0:e=xy(null,e,n,r,t);break e;case 1:e=TC(null,e,n,r,t);break e;case 11:e=jC(null,e,n,r,t);break e;case 14:e=IC(null,e,n,Yi(n.type,r),t);break e}throw Error(Re(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Yi(n,s),xy(r,e,n,s,t);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Yi(n,s),TC(r,e,n,s,t);case 3:e:{if(ak(e),r===null)throw Error(Re(387));n=e.pendingProps,i=e.memoizedState,s=i.element,MB(r,e),wm(e,n,null,t);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=gf(Error(Re(423)),e),e=MC(r,e,n,t,s);break e}else if(n!==s){s=gf(Error(Re(424)),e),e=MC(r,e,n,t,s);break e}else for(Js=Cl(e.stateNode.containerInfo.firstChild),ei=e,jr=!0,Ji=null,t=IB(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(df(),n===s){e=Bo(r,e,t);break e}us(r,e,n,t)}e=e.child}return e;case 5:return DB(e),r===null&&uy(e),n=e.type,s=e.pendingProps,i=r!==null?r.memoizedProps:null,a=s.children,ly(n,s)?a=null:i!==null&&ly(n,i)&&(e.flags|=32),ik(r,e),us(r,e,a,t),e.child;case 6:return r===null&&uy(e),null;case 13:return ok(r,e,t);case 4:return yb(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=uf(e,null,n,t):us(r,e,n,t),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Yi(n,s),jC(r,e,n,s,t);case 7:return us(r,e,e.pendingProps,t),e.child;case 8:return us(r,e,e.pendingProps.children,t),e.child;case 12:return us(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,wr(xm,n._currentValue),n._currentValue=a,i!==null)if(ra(i.value,a)){if(i.children===s.children&&!ks.current){e=Bo(r,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var A=l.firstContext;A!==null;){if(A.context===n){if(i.tag===1){A=bo(-1,t&-t),A.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?A.next=A:(A.next=f.next,f.next=A),c.pending=A}}i.lanes|=t,A=i.alternate,A!==null&&(A.lanes|=t),hy(i.return,t,e),l.lanes|=t;break}A=A.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Re(341));a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),hy(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}us(r,e,s.children,t),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Jc(e,t),s=Bi(s),n=n(s),e.flags|=1,us(r,e,n,t),e.child;case 14:return n=e.type,s=Yi(n,e.pendingProps),s=Yi(n.type,s),IC(r,e,n,s,t);case 15:return nk(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Yi(n,s),jg(r,e),e.tag=1,js(n)?(r=!0,gm(e)):r=!1,Jc(e,t),ek(e,n,s),my(e,n,s,t),yy(null,e,n,!0,r,t);case 19:return lk(r,e,t);case 22:return sk(r,e,t)}throw Error(Re(156,e.tag))};function Lk(r,e){return qN(r,e)}function xU(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(r,e,t,n){return new xU(r,e,t,n)}function Db(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yU(r){if(typeof r=="function")return Db(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Xw)return 11;if(r===eb)return 14}return 2}function Nl(r,e){var t=r.alternate;return t===null?(t=Ci(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function Mg(r,e,t,n,s,i){var a=2;if(n=r,typeof r=="function")Db(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case Tc:return SA(t.children,s,i,e);case Zw:a=8,s|=8;break;case Q2:return r=Ci(12,t,e,s|2),r.elementType=Q2,r.lanes=i,r;case O2:return r=Ci(13,t,e,s),r.elementType=O2,r.lanes=i,r;case H2:return r=Ci(19,t,e,s),r.elementType=H2,r.lanes=i,r;case DN:return vp(t,s,i,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case TN:a=10;break e;case MN:a=9;break e;case Xw:a=11;break e;case eb:a=14;break e;case al:a=16,n=null;break e}throw Error(Re(130,r==null?r:typeof r,""))}return e=Ci(a,t,e,s),e.elementType=r,e.type=n,e.lanes=i,e}function SA(r,e,t,n){return r=Ci(7,r,n,e),r.lanes=t,r}function vp(r,e,t,n){return r=Ci(22,r,n,e),r.elementType=DN,r.lanes=t,r.stateNode={isHidden:!1},r}function mx(r,e,t){return r=Ci(6,r,null,e),r.lanes=t,r}function px(r,e,t){return e=Ci(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function wU(r,e,t,n,s){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=q1(0),this.expirationTimes=q1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q1(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fb(r,e,t,n,s,i,a,l,A){return r=new wU(r,e,t,l,A),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ci(3,null,null,e),r.current=i,i.stateNode=r,i.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},xb(i),r}function bU(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ic,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function Sk(r){if(!r)return Ml;r=r._reactInternals;e:{if(zA(r)!==r||r.tag!==1)throw Error(Re(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(js(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(r.tag===1){var t=r.type;if(js(t))return SB(r,t,e)}return e}function Ek(r,e,t,n,s,i,a,l,A){return r=Fb(t,n,!0,r,s,i,a,l,A),r.context=Sk(null),t=r.current,n=ms(),s=El(t),i=bo(n,s),i.callback=e??null,Ll(t,i,s),r.current.lanes=s,lh(r,s,n),Is(r,n),r}function Cp(r,e,t,n){var s=e.current,i=ms(),a=El(s);return t=Sk(t),e.context===null?e.context=t:e.pendingContext=t,e=bo(i,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=Ll(s,e,a),r!==null&&(ea(r,s,a,i),Ng(r,s,a)),a}function Bm(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function zC(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Ub(r,e){zC(r,e),(r=r.alternate)&&zC(r,e)}function vU(){return null}var Nk=typeof reportError=="function"?reportError:function(r){console.error(r)};function Rb(r){this._internalRoot=r}Lp.prototype.render=Rb.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Re(409));Cp(r,e,null,null)};Lp.prototype.unmount=Rb.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;UA(function(){Cp(null,r,null,null)}),e[Eo]=null}};function Lp(r){this._internalRoot=r}Lp.prototype.unstable_scheduleHydration=function(r){if(r){var e=sB();r={blockedOn:null,target:r,priority:e};for(var t=0;t<fl.length&&e!==0&&e<fl[t].priority;t++);fl.splice(t,0,r),t===0&&aB(r)}};function _b(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Sp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function GC(){}function CU(r,e,t,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Bm(a);i.call(c)}}var a=Ek(e,n,r,0,null,!1,!1,"",GC);return r._reactRootContainer=a,r[Eo]=a.current,Bu(r.nodeType===8?r.parentNode:r),UA(),a}for(;s=r.lastChild;)r.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Bm(A);l.call(c)}}var A=Fb(r,0,!1,null,null,!1,!1,"",GC);return r._reactRootContainer=A,r[Eo]=A.current,Bu(r.nodeType===8?r.parentNode:r),UA(function(){Cp(e,A,t,n)}),A}function Ep(r,e,t,n,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var A=Bm(a);l.call(A)}}Cp(e,a,r,s)}else a=CU(t,e,r,s,n);return Bm(a)}rB=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=Rd(e.pendingLanes);t!==0&&(nb(e,t|1),Is(e,Xr()),!(qt&6)&&(mf=Xr()+500,zl()))}break;case 13:UA(function(){var n=No(r,1);if(n!==null){var s=ms();ea(n,r,1,s)}}),Ub(r,1)}};sb=function(r){if(r.tag===13){var e=No(r,134217728);if(e!==null){var t=ms();ea(e,r,134217728,t)}Ub(r,134217728)}};nB=function(r){if(r.tag===13){var e=El(r),t=No(r,e);if(t!==null){var n=ms();ea(t,r,e,n)}Ub(r,e)}};sB=function(){return lr};iB=function(r,e){var t=lr;try{return lr=r,e()}finally{lr=t}};Z2=function(r,e,t){switch(e){case"input":if(K2(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var s=mp(n);if(!s)throw Error(Re(90));UN(n),K2(n,s)}}}break;case"textarea":_N(r,t);break;case"select":e=t.value,e!=null&&$c(r,!!t.multiple,e,!1)}};KN=Ib;$N=UA;var LU={usingClientEntryPoint:!1,Events:[ch,Uc,mp,zN,GN,Ib]},Ld={findFiberByHostInstance:yA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SU={bundleType:Ld.bundleType,version:Ld.version,rendererPackageName:Ld.rendererPackageName,rendererConfig:Ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=WN(r),r===null?null:r.stateNode},findFiberByHostInstance:Ld.findFiberByHostInstance||vU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{dp=v0.inject(SU),Ma=v0}catch{}}ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LU;ni.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_b(e))throw Error(Re(200));return bU(r,e,null,t)};ni.createRoot=function(r,e){if(!_b(r))throw Error(Re(299));var t=!1,n="",s=Nk;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fb(r,1,!1,null,null,t,!1,n,s),r[Eo]=e.current,Bu(r.nodeType===8?r.parentNode:r),new Rb(e)};ni.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Re(188)):(r=Object.keys(r).join(","),Error(Re(268,r)));return r=WN(e),r=r===null?null:r.stateNode,r};ni.flushSync=function(r){return UA(r)};ni.hydrate=function(r,e,t){if(!Sp(e))throw Error(Re(200));return Ep(null,r,e,!0,t)};ni.hydrateRoot=function(r,e,t){if(!_b(r))throw Error(Re(405));var n=t!=null&&t.hydratedSources||null,s=!1,i="",a=Nk;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Ek(e,null,r,1,t??null,s,!1,i,a),r[Eo]=e.current,Bu(r),n)for(r=0;r<n.length;r++)t=n[r],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Lp(e)};ni.render=function(r,e,t){if(!Sp(e))throw Error(Re(200));return Ep(null,r,e,!1,t)};ni.unmountComponentAtNode=function(r){if(!Sp(r))throw Error(Re(40));return r._reactRootContainer?(UA(function(){Ep(null,null,r,!1,function(){r._reactRootContainer=null,r[Eo]=null})}),!0):!1};ni.unstable_batchedUpdates=Ib;ni.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!Sp(t))throw Error(Re(200));if(r==null||r._reactInternals===void 0)throw Error(Re(38));return Ep(r,e,t,!1,n)};ni.version="18.3.1-next-f1338f8080-20240426";function Bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bk)}catch(r){console.error(r)}}Bk(),BN.exports=ni;var EU=BN.exports,KC=EU;_2.createRoot=KC.createRoot,_2.hydrateRoot=KC.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ru.apply(this,arguments)}var gl;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(gl||(gl={}));const $C="popstate";function NU(r){r===void 0&&(r={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return Iy("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:km(s)}return kU(e,t,null,r)}function Rr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pb(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BU(){return Math.random().toString(36).substr(2,8)}function VC(r,e){return{usr:r.state,key:r.key,idx:e}}function Iy(r,e,t,n){return t===void 0&&(t=null),Ru({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Df(e):e,{state:t,key:e&&e.key||n||BU()})}function km(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Df(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function kU(r,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=gl.Pop,A=null,c=f();c==null&&(c=0,a.replaceState(Ru({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=gl.Pop;let y=f(),x=y==null?null:y-c;c=y,A&&A({action:l,location:m.location,delta:x})}function u(y,x){l=gl.Push;let w=Iy(m.location,y,x);c=f()+1;let v=VC(w,c),C=m.createHref(w);try{a.pushState(v,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(C)}i&&A&&A({action:l,location:m.location,delta:1})}function h(y,x){l=gl.Replace;let w=Iy(m.location,y,x);c=f();let v=VC(w,c),C=m.createHref(w);a.replaceState(v,"",C),i&&A&&A({action:l,location:m.location,delta:0})}function g(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:km(y);return w=w.replace(/ $/,"%20"),Rr(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return l},get location(){return r(s,a)},listen(y){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener($C,d),A=y,()=>{s.removeEventListener($C,d),A=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:u,replace:h,go(y){return a.go(y)}};return m}var YC;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(YC||(YC={}));function jU(r,e,t){return t===void 0&&(t="/"),IU(r,e,t)}function IU(r,e,t,n){let s=typeof e=="string"?Df(e):e,i=pf(s.pathname||"/",t);if(i==null)return null;let a=kk(r);TU(a);let l=null;for(let A=0;l==null&&A<a.length;++A){let c=zU(i);l=OU(a[A],c)}return l}function kk(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(i,a,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};A.relativePath.startsWith("/")&&(Rr(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let c=Bl([n,A.relativePath]),f=t.concat(A);i.children&&i.children.length>0&&(Rr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kk(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:PU(c,i.index),routesMeta:f})};return r.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let A of jk(i.path))s(i,a,A)}),e}function jk(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=jk(n.join("/")),l=[];return l.push(...a.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...a),l.map(A=>r.startsWith("/")&&A===""?"/":A)}function TU(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:QU(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const MU=/^:[\w-]+$/,DU=3,FU=2,UU=1,RU=10,_U=-2,WC=r=>r==="*";function PU(r,e){let t=r.split("/"),n=t.length;return t.some(WC)&&(n+=_U),e&&(n+=FU),t.filter(s=>!WC(s)).reduce((s,i)=>s+(MU.test(i)?DU:i===""?UU:RU),n)}function QU(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function OU(r,e,t){let{routesMeta:n}=r,s={},i="/",a=[];for(let l=0;l<n.length;++l){let A=n[l],c=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",d=Ty({path:A.relativePath,caseSensitive:A.caseSensitive,end:c},f),u=A.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Bl([i,d.pathname]),pathnameBase:YU(Bl([i,d.pathnameBase])),route:u}),d.pathnameBase!=="/"&&(i=Bl([i,d.pathnameBase]))}return a}function Ty(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=HU(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,f,d)=>{let{paramName:u,isOptional:h}=f;if(u==="*"){let m=l[d]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[d];return h&&!g?c[u]=void 0:c[u]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:r}}function HU(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Pb(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,A)=>(n.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function zU(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pb(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function pf(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}const GU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KU=r=>GU.test(r);function $U(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?Df(r):r,i;if(t)if(KU(t))i=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Pb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?i=JC(t.substring(1),"/"):i=JC(t,e)}else i=e;return{pathname:i,search:WU(n),hash:JU(s)}}function JC(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function xx(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VU(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qb(r,e){let t=VU(r);return e?t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Ob(r,e,t,n){n===void 0&&(n=!1);let s;typeof r=="string"?s=Df(r):(s=Ru({},r),Rr(!s.pathname||!s.pathname.includes("?"),xx("?","pathname","search",s)),Rr(!s.pathname||!s.pathname.includes("#"),xx("#","pathname","hash",s)),Rr(!s.search||!s.search.includes("#"),xx("#","search","hash",s)));let i=r===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=t;else{let d=e.length-1;if(!n&&a.startsWith("..")){let u=a.split("/");for(;u[0]==="..";)u.shift(),d-=1;s.pathname=u.join("/")}l=d>=0?e[d]:"/"}let A=$U(s,l),c=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&t.endsWith("/");return!A.pathname.endsWith("/")&&(c||f)&&(A.pathname+="/"),A}const Bl=r=>r.join("/").replace(/\/\/+/g,"/"),YU=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),WU=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JU=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qU(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Ik=["post","put","patch","delete"];new Set(Ik);const ZU=["get",...Ik];new Set(ZU);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},_u.apply(this,arguments)}const Np=S.createContext(null),Tk=S.createContext(null),Do=S.createContext(null),Bp=S.createContext(null),Fo=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Mk=S.createContext(null);function XU(r,e){let{relative:t}=e===void 0?{}:e;Ff()||Rr(!1);let{basename:n,navigator:s}=S.useContext(Do),{hash:i,pathname:a,search:l}=kp(r,{relative:t}),A=a;return n!=="/"&&(A=a==="/"?n:Bl([n,a])),s.createHref({pathname:A,search:l,hash:i})}function Ff(){return S.useContext(Bp)!=null}function _a(){return Ff()||Rr(!1),S.useContext(Bp).location}function Dk(r){S.useContext(Do).static||S.useLayoutEffect(r)}function ii(){let{isDataRoute:r}=S.useContext(Fo);return r?dR():eR()}function eR(){Ff()||Rr(!1);let r=S.useContext(Np),{basename:e,future:t,navigator:n}=S.useContext(Do),{matches:s}=S.useContext(Fo),{pathname:i}=_a(),a=JSON.stringify(Qb(s,t.v7_relativeSplatPath)),l=S.useRef(!1);return Dk(()=>{l.current=!0}),S.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let d=Ob(c,JSON.parse(a),i,f.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bl([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,a,i,r])}function dh(){let{matches:r}=S.useContext(Fo),e=r[r.length-1];return e?e.params:{}}function kp(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=S.useContext(Do),{matches:s}=S.useContext(Fo),{pathname:i}=_a(),a=JSON.stringify(Qb(s,n.v7_relativeSplatPath));return S.useMemo(()=>Ob(r,JSON.parse(a),i,t==="path"),[r,a,i,t])}function tR(r,e){return rR(r,e)}function rR(r,e,t,n){Ff()||Rr(!1);let{navigator:s}=S.useContext(Do),{matches:i}=S.useContext(Fo),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let c=_a(),f;if(e){var d;let y=typeof e=="string"?Df(e):e;A==="/"||(d=y.pathname)!=null&&d.startsWith(A)||Rr(!1),f=y}else f=c;let u=f.pathname||"/",h=u;if(A!=="/"){let y=A.replace(/^\//,"").split("/");h="/"+u.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=jU(r,{pathname:h}),m=oR(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Bl([A,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?A:Bl([A,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,t,n);return e&&m?S.createElement(Bp.Provider,{value:{location:_u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:gl.Pop}},m):m}function nR(){let r=fR(),e=qU(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,null)}const sR=S.createElement(nR,null);class iR extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(Fo.Provider,{value:this.props.routeContext},S.createElement(Mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aR(r){let{routeContext:e,match:t,children:n}=r,s=S.useContext(Np);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Fo.Provider,{value:e},n)}function oR(r,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var i;if(!t)return null;if(t.errors)r=t.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,l=(s=t)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Rr(!1),a=a.slice(0,Math.min(a.length,f+1))}let A=!1,c=-1;if(t&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:u,errors:h}=t,g=d.route.loader&&u[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){A=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,u)=>{let h,g=!1,m=null,y=null;t&&(h=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||sR,A&&(c<0&&u===0?(uR("route-fallback"),g=!0,y=null):c===u&&(g=!0,y=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,u+1)),w=()=>{let v;return h?v=m:g?v=y:d.route.Component?v=S.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=f,S.createElement(aR,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:t!=null},children:v})};return t&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?S.createElement(iR,{location:t.location,revalidation:t.revalidation,component:m,error:h,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var Fk=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Fk||{}),Uk=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Uk||{});function lR(r){let e=S.useContext(Np);return e||Rr(!1),e}function AR(r){let e=S.useContext(Tk);return e||Rr(!1),e}function cR(r){let e=S.useContext(Fo);return e||Rr(!1),e}function Rk(r){let e=cR(),t=e.matches[e.matches.length-1];return t.route.id||Rr(!1),t.route.id}function fR(){var r;let e=S.useContext(Mk),t=AR(),n=Rk();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function dR(){let{router:r}=lR(Fk.UseNavigateStable),e=Rk(Uk.UseNavigateStable),t=S.useRef(!1);return Dk(()=>{t.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,_u({fromRouteId:e},i)))},[r,e])}const qC={};function uR(r,e,t){qC[r]||(qC[r]=!0)}function hR(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function su(r){let{to:e,replace:t,state:n,relative:s}=r;Ff()||Rr(!1);let{future:i,static:a}=S.useContext(Do),{matches:l}=S.useContext(Fo),{pathname:A}=_a(),c=ii(),f=Ob(e,Qb(l,i.v7_relativeSplatPath),A,s==="path"),d=JSON.stringify(f);return S.useEffect(()=>c(JSON.parse(d),{replace:t,state:n,relative:s}),[c,d,s,t,n]),null}function it(r){Rr(!1)}function gR(r){let{basename:e="/",children:t=null,location:n,navigationType:s=gl.Pop,navigator:i,static:a=!1,future:l}=r;Ff()&&Rr(!1);let A=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:A,navigator:i,static:a,future:_u({v7_relativeSplatPath:!1},l)}),[A,l,i,a]);typeof n=="string"&&(n=Df(n));let{pathname:f="/",search:d="",hash:u="",state:h=null,key:g="default"}=n,m=S.useMemo(()=>{let y=pf(f,A);return y==null?null:{location:{pathname:y,search:d,hash:u,state:h,key:g},navigationType:s}},[A,f,d,u,h,g,s]);return m==null?null:S.createElement(Do.Provider,{value:c},S.createElement(Bp.Provider,{children:t,value:m}))}function mR(r){let{children:e,location:t}=r;return tR(My(e),t)}new Promise(()=>{});function My(r,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(r,(n,s)=>{if(!S.isValidElement(n))return;let i=[...e,s];if(n.type===S.Fragment){t.push.apply(t,My(n.props.children,i));return}n.type!==it&&Rr(!1),!n.props.index||!n.props.children||Rr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=My(n.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jm(){return jm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},jm.apply(this,arguments)}function _k(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function pR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xR(r,e){return r.button===0&&(!e||e==="_self")&&!pR(r)}const yR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bR="6";try{window.__reactRouterVersion=bR}catch{}const vR=S.createContext({isTransitioning:!1}),CR="startTransition",ZC=gD[CR];function LR(r){let{basename:e,children:t,future:n,window:s}=r,i=S.useRef();i.current==null&&(i.current=NU({window:s,v5Compat:!0}));let a=i.current,[l,A]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},f=S.useCallback(d=>{c&&ZC?ZC(()=>A(d)):A(d)},[A,c]);return S.useLayoutEffect(()=>a.listen(f),[a,f]),S.useEffect(()=>hR(n),[n]),S.createElement(gR,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a,future:n})}const SR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ER=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kt=S.forwardRef(function(e,t){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:A,to:c,preventScrollReset:f,viewTransition:d}=e,u=_k(e,yR),{basename:h}=S.useContext(Do),g,m=!1;if(typeof c=="string"&&ER.test(c)&&(g=c,SR))try{let v=new URL(window.location.href),C=c.startsWith("//")?new URL(v.protocol+c):new URL(c),N=pf(C.pathname,h);C.origin===v.origin&&N!=null?c=N+C.search+C.hash:m=!0}catch{}let y=XU(c,{relative:s}),x=kR(c,{replace:a,state:l,target:A,preventScrollReset:f,relative:s,viewTransition:d});function w(v){n&&n(v),v.defaultPrevented||x(v)}return S.createElement("a",jm({},u,{href:g||y,onClick:m||i?n:w,ref:t,target:A}))}),NR=S.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:A,viewTransition:c,children:f}=e,d=_k(e,wR),u=kp(A,{relative:d.relative}),h=_a(),g=S.useContext(Tk),{navigator:m,basename:y}=S.useContext(Do),x=g!=null&&jR(u)&&c===!0,w=m.encodeLocation?m.encodeLocation(u).pathname:u.pathname,v=h.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(v=v.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&y&&(C=pf(C,y)||C);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let B=v===w||!a&&v.startsWith(w)&&v.charAt(N)==="/",j=C!=null&&(C===w||!a&&C.startsWith(w)&&C.charAt(w.length)==="/"),M={isActive:B,isPending:j,isTransitioning:x},I=B?n:void 0,U;typeof i=="function"?U=i(M):U=[i,B?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(M):l;return S.createElement(kt,jm({},d,{"aria-current":I,className:U,ref:t,style:T,to:A,viewTransition:c}),typeof f=="function"?f(M):f)});var Dy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Dy||(Dy={}));var XC;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(XC||(XC={}));function BR(r){let e=S.useContext(Np);return e||Rr(!1),e}function kR(r,e){let{target:t,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,A=ii(),c=_a(),f=kp(r,{relative:a});return S.useCallback(d=>{if(xR(d,t)){d.preventDefault();let u=n!==void 0?n:km(c)===km(f);A(r,{replace:u,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,A,f,n,s,t,r,i,a,l])}function jR(r,e){e===void 0&&(e={});let t=S.useContext(vR);t==null&&Rr(!1);let{basename:n}=BR(Dy.useViewTransitionState),s=kp(r,{relative:e.relative});if(!t.isTransitioning)return!1;let i=pf(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=pf(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Ty(s.pathname,a)!=null||Ty(s.pathname,i)!=null}var IR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),De=(r,e)=>{const t=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...A},c)=>S.createElement("svg",{ref:c,...IR,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${TR(r)}`,...A},[...e.map(([f,d])=>S.createElement(f,d)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${r}`,t},MR=De("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),DR=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Pk=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),RA=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ps=De("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),FR=De("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),UR=De("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),C0=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),RR=De("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),ko=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Kt=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Hb=De("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),Fa=De("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_R=De("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),PR=De("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Qk=De("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),jo=De("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),na=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),QR=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),jp=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),jn=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),OR=De("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),HR=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Pu=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),vo=De("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Cn=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),xf=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),zb=De("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Im=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qn=De("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),eL=De("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Tm=De("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),zR=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Mm=De("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),GR=De("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Pd=De("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Ok=De("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),yf=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Dg=De("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Qu=De("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Dl=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),KR=De("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),$R=De("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Hk=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),VR=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),YR=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),zk=De("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Gk=De("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Kk=De("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Co=De("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Gb=De("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),wf=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),$k=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Kb=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Vk=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),WR=De("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Yk=De("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),JR=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ou=De("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),qs=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),qR=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),ZR=De("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),bf=De("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),XR=De("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),tL=De("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Wk=De("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),iu=De("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),e_=De("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),t_=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),r_=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),n_=De("PictureInPicture",[["path",{d:"M8 4.5v5H3m-1-6 6 6m13 0v-3c0-1.16-.84-2-2-2h-7m-9 9v2c0 1.05.95 2 2 2h3",key:"bcd8fb"}],["rect",{width:"10",height:"7",x:"12",y:"13.5",ry:"2",key:"136fx3"}]]),rL=De("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),au=De("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),EA=De("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),s_=De("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),xs=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),i_=De("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),Fl=De("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Ip=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ys=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vf=De("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ou=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jk=De("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),a_=De("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),$b=De("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),o_=De("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Io=De("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),is=De("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),l_=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),nL=De("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),A_=De("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),qk=De("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),os=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),sa=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),c_=De("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Zk=De("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Tp=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),f_=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),ji=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zt=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Cf=De("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Xk=De("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),e5=De("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Vb=De("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),hs=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mp=De("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),d_=({children:r,defaultWidth:e=300,minWidth:t=200,maxWidth:n=600,position:s="left",storageKey:i="resizable-panel-width",className:a=""})=>{const[l,A]=S.useState(()=>{const h=localStorage.getItem(i);return h?parseInt(h):e}),[c,f]=S.useState(!1),d=S.useRef(null);S.useEffect(()=>{localStorage.setItem(i,l.toString())},[l,i]);const u=h=>{f(!0),h.preventDefault()};return S.useEffect(()=>{const h=m=>{if(!c)return;const y=s==="left"?m.clientX:window.innerWidth-m.clientX;y>=t&&y<=n&&A(y)},g=()=>{f(!1)};return c&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",g),document.body.style.cursor="ew-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""}},[c,t,n,s]),o.jsxs("div",{ref:d,className:`relative h-full ${a}`,style:{width:`${l}px`,transition:c?"none":"width 0.2s ease"},children:[r,o.jsx("div",{className:`absolute top-0 ${s==="left"?"right-0":"left-0"} w-1 h-full cursor-ew-resize bg-transparent hover:bg-brand-primary transition-colors group`,onMouseDown:u,children:o.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-16 bg-dark-layer2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",style:{[s==="left"?"right":"left"]:"-6px"},children:[o.jsx("div",{className:"w-0.5 h-8 bg-dark-muted rounded-full mx-0.5"}),o.jsx("div",{className:"w-0.5 h-8 bg-dark-muted rounded-full mx-0.5"})]})})]})},u_=({user:r,onLogout:e})=>{const t=_a();ii();const[n,s]=S.useState(!1),i=[{icon:zk,label:"Dashboard",path:"/dashboard"},{icon:Kt,label:"My Learning",path:"/my-learning"},{icon:Tm,label:"Shorts",path:"/reels"},{icon:Qn,label:"Practice",path:"/practice"},{icon:Cf,label:"Live Sessions",path:"/live"},{icon:Qn,label:"My Notes",path:"/my-notes"},{icon:Dl,label:"Wishlist",path:"/wishlist"},{icon:qs,label:"Chats",path:"/announcements"},{icon:jn,label:"History",path:"/purchase-history"},{icon:qs,label:"Reviews",path:"/my-reviews"},{icon:ou,label:"Profile",path:"/profile"}],a=[{icon:C0,label:"Dashboard",path:"/instructor"},{icon:Kt,label:"My Courses",path:"/instructor/courses"},{icon:Tm,label:"Shorts",path:"/reels"},{icon:Cf,label:"Live Sessions",path:"/instructor/live"},{icon:iu,label:"Blog Articles",path:"/instructor/articles"},{icon:Qn,label:"Practice",path:"/instructor/practice"},{icon:Tp,label:"Upload Content",path:"/instructor/upload"},{icon:qs,label:"Chats",path:"/instructor/announcements"},{icon:Zt,label:"Students",path:"/instructor/students"},{icon:Cn,label:"Earnings",path:"/instructor/earnings"},{icon:C0,label:"Analytics",path:"/instructor/analytics"},{icon:qs,label:"Reviews",path:"/instructor/reviews"},{icon:s_,label:"Promotions",path:"/instructor/promotions"},{icon:bf,label:"Bundle Creator",path:"/instructor/bundles"},{icon:ps,label:"Assessments",path:"/instructor/assessments"},{icon:ps,label:"Certificates",path:"/instructor/certificates"},{icon:ou,label:"Settings",path:"/instructor/settings"}],l=[{icon:C0,label:"Dashboard",path:"/admin"},{icon:Zt,label:"Users",path:"/admin/users"},{icon:Kt,label:"Courses",path:"/admin/courses"},{icon:ShieldCheck,label:"Instructors",path:"/admin/instructors"},{icon:Cn,label:"Payments",path:"/admin/payments"},{icon:Io,label:"Subscriptions",path:"/admin/subscriptions"},{icon:ko,label:"Announcements",path:"/admin/announcements"},{icon:C0,label:"Analytics",path:"/admin/analytics"},{icon:ou,label:"Settings",path:"/admin/settings"}],c=(()=>{switch(r==null?void 0:r.role){case"student":return i;case"instructor":return a;case"superadmin":return l;default:return i}})(),f=()=>{switch(r==null?void 0:r.role){case"student":return"bg-blue-500/20 text-blue-400";case"instructor":return"bg-purple-500/20 text-purple-400";case"superadmin":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},d=()=>{var u;return o.jsxs("div",{className:"flex flex-col h-full bg-dark-layer1 border-r border-dark-layer2",children:[o.jsxs("div",{className:"p-4 border-b border-dark-layer2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[!n&&o.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-brand-primary to-purple-500 bg-clip-text text-transparent",children:"Course Launcher"}),o.jsx("button",{onClick:()=>s(!n),className:"p-2 hover:bg-dark-layer2 rounded-lg transition-colors hidden md:block",children:n?o.jsx(jp,{size:20}):o.jsx(QR,{size:20})})]}),!n&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-primary to-purple-500 flex items-center justify-center text-white font-bold",children:(u=r==null?void 0:r.name)==null?void 0:u.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-white truncate",children:r==null?void 0:r.name}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${f()} capitalize`,children:r==null?void 0:r.role})]})]})]}),o.jsx("nav",{className:"flex-1 overflow-y-auto p-3 space-y-1",children:c.map(h=>{const g=h.icon,m=t.pathname===h.path;return o.jsxs(kt,{to:h.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${m?"bg-brand-primary text-white shadow-lg shadow-brand-primary/20":"text-dark-muted hover:bg-dark-layer2 hover:text-white"} ${n?"justify-center":""}`,title:n?h.label:"",children:[o.jsx(g,{size:20}),!n&&o.jsx("span",{className:"font-medium",children:h.label})]},h.path)})}),o.jsxs("div",{className:"p-3 border-t border-dark-layer2 space-y-1",children:[o.jsxs(kt,{to:"/notifications",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-dark-muted hover:bg-dark-layer2 hover:text-white transition-all",children:[o.jsx(ko,{size:20}),!n&&o.jsx("span",{className:"font-medium",children:"Notifications"})]}),o.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:bg-red-500/10 transition-all",children:[o.jsx($k,{size:20}),!n&&o.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})};return o.jsx(o.Fragment,{children:o.jsx("div",{className:"hidden md:block",children:n?o.jsx("div",{className:"w-16",children:o.jsx(d,{})}):o.jsx(d_,{defaultWidth:280,minWidth:240,maxWidth:400,position:"left",storageKey:`sidebar-width-${r==null?void 0:r.role}`,children:o.jsx(d,{})})})})};function t5(r,e){return function(){return r.apply(e,arguments)}}const{toString:h_}=Object.prototype,{getPrototypeOf:Yb}=Object,{iterator:Dp,toStringTag:r5}=Symbol,Fp=(r=>e=>{const t=h_.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),aa=r=>(r=r.toLowerCase(),e=>Fp(e)===r),Up=r=>e=>typeof e===r,{isArray:Uf}=Array,Lf=Up("undefined");function uh(r){return r!==null&&!Lf(r)&&r.constructor!==null&&!Lf(r.constructor)&&Ts(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const n5=aa("ArrayBuffer");function g_(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&n5(r.buffer),e}const m_=Up("string"),Ts=Up("function"),s5=Up("number"),hh=r=>r!==null&&typeof r=="object",p_=r=>r===!0||r===!1,Fg=r=>{if(Fp(r)!=="object")return!1;const e=Yb(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(r5 in r)&&!(Dp in r)},x_=r=>{if(!hh(r)||uh(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},y_=aa("Date"),w_=aa("File"),b_=aa("Blob"),v_=aa("FileList"),C_=r=>hh(r)&&Ts(r.pipe),L_=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Ts(r.append)&&((e=Fp(r))==="formdata"||e==="object"&&Ts(r.toString)&&r.toString()==="[object FormData]"))},S_=aa("URLSearchParams"),[E_,N_,B_,k_]=["ReadableStream","Request","Response","Headers"].map(aa),j_=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gh(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),Uf(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{if(uh(r))return;const i=t?Object.getOwnPropertyNames(r):Object.keys(r),a=i.length;let l;for(n=0;n<a;n++)l=i[n],e.call(null,r[l],l,r)}}function i5(r,e){if(uh(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const vA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,a5=r=>!Lf(r)&&r!==vA;function Fy(){const{caseless:r,skipUndefined:e}=a5(this)&&this||{},t={},n=(s,i)=>{const a=r&&i5(t,i)||i;Fg(t[a])&&Fg(s)?t[a]=Fy(t[a],s):Fg(s)?t[a]=Fy({},s):Uf(s)?t[a]=s.slice():(!e||!Lf(s))&&(t[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&gh(arguments[s],n);return t}const I_=(r,e,t,{allOwnKeys:n}={})=>(gh(e,(s,i)=>{t&&Ts(s)?r[i]=t5(s,t):r[i]=s},{allOwnKeys:n}),r),T_=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),M_=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},D_=(r,e,t,n)=>{let s,i,a;const l={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),i=s.length;i-- >0;)a=s[i],(!n||n(a,r,e))&&!l[a]&&(e[a]=r[a],l[a]=!0);r=t!==!1&&Yb(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},F_=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},U_=r=>{if(!r)return null;if(Uf(r))return r;let e=r.length;if(!s5(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},R_=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Yb(Uint8Array)),__=(r,e)=>{const n=(r&&r[Dp]).call(r);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(r,i[0],i[1])}},P_=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Q_=aa("HTMLFormElement"),O_=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),sL=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),H_=aa("RegExp"),o5=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};gh(t,(s,i)=>{let a;(a=e(s,i,r))!==!1&&(n[i]=a||s)}),Object.defineProperties(r,n)},z_=r=>{o5(r,(e,t)=>{if(Ts(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Ts(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},G_=(r,e)=>{const t={},n=s=>{s.forEach(i=>{t[i]=!0})};return Uf(r)?n(r):n(String(r).split(e)),t},K_=()=>{},$_=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function V_(r){return!!(r&&Ts(r.append)&&r[r5]==="FormData"&&r[Dp])}const Y_=r=>{const e=new Array(10),t=(n,s)=>{if(hh(n)){if(e.indexOf(n)>=0)return;if(uh(n))return n;if(!("toJSON"in n)){e[s]=n;const i=Uf(n)?[]:{};return gh(n,(a,l)=>{const A=t(a,s+1);!Lf(A)&&(i[l]=A)}),e[s]=void 0,i}}return n};return t(r,0)},W_=aa("AsyncFunction"),J_=r=>r&&(hh(r)||Ts(r))&&Ts(r.then)&&Ts(r.catch),l5=((r,e)=>r?setImmediate:e?((t,n)=>(vA.addEventListener("message",({source:s,data:i})=>{s===vA&&i===t&&n.length&&n.shift()()},!1),s=>{n.push(s),vA.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ts(vA.postMessage)),q_=typeof queueMicrotask<"u"?queueMicrotask.bind(vA):typeof process<"u"&&process.nextTick||l5,Z_=r=>r!=null&&Ts(r[Dp]),ve={isArray:Uf,isArrayBuffer:n5,isBuffer:uh,isFormData:L_,isArrayBufferView:g_,isString:m_,isNumber:s5,isBoolean:p_,isObject:hh,isPlainObject:Fg,isEmptyObject:x_,isReadableStream:E_,isRequest:N_,isResponse:B_,isHeaders:k_,isUndefined:Lf,isDate:y_,isFile:w_,isBlob:b_,isRegExp:H_,isFunction:Ts,isStream:C_,isURLSearchParams:S_,isTypedArray:R_,isFileList:v_,forEach:gh,merge:Fy,extend:I_,trim:j_,stripBOM:T_,inherits:M_,toFlatObject:D_,kindOf:Fp,kindOfTest:aa,endsWith:F_,toArray:U_,forEachEntry:__,matchAll:P_,isHTMLForm:Q_,hasOwnProperty:sL,hasOwnProp:sL,reduceDescriptors:o5,freezeMethods:z_,toObjectSet:G_,toCamelCase:O_,noop:K_,toFiniteNumber:$_,findKey:i5,global:vA,isContextDefined:a5,isSpecCompliantForm:V_,toJSONObject:Y_,isAsyncFn:W_,isThenable:J_,setImmediate:l5,asap:q_,isIterable:Z_};function It(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ve.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const A5=It.prototype,c5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{c5[r]={value:r}});Object.defineProperties(It,c5);Object.defineProperty(A5,"isAxiosError",{value:!0});It.from=(r,e,t,n,s,i)=>{const a=Object.create(A5);ve.toFlatObject(r,a,function(f){return f!==Error.prototype},c=>c!=="isAxiosError");const l=r&&r.message?r.message:"Error",A=e==null&&r?r.code:e;return It.call(a,l,A,t,n,s),r&&a.cause==null&&Object.defineProperty(a,"cause",{value:r,configurable:!0}),a.name=r&&r.name||"Error",i&&Object.assign(a,i),a};const X_=null;function Uy(r){return ve.isPlainObject(r)||ve.isArray(r)}function f5(r){return ve.endsWith(r,"[]")?r.slice(0,-2):r}function iL(r,e,t){return r?r.concat(e).map(function(s,i){return s=f5(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function eP(r){return ve.isArray(r)&&!r.some(Uy)}const tP=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Rp(r,e,t){if(!ve.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ve.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ve.isUndefined(y[m])});const n=t.metaTokens,s=t.visitor||f,i=t.dots,a=t.indexes,A=(t.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ve.isDate(g))return g.toISOString();if(ve.isBoolean(g))return g.toString();if(!A&&ve.isBlob(g))throw new It("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(g)||ve.isTypedArray(g)?A&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,m,y){let x=g;if(g&&!y&&typeof g=="object"){if(ve.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(ve.isArray(g)&&eP(g)||(ve.isFileList(g)||ve.endsWith(m,"[]"))&&(x=ve.toArray(g)))return m=f5(m),x.forEach(function(v,C){!(ve.isUndefined(v)||v===null)&&e.append(a===!0?iL([m],C,i):a===null?m:m+"[]",c(v))}),!1}return Uy(g)?!0:(e.append(iL(y,m,i),c(g)),!1)}const d=[],u=Object.assign(tP,{defaultVisitor:f,convertValue:c,isVisitable:Uy});function h(g,m){if(!ve.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),ve.forEach(g,function(x,w){(!(ve.isUndefined(x)||x===null)&&s.call(e,x,ve.isString(w)?w.trim():w,m,u))===!0&&h(x,m?m.concat(w):[w])}),d.pop()}}if(!ve.isObject(r))throw new TypeError("data must be an object");return h(r),e}function aL(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Wb(r,e){this._pairs=[],r&&Rp(r,this,e)}const d5=Wb.prototype;d5.append=function(e,t){this._pairs.push([e,t])};d5.toString=function(e){const t=e?function(n){return e.call(this,n,aL)}:aL;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function rP(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function u5(r,e,t){if(!e)return r;const n=t&&t.encode||rP;ve.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=ve.isURLSearchParams(e)?e.toString():new Wb(e,t).toString(n),i){const a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class oL{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(n){n!==null&&e(n)})}}const h5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nP=typeof URLSearchParams<"u"?URLSearchParams:Wb,sP=typeof FormData<"u"?FormData:null,iP=typeof Blob<"u"?Blob:null,aP={isBrowser:!0,classes:{URLSearchParams:nP,FormData:sP,Blob:iP},protocols:["http","https","file","blob","url","data"]},Jb=typeof window<"u"&&typeof document<"u",Ry=typeof navigator=="object"&&navigator||void 0,oP=Jb&&(!Ry||["ReactNative","NativeScript","NS"].indexOf(Ry.product)<0),lP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AP=Jb&&window.location.href||"http://localhost",cP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jb,hasStandardBrowserEnv:oP,hasStandardBrowserWebWorkerEnv:lP,navigator:Ry,origin:AP},Symbol.toStringTag,{value:"Module"})),ss={...cP,...aP};function fP(r,e){return Rp(r,new ss.classes.URLSearchParams,{visitor:function(t,n,s,i){return ss.isNode&&ve.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function dP(r){return ve.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uP(r){const e={},t=Object.keys(r);let n;const s=t.length;let i;for(n=0;n<s;n++)i=t[n],e[i]=r[i];return e}function g5(r){function e(t,n,s,i){let a=t[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),A=i>=t.length;return a=!a&&ve.isArray(s)?s.length:a,A?(ve.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!ve.isObject(s[a]))&&(s[a]=[]),e(t,n,s[a],i)&&ve.isArray(s[a])&&(s[a]=uP(s[a])),!l)}if(ve.isFormData(r)&&ve.isFunction(r.entries)){const t={};return ve.forEachEntry(r,(n,s)=>{e(dP(n),s,t,0)}),t}return null}function hP(r,e,t){if(ve.isString(r))try{return(e||JSON.parse)(r),ve.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const mh={transitional:h5,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=ve.isObject(e);if(i&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return s?JSON.stringify(g5(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fP(e,this.formSerializer).toString();if((l=ve.isFileList(e))||n.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return Rp(l?{"files[]":e}:e,A&&new A,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),hP(e)):e}],transformResponse:[function(e){const t=this.transitional||mh.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(n&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?It.from(l,It.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],r=>{mh.headers[r]={}});const gP=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mP=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!t||e[t]&&gP[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},lL=Symbol("internals");function Sd(r){return r&&String(r).trim().toLowerCase()}function Ug(r){return r===!1||r==null?r:ve.isArray(r)?r.map(Ug):String(r)}function pP(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const xP=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function yx(r,e,t,n,s){if(ve.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!ve.isString(e)){if(ve.isString(n))return e.indexOf(n)!==-1;if(ve.isRegExp(n))return n.test(e)}}function yP(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function wP(r,e){const t=ve.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}let Ms=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(l,A,c){const f=Sd(A);if(!f)throw new Error("header name must be a non-empty string");const d=ve.findKey(s,f);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||A]=Ug(l))}const a=(l,A)=>ve.forEach(l,(c,f)=>i(c,f,A));if(ve.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(ve.isString(e)&&(e=e.trim())&&!xP(e))a(mP(e),t);else if(ve.isObject(e)&&ve.isIterable(e)){let l={},A,c;for(const f of e){if(!ve.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[c=f[0]]=(A=l[c])?ve.isArray(A)?[...A,f[1]]:[A,f[1]]:f[1]}a(l,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=Sd(e),e){const n=ve.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return pP(s);if(ve.isFunction(t))return t.call(this,s,n);if(ve.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Sd(e),e){const n=ve.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||yx(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function i(a){if(a=Sd(a),a){const l=ve.findKey(n,a);l&&(!t||yx(n,n[l],l,t))&&(delete n[l],s=!0)}}return ve.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];(!e||yx(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return ve.forEach(this,(s,i)=>{const a=ve.findKey(n,i);if(a){t[a]=Ug(s),delete t[i];return}const l=e?yP(i):String(i).trim();l!==i&&delete t[i],t[l]=Ug(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&ve.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[lL]=this[lL]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Sd(a);n[l]||(wP(s,a),n[l]=!0)}return ve.isArray(e)?e.forEach(i):i(e),this}};Ms.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Ms.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});ve.freezeMethods(Ms);function wx(r,e){const t=this||mh,n=e||t,s=Ms.from(n.headers);let i=n.data;return ve.forEach(r,function(l){i=l.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function m5(r){return!!(r&&r.__CANCEL__)}function Rf(r,e,t){It.call(this,r??"canceled",It.ERR_CANCELED,e,t),this.name="CanceledError"}ve.inherits(Rf,It,{__CANCEL__:!0});function p5(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new It("Request failed with status code "+t.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function bP(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function vP(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(A){const c=Date.now(),f=n[i];a||(a=c),t[s]=A,n[s]=c;let d=i,u=0;for(;d!==s;)u+=t[d++],d=d%r;if(s=(s+1)%r,s===i&&(i=(i+1)%r),c-a<e)return;const h=f&&c-f;return h?Math.round(u*1e3/h):void 0}}function CP(r,e){let t=0,n=1e3/e,s,i;const a=(c,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),r(...c)};return[(...c)=>{const f=Date.now(),d=f-t;d>=n?a(c,f):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},n-d)))},()=>s&&a(s)]}const Dm=(r,e,t=3)=>{let n=0;const s=vP(50,250);return CP(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,A=a-n,c=s(A),f=a<=l;n=a;const d={loaded:a,total:l,progress:l?a/l:void 0,bytes:A,rate:c||void 0,estimated:c&&l&&f?(l-a)/c:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(d)},t)},AL=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},cL=r=>(...e)=>ve.asap(()=>r(...e)),LP=ss.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ss.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ss.origin),ss.navigator&&/(msie|trident)/i.test(ss.navigator.userAgent)):()=>!0,SP=ss.hasStandardBrowserEnv?{write(r,e,t,n,s,i,a){if(typeof document>"u")return;const l=[`${r}=${encodeURIComponent(e)}`];ve.isNumber(t)&&l.push(`expires=${new Date(t).toUTCString()}`),ve.isString(n)&&l.push(`path=${n}`),ve.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),ve.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function EP(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function NP(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function x5(r,e,t){let n=!EP(e);return r&&(n||t==!1)?NP(r,e):e}const fL=r=>r instanceof Ms?{...r}:r;function _A(r,e){e=e||{};const t={};function n(c,f,d,u){return ve.isPlainObject(c)&&ve.isPlainObject(f)?ve.merge.call({caseless:u},c,f):ve.isPlainObject(f)?ve.merge({},f):ve.isArray(f)?f.slice():f}function s(c,f,d,u){if(ve.isUndefined(f)){if(!ve.isUndefined(c))return n(void 0,c,d,u)}else return n(c,f,d,u)}function i(c,f){if(!ve.isUndefined(f))return n(void 0,f)}function a(c,f){if(ve.isUndefined(f)){if(!ve.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function l(c,f,d){if(d in e)return n(c,f);if(d in r)return n(void 0,c)}const A={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,f,d)=>s(fL(c),fL(f),d,!0)};return ve.forEach(Object.keys({...r,...e}),function(f){const d=A[f]||s,u=d(r[f],e[f],f);ve.isUndefined(u)&&d!==l||(t[f]=u)}),t}const y5=r=>{const e=_A({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=Ms.from(a),e.url=u5(x5(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ve.isFormData(t)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ve.isFunction(t.getHeaders)){const A=t.getHeaders(),c=["content-type","content-length"];Object.entries(A).forEach(([f,d])=>{c.includes(f.toLowerCase())&&a.set(f,d)})}}if(ss.hasStandardBrowserEnv&&(n&&ve.isFunction(n)&&(n=n(e)),n||n!==!1&&LP(e.url))){const A=s&&i&&SP.read(i);A&&a.set(s,A)}return e},BP=typeof XMLHttpRequest<"u",kP=BP&&function(r){return new Promise(function(t,n){const s=y5(r);let i=s.data;const a=Ms.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:c}=s,f,d,u,h,g;function m(){h&&h(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function x(){if(!y)return;const v=Ms.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:r,request:y};p5(function(j){t(j),m()},function(j){n(j),m()},N),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new It("Request aborted",It.ECONNABORTED,r,y)),y=null)},y.onerror=function(C){const N=C&&C.message?C.message:"Network Error",B=new It(N,It.ERR_NETWORK,r,y);B.event=C||null,n(B),y=null},y.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||h5;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),n(new It(C,N.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,r,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&ve.forEach(a.toJSON(),function(C,N){y.setRequestHeader(N,C)}),ve.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),c&&([u,g]=Dm(c,!0),y.addEventListener("progress",u)),A&&y.upload&&([d,h]=Dm(A),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(f=v=>{y&&(n(!v||v.type?new Rf(null,r,y):v),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const w=bP(s.url);if(w&&ss.protocols.indexOf(w)===-1){n(new It("Unsupported protocol "+w+":",It.ERR_BAD_REQUEST,r));return}y.send(i||null)})},jP=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const f=c instanceof Error?c:this.reason;n.abort(f instanceof It?f:new Rf(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,i(new It(`timeout ${e} of ms exceeded`,It.ETIMEDOUT))},e);const l=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),r=null)};r.forEach(c=>c.addEventListener("abort",i));const{signal:A}=n;return A.unsubscribe=()=>ve.asap(l),A}},IP=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,s;for(;n<t;)s=n+e,yield r.slice(n,s),n=s},TP=async function*(r,e){for await(const t of MP(r))yield*IP(t,e)},MP=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},dL=(r,e,t,n)=>{const s=TP(r,e);let i=0,a,l=A=>{a||(a=!0,n&&n(A))};return new ReadableStream({async pull(A){try{const{done:c,value:f}=await s.next();if(c){l(),A.close();return}let d=f.byteLength;if(t){let u=i+=d;t(u)}A.enqueue(new Uint8Array(f))}catch(c){throw l(c),c}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},uL=64*1024,{isFunction:L0}=ve,DP=(({Request:r,Response:e})=>({Request:r,Response:e}))(ve.global),{ReadableStream:hL,TextEncoder:gL}=ve.global,mL=(r,...e)=>{try{return!!r(...e)}catch{return!1}},FP=r=>{r=ve.merge.call({skipUndefined:!0},DP,r);const{fetch:e,Request:t,Response:n}=r,s=e?L0(e):typeof fetch=="function",i=L0(t),a=L0(n);if(!s)return!1;const l=s&&L0(hL),A=s&&(typeof gL=="function"?(g=>m=>g.encode(m))(new gL):async g=>new Uint8Array(await new t(g).arrayBuffer())),c=i&&l&&mL(()=>{let g=!1;const m=new t(ss.origin,{body:new hL,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),f=a&&l&&mL(()=>ve.isReadableStream(new n("").body)),d={stream:f&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(m,y)=>{let x=m&&m[g];if(x)return x.call(m);throw new It(`Response type '${g}' is not supported`,It.ERR_NOT_SUPPORT,y)})});const u=async g=>{if(g==null)return 0;if(ve.isBlob(g))return g.size;if(ve.isSpecCompliantForm(g))return(await new t(ss.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(g)||ve.isArrayBuffer(g))return g.byteLength;if(ve.isURLSearchParams(g)&&(g=g+""),ve.isString(g))return(await A(g)).byteLength},h=async(g,m)=>{const y=ve.toFiniteNumber(g.getContentLength());return y??u(m)};return async g=>{let{url:m,method:y,data:x,signal:w,cancelToken:v,timeout:C,onDownloadProgress:N,onUploadProgress:B,responseType:j,headers:M,withCredentials:I="same-origin",fetchOptions:U}=y5(g),T=e||fetch;j=j?(j+"").toLowerCase():"text";let P=jP([w,v&&v.toAbortSignal()],C),G=null;const R=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let q;try{if(B&&c&&y!=="get"&&y!=="head"&&(q=await h(M,x))!==0){let le=new t(m,{method:"POST",body:x,duplex:"half"}),D;if(ve.isFormData(x)&&(D=le.headers.get("content-type"))&&M.setContentType(D),le.body){const[K,Y]=AL(q,Dm(cL(B)));x=dL(le.body,uL,K,Y)}}ve.isString(I)||(I=I?"include":"omit");const Z=i&&"credentials"in t.prototype,oe={...U,signal:P,method:y.toUpperCase(),headers:M.normalize().toJSON(),body:x,duplex:"half",credentials:Z?I:void 0};G=i&&new t(m,oe);let H=await(i?T(G,U):T(m,oe));const re=f&&(j==="stream"||j==="response");if(f&&(N||re&&R)){const le={};["status","statusText","headers"].forEach(se=>{le[se]=H[se]});const D=ve.toFiniteNumber(H.headers.get("content-length")),[K,Y]=N&&AL(D,Dm(cL(N),!0))||[];H=new n(dL(H.body,uL,K,()=>{Y&&Y(),R&&R()}),le)}j=j||"text";let ce=await d[ve.findKey(d,j)||"text"](H,g);return!re&&R&&R(),await new Promise((le,D)=>{p5(le,D,{data:ce,headers:Ms.from(H.headers),status:H.status,statusText:H.statusText,config:g,request:G})})}catch(Z){throw R&&R(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,g,G),{cause:Z.cause||Z}):It.from(Z,Z&&Z.code,g,G)}}},UP=new Map,w5=r=>{let e=r&&r.env||{};const{fetch:t,Request:n,Response:s}=e,i=[n,s,t];let a=i.length,l=a,A,c,f=UP;for(;l--;)A=i[l],c=f.get(A),c===void 0&&f.set(A,c=l?new Map:FP(e)),f=c;return c};w5();const qb={http:X_,xhr:kP,fetch:{get:w5}};ve.forEach(qb,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const pL=r=>`- ${r}`,RP=r=>ve.isFunction(r)||r===null||r===!1;function _P(r,e){r=ve.isArray(r)?r:[r];const{length:t}=r;let n,s;const i={};for(let a=0;a<t;a++){n=r[a];let l;if(s=n,!RP(n)&&(s=qb[(l=String(n)).toLowerCase()],s===void 0))throw new It(`Unknown adapter '${l}'`);if(s&&(ve.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([A,c])=>`adapter ${A} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(pL).join(`
`):" "+pL(a[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const b5={getAdapter:_P,adapters:qb};function bx(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Rf(null,r)}function xL(r){return bx(r),r.headers=Ms.from(r.headers),r.data=wx.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),b5.getAdapter(r.adapter||mh.adapter,r)(r).then(function(n){return bx(r),n.data=wx.call(r,r.transformResponse,n),n.headers=Ms.from(n.headers),n},function(n){return m5(n)||(bx(r),n&&n.response&&(n.response.data=wx.call(r,r.transformResponse,n.response),n.response.headers=Ms.from(n.response.headers))),Promise.reject(n)})}const v5="1.13.2",_p={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{_p[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const yL={};_p.transitional=function(e,t,n){function s(i,a){return"[Axios v"+v5+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(e===!1)throw new It(s(a," has been removed"+(t?" in "+t:"")),It.ERR_DEPRECATED);return t&&!yL[a]&&(yL[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,l):!0}};_p.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function PP(r,e,t){if(typeof r!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const l=r[i],A=l===void 0||a(l,i,r);if(A!==!0)throw new It("option "+i+" must be "+A,It.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new It("Unknown option "+i,It.ERR_BAD_OPTION)}}const Rg={assertOptions:PP,validators:_p},wa=Rg.validators;let NA=class{constructor(e){this.defaults=e||{},this.interceptors={request:new oL,response:new oL}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=_A(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;n!==void 0&&Rg.assertOptions(n,{silentJSONParsing:wa.transitional(wa.boolean),forcedJSONParsing:wa.transitional(wa.boolean),clarifyTimeoutError:wa.transitional(wa.boolean)},!1),s!=null&&(ve.isFunction(s)?t.paramsSerializer={serialize:s}:Rg.assertOptions(s,{encode:wa.function,serialize:wa.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Rg.assertOptions(t,{baseUrl:wa.spelling("baseURL"),withXsrfToken:wa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&ve.merge(i.common,i[t.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),t.headers=Ms.concat(a,i);const l=[];let A=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(A=A&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let f,d=0,u;if(!A){const g=[xL.bind(this),void 0];for(g.unshift(...l),g.push(...c),u=g.length,f=Promise.resolve(t);d<u;)f=f.then(g[d++],g[d++]);return f}u=l.length;let h=t;for(;d<u;){const g=l[d++],m=l[d++];try{h=g(h)}catch(y){m.call(this,y);break}}try{f=xL.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,u=c.length;d<u;)f=f.then(c[d++],c[d++]);return f}getUri(e){e=_A(this.defaults,e);const t=x5(e.baseURL,e.url,e.allowAbsoluteUrls);return u5(t,e.params,e.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(e){NA.prototype[e]=function(t,n){return this.request(_A(n||{},{method:e,url:t,data:(n||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(n){return function(i,a,l){return this.request(_A(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}NA.prototype[e]=t(),NA.prototype[e+"Form"]=t(!0)});let QP=class C5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,l){n.reason||(n.reason=new Rf(i,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new C5(function(s){e=s}),cancel:e}}};function OP(r){return function(t){return r.apply(null,t)}}function HP(r){return ve.isObject(r)&&r.isAxiosError===!0}const _y={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_y).forEach(([r,e])=>{_y[e]=r});function L5(r){const e=new NA(r),t=t5(NA.prototype.request,e);return ve.extend(t,NA.prototype,e,{allOwnKeys:!0}),ve.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return L5(_A(r,s))},t}const sn=L5(mh);sn.Axios=NA;sn.CanceledError=Rf;sn.CancelToken=QP;sn.isCancel=m5;sn.VERSION=v5;sn.toFormData=Rp;sn.AxiosError=It;sn.Cancel=sn.CanceledError;sn.all=function(e){return Promise.all(e)};sn.spread=OP;sn.isAxiosError=HP;sn.mergeConfig=_A;sn.AxiosHeaders=Ms;sn.formToJSON=r=>g5(ve.isHTMLForm(r)?new FormData(r):r);sn.getAdapter=b5.getAdapter;sn.HttpStatusCode=_y;sn.default=sn;const{Axios:Vee,AxiosError:Yee,CanceledError:Wee,isCancel:Jee,CancelToken:qee,VERSION:Zee,all:Xee,Cancel:ete,isAxiosError:tte,spread:rte,toFormData:nte,AxiosHeaders:ste,HttpStatusCode:ite,formToJSON:ate,getAdapter:ote,mergeConfig:lte}=sn,Ce=sn.create({baseURL:"/api"});Ce.interceptors.request.use(r=>{const e=localStorage.getItem("token");return e&&(r.headers.Authorization=`Bearer ${e}`),r});const Zb=()=>{var P,G;const r=ii(),e=_a(),t=S.useRef(null),[n,s]=S.useState(!1),[i,a]=S.useState(!1),[l,A]=S.useState(""),[c,f]=S.useState([]),[d,u]=S.useState(!1),[h,g]=S.useState(!1),[m,y]=S.useState(localStorage.getItem("theme")||"dark"),[x,w]=S.useState([]),[v,C]=S.useState([]),N=localStorage.getItem("token"),B=localStorage.getItem("user"),j=B?JSON.parse(B):{};S.useEffect(()=>{const R=()=>{s(window.scrollY>10)},q=Z=>{t.current&&!t.current.contains(Z.target)&&g(!1)};return m==="light"?document.documentElement.classList.add("light"):document.documentElement.classList.remove("light"),window.addEventListener("scroll",R),document.addEventListener("mousedown",q),()=>{window.removeEventListener("scroll",R),document.removeEventListener("mousedown",q)}},[m]),S.useEffect(()=>{const q=setTimeout(async()=>{if(l.length<2){f([]);return}u(!0);try{const{data:Z}=await Ce.get("/courses"),oe=Z.filter(H=>H.title.toLowerCase().includes(l.toLowerCase())||H.category.toLowerCase().includes(l.toLowerCase())).slice(0,5);f(oe)}catch(Z){console.error("Search error:",Z)}finally{u(!1)}},300);return()=>clearTimeout(q)},[l]),S.useEffect(()=>{(async()=>{try{const{data:q}=await Ce.get("/courses"),Z=q.filter(re=>re.isPublished).sort((re,ce)=>(ce.enrollmentCount||0)-(re.enrollmentCount||0)).slice(0,3);w(Z);const oe={};q.forEach(re=>{re.category&&re.isPublished&&(oe[re.category]=(oe[re.category]||0)+1)});const H=Object.entries(oe).sort((re,ce)=>ce[1]-re[1]).slice(0,4).map(([re])=>re);C(H)}catch(q){console.error("Error fetching popular data:",q)}})()},[]);const M=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r("/login")},I=()=>{const R=m==="dark"?"light":"dark";y(R),localStorage.setItem("theme",R),R==="light"?document.documentElement.classList.add("light"):document.documentElement.classList.remove("light")},U={student:[{name:"Browse",path:"/browse",icon:zk},{name:"Subscriptions",path:"/subscriptions",icon:Io},{name:"Bundles",path:"/bundles",icon:bf},{name:"Community",path:"/community",icon:qs},{name:"Leaderboard",path:"/leaderboard",icon:ps}],instructor:[{name:"Dashboard",path:"/instructor",icon:Dg},{name:"Courses",path:"/instructor/courses",icon:Kt},{name:"Students",path:"/instructor/students",icon:Zt},{name:"Earnings",path:"/instructor/earnings",icon:Cn}],admin:[{name:"Overview",path:"/admin",icon:Dg},{name:"Users",path:"/admin/users",icon:Zt},{name:"Courses",path:"/admin/courses",icon:Kt},{name:"Payments",path:"/admin/payments",icon:Cn}],superadmin:[{name:"Overview",path:"/admin",icon:Dg},{name:"Users",path:"/admin/users",icon:Zt},{name:"Courses",path:"/admin/courses",icon:Kt},{name:"Payments",path:"/admin/payments",icon:Cn}]},T=j.role?U[j.role]||[]:[];return o.jsx("nav",{className:`fixed top-0 left-0 right-0 z-[100] transition-all duration-300 ${n?"bg-dark-bg/80 backdrop-blur-xl border-b border-white/10 py-3":"bg-dark-bg/95 border-b border-white/5 py-5"}`,children:o.jsxs("div",{className:"max-w-[1440px] mx-auto px-6 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsxs(kt,{to:"/",className:"flex items-center gap-3 group",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-primary to-orange-600 rounded-xl flex items-center justify-center group-hover:rotate-12 transition-transform shadow-lg shadow-brand-primary/20",children:o.jsx(Fl,{size:22,className:"text-white fill-current"})}),o.jsxs("span",{className:"hidden md:inline text-2xl font-black bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 group-hover:to-brand-primary transition-all",children:["Orbit",o.jsx("span",{className:"text-brand-primary",children:"Quest"})]})]}),N&&o.jsx("div",{className:"hidden lg:flex items-center gap-1",children:T.map(R=>o.jsxs(kt,{to:R.path,className:`px-4 py-2 rounded-xl text-sm font-bold transition-all hover:bg-white/5 flex items-center gap-2 ${e.pathname===R.path?"text-brand-primary bg-brand-primary/10":"text-dark-text/70 hover:text-white"}`,children:[o.jsx(R.icon,{size:16}),R.name]},R.path))})]}),o.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end max-w-2xl",children:[o.jsxs("div",{ref:t,className:`hidden md:flex flex-1 max-w-md relative group ${j.role==="instructor"?"invisible pointer-events-none":""}`,children:[o.jsxs("div",{className:`flex items-center w-full bg-dark-layer1/50 border rounded-2xl transition-all ${h?"border-brand-primary bg-dark-layer1 shadow-lg shadow-brand-primary/10":"border-dark-layer2 shadow-none"}`,children:[o.jsx(ys,{className:`ml-4 transition-colors ${h?"text-brand-primary":"text-dark-muted"}`,size:18}),o.jsx("input",{type:"text",placeholder:"Explore courses, skills...",className:"w-full bg-transparent border-none py-2.5 pl-3 pr-4 text-sm focus:outline-none placeholder:text-dark-muted/50 text-white font-medium",value:l,onFocus:()=>g(!0),onChange:R=>A(R.target.value)}),o.jsxs("div",{className:"mr-4 flex items-center gap-1.5 px-2 py-0.5 rounded border border-dark-layer2 text-[10px] font-bold text-dark-muted select-none group-hover:border-dark-muted/30 transition-colors",children:[o.jsx("span",{className:"text-xs",children:""})," K"]})]}),h&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 w-full bg-dark-layer1 border border-white/10 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"md:hidden p-2 rounded-xl text-dark-text/70 hover:text-white",onClick:()=>r("/browse"),children:o.jsx(ys,{size:22})}),o.jsx("button",{onClick:I,className:"p-2.5 rounded-xl hover:bg-white/5 text-dark-text/70 hover:text-white transition-all relative group",children:m==="dark"?o.jsx(qR,{size:20}):o.jsx(l_,{size:20,className:"text-brand-primary"})}),N?o.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-white/10",children:[o.jsxs("button",{className:"p-2.5 rounded-xl hover:bg-white/5 text-dark-text/70 hover:text-white transition-colors relative group",children:[o.jsx(ko,{size:20}),o.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-dark-bg animate-pulse"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>a(!i),className:"flex items-center gap-3 p-1 rounded-full hover:bg-white/5 transition-all group",children:o.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-brand-primary transition-all shadow-lg",children:j.avatar?o.jsx("img",{src:j.avatar,alt:j.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-white font-bold",children:((G=(P=j.name)==null?void 0:P[0])==null?void 0:G.toUpperCase())||"U"})})}),i&&o.jsxs("div",{className:"absolute top-full right-0 mt-3 w-64 bg-dark-layer1 border border-white/10 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"p-5 border-b border-white/5",children:[o.jsx("p",{className:"text-sm font-black text-white tracking-tight",children:j.name}),o.jsx("p",{className:"text-xs text-dark-muted truncate mt-0.5",children:j.email}),o.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-2.5 py-1 rounded-lg bg-brand-primary/10 border border-brand-primary/20 text-[10px] font-black text-brand-primary uppercase tracking-wider",children:[o.jsx(Io,{size:10})," ",j.role||"Explorer"]})]}),o.jsxs("div",{className:"p-2",children:[o.jsxs(kt,{to:"/profile",className:"flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-white/5 text-sm text-dark-muted hover:text-white transition-all",children:[o.jsx(ji,{size:18})," Profile Settings"]}),j.role==="student"&&o.jsxs(kt,{to:"/my-learning",className:"flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-white/5 text-sm text-dark-muted hover:text-white transition-all",children:[o.jsx(Hb,{size:18})," My Learning"]}),o.jsxs("button",{onClick:M,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-red-500/10 text-sm text-red-400 font-bold transition-all mt-1",children:[o.jsx($k,{size:18})," Sign Out"]})]})]})]})]}):o.jsxs("div",{className:"flex items-center gap-3 border-l border-white/10 ml-2 pl-4",children:[o.jsx(kt,{to:"/login",className:"px-5 py-2.5 text-sm font-bold text-dark-text/70 hover:text-white transition-colors",children:"Sign In"}),o.jsx(kt,{to:"/register",className:"px-6 py-2.5 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-xl text-sm transition-all transform hover:scale-105 shadow-xl shadow-brand-primary/30",children:"Start Journey"})]})]})]})]})})},zP=()=>{const[r,e]=S.useState(""),[t,n]=S.useState(""),[s,i]=S.useState(""),a=ii(),l=async A=>{var c,f;A.preventDefault();try{const{data:d}=await Ce.post("/auth/login",{email:r,password:t});localStorage.setItem("token",d.token),localStorage.setItem("user",JSON.stringify(d.user)),d.user.role==="superadmin"?a("/admin"):d.user.role==="instructor"?a("/instructor"):a("/dashboard")}catch(d){i(((f=(c=d.response)==null?void 0:c.data)==null?void 0:f.message)||"Login failed")}};return o.jsx("div",{className:"flex justify-center items-center min-h-[80vh]",children:o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-lg shadow-lg w-full max-w-md border border-dark-layer2",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-dark-text",children:"Sign In"}),s&&o.jsx("div",{className:"bg-red-500/10 text-red-500 p-3 rounded mb-4 text-sm",children:s}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Email"}),o.jsx("input",{type:"email",value:r,onChange:A=>e(A.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2.5 text-dark-text focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-all",placeholder:"name@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Password"}),o.jsx("input",{type:"password",value:t,onChange:A=>n(A.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2.5 text-dark-text focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-all",placeholder:"",required:!0})]}),o.jsx("button",{type:"submit",className:"w-full bg-brand-primary hover:bg-brand-hover text-white font-medium py-2.5 rounded transition-colors",children:"Sign In"})]}),o.jsxs("p",{className:"mt-4 text-center text-sm text-dark-muted",children:["Don't have an account? ",o.jsx(kt,{to:"/register",className:"text-brand-primary hover:underline",children:"Sign up"})]})]})})},GP=()=>{const[r,e]=S.useState(""),[t,n]=S.useState(""),[s,i]=S.useState(""),[a,l]=S.useState("student"),[A,c]=S.useState(""),f=ii(),d=async u=>{var h,g;u.preventDefault();try{const{data:m}=await Ce.post("/auth/register",{name:r,email:t,password:s,role:a});localStorage.setItem("token",m.token),localStorage.setItem("user",JSON.stringify(m.user)),m.user.role==="instructor"?f("/instructor"):f("/")}catch(m){c(((g=(h=m.response)==null?void 0:h.data)==null?void 0:g.message)||"Registration failed")}};return o.jsx("div",{className:"flex justify-center items-center min-h-[80vh]",children:o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-lg shadow-lg w-full max-w-md border border-dark-layer2",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-dark-text",children:"Create Account"}),A&&o.jsx("div",{className:"bg-red-500/10 text-red-500 p-3 rounded mb-4 text-sm",children:A}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Full Name"}),o.jsx("input",{type:"text",value:r,onChange:u=>e(u.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2.5 text-dark-text focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-all",placeholder:"John Doe",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Email"}),o.jsx("input",{type:"email",value:t,onChange:u=>n(u.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2.5 text-dark-text focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-all",placeholder:"name@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Password"}),o.jsx("input",{type:"password",value:s,onChange:u=>i(u.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2.5 text-dark-text focus:outline-none focus:border-brand-primary focus:ring-1 focus:ring-brand-primary transition-all",placeholder:"",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-3",children:"I want to"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("button",{type:"button",onClick:()=>l("student"),className:`p-4 rounded-lg border-2 transition-all ${a==="student"?"border-brand-primary bg-brand-primary/10 text-brand-primary":"border-dark-layer2 text-dark-muted hover:border-dark-muted"}`,children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(ji,{size:32}),o.jsx("span",{className:"font-semibold",children:"Learn Courses"}),o.jsx("span",{className:"text-xs opacity-75",children:"Course Buyer"})]})}),o.jsx("button",{type:"button",onClick:()=>l("instructor"),className:`p-4 rounded-lg border-2 transition-all ${a==="instructor"?"border-purple-500 bg-purple-500/10 text-purple-400":"border-dark-layer2 text-dark-muted hover:border-dark-muted"}`,children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Kt,{size:32}),o.jsx("span",{className:"font-semibold",children:"Teach Courses"}),o.jsx("span",{className:"text-xs opacity-75",children:"Course Seller"})]})})]}),a==="instructor"&&o.jsx("p",{className:"mt-2 text-xs text-yellow-400 bg-yellow-500/10 p-2 rounded",children:" Instructor accounts require admin approval before you can create courses."})]}),o.jsxs("button",{type:"submit",className:"w-full bg-brand-primary hover:bg-brand-hover text-white font-medium py-2.5 rounded transition-colors",children:["Sign Up as ",a==="student"?"Student":"Instructor"]})]}),o.jsxs("p",{className:"mt-4 text-center text-sm text-dark-muted",children:["Already have an account? ",o.jsx(kt,{to:"/login",className:"text-brand-primary hover:underline",children:"Sign in"})]})]})})},KP=()=>o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white pt-[72px]",children:[o.jsx(Zb,{}),o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-10"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-dark-bg/80 via-dark-bg/95 to-dark-bg"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32 relative z-10 text-center",children:[o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight",children:["Master New Skills ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-purple-500",children:"Build Your Future"})]}),o.jsx("p",{className:"text-xl text-dark-muted max-w-2xl mx-auto mb-10",children:"Access world-class courses from top instructors. Learn at your own pace, get certified, and advance your career."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsxs(kt,{to:"/register",className:"w-full sm:w-auto bg-brand-primary hover:bg-brand-hover text-white px-8 py-4 rounded-xl text-lg font-bold transition-all transform hover:scale-105 flex items-center justify-center gap-2 shadow-lg shadow-brand-primary/25",children:["Start Learning Now ",o.jsx(RA,{size:20})]}),o.jsx(kt,{to:"/browse",className:"w-full sm:w-auto bg-dark-layer2 hover:bg-dark-layer1 text-white px-8 py-4 rounded-xl text-lg font-bold transition-all border border-dark-layer2 hover:border-brand-primary/50",children:"Browse Courses"})]})]})]}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-2xl border border-dark-layer2 hover:border-brand-primary/30 transition-colors",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center mb-6",children:o.jsx(Kt,{className:"text-blue-400",size:24})}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:"Expert-Led Courses"}),o.jsx("p",{className:"text-dark-muted",children:"Learn from industry experts who have real-world experience and passion for teaching."})]}),o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-2xl border border-dark-layer2 hover:border-brand-primary/30 transition-colors",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mb-6",children:o.jsx(Zt,{className:"text-purple-400",size:24})}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:"Community Learning"}),o.jsx("p",{className:"text-dark-muted",children:"Join a global community of learners. Share ideas, get feedback, and grow together."})]}),o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-2xl border border-dark-layer2 hover:border-brand-primary/30 transition-colors",children:[o.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center mb-6",children:o.jsx(ps,{className:"text-green-400",size:24})}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:"Get Certified"}),o.jsx("p",{className:"text-dark-muted",children:"Earn recognized certificates upon completion to showcase your skills to employers."})]})]})}),o.jsx("div",{className:"border-y border-dark-layer2 bg-dark-layer1/30",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"10k+"}),o.jsx("div",{className:"text-dark-muted",children:"Active Students"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"500+"}),o.jsx("div",{className:"text-dark-muted",children:"Courses"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"100+"}),o.jsx("div",{className:"text-dark-muted",children:"Instructors"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"4.8/5"}),o.jsx("div",{className:"text-dark-muted",children:"Average Rating"})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 text-center",children:o.jsx("div",{className:"bg-gradient-to-br from-brand-primary/20 to-purple-600/20 border border-brand-primary/30 rounded-3xl p-12 relative overflow-hidden",children:o.jsxs("div",{className:"relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Your Journey?"}),o.jsx("p",{className:"text-xl text-dark-muted max-w-2xl mx-auto mb-8",children:"Join thousands of students already learning on CourseLauncher."}),o.jsxs(kt,{to:"/register",className:"inline-flex items-center gap-2 bg-white text-dark-bg px-8 py-4 rounded-xl text-lg font-bold hover:bg-gray-100 transition-colors",children:["Join for Free ",o.jsx(RA,{size:20})]})]})})}),o.jsx("footer",{className:"border-t border-dark-layer2 bg-dark-layer1 py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center",children:o.jsx(Fl,{size:16,className:"text-white fill-current"})}),o.jsx("span",{className:"text-xl font-bold text-white",children:"OrbitQuest"})]}),o.jsx("div",{className:"text-dark-muted text-sm",children:" 2024 OrbitQuest. All rights reserved."})]})})]}),$P=()=>o.jsxs("div",{className:"min-h-screen bg-dark-bg text-white pt-[72px]",children:[o.jsx(Zb,{}),o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1524178232363-1fb2b075b655?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-10"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-dark-bg/80 via-dark-bg/95 to-dark-bg"}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32 relative z-10",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-5xl font-bold mb-6 tracking-tight leading-tight",children:["Share Your Knowledge ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-purple-500",children:"Earn What You Deserve"})]}),o.jsx("p",{className:"text-xl text-dark-muted mb-8",children:"Join our community of expert instructors. Create courses, reach students globally, and build a sustainable income stream."}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs(kt,{to:"/register",className:"bg-brand-primary hover:bg-brand-hover text-white px-8 py-4 rounded-xl text-lg font-bold transition-all transform hover:scale-105 flex items-center justify-center gap-2 shadow-lg shadow-brand-primary/25",children:["Become an Instructor ",o.jsx(RA,{size:20})]})})]}),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-2xl p-6 shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700"}),o.jsxs("div",{children:[o.jsx("div",{className:"h-4 w-32 bg-gray-700 rounded mb-2"}),o.jsx("div",{className:"h-3 w-20 bg-gray-800 rounded"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-32 bg-gray-800 rounded-lg w-full"}),o.jsx("div",{className:"h-4 w-3/4 bg-gray-700 rounded"}),o.jsx("div",{className:"h-4 w-1/2 bg-gray-700 rounded"})]}),o.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[o.jsx("div",{className:"text-green-400 font-bold",children:"+$1,250.00"}),o.jsx("div",{className:"text-xs text-dark-muted",children:"This Month"})]})]})})]})})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why Teach with Us?"}),o.jsx("p",{className:"text-dark-muted max-w-2xl mx-auto",children:"We provide the tools and support you need to succeed as an online instructor."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-2xl border border-dark-layer2",children:[o.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center mb-6",children:o.jsx(Cn,{className:"text-green-400",size:24})}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:"Keep More Earnings"}),o.jsx("p",{className:"text-dark-muted",children:"Competitive revenue share model designed to reward high-quality content creators."})]}),o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-2xl border border-dark-layer2",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center mb-6",children:o.jsx(Zt,{className:"text-blue-400",size:24})}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:"Global Reach"}),o.jsx("p",{className:"text-dark-muted",children:"Connect with students from around the world who are eager to learn from you."})]}),o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-2xl border border-dark-layer2",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mb-6",children:o.jsx(RR,{className:"text-purple-400",size:24})}),o.jsx("h3",{className:"text-xl font-bold mb-3",children:"Powerful Analytics"}),o.jsx("p",{className:"text-dark-muted",children:"Track your performance, understand your students, and optimize your courses."})]})]})]}),o.jsx("div",{className:"bg-dark-layer1/30 border-y border-dark-layer2 py-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("h2",{className:"text-3xl font-bold mb-12 text-center",children:"How It Works"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Plan Your Course",desc:"Outline your curriculum and gather materials."},{step:"02",title:"Record Video",desc:"Film your lectures using your preferred equipment."},{step:"03",title:"Upload & Launch",desc:"Use our easy uploader to publish your course."},{step:"04",title:"Earn Money",desc:"Get paid every time a student purchases your course."}].map((r,e)=>o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"text-6xl font-bold text-dark-layer2 absolute -top-8 -left-4 select-none",children:r.step}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:r.title}),o.jsx("p",{className:"text-dark-muted",children:r.desc})]})]},e))})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 text-center",children:o.jsx("div",{className:"bg-gradient-to-br from-purple-600/20 to-brand-primary/20 border border-purple-500/30 rounded-3xl p-12 relative overflow-hidden",children:o.jsxs("div",{className:"relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Inspire?"}),o.jsx("p",{className:"text-xl text-dark-muted max-w-2xl mx-auto mb-8",children:"Join us today and start your journey as an online instructor."}),o.jsxs(kt,{to:"/register",className:"inline-flex items-center gap-2 bg-white text-dark-bg px-8 py-4 rounded-xl text-lg font-bold hover:bg-gray-100 transition-colors",children:["Start Teaching Today ",o.jsx(RA,{size:20})]})]})})}),o.jsx("footer",{className:"border-t border-dark-layer2 bg-dark-layer1 py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center",children:o.jsx(Fl,{size:16,className:"text-white fill-current"})}),o.jsx("span",{className:"text-xl font-bold text-white",children:"OrbitQuest"})]}),o.jsx("div",{className:"text-dark-muted text-sm",children:" 2024 OrbitQuest. All rights reserved."})]})})]}),VP=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:i}=await Ce.get("/articles");e(i||[])}catch(i){console.error("Error fetching articles:",i)}finally{n(!1)}};return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-12 pb-20",children:[o.jsxs("header",{className:"text-center space-y-4 py-12",children:[o.jsx("span",{className:"px-4 py-1.5 rounded-full border border-brand-primary/30 bg-brand-primary/10 text-brand-primary text-sm font-bold uppercase tracking-widest",children:"Course Launcher Blog"}),o.jsxs("h1",{className:"text-5xl md:text-6xl font-black text-white tracking-tighter",children:["Insights & ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-purple-500",children:"Updates"})]}),o.jsx("p",{className:"text-xl text-dark-muted max-w-2xl mx-auto",children:"The latest news, tutorials, and success stories from our community."})]}),t?o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading articles..."}):r.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(Kt,{size:48,className:"mx-auto text-dark-muted opacity-50 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"No Articles Yet"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Check back soon for new content."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((i,a)=>{var l,A,c,f;return o.jsxs(kt,{to:`/blog/${i.slug}`,className:"group bg-dark-layer1 border border-white/10 rounded-[2rem] overflow-hidden hover:border-brand-primary/30 hover:-translate-y-1 transition-all duration-300 flex flex-col h-full",children:[o.jsxs("div",{className:"aspect-[4/3] bg-dark-layer2 overflow-hidden relative",children:[i.coverImage?o.jsx("img",{src:i.coverImage,alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:o.jsx(Kt,{size:40,className:"text-white/20"})}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"px-3 py-1 bg-black/60 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider rounded-lg border border-white/10",children:i.category})})]}),o.jsxs("div",{className:"p-8 flex flex-col flex-1 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold text-dark-muted uppercase tracking-wider",children:[o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Fa,{size:12})," ",new Date(i.createdAt).toLocaleDateString()]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[i.views," Views"]})]}),o.jsx("h2",{className:"text-2xl font-black text-white group-hover:text-brand-primary transition-colors leading-tight flex-1",children:i.title}),o.jsxs("div",{className:"pt-6 mt-auto border-t border-white/5 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[(l=i.authorId)!=null&&l.avatar?o.jsx("img",{src:i.authorId.avatar,className:"w-8 h-8 rounded-full ring-2 ring-dark-bg",alt:""}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary flex items-center justify-center text-dark-bg font-bold text-xs ring-2 ring-dark-bg",children:(c=(A=i.authorId)==null?void 0:A.name)==null?void 0:c[0]}),o.jsx("span",{className:"text-sm font-bold text-white",children:(f=i.authorId)==null?void 0:f.name})]}),o.jsx("span",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-white group-hover:bg-brand-primary group-hover:text-dark-bg transition-all",children:o.jsx(RA,{size:14})})]})]})]},i._id)})})]})},YP=()=>{var a,l;const{slug:r}=dh(),[e,t]=S.useState(null),[n,s]=S.useState(!0);S.useEffect(()=>{i()},[r]);const i=async()=>{try{const{data:A}=await Ce.get(`/articles/${r}`);t(A)}catch(A){console.error("Error fetching article:",A)}finally{s(!1)}};return n?o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading article..."}):e?o.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[o.jsxs(kt,{to:"/blog",className:"flex items-center gap-2 text-dark-muted hover:text-white mb-8 transition-colors",children:[o.jsx(Pk,{size:20})," Back to Blog"]}),o.jsxs("article",{className:"space-y-8",children:[e.coverImage&&o.jsx("div",{className:"aspect-video w-full rounded-[2.5rem] overflow-hidden",children:o.jsx("img",{src:e.coverImage,className:"w-full h-full object-cover",alt:e.title})}),o.jsxs("header",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm font-bold text-dark-muted uppercase tracking-widest",children:[o.jsxs("span",{className:"flex items-center gap-2 text-brand-primary",children:[o.jsx(GR,{size:14})," ",e.category]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Fa,{size:14})," ",new Date(e.createdAt).toLocaleDateString()]})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white leading-tight",children:e.title}),o.jsx("div",{className:"flex items-center gap-4 pt-4 border-t border-white/5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[(a=e.authorId)!=null&&a.avatar?o.jsx("img",{src:e.authorId.avatar,className:"w-10 h-10 rounded-full",alt:""}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-layer2 flex items-center justify-center font-bold text-white",children:o.jsx(ji,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-white",children:(l=e.authorId)==null?void 0:l.name}),o.jsx("p",{className:"text-xs text-dark-muted",children:"Author"})]})]})})]}),o.jsx("div",{className:"prose prose-lg prose-invert max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-dark-text/90 leading-relaxed text-lg",children:e.content})})]})]}):o.jsx("div",{className:"text-center py-20 text-red-500",children:"Article not found."})},WP=()=>{const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState(null),[a,l]=S.useState(!0),[A,c]=S.useState(""),[f,d]=S.useState("All");S.useEffect(()=>{u()},[]);const u=async()=>{try{const N=JSON.parse(localStorage.getItem("user")).id,[B,j,M]=await Promise.all([Ce.get("/courses"),Ce.get(`/users/profile/${N}`),Ce.get("/enrollment/my-courses")]);e(B.data),i(j.data),n(M.data)}catch(N){console.error("Failed to fetch data",N)}finally{l(!1)}};if(a)return o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading..."});const h=t.reduce((N,B)=>N+(B.totalTimeSpent||0),0),g=Math.round(h/3600),m=t.filter(N=>N.progress===100).length,y=t.filter(N=>N.certificateIssued).length,x=t.filter(N=>N.progress>0&&N.progress<100).length,w=r.filter(N=>{const B=N.title.toLowerCase().includes(A.toLowerCase()),j=f==="All"||N.category===f;return B&&j}),v=["All",...new Set(r.map(N=>N.category))],C=t.filter(N=>N.courseId&&N.progress<100).sort((N,B)=>new Date(B.lastAccessedAt)-new Date(N.lastAccessedAt)).slice(0,3);return o.jsxs("div",{className:"space-y-12 pb-12",children:[o.jsxs("div",{className:"bg-gradient-to-r from-brand-primary to-purple-600 rounded-2xl p-6 md:p-12 text-white relative overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"relative z-10 max-w-2xl",children:[o.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Welcome back, ",s==null?void 0:s.name.split(" ")[0],"! "]}),o.jsxs("p",{className:"text-lg opacity-90 mb-8",children:["You've learned for ",o.jsxs("span",{className:"font-bold",children:[g," hours"]})," and earned ",o.jsxs("span",{className:"font-bold",children:[y," certificates"]}),". Keep it up!"]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(kt,{to:"/my-learning",className:"bg-white text-brand-primary px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors flex items-center gap-2 shadow-lg",children:[o.jsx(au,{size:20})," My Learning"]}),o.jsx(kt,{to:"/profile",className:"bg-black/20 text-white px-6 py-3 rounded-lg font-bold hover:bg-black/30 transition-colors backdrop-blur-sm border border-white/10",children:"View Profile"})]})]}),o.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white/10 skew-x-12 transform translate-x-12"}),o.jsx("div",{className:"absolute -bottom-10 -right-10 w-64 h-64 bg-purple-500/30 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-brand-primary transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:o.jsx(jn,{size:24})}),o.jsx("span",{className:"text-dark-muted font-medium",children:"Learning Time"})]}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:[g,"h"]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-brand-primary transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg text-green-400 group-hover:bg-green-500 group-hover:text-white transition-colors",children:o.jsx(jo,{size:24})}),o.jsx("span",{className:"text-dark-muted font-medium",children:"Completed"})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:m})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-brand-primary transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg text-yellow-400 group-hover:bg-yellow-500 group-hover:text-white transition-colors",children:o.jsx(ps,{size:24})}),o.jsx("span",{className:"text-dark-muted font-medium",children:"Certificates"})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:y})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-brand-primary transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg text-red-400 group-hover:bg-red-500 group-hover:text-white transition-colors",children:o.jsx(Mm,{size:24})}),o.jsx("span",{className:"text-dark-muted font-medium",children:"In Progress"})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:x})]})]}),C.length>0&&o.jsxs("section",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(jn,{className:"text-brand-primary"})," Continue Learning"]}),o.jsx("div",{className:"flex overflow-x-auto pb-4 gap-4 md:grid md:grid-cols-3 md:gap-6 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",children:C.map(N=>o.jsxs(kt,{to:`/course/${N.courseId._id}`,className:"min-w-[85vw] md:min-w-0 snap-center bg-dark-layer1 border border-dark-layer2 rounded-xl p-4 hover:border-brand-primary transition-all flex gap-4 items-center group shadow-md md:shadow-none",children:[o.jsxs("div",{className:"w-32 h-20 rounded-lg overflow-hidden flex-shrink-0 relative",children:[o.jsx("img",{src:N.courseId.thumbnail,alt:"",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(au,{size:24,className:"text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-white line-clamp-1 mb-1",children:N.courseId.title}),o.jsx("div",{className:"w-full bg-dark-layer2 h-1.5 rounded-full overflow-hidden mb-2",children:o.jsx("div",{className:"bg-brand-primary h-full",style:{width:`${N.progress}%`}})}),o.jsxs("p",{className:"text-xs text-dark-muted",children:[Math.round(N.progress),"% Complete"]})]})]},N._id))})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[o.jsx(Mp,{className:"text-yellow-500"})," Explore Courses"]}),o.jsxs("div",{className:"relative w-full md:w-96",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-muted",size:20}),o.jsx("input",{type:"text",placeholder:"Search for courses...",value:A,onChange:N=>c(N.target.value),className:"w-full bg-dark-layer1 border border-dark-layer2 rounded-full py-2 pl-10 pr-4 text-white focus:border-brand-primary focus:outline-none"})]})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:v.map(N=>o.jsx("button",{onClick:()=>d(N),className:`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${f===N?"bg-brand-primary text-white":"bg-dark-layer1 text-dark-muted hover:bg-dark-layer2 hover:text-white"}`,children:N},N))}),o.jsx("div",{className:"flex overflow-x-auto pb-6 gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-6 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",children:w.map(N=>o.jsxs(kt,{to:`/course/${N._id}`,className:"min-w-[85vw] md:min-w-0 snap-center bg-dark-layer1 border border-dark-layer2 rounded-xl overflow-hidden hover:border-brand-primary transition-all group hover:shadow-lg hover:shadow-brand-primary/10 flex flex-col h-full shadow-md md:shadow-none",children:[o.jsxs("div",{className:"aspect-video bg-dark-layer2 relative overflow-hidden",children:[o.jsx("img",{src:N.thumbnail,alt:N.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:o.jsx(au,{size:56,className:"text-brand-primary drop-shadow-lg"})}),o.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md px-2 py-1 rounded text-xs font-bold text-white",children:[N.videos.length," Videos"]})]}),o.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("span",{className:"bg-brand-primary/10 text-brand-primary text-xs px-2 py-1 rounded font-bold uppercase tracking-wider",children:N.category}),o.jsxs("span",{className:"text-yellow-500 flex items-center gap-1 text-sm font-bold",children:[o.jsx(ps,{size:14})," 4.8"]})]}),o.jsx("h3",{className:"text-xl font-bold text-white line-clamp-1 mb-2 group-hover:text-brand-primary transition-colors",children:N.title}),o.jsx("p",{className:"text-dark-muted text-sm line-clamp-2 mb-4",children:N.description}),o.jsxs("div",{className:"mt-auto pt-4 border-t border-dark-layer2 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500"}),o.jsx("span",{className:"text-sm text-dark-muted",children:"Instructor"})]}),o.jsxs("span",{className:"font-bold text-xl text-white",children:["$",N.price]})]})]})]},N._id))}),w.length===0&&o.jsxs("div",{className:"text-center py-20",children:[o.jsx("p",{className:"text-dark-muted text-lg",children:"No courses found matching your criteria."}),o.jsx("button",{onClick:()=>{c(""),d("All")},className:"text-brand-primary mt-2 hover:underline",children:"Clear filters"})]})]})]})},JP=()=>{const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState(""),[a,l]=S.useState("All"),[A,c]=S.useState(["All"]),[f,d]=S.useState(!0),[u,h]=S.useState([0,1e3]),[g,m]=S.useState(0),[y,x]=S.useState("all"),[w,v]=S.useState("all"),[C,N]=S.useState([]),[B,j]=S.useState(!1),[M,I]=S.useState([]);S.useEffect(()=>{P(),U()},[]);const U=async()=>{try{const R=localStorage.getItem("user");if(R){const q=JSON.parse(R),{data:Z}=await Ce.get(`/users/${q.id}/wishlist`);I(Z.map(oe=>oe._id))}}catch(R){console.error("Error fetching wishlist:",R)}},T=async(R,q)=>{R.preventDefault(),R.stopPropagation();const Z=localStorage.getItem("user");if(!Z){alert("Please login to add to wishlist");return}const oe=JSON.parse(Z);try{const{data:H}=await Ce.post(`/users/${oe.id}/wishlist/${q}`);H.action==="added"?I([...M,q]):I(M.filter(re=>re!==q))}catch(H){console.error("Error updating wishlist:",H)}},P=async()=>{try{const q=(await Ce.get("/courses")).data.filter(H=>H.isPublished&&H.approvalStatus==="approved");e(q),n(q);const Z=["All",...new Set(q.map(H=>H.category))];c(Z);const oe=[...new Map(q.filter(H=>H.instructorId).map(H=>[H.instructorId._id,H.instructorId])).values()];N(oe)}catch(R){console.error("Error fetching courses:",R)}finally{d(!1)}};S.useEffect(()=>{let R=r;s&&(R=R.filter(q=>{var Z;return q.title.toLowerCase().includes(s.toLowerCase())||q.description.toLowerCase().includes(s.toLowerCase())||((Z=q.instructorId)==null?void 0:Z.name.toLowerCase().includes(s.toLowerCase()))})),a!=="All"&&(R=R.filter(q=>q.category===a)),R=R.filter(q=>{var oe,H;const Z=(oe=q.sponsorship)!=null&&oe.isSponsored&&q.sponsorship.sponsorshipType==="free"?0:(H=q.sponsorship)!=null&&H.isSponsored?q.price*(1-(q.sponsorship.sponsorshipDiscount||0)/100):q.price;return Z>=u[0]&&Z<=u[1]}),g>0&&(R=R.filter(q=>(q.rating||0)>=g)),y!=="all"&&(R=R.filter(q=>q.level===y)),w!=="all"&&(R=R.filter(q=>{var Z;return((Z=q.instructorId)==null?void 0:Z._id)===w})),n(R)},[s,a,r,u,g,y,w]);const G=()=>{i(""),l("All"),h([0,1e3]),m(0),x("all"),v("all")};return f?o.jsx("div",{className:"text-white",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Browse Courses"}),o.jsxs("div",{className:"relative w-full md:w-96",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-muted",size:20}),o.jsx("input",{type:"text",placeholder:"Search courses...",value:s,onChange:R=>i(R.target.value),className:"w-full bg-dark-layer1 border border-dark-layer2 rounded-lg py-2 pl-10 pr-4 text-white focus:border-brand-primary focus:outline-none"})]})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:A.map(R=>o.jsx("button",{onClick:()=>l(R),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${a===R?"bg-brand-primary text-white":"bg-dark-layer1 text-dark-muted hover:bg-dark-layer2"}`,children:R},R))}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>j(!B),className:"flex items-center gap-2 px-4 py-2 bg-dark-layer1 border border-dark-layer2 rounded-lg text-white hover:border-brand-primary transition-colors",children:[o.jsx(zR,{size:18}),B?"Hide":"Show"," Filters"]}),o.jsxs("span",{className:"text-dark-muted text-sm",children:[t.length," courses found"]}),(u[0]!==0||u[1]!==1e3||g>0||y!=="all"||w!=="all")&&o.jsx("button",{onClick:G,className:"text-brand-primary hover:text-brand-hover text-sm",children:"Clear Filters"})]}),B&&o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-lg p-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Price Range: $",u[0]," - $",u[1]]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"0",max:"1000",value:u[0],onChange:R=>h([parseInt(R.target.value),u[1]]),className:"w-full"}),o.jsx("input",{type:"range",min:"0",max:"1000",value:u[1],onChange:R=>h([u[0],parseInt(R.target.value)]),className:"w-full"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Minimum Rating"}),o.jsxs("select",{value:g,onChange:R=>m(parseFloat(R.target.value)),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg px-3 py-2 text-white",children:[o.jsx("option",{value:"0",children:"All Ratings"}),o.jsx("option",{value:"4.5",children:"4.5 & above"}),o.jsx("option",{value:"4.0",children:"4.0 & above"}),o.jsx("option",{value:"3.5",children:"3.5 & above"}),o.jsx("option",{value:"3.0",children:"3.0 & above"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Level"}),o.jsxs("select",{value:y,onChange:R=>x(R.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg px-3 py-2 text-white",children:[o.jsx("option",{value:"all",children:"All Levels"}),o.jsx("option",{value:"beginner",children:"Beginner"}),o.jsx("option",{value:"intermediate",children:"Intermediate"}),o.jsx("option",{value:"advanced",children:"Advanced"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Instructor"}),o.jsxs("select",{value:w,onChange:R=>v(R.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg px-3 py-2 text-white",children:[o.jsx("option",{value:"all",children:"All Instructors"}),C.map(R=>o.jsx("option",{value:R._id,children:R.name},R._id))]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(R=>{var le,D,K,Y,se;const q=(le=R.sponsorship)==null?void 0:le.isSponsored,Z=(D=R.sponsorship)==null?void 0:D.sponsorshipType,oe=((K=R.sponsorship)==null?void 0:K.sponsorshipDiscount)||0,H=R.price,re=q&&Z==="free"?0:q?H*(1-oe/100):H,ce=M.includes(R._id);return o.jsxs(kt,{to:`/course/${R._id}`,className:"bg-dark-layer1 border border-dark-layer2 rounded-xl overflow-hidden hover:border-brand-primary transition-all group",children:[o.jsxs("div",{className:"aspect-video bg-dark-layer2 relative",children:[o.jsx("img",{src:R.thumbnail,alt:R.title,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute top-2 right-2 bg-black/80 px-2 py-1 rounded text-xs font-bold text-white",children:[((Y=R.videos)==null?void 0:Y.length)||0," Videos"]}),q&&o.jsx("div",{className:"absolute top-2 left-2 bg-yellow-500/90 px-3 py-1 rounded flex items-center gap-1",children:o.jsx("span",{className:"text-xs font-bold text-black",children:" Sponsored"})}),o.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[o.jsx("button",{onClick:J=>{J.preventDefault(),J.stopPropagation();const ie=localStorage.getItem("user");if(!ie){alert("Login to share and earn!");return}const de=JSON.parse(ie),ae=`${window.location.origin}/course/${R._id}?ref=${de.referralCode}`;navigator.clipboard.writeText(ae),alert("Referral link copied to clipboard!")},className:"p-2 rounded-full bg-black/50 hover:bg-green-500/80 transition-colors z-10 text-white",title:"Share & Earn",children:o.jsx(Cn,{size:18})}),o.jsx("button",{onClick:J=>T(J,R._id),className:"p-2 rounded-full bg-black/50 hover:bg-brand-primary/80 transition-colors z-10",children:o.jsx(Dl,{size:18,className:ce?"text-red-500 fill-red-500":"text-white"})})]})]}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:"bg-brand-primary/10 text-brand-primary text-xs px-2 py-1 rounded font-bold uppercase",children:R.category}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-sm",children:[o.jsx(is,{size:14,fill:"currentColor"}),o.jsx("span",{children:R.rating||4.5})]})]}),o.jsx("h3",{className:"font-bold text-white mb-2 line-clamp-2",children:R.title}),o.jsx("p",{className:"text-dark-muted text-sm line-clamp-2 mb-3",children:R.description}),R.instructorId&&o.jsxs(kt,{to:`/instructor/profile/${R.instructorId._id}`,className:"flex items-center gap-2 mb-4 hover:bg-dark-layer2 p-2 rounded transition-colors",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-xs font-bold",children:((se=R.instructorId.name)==null?void 0:se.charAt(0).toUpperCase())||"I"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-dark-muted",children:"Course Provider"}),o.jsx("p",{className:"text-sm text-white font-medium truncate hover:text-brand-primary",children:R.instructorId.name})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-dark-layer2",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-dark-muted",children:[o.jsx(Zt,{size:14}),o.jsx("span",{children:R.enrollmentCount||0})]}),o.jsx("div",{className:"flex flex-col items-end",children:q&&Z==="free"?o.jsx("span",{className:"font-bold text-xl text-green-400",children:"FREE"}):q?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"font-bold text-xl text-white",children:["$",re.toFixed(2)]}),o.jsxs("span",{className:"text-xs text-dark-muted line-through",children:["$",H]})]}):o.jsxs("span",{className:"font-bold text-xl text-white",children:["$",H]})})]})]})]},R._id)})}),t.length===0&&o.jsx("div",{className:"text-center py-20",children:o.jsx("p",{className:"text-dark-muted",children:"No courses found"})})]})},qP=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState("");S.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:A}=await Ce.get("/users/instructors");e(A)}catch(A){console.error("Error fetching instructors:",A)}finally{n(!1)}},l=r.filter(A=>{var c,f;return A.name.toLowerCase().includes(s.toLowerCase())||((f=(c=A.instructorProfile)==null?void 0:c.headline)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))});return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Instructors"}),o.jsx("p",{className:"text-dark-muted",children:"Learn from the best experts in the industry"})]}),o.jsxs("div",{className:"relative w-full md:w-64",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-muted",size:18}),o.jsx("input",{type:"text",placeholder:"Search instructors...",value:s,onChange:A=>i(A.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-brand-primary"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(A=>{var c,f,d,u,h;return o.jsx(kt,{to:`/instructor/profile/${A._id}`,className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-brand-primary/50 transition-all group",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-dark-layer2 mb-4 overflow-hidden border-2 border-transparent group-hover:border-brand-primary transition-colors",children:A.avatar?o.jsx("img",{src:A.avatar,alt:A.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl font-bold text-dark-muted",children:A.name.charAt(0)})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-brand-primary transition-colors",children:A.name}),o.jsx("p",{className:"text-sm text-brand-secondary mb-3 line-clamp-1",children:((c=A.instructorProfile)==null?void 0:c.headline)||"Instructor"}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-dark-muted mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(is,{size:14,className:"text-yellow-500 fill-current"}),o.jsx("span",{children:((d=(f=A.instructorProfile)==null?void 0:f.rating)==null?void 0:d.toFixed(1))||"0.0"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zt,{size:14}),o.jsx("span",{children:((u=A.instructorProfile)==null?void 0:u.totalStudents)||0})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kt,{size:14}),o.jsx("span",{children:((h=A.instructorProfile)==null?void 0:h.totalCourses)||0})]})]}),o.jsx("div",{className:"w-full pt-4 border-t border-dark-layer2",children:o.jsx("span",{className:"text-sm font-medium text-brand-primary group-hover:underline",children:"View Profile"})})]})},A._id)})}),l.length===0&&o.jsxs("div",{className:"text-center py-12 text-dark-muted",children:[o.jsx(Zt,{size:48,className:"mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No instructors found matching your search."})]})]})},ZP=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState("");S.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:A}=await Ce.get("/enrollment/my-courses"),c=new Map;A.forEach(f=>{var u;const d=(u=f.courseId)==null?void 0:u.instructorId;if(d&&!c.has(d._id))c.set(d._id,{...d,enrolledCoursesCount:1});else if(d){const h=c.get(d._id);h.enrolledCoursesCount+=1}}),e(Array.from(c.values()))}catch(A){console.error("Error fetching my instructors:",A)}finally{n(!1)}},l=r.filter(A=>{var c,f;return A.name.toLowerCase().includes(s.toLowerCase())||((f=(c=A.instructorProfile)==null?void 0:c.headline)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))});return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Instructors"}),o.jsx("p",{className:"text-dark-muted",children:"Instructors from your enrolled courses"})]}),o.jsxs("div",{className:"relative w-full md:w-64",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-muted",size:18}),o.jsx("input",{type:"text",placeholder:"Search your instructors...",value:s,onChange:A=>i(A.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-brand-primary"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(A=>{var c;return o.jsx(kt,{to:`/instructor/profile/${A._id}`,className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-brand-primary/50 transition-all group",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-dark-layer2 mb-4 overflow-hidden border-2 border-transparent group-hover:border-brand-primary transition-colors",children:A.avatar?o.jsx("img",{src:A.avatar,alt:A.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl font-bold text-dark-muted",children:A.name.charAt(0)})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-brand-primary transition-colors",children:A.name}),o.jsx("p",{className:"text-sm text-brand-secondary mb-3 line-clamp-1",children:((c=A.instructorProfile)==null?void 0:c.headline)||"Instructor"}),o.jsx("div",{className:"flex items-center gap-4 text-sm text-dark-muted mb-4",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kt,{size:14}),o.jsxs("span",{children:[A.enrolledCoursesCount," Course",A.enrolledCoursesCount!==1?"s":""," Enrolled"]})]})}),o.jsxs("div",{className:"w-full pt-4 border-t border-dark-layer2 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-brand-primary group-hover:underline",children:"View Profile"}),o.jsx(zb,{size:16,className:"text-dark-muted group-hover:text-brand-primary transition-colors"})]})]})},A._id)})}),l.length===0&&o.jsxs("div",{className:"text-center py-12 text-dark-muted",children:[o.jsx(Zt,{size:48,className:"mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"You haven't enrolled in any courses with instructors yet."}),o.jsx(kt,{to:"/browse",className:"text-brand-primary hover:underline mt-2 inline-block",children:"Browse Courses"})]})]})},XP=()=>{const[r,e]=S.useState(null),[t,n]=S.useState(!0),[s,i]=S.useState(!1),[a,l]=S.useState(null),[A,c]=S.useState(null),[f,d]=S.useState({name:"",email:"",bio:"",twitter:"",linkedin:"",github:"",website:""});S.useEffect(()=>{u()},[]);const u=async()=>{var w,v,C,N;try{const B=JSON.parse(localStorage.getItem("user")).id,{data:j}=await Ce.get(`/users/profile/${B}`);e(j),d({name:j.name,email:j.email,bio:j.bio||"",twitter:((w=j.socialLinks)==null?void 0:w.twitter)||"",linkedin:((v=j.socialLinks)==null?void 0:v.linkedin)||"",github:((C=j.socialLinks)==null?void 0:C.github)||"",website:((N=j.socialLinks)==null?void 0:N.website)||""}),j.avatar&&c(j.avatar)}catch(B){console.error("Error fetching profile",B)}finally{n(!1)}},h=w=>{const v=w.target.files[0];v&&(l(v),c(URL.createObjectURL(v)))},g=async w=>{w.preventDefault();try{const v=r._id;if(a){const C=new FormData;C.append("photo",a),await Ce.post(`/users/profile/${v}/photo`,C,{headers:{"Content-Type":"multipart/form-data"}})}await Ce.put(`/users/profile/${v}`,{...f,socialLinks:{twitter:f.twitter,linkedin:f.linkedin,github:f.github,website:f.website}}),i(!1),l(null),u(),alert("Profile updated successfully")}catch(v){console.error("Error updating profile:",v),alert("Failed to update profile")}};if(t)return o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading profile..."});const m=r.purchasedCourses.length,y=r.watchHistory.filter(w=>w.completed).length,x=Math.round(r.watchHistory.reduce((w,v)=>w+v.progress,0)/60);return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Profile"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2 flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full text-blue-500",children:o.jsx(Kt,{size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Enrolled Courses"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:m})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2 flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-500/20 rounded-full text-green-500",children:o.jsx(ji,{size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Videos Completed"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:y})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2 flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full text-purple-500",children:o.jsx(jn,{size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Minutes Watched"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[x,"m"]})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-lg border border-dark-layer2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(ji,{size:20,className:"text-brand-primary"})," Account Details"]}),o.jsx("button",{onClick:()=>i(!s),className:"text-brand-primary hover:text-brand-hover text-sm font-medium",children:s?"Cancel":"Edit Profile"})]}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center overflow-hidden",children:A?o.jsx("img",{src:A,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-white font-bold text-3xl",children:r.name.charAt(0).toUpperCase()})}),s&&o.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-brand-primary rounded-full cursor-pointer hover:bg-brand-hover transition-colors",children:[o.jsx(_R,{size:16,className:"text-white"}),o.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-bold text-lg",children:r.name}),o.jsx("p",{className:"text-dark-muted text-sm",children:r.email}),o.jsx("p",{className:"text-dark-muted text-sm capitalize",children:r.role})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Full Name"}),o.jsx("input",{type:"text",value:f.name,onChange:w=>d({...f,name:w.target.value}),disabled:!s,className:"w-full bg-dark-layer2 border border-dark-layer2 p-2 rounded text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Email"}),o.jsx("input",{type:"email",value:f.email,disabled:!0,className:"w-full bg-dark-layer2 border border-dark-layer2 p-2 rounded text-white opacity-50"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Bio"}),o.jsx("textarea",{value:f.bio,onChange:w=>d({...f,bio:w.target.value}),disabled:!s,rows:3,placeholder:"Tell us about yourself...",className:"w-full bg-dark-layer2 border border-dark-layer2 p-3 rounded text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Social Media Links"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"url",value:f.twitter,onChange:w=>d({...f,twitter:w.target.value}),disabled:!s,placeholder:"Twitter URL",className:"w-full bg-dark-layer2 border border-dark-layer2 p-2 rounded text-white disabled:opacity-50"}),o.jsx("input",{type:"url",value:f.linkedin,onChange:w=>d({...f,linkedin:w.target.value}),disabled:!s,placeholder:"LinkedIn URL",className:"w-full bg-dark-layer2 border border-dark-layer2 p-2 rounded text-white disabled:opacity-50"}),o.jsx("input",{type:"url",value:f.github,onChange:w=>d({...f,github:w.target.value}),disabled:!s,placeholder:"GitHub URL",className:"w-full bg-dark-layer2 border border-dark-layer2 p-2 rounded text-white disabled:opacity-50"}),o.jsx("input",{type:"url",value:f.website,onChange:w=>d({...f,website:w.target.value}),disabled:!s,placeholder:"Website URL",className:"w-full bg-dark-layer2 border border-dark-layer2 p-2 rounded text-white disabled:opacity-50"})]})]}),s&&o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",className:"bg-brand-primary hover:bg-brand-hover text-white px-6 py-2 rounded flex items-center gap-2 transition-colors",children:[o.jsx(Ip,{size:18})," Save Changes"]})})]})]})]})},e8=()=>{var g;const{instructorId:r}=dh(),[e,t]=S.useState(null),[n,s]=S.useState([]),[i,a]=S.useState(!0),[l,A]=S.useState("courses"),[c,f]=S.useState(!1);S.useEffect(()=>{const m=localStorage.getItem("user");if(m){const y=JSON.parse(m);(y.id===r||y._id===r)&&f(!0)}d()},[r]);const d=async()=>{try{const{data:m}=await Ce.get(`/users/profile/${r}`);t(m);const{data:y}=await Ce.get(`/courses?instructorId=${r}`),x=localStorage.getItem("user"),w=x?JSON.parse(x):null,v=w&&(w.id===r||w._id===r);s(v?y:y.filter(C=>C.isPublished&&C.approvalStatus==="approved"))}catch(m){console.error("Error fetching instructor:",m)}finally{a(!1)}};if(i)return o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading..."});if(!e)return o.jsx("div",{className:"text-center mt-10 text-white",children:"Instructor not found"});const u=n.reduce((m,y)=>m+(y.enrollmentCount||0),0),h=n.length>0?n.reduce((m,y)=>m+(y.rating||0),0)/n.length:0;return o.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-12",children:[o.jsxs("div",{className:"bg-dark-layer1 rounded-2xl border border-dark-layer2 overflow-hidden shadow-2xl",children:[o.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 relative",children:o.jsx("div",{className:"absolute inset-0 bg-black/20"})}),o.jsxs("div",{className:"px-8 pb-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-end gap-6 -mt-20 relative z-10",children:[o.jsx("div",{className:"w-40 h-40 rounded-full bg-dark-layer1 p-1",children:o.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center overflow-hidden border-4 border-dark-layer1",children:e.avatar?o.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-white font-bold text-5xl",children:e.name.charAt(0).toUpperCase()})})}),o.jsxs("div",{className:"flex-1 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h1",{className:"text-4xl font-bold text-white",children:e.name}),e.isInstructorApproved&&o.jsx(jo,{size:24,className:"text-blue-400 fill-blue-400/20"})]}),((g=e.instructorProfile)==null?void 0:g.headline)&&o.jsx("p",{className:"text-xl text-brand-primary mt-1 font-medium",children:e.instructorProfile.headline}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-dark-muted text-sm",children:[e.location&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Vk,{size:14})," ",e.location]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(jn,{size:14})," Joined ",new Date(e.createdAt).toLocaleDateString()]})]})]}),e.socialLinks&&o.jsxs("div",{className:"flex gap-3 mb-4",children:[e.socialLinks.website&&o.jsx("a",{href:e.socialLinks.website,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-dark-layer2 rounded-lg text-white hover:bg-brand-primary transition-colors",children:o.jsx(yf,{size:20})}),e.socialLinks.twitter&&o.jsx("a",{href:e.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-dark-layer2 rounded-lg text-white hover:bg-brand-primary transition-colors",children:o.jsx(Zk,{size:20})}),e.socialLinks.linkedin&&o.jsx("a",{href:e.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-dark-layer2 rounded-lg text-white hover:bg-brand-primary transition-colors",children:o.jsx(Kk,{size:20})}),e.socialLinks.github&&o.jsx("a",{href:e.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-dark-layer2 rounded-lg text-white hover:bg-brand-primary transition-colors",children:o.jsx(Ok,{size:20})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8 pt-8 border-t border-dark-layer2",children:[o.jsxs("div",{className:"bg-dark-layer2/50 rounded-xl p-4 text-center hover:bg-dark-layer2 transition-colors",children:[o.jsx("p",{className:"text-3xl font-bold text-white",children:n.length}),o.jsx("p",{className:"text-sm text-dark-muted font-medium uppercase tracking-wider mt-1",children:"Courses"})]}),o.jsxs("div",{className:"bg-dark-layer2/50 rounded-xl p-4 text-center hover:bg-dark-layer2 transition-colors",children:[o.jsx("p",{className:"text-3xl font-bold text-white",children:u}),o.jsx("p",{className:"text-sm text-dark-muted font-medium uppercase tracking-wider mt-1",children:"Students"})]}),o.jsxs("div",{className:"bg-dark-layer2/50 rounded-xl p-4 text-center hover:bg-dark-layer2 transition-colors",children:[o.jsxs("p",{className:"text-3xl font-bold text-white flex items-center justify-center gap-2",children:[h.toFixed(1)," ",o.jsx(is,{size:20,className:"text-yellow-400 fill-yellow-400"})]}),o.jsx("p",{className:"text-sm text-dark-muted font-medium uppercase tracking-wider mt-1",children:"Avg Rating"})]}),o.jsxs("div",{className:"bg-dark-layer2/50 rounded-xl p-4 text-center hover:bg-dark-layer2 transition-colors",children:[o.jsx("p",{className:"text-3xl font-bold text-white",children:n.reduce((m,y)=>{var x;return m+(((x=y.videos)==null?void 0:x.length)||0)},0)}),o.jsx("p",{className:"text-sm text-dark-muted font-medium uppercase tracking-wider mt-1",children:"Total Lessons"})]})]})]})]}),o.jsxs("div",{className:"flex gap-8 border-b border-dark-layer2 px-4",children:[o.jsxs("button",{onClick:()=>A("courses"),className:`pb-4 text-lg font-medium transition-colors relative ${l==="courses"?"text-brand-primary":"text-dark-muted hover:text-white"}`,children:["Courses",l==="courses"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-brand-primary rounded-t-full"})]}),o.jsxs("button",{onClick:()=>A("about"),className:`pb-4 text-lg font-medium transition-colors relative ${l==="about"?"text-brand-primary":"text-dark-muted hover:text-white"}`,children:["About",l==="about"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-brand-primary rounded-t-full"})]})]}),o.jsxs("div",{className:"min-h-[300px]",children:[l==="courses"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:c?"Your Courses":`Courses by ${e.name}`}),c&&o.jsx(kt,{to:"/instructor/upload",className:"bg-brand-primary text-white px-4 py-2 rounded-lg hover:bg-brand-hover transition-colors",children:"Create New Course"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>o.jsxs(kt,{to:`/course/${m._id}`,className:"bg-dark-layer1 border border-dark-layer2 rounded-xl overflow-hidden hover:border-brand-primary transition-all group flex flex-col h-full",children:[o.jsxs("div",{className:"aspect-video bg-dark-layer2 relative",children:[o.jsx("img",{src:m.thumbnail,alt:m.title,className:"w-full h-full object-cover"}),(!m.isPublished||m.approvalStatus!=="approved")&&o.jsx("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded border border-white/20",children:m.isPublished?m.approvalStatus:"Draft"})]}),o.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:"bg-brand-primary/10 text-brand-primary text-xs px-2 py-1 rounded font-bold uppercase",children:m.category}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-sm",children:[o.jsx(is,{size:14,fill:"currentColor"}),o.jsx("span",{children:m.rating||4.5})]})]}),o.jsx("h3",{className:"font-bold text-white mb-2 line-clamp-2",children:m.title}),o.jsxs("div",{className:"mt-auto pt-4 flex justify-between items-center border-t border-dark-layer2",children:[o.jsxs("span",{className:"text-sm text-dark-muted",children:[m.enrollmentCount||0," students"]}),o.jsxs("span",{className:"font-bold text-xl text-white",children:["$",m.price]})]})]})]},m._id))}),n.length===0&&o.jsxs("div",{className:"text-center text-dark-muted py-20 bg-dark-layer1 rounded-xl border border-dark-layer2",children:[o.jsx(Kt,{size:64,className:"mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-xl font-medium",children:"No courses found"}),c&&o.jsx("p",{className:"mt-2",children:"Start creating your first course!"})]})]}),l==="about"&&o.jsxs("div",{className:"bg-dark-layer1 rounded-xl border border-dark-layer2 p-8",children:[o.jsxs("h3",{className:"text-2xl font-bold text-white mb-6",children:["About ",e.name]}),o.jsx("div",{className:"prose prose-invert max-w-none",children:o.jsx("p",{className:"text-dark-muted text-lg leading-relaxed whitespace-pre-wrap",children:e.bio||"No biography available."})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 pt-8 border-t border-dark-layer2",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[o.jsx(ps,{className:"text-brand-primary"})," Credentials"]}),o.jsxs("ul",{className:"space-y-2 text-dark-muted",children:[o.jsx("li",{children:"Verified Instructor"}),o.jsxs("li",{children:[n.length," Published Courses"]}),o.jsxs("li",{children:[u," Students Taught"]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[o.jsx(jo,{className:"text-brand-primary"})," Expertise"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(n.map(m=>m.category))].map(m=>o.jsx("span",{className:"px-3 py-1 bg-dark-layer2 rounded-full text-sm text-white",children:m},m))})]})]})]})]})]})},t8=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const i=JSON.parse(localStorage.getItem("user")).id,{data:a}=await Ce.get("/enrollment/my-courses");e(a.map(l=>({...l.courseId,progress:l.progress}))||[])}catch(i){console.error("Error fetching courses",i)}finally{n(!1)}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading your courses..."}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[o.jsx(Kt,{className:"text-brand-primary"})," My Learning"]}),r.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 rounded-lg border border-dark-layer2",children:[o.jsx("p",{className:"text-dark-muted text-lg mb-4",children:"You haven't enrolled in any courses yet."}),o.jsx(kt,{to:"/",className:"bg-brand-primary text-white px-6 py-2 rounded hover:bg-brand-hover transition-colors",children:"Browse Courses"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(i=>o.jsxs(kt,{to:`/course/${i._id}`,className:"bg-dark-layer1 border border-dark-layer2 rounded-lg overflow-hidden hover:border-brand-primary transition-all group",children:[o.jsxs("div",{className:"aspect-video bg-dark-layer2 relative",children:[o.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(au,{size:48,className:"text-brand-primary"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold line-clamp-1 text-white mb-2",children:i.title}),o.jsx("div",{className:"w-full bg-dark-layer2 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-brand-primary h-full",style:{width:`${i.progress||0}%`}})}),o.jsxs("p",{className:"text-xs text-dark-muted mt-2",children:[Math.round(i.progress||0),"% Completed"]})]})]},i._id))})]})},r8=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const a=JSON.parse(localStorage.getItem("user")).id,{data:l}=await Ce.get(`/wishlist/${a}`);e(l)}catch(a){console.error("Error fetching wishlist:",a)}finally{n(!1)}},i=async a=>{try{const l=JSON.parse(localStorage.getItem("user")).id;await Ce.post("/wishlist/remove",{userId:l,courseId:a}),e(r.filter(A=>A._id!==a))}catch{alert("Failed to remove from wishlist")}};return t?o.jsx("div",{className:"text-white text-center",children:"Loading wishlist..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Dl,{size:32,className:"text-brand-primary"}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Wishlist"})]}),r.length===0?o.jsxs("div",{className:"bg-dark-layer1 p-12 rounded-lg border border-dark-layer2 text-center",children:[o.jsx(Dl,{size:48,className:"text-dark-muted mx-auto mb-4"}),o.jsx("p",{className:"text-dark-muted text-lg",children:"Your wishlist is empty"}),o.jsx(kt,{to:"/",className:"text-brand-primary hover:underline mt-2 inline-block",children:"Browse courses"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(a=>o.jsxs("div",{className:"bg-dark-layer1 rounded-lg overflow-hidden border border-dark-layer2 hover:border-brand-primary/50 transition-all group",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:a.thumbnail,alt:a.title,className:"w-full h-48 object-cover"}),o.jsx("button",{onClick:()=>i(a._id),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remove from wishlist",children:o.jsx(os,{size:16})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-brand-primary transition-colors",children:a.title}),o.jsx("p",{className:"text-dark-muted text-sm mb-3 line-clamp-2",children:a.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-brand-primary font-bold text-xl flex items-center gap-1",children:[o.jsx(Cn,{size:20}),a.price]}),o.jsx(kt,{to:`/course/${a._id}`,className:"bg-brand-primary hover:bg-brand-hover text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"View Course"})]})]})]},a._id))})]})},n8=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const i=JSON.parse(localStorage.getItem("user")).id,{data:a}=await Ce.get(`/certificates/user/${i}`);e(a)}catch(i){console.error("Error fetching certificates:",i)}finally{n(!1)}};return t?o.jsx("div",{className:"text-white text-center",children:"Loading certificates..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ps,{size:32,className:"text-brand-primary"}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Certificates"})]}),r.length===0?o.jsxs("div",{className:"bg-dark-layer1 p-12 rounded-lg border border-dark-layer2 text-center",children:[o.jsx(ps,{size:48,className:"text-dark-muted mx-auto mb-4"}),o.jsx("p",{className:"text-dark-muted text-lg",children:"You haven't earned any certificates yet"}),o.jsx("p",{className:"text-dark-muted text-sm mt-2",children:"Complete courses to earn certificates!"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(i=>{var a;return o.jsxs("div",{className:"bg-gradient-to-br from-brand-primary/10 to-purple-600/10 border-2 border-brand-primary/30 rounded-lg p-6 hover:border-brand-primary transition-all",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ps,{size:40,className:"text-brand-primary"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Certificate of Completion"}),o.jsx("p",{className:"text-sm text-dark-muted",children:new Date(i.issueDate).toLocaleDateString()})]})]}),o.jsx(jo,{size:24,className:"text-green-500"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-2xl font-bold text-white mb-2",children:(a=i.courseId)==null?void 0:a.title}),o.jsxs("p",{className:"text-brand-primary font-mono text-sm",children:["Certificate ID: ",i.certificateCode]})]}),o.jsxs("button",{className:"w-full bg-brand-primary hover:bg-brand-hover text-white py-2 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors",children:[o.jsx(xf,{size:18}),"Download Certificate"]})]},i._id)})})]})},s8=()=>{const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState("all"),a=ii();S.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:c}=await Ce.get("/courses");e(c);const f=[...new Set(c.map(d=>d.category))];n(f)}catch(c){console.error("Error fetching courses:",c)}},A=s==="all"?r:r.filter(c=>c.category===s);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Dg,{size:32,className:"text-brand-primary"}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Browse by Category"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="all"?"bg-brand-primary text-white":"bg-dark-layer1 text-dark-text border border-dark-layer2 hover:border-brand-primary/50"}`,children:"All Courses"}),t.map(c=>o.jsx("button",{onClick:()=>i(c),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===c?"bg-brand-primary text-white":"bg-dark-layer1 text-dark-text border border-dark-layer2 hover:border-brand-primary/50"}`,children:c},c))]}),A.length===0?o.jsxs("div",{className:"bg-dark-layer1 p-12 rounded-lg border border-dark-layer2 text-center",children:[o.jsx(Kt,{size:48,className:"text-dark-muted mx-auto mb-4"}),o.jsx("p",{className:"text-dark-muted text-lg",children:"No courses found in this category"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(c=>{var f;return o.jsxs("div",{onClick:()=>a(`/course/${c._id}`),className:"bg-dark-layer1 rounded-lg overflow-hidden border border-dark-layer2 hover:border-brand-primary/50 transition-all cursor-pointer group",children:[o.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-4",children:[o.jsx("span",{className:"inline-block bg-brand-primary/20 text-brand-primary text-xs px-2 py-1 rounded mb-2",children:c.category}),o.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-brand-primary transition-colors",children:c.title}),o.jsx("p",{className:"text-dark-muted text-sm mb-3 line-clamp-2",children:c.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-brand-primary font-bold text-xl",children:["$",c.price]}),o.jsxs("span",{className:"text-dark-muted text-sm",children:[((f=c.videos)==null?void 0:f.length)||0," videos"]})]})]})]},c._id)})})]})},He=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},i8=Number.isSafeInteger||function(r){return typeof r=="number"&&Math.abs(r)<=a8},a8=Number.MAX_SAFE_INTEGER||9007199254740991;let at=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),xe=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",r.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",r.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.ASSET_LIST_LOAD_ERROR="assetListLoadError",r.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",r.ASSET_LIST_PARSING_ERROR="assetListParsingError",r.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.ATTACH_MEDIA_ERROR="attachMediaError",r.UNKNOWN="unknown",r}({}),F=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.MEDIA_ENDED="hlsMediaEnded",r.STALL_RESOLVED="hlsStallResolved",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFERED_TO_END="hlsBufferedToEnd",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",r.ASSET_LIST_LOADING="hlsAssetListLoading",r.ASSET_LIST_LOADED="hlsAssetListLoaded",r.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",r.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",r.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",r.INTERSTITIAL_STARTED="hlsInterstitialStarted",r.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",r.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",r.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",r.INTERSTITIAL_ENDED="hlsInterstitialEnded",r.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",r.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",r.EVENT_CUE_ENTER="hlsEventCueEnter",r}({});var Pt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Ye={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class dc{constructor(e,t=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}sample(e,t){const n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class o8{constructor(e,t,n,s=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new dc(e),this.fast_=new dc(t),this.defaultTTFB_=s,this.ttfb_=new dc(e)}update(e,t){const{slow_:n,fast_:s,ttfb_:i}=this;n.halfLife!==e&&(this.slow_=new dc(e,n.getEstimate(),n.getTotalWeight())),s.halfLife!==t&&(this.fast_=new dc(t,s.getEstimate(),s.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new dc(e,i.getEstimate(),i.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const n=8*t,s=e/1e3,i=n/s;this.fast_.sample(s,i),this.slow_.sample(s,i)}sampleTTFB(e){const t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function l8(r,e,t){return(e=c8(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cr(){return cr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cr.apply(null,arguments)}function wL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function ir(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(t),!0).forEach(function(n){l8(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function A8(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function c8(r){var e=A8(r,"string");return typeof e=="symbol"?e:e+""}let Di=class{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=ll,this.debug=t.debug.bind(null,n),this.log=t.log.bind(null,n),this.warn=t.warn.bind(null,n),this.info=t.info.bind(null,n),this.error=t.error.bind(null,n)}};const ll=function(){},f8={trace:ll,debug:ll,log:ll,warn:ll,info:ll,error:ll};function Py(){return cr({},f8)}function d8(r,e){const t=self.console[r];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${r}] >`):ll}function bL(r,e,t){return e[r]?e[r].bind(e):d8(r,t)}const Qy=Py();function u8(r,e,t){const n=Py();if(typeof console=="object"&&r===!0||typeof r=="object"){const s=["debug","log","info","warn","error"];s.forEach(i=>{n[i]=bL(i,r,t)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return Py()}s.forEach(i=>{Qy[i]=bL(i,r)})}else cr(Qy,n);return n}const or=Qy;function Ul(r=!0){return typeof self>"u"?void 0:(r||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function h8(r){return typeof self<"u"&&r===self.ManagedMediaSource}function S5(r,e){const t=Object.keys(r),n=Object.keys(e),s=t.length,i=n.length;return!s||!i||s===i&&!t.some(a=>n.indexOf(a)===-1)}function ti(r,e=!1){if(typeof TextDecoder<"u"){const c=new TextDecoder("utf-8").decode(r);if(e){const f=c.indexOf("\0");return f!==-1?c.substring(0,f):c}return c.replace(/\0/g,"")}const t=r.length;let n,s,i,a="",l=0;for(;l<t;){if(n=r[l++],n===0&&e)return a;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:s=r[l++],a+=String.fromCharCode((n&31)<<6|s&63);break;case 14:s=r[l++],i=r[l++],a+=String.fromCharCode((n&15)<<12|(s&63)<<6|(i&63)<<0);break}}return a}function On(r){let e="";for(let t=0;t<r.length;t++){let n=r[t].toString(16);n.length<2&&(n="0"+n),e+=n}return e}function E5(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function g8(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vx={exports:{}},vL;function m8(){return vL||(vL=1,function(r,e){(function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(A,c,f){if(f=f||{},A=A.trim(),c=c.trim(),!c){if(!f.alwaysNormalize)return A;var d=l.parseURL(A);if(!d)throw new Error("Error trying to parse base URL.");return d.path=l.normalizePath(d.path),l.buildURLFromParts(d)}var u=l.parseURL(c);if(!u)throw new Error("Error trying to parse relative URL.");if(u.scheme)return f.alwaysNormalize?(u.path=l.normalizePath(u.path),l.buildURLFromParts(u)):c;var h=l.parseURL(A);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var g=s.exec(h.path);h.netLoc=g[1],h.path=g[2]}h.netLoc&&!h.path&&(h.path="/");var m={scheme:h.scheme,netLoc:u.netLoc,path:null,params:u.params,query:u.query,fragment:u.fragment};if(!u.netLoc&&(m.netLoc=h.netLoc,u.path[0]!=="/"))if(!u.path)m.path=h.path,u.params||(m.params=h.params,u.query||(m.query=h.query));else{var y=h.path,x=y.substring(0,y.lastIndexOf("/")+1)+u.path;m.path=l.normalizePath(x)}return m.path===null&&(m.path=f.alwaysNormalize?l.normalizePath(u.path):u.path),l.buildURLFromParts(m)},parseURL:function(A){var c=n.exec(A);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(A){for(A=A.split("").reverse().join("").replace(i,"");A.length!==(A=A.replace(a,"")).length;);return A.split("").reverse().join("")},buildURLFromParts:function(A){return A.scheme+A.netLoc+A.path+A.params+A.query+A.fragment}};r.exports=l})()}(vx)),vx.exports}var Xb=m8();class ev{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var hr={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class N5{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,x8(this,"stats")}setByteRange(e,t){const n=e.split("@",2);let s;n.length===1?s=(t==null?void 0:t.byteRangeEndOffset)||0:s=parseInt(n[1]),this._byteRange=[s,parseInt(n[0])+s]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[hr.AUDIO]:null,[hr.VIDEO]:null,[hr.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new ev),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Xb.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[hr.AUDIO]=null,e[hr.VIDEO]=null,e[hr.AUDIOVIDEO]=null}}function en(r){return r.sn!=="initSegment"}class Cx extends N5{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],t=this.byteRange[1];if(He(e)&&He(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:t}=this;if(!t||t.NONE)return null;if(t.identity)this._decryptdata||(this._decryptdata=t.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const n=Object.keys(t);if(n.length===1){const s=this._decryptdata=t[n[0]]||null;s&&(this._decryptdata=s.getDecryptData(this.sn,t))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=He(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var t;const n=Object.keys(this.levelkeys),s=n.length;if(s>1||s===1&&(t=this.levelkeys[n[0]])!=null&&t.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!He(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return en(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const t=this.levelkeys;if(t){var n;const s=t[e];s&&!((n=this._decryptdata)!=null&&n.keyId)&&(this._decryptdata=s.getDecryptData(this.sn,t))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,n,s,i,a=!1){const{elementaryStreams:l}=this,A=l[e];if(!A){l[e]={startPTS:t,endPTS:n,startDTS:s,endDTS:i,partial:a};return}A.startPTS=Math.min(A.startPTS,t),A.endPTS=Math.max(A.endPTS,n),A.startDTS=Math.min(A.startDTS,s),A.endDTS=Math.max(A.endDTS,i)}}class p8 extends N5{constructor(e,t,n,s,i){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=s;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function B5(r,e){const t=Object.getPrototypeOf(r);if(t){const n=Object.getOwnPropertyDescriptor(t,e);return n||B5(t,e)}}function x8(r,e){const t=B5(r,e);t&&(t.enumerable=!0,Object.defineProperty(r,e,t))}const CL=Math.pow(2,32)-1,y8=[].push,k5={video:1,audio:2,id3:3,text:4};function xn(r){return String.fromCharCode.apply(null,r)}function j5(r,e){const t=r[e]<<8|r[e+1];return t<0?65536+t:t}function yt(r,e){const t=I5(r,e);return t<0?4294967296+t:t}function LL(r,e){let t=yt(r,e);return t*=Math.pow(2,32),t+=yt(r,e+4),t}function I5(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}function w8(r){const e=r.byteLength;for(let t=0;t<e;){const n=yt(r,t);if(n>8&&r[t+4]===109&&r[t+5]===111&&r[t+6]===111&&r[t+7]===102)return!0;t=n>1?t+n:e}return!1}function Rt(r,e){const t=[];if(!e.length)return t;const n=r.byteLength;for(let s=0;s<n;){const i=yt(r,s),a=xn(r.subarray(s+4,s+8)),l=i>1?s+i:n;if(a===e[0])if(e.length===1)t.push(r.subarray(s+8,l));else{const A=Rt(r.subarray(s+8,l),e.slice(1));A.length&&y8.apply(t,A)}s=l}return t}function b8(r){const e=[],t=r[0];let n=8;const s=yt(r,n);n+=4;let i=0,a=0;t===0?(i=yt(r,n),a=yt(r,n+4),n+=8):(i=LL(r,n),a=LL(r,n+8),n+=16),n+=2;let l=r.length+a;const A=j5(r,n);n+=2;for(let c=0;c<A;c++){let f=n;const d=yt(r,f);f+=4;const u=d&2147483647;if((d&2147483648)>>>31===1)return or.warn("SIDX has hierarchical references (not supported)"),null;const g=yt(r,f);f+=4,e.push({referenceSize:u,subsegmentDuration:g,info:{duration:g/s,start:l,end:l+u-1}}),l+=u,f+=4,n=f}return{earliestPresentationTime:i,timescale:s,version:t,referencesCount:A,references:e}}function T5(r){const e=[],t=Rt(r,["moov","trak"]);for(let s=0;s<t.length;s++){const i=t[s],a=Rt(i,["tkhd"])[0];if(a){let l=a[0];const A=yt(a,l===0?12:20),c=Rt(i,["mdia","mdhd"])[0];if(c){l=c[0];const f=yt(c,l===0?12:20),d=Rt(i,["mdia","hdlr"])[0];if(d){const u=xn(d.subarray(8,12)),h={soun:hr.AUDIO,vide:hr.VIDEO}[u],g=Rt(i,["mdia","minf","stbl","stsd"])[0],m=v8(g);h?(e[A]={timescale:f,type:h,stsd:m},e[h]=ir({timescale:f,id:A},m)):e[A]={timescale:f,type:u,stsd:m}}}}}return Rt(r,["moov","mvex","trex"]).forEach(s=>{const i=yt(s,4),a=e[i];a&&(a.default={duration:yt(s,12),flags:yt(s,20)})}),e}function v8(r){const e=r.subarray(8),t=e.subarray(86),n=xn(e.subarray(4,8));let s=n,i;const a=n==="enca"||n==="encv";if(a){const c=Rt(e,[n])[0].subarray(n==="enca"?28:78);Rt(c,["sinf"]).forEach(d=>{const u=Rt(d,["schm"])[0];if(u){const h=xn(u.subarray(4,8));if(h==="cbcs"||h==="cenc"){const g=Rt(d,["frma"])[0];g&&(s=xn(g))}}})}const l=s;switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{const A=Rt(t,["avcC"])[0];A&&A.length>3&&(s+="."+E0(A[1])+E0(A[2])+E0(A[3]),i=S0(l==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const A=Rt(e,[n])[0],c=Rt(A.subarray(28),["esds"])[0];if(c&&c.length>7){let f=4;if(c[f++]!==3)break;f=Lx(c,f),f+=2;const d=c[f++];if(d&128&&(f+=2),d&64&&(f+=c[f++]),c[f++]!==4)break;f=Lx(c,f);const u=c[f++];if(u===64)s+="."+E0(u);else break;if(f+=12,c[f++]!==5)break;f=Lx(c,f);const h=c[f++];let g=(h&248)>>3;g===31&&(g+=1+((h&7)<<3)+((c[f]&224)>>5)),s+="."+g}break}case"hvc1":case"hev1":{const A=Rt(t,["hvcC"])[0];if(A&&A.length>12){const c=A[1],f=["","A","B","C"][c>>6],d=c&31,u=yt(A,2),h=(c&32)>>5?"H":"L",g=A[12],m=A.subarray(6,12);s+="."+f+d,s+="."+C8(u).toString(16).toUpperCase(),s+="."+h+g;let y="";for(let x=m.length;x--;){const w=m[x];(w||y)&&(y="."+w.toString(16).toUpperCase()+y)}s+=y}i=S0(l=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{s=S0(s,t)||s;break}case"vp09":{const A=Rt(t,["vpcC"])[0];if(A&&A.length>6){const c=A[4],f=A[5],d=A[6]>>4&15;s+="."+Na(c)+"."+Na(f)+"."+Na(d)}break}case"av01":{const A=Rt(t,["av1C"])[0];if(A&&A.length>2){const c=A[1]>>>5,f=A[1]&31,d=A[2]>>>7?"H":"M",u=(A[2]&64)>>6,h=(A[2]&32)>>5,g=c===2&&u?h?12:10:u?10:8,m=(A[2]&16)>>4,y=(A[2]&8)>>3,x=(A[2]&4)>>2,w=A[2]&3;s+="."+c+"."+Na(f)+d+"."+Na(g)+"."+m+"."+y+x+w+"."+Na(1)+"."+Na(1)+"."+Na(1)+"."+0,i=S0("dav1",t)}break}}return{codec:s,encrypted:a,supplemental:i}}function S0(r,e){const t=Rt(e,["dvvC"]),n=t.length?t[0]:Rt(e,["dvcC"])[0];if(n){const s=n[2]>>1&127,i=n[2]<<5&32|n[3]>>3&31;return r+"."+Na(s)+"."+Na(i)}}function C8(r){let e=0;for(let t=0;t<32;t++)e|=(r>>t&1)<<31-t;return e>>>0}function Lx(r,e){const t=e+5;for(;r[e++]&128&&e<t;);return e}function E0(r){return("0"+r.toString(16).toUpperCase()).slice(-2)}function Na(r){return(r<10?"0":"")+r}function L8(r,e){if(!r||!e)return;const t=e.keyId;t&&e.isCommonEncryption&&M5(r,(n,s)=>{const i=n.subarray(8,24);i.some(a=>a!==0)||(or.log(`[eme] Patching keyId in 'enc${s?"a":"v"}>sinf>>tenc' box: ${On(i)} -> ${On(t)}`),n.set(t,8))})}function S8(r){const e=[];return M5(r,t=>e.push(t.subarray(8,24))),e}function M5(r,e){Rt(r,["moov","trak"]).forEach(n=>{const s=Rt(n,["mdia","minf","stbl","stsd"])[0];if(!s)return;const i=s.subarray(8);let a=Rt(i,["enca"]);const l=a.length>0;l||(a=Rt(i,["encv"])),a.forEach(A=>{const c=l?A.subarray(28):A.subarray(78);Rt(c,["sinf"]).forEach(d=>{const u=D5(d);u&&e(u,l)})})})}function D5(r){const e=Rt(r,["schm"])[0];if(e){const t=xn(e.subarray(4,8));if(t==="cbcs"||t==="cenc"){const n=Rt(r,["schi","tenc"])[0];if(n)return n}}}function E8(r,e,t){const n={},s=Rt(r,["moof","traf"]);for(let i=0;i<s.length;i++){const a=s[i],l=Rt(a,["tfhd"])[0],A=yt(l,4),c=e[A];if(!c)continue;n[A]||(n[A]={start:NaN,duration:0,sampleCount:0,timescale:c.timescale,type:c.type});const f=n[A],d=Rt(a,["tfdt"])[0];if(d){const v=d[0];let C=yt(d,4);v===1&&(C===CL?t.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(C*=CL+1,C+=yt(d,8))),He(C)&&(!He(f.start)||C<f.start)&&(f.start=C)}const u=c.default,h=yt(l,0)|(u==null?void 0:u.flags);let g=(u==null?void 0:u.duration)||0;h&8&&(h&2?g=yt(l,12):g=yt(l,8));const m=Rt(a,["trun"]);let y=f.start||0,x=0,w=g;for(let v=0;v<m.length;v++){const C=m[v],N=yt(C,4),B=f.sampleCount;f.sampleCount+=N;const j=C[3]&1,M=C[3]&4,I=C[2]&1,U=C[2]&2,T=C[2]&4,P=C[2]&8;let G=8,R=N;for(j&&(G+=4),M&&N&&(!(C[G+1]&1)&&f.keyFrameIndex===void 0&&(f.keyFrameIndex=B),G+=4,I?(w=yt(C,G),G+=4):w=g,U&&(G+=4),P&&(G+=4),y+=w,x+=w,R--);R--;)I?(w=yt(C,G),G+=4):w=g,U&&(G+=4),T&&(C[G+1]&1||f.keyFrameIndex===void 0&&(f.keyFrameIndex=f.sampleCount-(R+1),f.keyFrameStart=y),G+=4),P&&(G+=4),y+=w,x+=w;!x&&g&&(x+=g*N)}f.duration+=x}if(!Object.keys(n).some(i=>n[i].duration)){let i=1/0,a=0;const l=Rt(r,["sidx"]);for(let A=0;A<l.length;A++){const c=b8(l[A]);if(c!=null&&c.references){i=Math.min(i,c.earliestPresentationTime/c.timescale);const f=c.references.reduce((d,u)=>d+u.info.duration||0,0);a=Math.max(a,f+c.earliestPresentationTime/c.timescale)}}a&&He(a)&&Object.keys(n).forEach(A=>{n[A].duration||(n[A].duration=a*n[A].timescale-n[A].start)})}return n}function N8(r){const e={valid:null,remainder:null},t=Rt(r,["moof"]);if(t.length<2)return e.remainder=r,e;const n=t[t.length-1];return e.valid=r.slice(0,n.byteOffset-8),e.remainder=r.slice(n.byteOffset-8),e}function Ii(r,e){const t=new Uint8Array(r.length+e.length);return t.set(r),t.set(e,r.length),t}function SL(r,e){const t=[],n=e.samples,s=e.timescale,i=e.id;let a=!1;return Rt(n,["moof"]).map(A=>{const c=A.byteOffset-8;Rt(A,["traf"]).map(d=>{const u=Rt(d,["tfdt"]).map(h=>{const g=h[0];let m=yt(h,4);return g===1&&(m*=Math.pow(2,32),m+=yt(h,8)),m/s})[0];return u!==void 0&&(r=u),Rt(d,["tfhd"]).map(h=>{const g=yt(h,4),m=yt(h,0)&16777215,y=(m&1)!==0,x=(m&2)!==0,w=(m&8)!==0;let v=0;const C=(m&16)!==0;let N=0;const B=(m&32)!==0;let j=8;g===i&&(y&&(j+=8),x&&(j+=4),w&&(v=yt(h,j),j+=4),C&&(N=yt(h,j),j+=4),B&&(j+=4),e.type==="video"&&(a=Pp(e.codec)),Rt(d,["trun"]).map(M=>{const I=M[0],U=yt(M,0)&16777215,T=(U&1)!==0;let P=0;const G=(U&4)!==0,R=(U&256)!==0;let q=0;const Z=(U&512)!==0;let oe=0;const H=(U&1024)!==0,re=(U&2048)!==0;let ce=0;const le=yt(M,4);let D=8;T&&(P=yt(M,D),D+=4),G&&(D+=4);let K=P+c;for(let Y=0;Y<le;Y++){if(R?(q=yt(M,D),D+=4):q=v,Z?(oe=yt(M,D),D+=4):oe=N,H&&(D+=4),re&&(I===0?ce=yt(M,D):ce=I5(M,D),D+=4),e.type===hr.VIDEO){let se=0;for(;se<oe;){const J=yt(n,K);if(K+=4,B8(a,n[K])){const ie=n.subarray(K,K+J);tv(ie,a?2:1,r+ce/s,t)}K+=J,se+=J+4}}r+=q/s}}))})})}),t}function Pp(r){if(!r)return!1;const e=r.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function B8(r,e){if(r){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function tv(r,e,t,n){const s=F5(r);let i=0;i+=e;let a=0,l=0,A=0;for(;i<s.length;){a=0;do{if(i>=s.length)break;A=s[i++],a+=A}while(A===255);l=0;do{if(i>=s.length)break;A=s[i++],l+=A}while(A===255);const c=s.length-i;let f=i;if(l<c)i+=l;else if(l>c){or.error(`Malformed SEI payload. ${l} is too small, only ${c} bytes left to parse.`);break}if(a===4){if(s[f++]===181){const u=j5(s,f);if(f+=2,u===49){const h=yt(s,f);if(f+=4,h===1195456820){const g=s[f++];if(g===3){const m=s[f++],y=31&m,x=64&m,w=x?2+y*3:0,v=new Uint8Array(w);if(x){v[0]=m;for(let C=1;C<w;C++)v[C]=s[f++]}n.push({type:g,payloadType:a,pts:t,bytes:v})}}}}}else if(a===5&&l>16){const d=[];for(let g=0;g<16;g++){const m=s[f++].toString(16);d.push(m.length==1?"0"+m:m),(g===3||g===5||g===7||g===9)&&d.push("-")}const u=l-16,h=new Uint8Array(u);for(let g=0;g<u;g++)h[g]=s[f++];n.push({payloadType:a,pts:t,uuid:d.join(""),userData:ti(h),userDataBytes:h})}}}function F5(r){const e=r.byteLength,t=[];let n=1;for(;n<e-2;)r[n]===0&&r[n+1]===0&&r[n+2]===3?(t.push(n+2),n+=2):n++;if(t.length===0)return r;const s=e-t.length,i=new Uint8Array(s);let a=0;for(n=0;n<s;a++,n++)a===t[0]&&(a++,t.shift()),i[n]=r[a];return i}function k8(r){const e=r[0];let t="",n="",s=0,i=0,a=0,l=0,A=0,c=0;if(e===0){for(;xn(r.subarray(c,c+1))!=="\0";)t+=xn(r.subarray(c,c+1)),c+=1;for(t+=xn(r.subarray(c,c+1)),c+=1;xn(r.subarray(c,c+1))!=="\0";)n+=xn(r.subarray(c,c+1)),c+=1;n+=xn(r.subarray(c,c+1)),c+=1,s=yt(r,12),i=yt(r,16),l=yt(r,20),A=yt(r,24),c=28}else if(e===1){c+=4,s=yt(r,c),c+=4;const d=yt(r,c);c+=4;const u=yt(r,c);for(c+=4,a=2**32*d+u,i8(a)||(a=Number.MAX_SAFE_INTEGER,or.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),l=yt(r,c),c+=4,A=yt(r,c),c+=4;xn(r.subarray(c,c+1))!=="\0";)t+=xn(r.subarray(c,c+1)),c+=1;for(t+=xn(r.subarray(c,c+1)),c+=1;xn(r.subarray(c,c+1))!=="\0";)n+=xn(r.subarray(c,c+1)),c+=1;n+=xn(r.subarray(c,c+1)),c+=1}const f=r.subarray(c,r.byteLength);return{schemeIdUri:t,value:n,timeScale:s,presentationTime:a,presentationTimeDelta:i,eventDuration:l,id:A,payload:f}}function j8(r,...e){const t=e.length;let n=8,s=t;for(;s--;)n+=e[s].byteLength;const i=new Uint8Array(n);for(i[0]=n>>24&255,i[1]=n>>16&255,i[2]=n>>8&255,i[3]=n&255,i.set(r,4),s=0,n=8;s<t;s++)i.set(e[s],n),n+=e[s].byteLength;return i}function I8(r,e,t){if(r.byteLength!==16)throw new RangeError("Invalid system id");let n,s;n=0,s=new Uint8Array;let i;n>0?(i=new Uint8Array(4),e.length>0&&new DataView(i.buffer).setUint32(0,e.length,!1)):i=new Uint8Array;const a=new Uint8Array(4);return t.byteLength>0&&new DataView(a.buffer).setUint32(0,t.byteLength,!1),j8([112,115,115,104],new Uint8Array([n,0,0,0]),r,i,s,a,t)}function T8(r){const e=[];if(r instanceof ArrayBuffer){const t=r.byteLength;let n=0;for(;n+32<t;){const s=new DataView(r,n),i=M8(s);e.push(i),n+=i.size}}return e}function M8(r){const e=r.getUint32(0),t=r.byteOffset,n=r.byteLength;if(n<e)return{offset:t,size:n};if(r.getUint32(4)!==1886614376)return{offset:t,size:e};const i=r.getUint32(8)>>>24;if(i!==0&&i!==1)return{offset:t,size:e};const a=r.buffer,l=On(new Uint8Array(a,t+12,16));let A=null,c=null,f=0;if(i===0)f=28;else{const u=r.getUint32(28);if(!u||n<32+u*16)return{offset:t,size:e};A=[];for(let h=0;h<u;h++)A.push(new Uint8Array(a,t+32+h*16,16));f=32+u*16}if(!f)return{offset:t,size:e};const d=r.getUint32(f);return e-32<d?{offset:t,size:e}:(c=new Uint8Array(a,t+f+4,d),{version:i,systemId:l,kids:A,data:c,offset:t,size:e})}const U5=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Sf={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function rv(r,e){const t=Sf[e];return!!t&&!!t[r.slice(0,4)]}function Hu(r,e,t=!0){return!r.split(",").some(n=>!nv(n,e,t))}function nv(r,e,t=!0){var n;const s=Ul(t);return(n=s==null?void 0:s.isTypeSupported(zu(r,e)))!=null?n:!1}function zu(r,e){return`${e}/mp4;codecs=${r}`}function EL(r){if(r){const e=r.substring(0,4);return Sf.video[e]}return 2}function Fm(r){const e=U5();return r.split(",").reduce((t,n)=>{const i=e&&Pp(n)?9:Sf.video[n];return i?(i*2+t)/(t?3:2):(Sf.audio[n]+t)/(t?2:1)},0)}const Sx={};function D8(r,e=!0){if(Sx[r])return Sx[r];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[r];for(let s=0;s<t.length;s++){var n;if(nv(t[s],"audio",e))return Sx[r]=t[s],t[s];if(t[s]==="mp3"&&(n=Ul(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return r}const F8=/flac|opus|mp4a\.40\.34/i;function Um(r,e=!0){return r.replace(F8,t=>D8(t.toLowerCase(),e))}function U8(r,e){const t=[];if(r){const n=r.split(",");for(let s=0;s<n.length;s++)rv(n[s],"video")||t.push(n[s])}return e&&t.push(e),t.join(",")}function _g(r,e){if(r&&(r.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(r)!==-1)&&(NL(r,"audio")||NL(r,"video")))return r;if(e){const t=e.split(",");if(t.length>1){if(r){for(let n=t.length;n--;)if(t[n].substring(0,4)===r.substring(0,4))return t[n]}return t[0]}}return e||r}function NL(r,e){return rv(r,e)&&nv(r,e)}function R8(r){const e=r.split(",");for(let t=0;t<e.length;t++){const n=e[t].split(".");n.length>2&&n[0]==="avc1"&&(e[t]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}function _8(r){if(r.startsWith("av01.")){const e=r.split("."),t=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=t[n-4];return e.join(".")}return r}function BL(r){const e=Ul(r)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function Oy(r){return r.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const P8={supported:!0,powerEfficient:!0,smooth:!0},Q8={supported:!1,smooth:!1,powerEfficient:!1},R5={supported:!0,configurations:[],decodingInfoResults:[P8]};function _5(r,e){return{supported:!1,configurations:e,decodingInfoResults:[Q8],error:r}}function O8(r,e,t,n,s,i){const a=r.videoCodec,l=r.audioCodec?r.audioGroups:null,A=i==null?void 0:i.audioCodec,c=i==null?void 0:i.channels,f=c?parseInt(c):A?1/0:2;let d=null;if(l!=null&&l.length)try{l.length===1&&l[0]?d=e.groups[l[0]].channels:d=l.reduce((u,h)=>{if(h){const g=e.groups[h];if(!g)throw new Error(`Audio track group ${h} not found`);Object.keys(g.channels).forEach(m=>{u[m]=(u[m]||0)+g.channels[m]})}return u},{2:0})}catch{return!0}return a!==void 0&&(a.split(",").some(u=>Pp(u))||r.width>1920&&r.height>1088||r.height>1920&&r.width>1088||r.frameRate>Math.max(n,30)||r.videoRange!=="SDR"&&r.videoRange!==t||r.bitrate>Math.max(s,8e6))||!!d&&He(f)&&Object.keys(d).some(u=>parseInt(u)>f)}function P5(r,e,t,n={}){const s=r.videoCodec;if(!s&&!r.audioCodec||!t)return Promise.resolve(R5);const i=[],a=H8(r),l=a.length,A=z8(r,e,l>0),c=A.length;for(let f=l||1*c||1;f--;){const d={type:"media-source"};if(l&&(d.video=a[f%l]),c){d.audio=A[f%c];const u=d.audio.bitrate;d.video&&u&&(d.video.bitrate-=u)}i.push(d)}if(s){const f=navigator.userAgent;if(s.split(",").some(d=>Pp(d))&&U5())return Promise.resolve(_5(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${f})`),i))}return Promise.all(i.map(f=>{const d=K8(f);return n[d]||(n[d]=t.decodingInfo(f))})).then(f=>({supported:!f.some(d=>!d.supported),configurations:i,decodingInfoResults:f})).catch(f=>({supported:!1,configurations:i,decodingInfoResults:[],error:f}))}function H8(r){var e;const t=(e=r.videoCodec)==null?void 0:e.split(","),n=Q5(r),s=r.width||640,i=r.height||480,a=r.frameRate||30,l=r.videoRange.toLowerCase();return t?t.map(A=>{const c={contentType:zu(_8(A),"video"),width:s,height:i,bitrate:n,framerate:a};return l!=="sdr"&&(c.transferFunction=l),c}):[]}function z8(r,e,t){var n;const s=(n=r.audioCodec)==null?void 0:n.split(","),i=Q5(r);return s&&r.audioGroups?r.audioGroups.reduce((a,l)=>{var A;const c=l?(A=e.groups[l])==null?void 0:A.tracks:null;return c?c.reduce((f,d)=>{if(d.groupId===l){const u=parseFloat(d.channels||"");s.forEach(h=>{const g={contentType:zu(h,"audio"),bitrate:t?G8(h,i):i};u&&(g.channels=""+u),f.push(g)})}return f},a):a},[]):[]}function G8(r,e){if(e<=1)return 1;let t=128e3;return r==="ec-3"?t=768e3:r==="ac-3"&&(t=64e4),Math.min(e/2,t)}function Q5(r){return Math.ceil(Math.max(r.bitrate*.9,r.averageBitrate)/1e3)*1e3||1}function K8(r){let e="";const{audio:t,video:n}=r;if(n){const s=Oy(n.contentType);e+=`${s}_r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${Math.ceil(n.bitrate/1e5)}`}if(t){const s=Oy(t.contentType);e+=`${n?"_":""}${s}_c${t.channels}`}return e}const Hy=["NONE","TYPE-0","TYPE-1",null];function $8(r){return Hy.indexOf(r)>-1}const Rm=["SDR","PQ","HLG"];function V8(r){return!!r&&Rm.indexOf(r)>-1}var Pg={No:"",Yes:"YES",v2:"v2"};function kL(r){const{canSkipUntil:e,canSkipDateRanges:t,age:n}=r,s=n<e/2;return e&&s?t?Pg.v2:Pg.Yes:Pg.No}class jL{constructor(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Gu{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const n=(t=e.supplemental)==null?void 0:t.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return IL(this._audioGroups,e)}hasSubtitleGroup(e){return IL(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(t)===-1&&n.push(t)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(t)===-1&&n.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function IL(r,e){return!e||!r?!1:r.indexOf(e)!==-1}function Y8(){if(typeof matchMedia=="function"){const r=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(r.media!==e.media)return r.matches===!0}return!1}function W8(r,e){let t=!1,n=[];if(r&&(t=r!=="SDR",n=[r]),e){n=e.allowedVideoRanges||Rm.slice(0);const s=n.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:s&&Y8(),t||(n=["SDR"])}return{preferHDR:t,allowedVideoRanges:n}}const J8=r=>{const e=new WeakSet;return(t,n)=>{if(r&&(n=r(t,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},gr=(r,e)=>JSON.stringify(r,J8(e));function q8(r,e,t,n,s){const i=Object.keys(r),a=n==null?void 0:n.channels,l=n==null?void 0:n.audioCodec,A=s==null?void 0:s.videoCodec,c=a&&parseInt(a)===2;let f=!1,d=!1,u=1/0,h=1/0,g=1/0,m=1/0,y=0,x=[];const{preferHDR:w,allowedVideoRanges:v}=W8(e,s);for(let M=i.length;M--;){const I=r[i[M]];f||(f=I.channels[2]>0),u=Math.min(u,I.minHeight),h=Math.min(h,I.minFramerate),g=Math.min(g,I.minBitrate),v.filter(T=>I.videoRanges[T]>0).length>0&&(d=!0)}u=He(u)?u:0,h=He(h)?h:0;const C=Math.max(1080,u),N=Math.max(30,h);g=He(g)?g:t,t=Math.max(g,t),d||(e=void 0);const B=i.length>1;return{codecSet:i.reduce((M,I)=>{const U=r[I];if(I===M)return M;if(x=d?v.filter(T=>U.videoRanges[T]>0):[],B){if(U.minBitrate>t)return ba(I,`min bitrate of ${U.minBitrate} > current estimate of ${t}`),M;if(!U.hasDefaultAudio)return ba(I,"no renditions with default or auto-select sound found"),M;if(l&&I.indexOf(l.substring(0,4))%5!==0)return ba(I,`audio codec preference "${l}" not found`),M;if(a&&!c){if(!U.channels[a])return ba(I,`no renditions with ${a} channel sound found (channels options: ${Object.keys(U.channels)})`),M}else if((!l||c)&&f&&U.channels[2]===0)return ba(I,"no renditions with stereo sound found"),M;if(U.minHeight>C)return ba(I,`min resolution of ${U.minHeight} > maximum of ${C}`),M;if(U.minFramerate>N)return ba(I,`min framerate of ${U.minFramerate} > maximum of ${N}`),M;if(!x.some(T=>U.videoRanges[T]>0))return ba(I,`no variants with VIDEO-RANGE of ${gr(x)} found`),M;if(A&&I.indexOf(A.substring(0,4))%5!==0)return ba(I,`video codec preference "${A}" not found`),M;if(U.maxScore<y)return ba(I,`max score of ${U.maxScore} < selected max of ${y}`),M}return M&&(Fm(I)>=Fm(M)||U.fragmentError>r[M].fragmentError)?M:(m=U.minIndex,y=U.maxScore,I)},void 0),videoRanges:x,preferHDR:w,minFramerate:h,minBitrate:g,minIndex:m}}function ba(r,e){or.log(`[abr] start candidates with "${r}" ignored because ${e}`)}function O5(r){return r.reduce((e,t)=>{let n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);const s=t.channels||"2";return n.channels[s]=(n.channels[s]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Z8(r,e,t,n){return r.slice(t,n+1).reduce((s,i,a)=>{if(!i.codecSet)return s;const l=i.audioGroups;let A=s[i.codecSet];A||(s[i.codecSet]=A={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!l,fragmentError:0}),A.minBitrate=Math.min(A.minBitrate,i.bitrate);const c=Math.min(i.height,i.width);return A.minHeight=Math.min(A.minHeight,c),A.minFramerate=Math.min(A.minFramerate,i.frameRate),A.minIndex=Math.min(A.minIndex,a),A.maxScore=Math.max(A.maxScore,i.score),A.fragmentError+=i.fragmentError,A.videoRanges[i.videoRange]=(A.videoRanges[i.videoRange]||0)+1,l&&l.forEach(f=>{if(!f)return;const d=e.groups[f];d&&(A.hasDefaultAudio=A.hasDefaultAudio||e.hasDefaultAudio?d.hasDefault:d.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(d.channels).forEach(u=>{A.channels[u]=(A.channels[u]||0)+d.channels[u]}))}),s},{})}function TL(r){if(!r)return r;const{lang:e,assocLang:t,characteristics:n,channels:s,audioCodec:i}=r;return{lang:e,assocLang:t,characteristics:n,channels:s,audioCodec:i}}function ja(r,e,t){if("attrs"in r){const n=e.indexOf(r);if(n!==-1)return n}for(let n=0;n<e.length;n++){const s=e[n];if(BA(r,s,t))return n}return-1}function BA(r,e,t){const{groupId:n,name:s,lang:i,assocLang:a,default:l}=r,A=r.forced;return(n===void 0||e.groupId===n)&&(s===void 0||e.name===s)&&(i===void 0||X8(i,e.lang))&&(i===void 0||e.assocLang===a)&&(l===void 0||e.default===l)&&(A===void 0||e.forced===A)&&(!("characteristics"in r)||eQ(r.characteristics||"",e.characteristics))&&(t===void 0||t(r,e))}function X8(r,e="--"){return r.length===e.length?r===e:r.startsWith(e)||e.startsWith(r)}function eQ(r,e=""){const t=r.split(","),n=e.split(",");return t.length===n.length&&!t.some(s=>n.indexOf(s)===-1)}function gA(r,e){const{audioCodec:t,channels:n}=r;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function tQ(r,e,t,n,s){const i=e[n],l=e.reduce((u,h,g)=>{const m=h.uri;return(u[m]||(u[m]=[])).push(g),u},{})[i.uri];l.length>1&&(n=Math.max.apply(Math,l));const A=i.videoRange,c=i.frameRate,f=i.codecSet.substring(0,4),d=ML(e,n,u=>{if(u.videoRange!==A||u.frameRate!==c||u.codecSet.substring(0,4)!==f)return!1;const h=u.audioGroups,g=t.filter(m=>!h||h.indexOf(m.groupId)!==-1);return ja(r,g,s)>-1});return d>-1?d:ML(e,n,u=>{const h=u.audioGroups,g=t.filter(m=>!h||h.indexOf(m.groupId)!==-1);return ja(r,g,s)>-1})}function ML(r,e,t){for(let n=e;n>-1;n--)if(t(r[n]))return n;for(let n=e+1;n<r.length;n++)if(t(r[n]))return n;return-1}function _m(r,e){var t;return!!r&&r!==((t=e.loadLevelObj)==null?void 0:t.uri)}class rQ extends Di{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var n;const{fragCurrent:s,partCurrent:i,hls:a}=this,{autoLevelEnabled:l,media:A}=a;if(!s||!A)return;const c=performance.now(),f=i?i.stats:s.stats,d=i?i.duration:s.duration,u=c-f.loading.start,h=a.minAutoLevel,g=s.level,m=this._nextAutoLevel;if(f.aborted||f.loaded&&f.loaded===f.total||g<=h){this.clearTimer(),this._nextAutoLevel=-1;return}if(!l)return;const y=m>-1&&m!==g,x=!!t||y;if(!x&&(A.paused||!A.playbackRate||!A.readyState))return;const w=a.mainForwardBufferInfo;if(!x&&w===null)return;const v=this.bwEstimator.getEstimateTTFB(),C=Math.abs(A.playbackRate);if(u<=Math.max(v,1e3*(d/(C*2))))return;const N=w?w.len/C:0,B=f.loading.first?f.loading.first-f.loading.start:-1,j=f.loaded&&B>-1,M=this.getBwEstimate(),I=a.levels,U=I[g],T=Math.max(f.loaded,Math.round(d*(s.bitrate||U.averageBitrate)/8));let P=j?u-B:u;P<1&&j&&(P=Math.min(u,f.loaded*8/M));const G=j?f.loaded*1e3/P:0,R=v/1e3,q=G?(T-f.loaded)/G:T*8/M+R;if(q<=N)return;const Z=G?G*8:M,oe=((n=(t==null?void 0:t.details)||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,H=this.hls.config.abrBandWidthUpFactor;let re=Number.POSITIVE_INFINITY,ce;for(ce=g-1;ce>h;ce--){const Y=I[ce].maxBitrate,se=!I[ce].details||oe;if(re=this.getTimeToLoadFrag(R,Z,d*Y,se),re<Math.min(N,d+R))break}if(re>=q||re>d*10)return;j?this.bwEstimator.sample(u-Math.min(v,B),f.loaded):this.bwEstimator.sampleTTFB(u);const le=I[ce].maxBitrate;this.getBwEstimate()*H>le&&this.resetEstimator(le);const D=this.findBestLevel(le,h,ce,0,N,1,1);D>-1&&(ce=D),this.warn(`Fragment ${s.sn}${i?" part "+i.index:""} of level ${g} is loading too slowly;
      Fragment duration: ${s.duration.toFixed(3)}
      Time to underbuffer: ${N.toFixed(3)} s
      Estimated load time for current fragment: ${q.toFixed(3)} s
      Estimated load time for down switch fragment: ${re.toFixed(3)} s
      TTFB estimate: ${B|0} ms
      Current BW estimate: ${He(M)?M|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${ce} @ ${le|0} bps`),a.nextLoadLevel=a.nextAutoLevel=ce,this.clearTimer();const K=()=>{if(this.clearTimer(),this.fragCurrent===s&&this.hls.loadLevel===ce&&ce>0){const Y=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${ce>0?"and switching down":""}
      Fragment duration: ${s.duration.toFixed(3)} s
      Time to underbuffer: ${Y.toFixed(3)} s`),s.abortRequests(),this.fragCurrent=this.partCurrent=null,ce>h){let se=this.findBestLevel(this.hls.levels[h].bitrate,h,ce,0,Y,1,1);se===-1&&(se=h),this.hls.nextLoadLevel=this.hls.nextAutoLevel=se,this.resetEstimator(this.hls.levels[se].bitrate)}}};y||q>re*2?K():this.timer=self.setInterval(K,re*1e3),a.trigger(F.FRAG_LOAD_EMERGENCY_ABORTED,{frag:s,part:i,stats:f})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new o8(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.FRAG_LOADING,this.onFragLoading,this),e.on(F.FRAG_LOADED,this.onFragLoaded,this),e.on(F.FRAG_BUFFERED,this.onFragBuffered,this),e.on(F.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(F.LEVEL_LOADED,this.onLevelLoaded,this),e.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(F.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.FRAG_LOADING,this.onFragLoading,this),e.off(F.FRAG_LOADED,this.onFragLoaded,this),e.off(F.FRAG_BUFFERED,this.onFragBuffered,this),e.off(F.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(F.LEVEL_LOADED,this.onLevelLoaded,this),e.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(F.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(F.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const n=t.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var s;this.fragCurrent=n,this.partCurrent=(s=t.part)!=null?s:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case xe.BUFFER_ADD_CODEC_ERROR:case xe.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case xe.FRAG_LOAD_TIMEOUT:{const n=t.frag,{fragCurrent:s,partCurrent:i}=this;if(n&&s&&n.sn===s.sn&&n.level===s.level){const a=performance.now(),l=i?i.stats:n.stats,A=a-l.loading.start,c=l.loading.first?l.loading.first-l.loading.start:-1;if(l.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(A-Math.min(d,c),l.loaded)}else this.bwEstimator.sampleTTFB(A)}break}}}getTimeToLoadFrag(e,t,n,s){const i=e+n/t,a=s?e+this.lastLevelLoadSec:0;return i+a}onLevelLoaded(e,t){const n=this.hls.config,{loading:s}=t.stats,i=s.end-s.first;He(i)&&(this.lastLevelLoadSec=i/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:n}){const s=n?n.stats:t.stats;if(t.type===Ye.MAIN&&this.bwEstimator.sampleTTFB(s.loading.first-s.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const i=n?n.duration:t.duration,a=this.hls.levels[t.level],l=(a.loaded?a.loaded.bytes:0)+s.loaded,A=(a.loaded?a.loaded.duration:0)+i;a.loaded={bytes:l,duration:A},a.realBitrate=Math.round(8*l/A)}if(t.bitrateTest){const i={stats:s,frag:t,part:n,id:t.type};this.onFragBuffered(F.FRAG_BUFFERED,i),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:n,part:s}=t,i=s!=null&&s.stats.loaded?s.stats:n.stats;if(i.aborted||this.ignoreFragment(n))return;const a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Ye.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,n=this.getBwEstimate(),s=this.hls.config.maxStarvationDelay,i=this.findBestLevel(n,t,e,0,s,1,1);if(i>-1)return i;const a=this.hls.firstLevel,l=Math.min(Math.max(a,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${l}`),l}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!s||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const i=n&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,i)&&a[e].loadError<=a[i].loadError)return e}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:s,config:i,minAutoLevel:a}=n,l=t?t.duration:e?e.duration:0,A=this.getBwEstimate(),c=this.getStarvationDelay();let f=i.abrBandWidthFactor,d=i.abrBandWidthUpFactor;if(c){const y=this.findBestLevel(A,a,s,c,0,f,d);if(y>=0)return this.rebufferNotice=-1,y}let u=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay;if(!c){const y=this.bitrateTestDelay;y&&(u=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-y,this.info(`bitrate test took ${Math.round(1e3*y)}ms, set first fragment max fetchDuration to ${Math.round(1e3*u)} ms`),f=d=1)}const h=this.findBestLevel(A,a,s,c,u,f,d);if(this.rebufferNotice!==h&&(this.rebufferNotice=h,this.info(`${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`)),h>-1)return h;const g=n.levels[a],m=n.loadLevelObj;return m&&(g==null?void 0:g.bitrate)<m.bitrate?a:n.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const n=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,s=e.mainForwardBufferInfo;return(s?s.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,n,s,i,a,l){var A;const c=s+i,f=this.lastLoadedFragLevel,d=f===-1?this.hls.firstLevel:f,{fragCurrent:u,partCurrent:h}=this,{levels:g,allAudioTracks:m,loadLevel:y,config:x}=this.hls;if(g.length===1)return 0;const w=g[d],v=!!((A=this.hls.latestLevelDetails)!=null&&A.live),C=y===-1||f===-1;let N,B="SDR",j=(w==null?void 0:w.frameRate)||0;const{audioPreference:M,videoPreference:I}=x,U=this.audioTracksByGroup||(this.audioTracksByGroup=O5(m));let T=-1;if(C){if(this.firstSelection!==-1)return this.firstSelection;const Z=this.codecTiers||(this.codecTiers=Z8(g,U,t,n)),oe=q8(Z,B,e,M,I),{codecSet:H,videoRanges:re,minFramerate:ce,minBitrate:le,minIndex:D,preferHDR:K}=oe;T=D,N=H,B=K?re[re.length-1]:re[0],j=ce,e=Math.max(e,le),this.log(`picked start tier ${gr(oe)}`)}else N=w==null?void 0:w.codecSet,B=w==null?void 0:w.videoRange;const P=h?h.duration:u?u.duration:0,G=this.bwEstimator.getEstimateTTFB()/1e3,R=[];for(let Z=n;Z>=t;Z--){var q;const oe=g[Z],H=Z>d;if(!oe)continue;if(x.useMediaCapabilities&&!oe.supportedResult&&!oe.supportedPromise){const se=navigator.mediaCapabilities;typeof(se==null?void 0:se.decodingInfo)=="function"&&O8(oe,U,B,j,e,M)?(oe.supportedPromise=P5(oe,U,se,this.supportedCache),oe.supportedPromise.then(J=>{if(!this.hls)return;oe.supportedResult=J;const ie=this.hls.levels,de=ie.indexOf(oe);J.error?this.warn(`MediaCapabilities decodingInfo error: "${J.error}" for level ${de} ${gr(J)}`):J.supported?J.decodingInfoResults.some(ae=>ae.smooth===!1||ae.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${de} not smooth or powerEfficient: ${gr(J)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${de} ${gr(J)}`),de>-1&&ie.length>1&&(this.log(`Removing unsupported level ${de}`),this.hls.removeLevel(de),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(J=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${J}`)})):oe.supportedResult=R5}if((N&&oe.codecSet!==N||B&&oe.videoRange!==B||H&&j>oe.frameRate||!H&&j>0&&j<oe.frameRate||(q=oe.supportedResult)!=null&&(q=q.decodingInfoResults)!=null&&q.some(se=>se.smooth===!1))&&(!C||Z!==T)){R.push(Z);continue}const re=oe.details,ce=(h?re==null?void 0:re.partTarget:re==null?void 0:re.averagetargetduration)||P;let le;H?le=l*e:le=a*e;const D=P&&s>=P*2&&i===0?oe.averageBitrate:oe.maxBitrate,K=this.getTimeToLoadFrag(G,le,D*ce,re===void 0);if(le>=D&&(Z===f||oe.loadError===0&&oe.fragmentError===0)&&(K<=G||!He(K)||v&&!this.bitrateTestDelay||K<c)){const se=this.forcedAutoLevel;return Z!==y&&(se===-1||se!==y)&&(R.length&&this.trace(`Skipped level(s) ${R.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${g[R[0]].codecs}" ${g[R[0]].videoRange}; not compatible with "${N}" ${B}`),this.info(`switch candidate:${d}->${Z} adjustedbw(${Math.round(le)})-bitrate=${Math.round(le-D)} ttfb:${G.toFixed(1)} avgDuration:${ce.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${K.toFixed(1)} firstSelection:${C} codecSet:${oe.codecSet} videoRange:${oe.videoRange} hls.loadLevel:${y}`)),C&&(this.firstSelection=Z),Z}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),t)}}const H5={search:function(r,e){let t=0,n=r.length-1,s=null,i=null;for(;t<=n;){s=(t+n)/2|0,i=r[s];const a=e(i);if(a>0)t=s+1;else if(a<0)n=s-1;else return i}return null}};function nQ(r,e,t){if(e===null||!Array.isArray(r)||!r.length||!He(e))return null;const n=r[0].programDateTime;if(e<(n||0))return null;const s=r[r.length-1].endProgramDateTime;if(e>=(s||0))return null;for(let i=0;i<r.length;++i){const a=r[i];if(iQ(e,t,a))return a}return null}function PA(r,e,t=0,n=0,s=.005){let i=null;if(r){i=e[1+r.sn-e[0].sn]||null;const l=r.endDTS-t;l>0&&l<15e-7&&(t+=15e-7),i&&r.level!==i.level&&i.end<=r.end&&(i=e[2+r.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(i=e[0]);if(i&&((!r||r.level===i.level)&&DL(t,n,i)===0||sQ(i,r,Math.min(s,n))))return i;const a=H5.search(e,DL.bind(null,t,n));return a&&(a!==r||!i)?a:i}function sQ(r,e,t){if(e&&e.start===0&&e.level<r.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((s,i)=>(i[0]==="INF"&&(s+=parseFloat(i[1])),s),t);return r.start<=n}return!1}function DL(r=0,e=0,t){if(t.start<=r&&t.start+t.duration>r)return 0;const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-n<=r?1:t.start-n>r&&t.start?-1:0}function iQ(r,e,t){const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-n>r}function z5(r,e,t){if(r&&r.startCC<=e&&r.endCC>=e){let n=r.fragments;const{fragmentHint:s}=r;s&&(n=n.concat(s));let i;return H5.search(n,a=>a.cc<e?1:a.cc>e?-1:(i=a,a.end<=t?1:a.start>t?-1:0)),i||null}return null}function Pm(r){switch(r.details){case xe.FRAG_LOAD_TIMEOUT:case xe.KEY_LOAD_TIMEOUT:case xe.LEVEL_LOAD_TIMEOUT:case xe.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function G5(r){return r.details.startsWith("key")}function K5(r){return G5(r)&&!!r.frag&&!r.frag.decryptdata}function FL(r,e){const t=Pm(e);return r.default[`${t?"timeout":"error"}Retry`]}function sv(r,e){const t=r.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*r.retryDelayMs,r.maxRetryDelayMs)}function UL(r){return ir(ir({},r),{errorRetry:null,timeoutRetry:null})}function Qm(r,e,t,n){if(!r)return!1;const s=n==null?void 0:n.code,i=e<r.maxNumRetry&&(aQ(s)||!!t);return r.shouldRetry?r.shouldRetry(r,e,t,n,i):i}function aQ(r){return zy(r)||!!r&&(r<400||r>499)}function zy(r){return r===0&&navigator.onLine===!1}var _n={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},$s={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class oQ extends Di{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(F.ERROR,this.onError,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(F.ERROR,this.onError,this),e.off(F.ERROR,this.onErrorOut,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Ye.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const t=this.hls,n=t.currentLevel;return(e=t.loadLevelObj)!=null&&e.details||n===-1?t.loadLevel:n}variantHasKey(e,t){if(e){var n;if((n=e.details)!=null&&n.hasKey(t))return!0;const s=e.audioGroups;if(s)return this.hls.allAudioTracks.filter(a=>s.indexOf(a.groupId)>=0).some(a=>{var l;return(l=a.details)==null?void 0:l.hasKey(t)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,t){var n;if(t.fatal)return;const s=this.hls,i=t.context;switch(t.details){case xe.FRAG_LOAD_ERROR:case xe.FRAG_LOAD_TIMEOUT:case xe.KEY_LOAD_ERROR:case xe.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case xe.FRAG_PARSING_ERROR:if((n=t.frag)!=null&&n.gap){t.errorAction=Zc();return}case xe.FRAG_GAP:case xe.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=_n.SendAlternateToPenaltyBox;return}case xe.LEVEL_EMPTY_ERROR:case xe.LEVEL_PARSING_ERROR:{var a;const A=t.parent===Ye.MAIN?t.level:s.loadLevel;t.details===xe.LEVEL_EMPTY_ERROR&&((a=t.context)!=null&&(a=a.levelDetails)!=null&&a.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,A):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,A))}return;case xe.LEVEL_LOAD_ERROR:case xe.LEVEL_LOAD_TIMEOUT:typeof(i==null?void 0:i.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.level));return;case xe.AUDIO_TRACK_LOAD_ERROR:case xe.AUDIO_TRACK_LOAD_TIMEOUT:case xe.SUBTITLE_LOAD_ERROR:case xe.SUBTITLE_TRACK_LOAD_TIMEOUT:if(i){const A=s.loadLevelObj;if(A&&(i.type===Pt.AUDIO_TRACK&&A.hasAudioGroup(i.groupId)||i.type===Pt.SUBTITLE_TRACK&&A.hasSubtitleGroup(i.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,s.loadLevel),t.errorAction.action=_n.SendAlternateToPenaltyBox,t.errorAction.flags=$s.MoveAllAlternatesMatchingHost;return}}return;case xe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:t.errorAction={action:_n.SendAlternateToPenaltyBox,flags:$s.MoveAllAlternatesMatchingHDCP};return;case xe.KEY_SYSTEM_SESSION_UPDATE_FAILED:case xe.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case xe.KEY_SYSTEM_NO_SESSION:t.errorAction={action:_n.SendAlternateToPenaltyBox,flags:$s.MoveAllAlternatesMatchingKey};return;case xe.BUFFER_ADD_CODEC_ERROR:case xe.REMUX_ALLOC_ERROR:case xe.BUFFER_APPEND_ERROR:if(!t.errorAction){var l;t.errorAction=this.getLevelSwitchAction(t,(l=t.level)!=null?l:s.loadLevel)}return;case xe.INTERNAL_EXCEPTION:case xe.BUFFER_APPENDING_ERROR:case xe.BUFFER_FULL_ERROR:case xe.LEVEL_SWITCH_ERROR:case xe.BUFFER_STALLED_ERROR:case xe.BUFFER_SEEK_OVER_HOLE:case xe.BUFFER_NUDGE_ON_STALL:t.errorAction=Zc();return}t.type===at.KEY_SYSTEM_ERROR&&(t.levelRetry=!1,t.errorAction=Zc())}getPlaylistRetryOrSwitchAction(e,t){const n=this.hls,s=FL(n.config.playlistLoadPolicy,e),i=this.playlistError++;if(Qm(s,i,Pm(e),e.response))return{action:_n.RetryRequest,flags:$s.None,retryConfig:s,retryCount:i};const l=this.getLevelSwitchAction(e,t);return s&&(l.retryConfig=s,l.retryCount=i),l}getFragRetryOrSwitchAction(e){const t=this.hls,n=this.getVariantLevelIndex(e.frag),s=t.levels[n],{fragLoadPolicy:i,keyLoadPolicy:a}=t.config,l=FL(G5(e)?a:i,e),A=t.levels.reduce((f,d)=>f+d.fragmentError,0);if(s&&(e.details!==xe.FRAG_GAP&&s.fragmentError++,!K5(e)&&Qm(l,A,Pm(e),e.response)))return{action:_n.RetryRequest,flags:$s.None,retryConfig:l,retryCount:A};const c=this.getLevelSwitchAction(e,n);return l&&(c.retryConfig=l,c.retryCount=A),c}getLevelSwitchAction(e,t){const n=this.hls;t==null&&(t=n.loadLevel);const s=this.hls.levels[t];if(s){var i,a;const c=e.details;s.loadError++,c===xe.BUFFER_APPEND_ERROR&&s.fragmentError++;let f=-1;const{levels:d,loadLevel:u,minAutoLevel:h,maxAutoLevel:g}=n;!n.autoLevelEnabled&&!n.config.preserveManualLevelOnError&&(n.loadLevel=-1);const m=(i=e.frag)==null?void 0:i.type,x=(m===Ye.AUDIO&&c===xe.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===xe.BUFFER_ADD_CODEC_ERROR||c===xe.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:B})=>s.audioCodec!==B),v=e.sourceBufferName==="video"&&(c===xe.BUFFER_ADD_CODEC_ERROR||c===xe.BUFFER_APPEND_ERROR)&&d.some(({codecSet:B,audioCodec:j})=>s.codecSet!==B&&s.audioCodec===j),{type:C,groupId:N}=(a=e.context)!=null?a:{};for(let B=d.length;B--;){const j=(B+u)%d.length;if(j!==u&&j>=h&&j<=g&&d[j].loadError===0){var l,A;const M=d[j];if(c===xe.FRAG_GAP&&m===Ye.MAIN&&e.frag){const I=d[j].details;if(I){const U=PA(e.frag,I.fragments,e.frag.start);if(U!=null&&U.gap)continue}}else{if(C===Pt.AUDIO_TRACK&&M.hasAudioGroup(N)||C===Pt.SUBTITLE_TRACK&&M.hasSubtitleGroup(N))continue;if(m===Ye.AUDIO&&(l=s.audioGroups)!=null&&l.some(I=>M.hasAudioGroup(I))||m===Ye.SUBTITLE&&(A=s.subtitleGroups)!=null&&A.some(I=>M.hasSubtitleGroup(I))||x&&s.audioCodec===M.audioCodec||v&&s.codecSet===M.codecSet||!x&&s.codecSet!==M.codecSet)continue}f=j;break}}if(f>-1&&n.loadLevel!==f)return e.levelRetry=!0,this.playlistError=0,{action:_n.SendAlternateToPenaltyBox,flags:$s.None,nextAutoLevel:f}}return{action:_n.SendAlternateToPenaltyBox,flags:$s.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var n;switch((n=t.errorAction)==null?void 0:n.action){case _n.DoNothing:break;case _n.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==xe.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,n=e.errorAction;if(!n)return;const{flags:s}=n,i=n.nextAutoLevel;switch(s){case $s.None:this.switchLevel(e,i);break;case $s.MoveAllAlternatesMatchingHDCP:{const A=this.getVariantLevelIndex(e.frag),c=t.levels[A],f=c==null?void 0:c.attrs["HDCP-LEVEL"];if(n.hdcpLevel=f,f==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(f){t.maxHdcpLevel=Hy[Hy.indexOf(f)-1],n.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}}case $s.MoveAllAlternatesMatchingKey:{const A=e.decryptdata;if(A){const c=this.hls.levels,f=c.length;for(let u=f;u--;)if(this.variantHasKey(c[u],A)){var a,l;this.log(`Banned key found in level ${u} (${c[u].bitrate}bps) or audio group "${(a=c[u].audioGroups)==null?void 0:a.join(",")}" (${(l=e.frag)==null?void 0:l.type} fragment) ${On(A.keyId||[])}`),c[u].fragmentError++,c[u].loadError++,this.log(`Removing level ${u} with key error (${e.error})`),this.hls.removeLevel(u)}const d=e.frag;if(this.hls.levels.length<f)n.resolved=!0;else if(d&&d.type!==Ye.MAIN){const u=d.decryptdata;u&&!A.matches(u)&&(n.resolved=!0)}}break}}n.resolved||this.switchLevel(e,i)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===xe.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=Oy(e.mimeType),s=this.hls.levels;for(let i=s.length;i--;)s[i][`${e.sourceBufferName}Codec`]===n&&(this.log(`Removing level ${i} for ${e.details} ("${n}" not supported)`),this.hls.removeLevel(i))}}}function Zc(r){const e={action:_n.DoNothing,flags:$s.None};return r&&(e.resolved=!0),e}var wn={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class lQ{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.BUFFER_APPENDED,this.onBufferAppended,this),e.on(F.FRAG_BUFFERED,this.onFragBuffered,this),e.on(F.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.BUFFER_APPENDED,this.onBufferAppended,this),e.off(F.FRAG_BUFFERED,this.onFragBuffered,this),e.off(F.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const n=this.activePartLists[t];if(n)for(let s=n.length;s--;){const i=n[s];if(!i)break;if(i.start<=e&&e<=i.end&&i.loaded)return i}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,n){const{fragments:s}=this,i=Object.keys(s);for(let a=i.length;a--;){const l=s[i[a]];if((l==null?void 0:l.body.type)===t&&(!n||l.buffered)){const A=l.body;if(A.start<=e&&e<=A.end)return A}}return null}detectEvictedFragments(e,t,n,s,i){this.timeRanges&&(this.timeRanges[e]=t);const a=(s==null?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach(l=>{const A=this.fragments[l];if(!A||a>=A.body.sn)return;if(!A.buffered&&(!A.loaded||i)){A.body.type===n&&this.removeFragment(A.body);return}const c=A.range[e];if(c){if(c.time.length===0){this.removeFragment(A.body);return}c.time.some(f=>{const d=!this.isTimeBuffered(f.startPTS,f.endPTS,t);return d&&this.removeFragment(A.body),d})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const n=e.frag,s=uc(n),i=this.fragments[s];if(!i||i.buffered&&n.gap)return;const a=!n.relurl;Object.keys(t).forEach(l=>{const A=n.elementaryStreams[l];if(!A)return;const c=t[l],f=a||A.partial===!0;i.range[l]=this.getBufferedTimes(n,e.part,f,c)}),i.loaded=null,Object.keys(i.range).length?(this.bufferedEnd(i,n),N0(i)||this.removeParts(n.sn-1,n.type)):this.removeFragment(i.body)}bufferedEnd(e,t){e.buffered=!0,(e.body.endList=t.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=RL(n,s=>s.fragment.sn>=e))}fragBuffered(e,t){const n=uc(e);let s=this.fragments[n];!s&&t&&(s=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,this.bufferedEnd(s,e))}getBufferedTimes(e,t,n,s){const i={time:[],partial:n},a=e.start,l=e.end,A=e.minEndPTS||l,c=e.maxStartPTS||a;for(let f=0;f<s.length;f++){const d=s.start(f)-this.bufferPadding,u=s.end(f)+this.bufferPadding;if(c>=d&&A<=u){i.time.push({startPTS:Math.max(a,s.start(f)),endPTS:Math.min(l,s.end(f))});break}else if(a<u&&l>d){const h=Math.max(a,s.start(f)),g=Math.min(l,s.end(f));g>h&&(i.partial=!0,i.time.push({startPTS:h,endPTS:g}))}else if(l<=d)break}return i}getPartialFragment(e){let t=null,n,s,i,a=0;const{bufferPadding:l,fragments:A}=this;return Object.keys(A).forEach(c=>{const f=A[c];f&&N0(f)&&(s=f.body.start-l,i=f.body.end+l,e>=s&&e<=i&&(n=Math.min(e-s,i-e),a<=n&&(t=f.body,a=n)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||N0(t))}getState(e){const t=uc(e),n=this.fragments[t];return n?n.buffered?N0(n)?wn.PARTIAL:wn.OK:wn.APPENDING:wn.NOT_LOADED}isTimeBuffered(e,t,n){let s,i;for(let a=0;a<n.length;a++){if(s=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=s&&t<=i)return!0;if(t<=s)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const n=t.frag,s=t.part?null:t,i=uc(n);this.fragments[i]={body:n,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:n,part:s,timeRanges:i,type:a}=t;if(n.sn==="initSegment")return;const l=n.type;if(s){let c=this.activePartLists[l];c||(this.activePartLists[l]=c=[]),c.push(s)}this.timeRanges=i;const A=i[a];this.detectEvictedFragments(a,A,l,s)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=uc(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,n=Object.keys(t);if(!e)return n.length>0;for(let s=n.length;s--;){const i=t[n[s]];if((i==null?void 0:i.body.type)===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,n,s,i){s&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const l=this.fragments[a];if(!l)return;const A=l.body;A.type!==n||s&&!A.gap||A.start<t&&A.end>e&&(l.buffered||i)&&this.removeFragment(A)})}removeFragment(e){const t=uc(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const s=e.sn;this.activePartLists[e.type]=RL(n,i=>i.fragment.sn!==s)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const t=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;t&&t.forEach(n=>n.clearElementaryStreamInfo())}}function N0(r){var e,t,n;return r.buffered&&!!(r.body.gap||(e=r.range.video)!=null&&e.partial||(t=r.range.audio)!=null&&t.partial||(n=r.range.audiovideo)!=null&&n.partial)}function uc(r){return`${r.type}_${r.level}_${r.sn}`}function RL(r,e){return r.filter(t=>{const n=e(t);return n||t.clearElementaryStreamInfo(),n})}var Rl={cbc:0,ctr:1};class AQ{constructor(e,t,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=n}decrypt(e,t){switch(this.aesMode){case Rl.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case Rl.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function cQ(r){const e=r.byteLength,t=e&&new DataView(r.buffer).getUint8(e-1);return t?r.slice(0,e-t):r}class fQ{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),n=new Uint32Array(4);for(let s=0;s<4;s++)n[s]=t.getUint32(s*4);return n}initTable(){const e=this.sBox,t=this.invSBox,n=this.subMix,s=n[0],i=n[1],a=n[2],l=n[3],A=this.invSubMix,c=A[0],f=A[1],d=A[2],u=A[3],h=new Uint32Array(256);let g=0,m=0,y=0;for(y=0;y<256;y++)y<128?h[y]=y<<1:h[y]=y<<1^283;for(y=0;y<256;y++){let x=m^m<<1^m<<2^m<<3^m<<4;x=x>>>8^x&255^99,e[g]=x,t[x]=g;const w=h[g],v=h[w],C=h[v];let N=h[x]*257^x*16843008;s[g]=N<<24|N>>>8,i[g]=N<<16|N>>>16,a[g]=N<<8|N>>>24,l[g]=N,N=C*16843009^v*65537^w*257^g*16843008,c[x]=N<<24|N>>>8,f[x]=N<<16|N>>>16,d[x]=N<<8|N>>>24,u[x]=N,g?(g=w^h[h[h[C^w]]],m^=h[h[m]]):g=m=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let n=!0,s=0;for(;s<t.length&&n;)n=t[s]===this.key[s],s++;if(n)return;this.key=t;const i=this.keySize=t.length;if(i!==4&&i!==6&&i!==8)throw new Error("Invalid aes key size="+i);const a=this.ksRows=(i+6+1)*4;let l,A;const c=this.keySchedule=new Uint32Array(a),f=this.invKeySchedule=new Uint32Array(a),d=this.sBox,u=this.rcon,h=this.invSubMix,g=h[0],m=h[1],y=h[2],x=h[3];let w,v;for(l=0;l<a;l++){if(l<i){w=c[l]=t[l];continue}v=w,l%i===0?(v=v<<8|v>>>24,v=d[v>>>24]<<24|d[v>>>16&255]<<16|d[v>>>8&255]<<8|d[v&255],v^=u[l/i|0]<<24):i>6&&l%i===4&&(v=d[v>>>24]<<24|d[v>>>16&255]<<16|d[v>>>8&255]<<8|d[v&255]),c[l]=w=(c[l-i]^v)>>>0}for(A=0;A<a;A++)l=a-A,A&3?v=c[l]:v=c[l-4],A<4||l<=4?f[A]=v:f[A]=g[d[v>>>24]]^m[d[v>>>16&255]]^y[d[v>>>8&255]]^x[d[v&255]],f[A]=f[A]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,n){const s=this.keySize+6,i=this.invKeySchedule,a=this.invSBox,l=this.invSubMix,A=l[0],c=l[1],f=l[2],d=l[3],u=this.uint8ArrayToUint32Array_(n);let h=u[0],g=u[1],m=u[2],y=u[3];const x=new Int32Array(e),w=new Int32Array(x.length);let v,C,N,B,j,M,I,U,T,P,G,R,q,Z;const oe=this.networkToHostOrderSwap;for(;t<x.length;){for(T=oe(x[t]),P=oe(x[t+1]),G=oe(x[t+2]),R=oe(x[t+3]),j=T^i[0],M=R^i[1],I=G^i[2],U=P^i[3],q=4,Z=1;Z<s;Z++)v=A[j>>>24]^c[M>>16&255]^f[I>>8&255]^d[U&255]^i[q],C=A[M>>>24]^c[I>>16&255]^f[U>>8&255]^d[j&255]^i[q+1],N=A[I>>>24]^c[U>>16&255]^f[j>>8&255]^d[M&255]^i[q+2],B=A[U>>>24]^c[j>>16&255]^f[M>>8&255]^d[I&255]^i[q+3],j=v,M=C,I=N,U=B,q=q+4;v=a[j>>>24]<<24^a[M>>16&255]<<16^a[I>>8&255]<<8^a[U&255]^i[q],C=a[M>>>24]<<24^a[I>>16&255]<<16^a[U>>8&255]<<8^a[j&255]^i[q+1],N=a[I>>>24]<<24^a[U>>16&255]<<16^a[j>>8&255]<<8^a[M&255]^i[q+2],B=a[U>>>24]<<24^a[j>>16&255]<<16^a[M>>8&255]<<8^a[I&255]^i[q+3],w[t]=oe(v^h),w[t+1]=oe(B^g),w[t+2]=oe(N^m),w[t+3]=oe(C^y),h=T,g=P,m=G,y=R,t=t+4}return w.buffer}}class dQ{constructor(e,t,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=n}expandKey(){const e=uQ(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function uQ(r){switch(r){case Rl.cbc:return"AES-CBC";case Rl.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${r}`)}}const hQ=16;class iv{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?cQ(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,n,s){return this.useSoftware?new Promise((i,a)=>{const l=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(l,t,n,s);const A=this.flush();A?i(A.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,n,s)}softwareDecrypt(e,t,n,s){const{currentIV:i,currentResult:a,remainderData:l}=this;if(s!==Rl.cbc||t.byteLength!==16)return or.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),l&&(e=Ii(l,e),this.remainderData=null);const A=this.getValidChunk(e);if(!A.length)return null;i&&(n=i);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new fQ),c.expandKey(t);const f=a;return this.currentResult=c.decrypt(A.buffer,0,n),this.currentIV=A.slice(-16).buffer,f||null}webCryptoDecrypt(e,t,n,s){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,n,s));this.key=t,this.fastAesKey=new dQ(this.subtle,t,s)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new AQ(this.subtle,new Uint8Array(n),s).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(or.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,t,n,s)))}onWebCryptoError(e,t,n,s){const i=this.enableSoftwareAES;if(i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n,s);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(i?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const n=e.length-e.length%hQ;return n!==e.length&&(t=e.slice(0,n),this.remainderData=e.slice(n)),t}logOnce(e){this.logEnabled&&(or.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const _L=Math.pow(2,17);class gQ{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const n=e.url;if(!n)return Promise.reject(new ho({type:at.NETWORK_ERROR,details:xe.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const s=this.config,i=s.fLoader,a=s.loader;return new Promise((l,A)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){A(QL(e));return}else e.gap=!1;const c=this.loader=i?new i(s):new a(s),f=PL(e);e.loader=c;const d=UL(s.fragLoadPolicy.default),u={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:_L};e.stats=c.stats;const h={onSuccess:(g,m,y,x)=>{this.resetLoader(e,c);let w=g.data;y.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(w.slice(0,16)),w=w.slice(16)),l({frag:e,part:null,payload:w,networkDetails:x})},onError:(g,m,y,x)=>{this.resetLoader(e,c),A(new ho({type:at.NETWORK_ERROR,details:xe.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:ir({url:n,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:y,stats:x}))},onAbort:(g,m,y)=>{this.resetLoader(e,c),A(new ho({type:at.NETWORK_ERROR,details:xe.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:y,stats:g}))},onTimeout:(g,m,y)=>{this.resetLoader(e,c),A(new ho({type:at.NETWORK_ERROR,details:xe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${u.timeout}ms`),networkDetails:y,stats:g}))}};t&&(h.onProgress=(g,m,y,x)=>t({frag:e,part:null,payload:y,networkDetails:x})),c.load(f,u,h)})}loadPart(e,t,n){this.abort();const s=this.config,i=s.fLoader,a=s.loader;return new Promise((l,A)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){A(QL(e,t));return}const c=this.loader=i?new i(s):new a(s),f=PL(e,t);e.loader=c;const d=UL(s.fragLoadPolicy.default),u={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:_L};t.stats=c.stats,c.load(f,u,{onSuccess:(h,g,m,y)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,t);const x={frag:e,part:t,payload:h.data,networkDetails:y};n(x),l(x)},onError:(h,g,m,y)=>{this.resetLoader(e,c),A(new ho({type:at.NETWORK_ERROR,details:xe.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:ir({url:f.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:y}))},onAbort:(h,g,m)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,c),A(new ho({type:at.NETWORK_ERROR,details:xe.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,g,m)=>{this.resetLoader(e,c),A(new ho({type:at.NETWORK_ERROR,details:xe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${u.timeout}ms`),networkDetails:m,stats:h}))}})})}updateStatsFromPart(e,t){const n=e.stats,s=t.stats,i=s.total;if(n.loaded+=s.loaded,i){const A=Math.round(e.duration/t.duration),c=Math.min(Math.round(n.loaded/i),A),d=(A-c)*Math.round(n.loaded/c);n.total=n.loaded+d}else n.total=Math.max(n.loaded,n.total);const a=n.loading,l=s.loading;a.start?a.first+=l.first-l.start:(a.start=l.start,a.first=l.first),a.end=l.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function PL(r,e=null){const t=e||r,n={frag:r,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},s=t.byteRangeStartOffset,i=t.byteRangeEndOffset;if(He(s)&&He(i)){var a;let l=s,A=i;if(r.sn==="initSegment"&&mQ((a=r.decryptdata)==null?void 0:a.method)){const c=i-s;c%16&&(A=i+(16-c%16)),s!==0&&(n.resetIV=!0,l=s-16)}n.rangeStart=l,n.rangeEnd=A}return n}function QL(r,e){const t=new Error(`GAP ${r.gap?"tag":"attribute"} found`),n={type:at.MEDIA_ERROR,details:xe.FRAG_GAP,fatal:!1,frag:r,error:t,networkDetails:null};return e&&(n.part=e),(e||r).stats.aborted=!0,new ho(n)}function mQ(r){return r==="AES-128"||r==="AES-256"}class ho extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class $5 extends Di{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class av{constructor(e,t,n,s=0,i=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=B0(),this.buffering={audio:B0(),video:B0(),audiovideo:B0()},this.level=e,this.sn=t,this.id=n,this.size=s,this.part=i,this.partial=a}}function B0(){return{start:0,executeStart:0,executeEnd:0,end:0}}const OL={length:0,start:()=>0,end:()=>0};class Lt{static isBuffered(e,t){if(e){const n=Lt.getBuffered(e);for(let s=n.length;s--;)if(t>=n.start(s)&&t<=n.end(s))return!0}return!1}static bufferedRanges(e){if(e){const t=Lt.getBuffered(e);return Lt.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}static bufferInfo(e,t,n){if(e){const s=Lt.bufferedRanges(e);if(s.length)return Lt.bufferedInfo(s,t,n)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,n){t=Math.max(0,t),e.length>1&&e.sort((f,d)=>f.start-d.start||d.end-f.end);let s=-1,i=[];if(n)for(let f=0;f<e.length;f++){t>=e[f].start&&t<=e[f].end&&(s=f);const d=i.length;if(d){const u=i[d-1].end;e[f].start-u<n?e[f].end>u&&(i[d-1].end=e[f].end):i.push(e[f])}else i.push(e[f])}else i=e;let a=0,l,A=t,c=t;for(let f=0;f<i.length;f++){const d=i[f].start,u=i[f].end;if(s===-1&&t>=d&&t<=u&&(s=f),t+n>=d&&t<u)A=d,c=u,a=c-t;else if(t+n<d){l=d;break}}return{len:a,start:A||0,end:c||0,nextStart:l,buffered:e,bufferedIndex:s}}static getBuffered(e){try{return e.buffered||OL}catch(t){return or.log("failed to get media.buffered",t),OL}}}const V5=/\{\$([a-zA-Z0-9-_]+)\}/g;function HL(r){return V5.test(r)}function Gy(r,e){if(r.variableList!==null||r.hasVariableRefs){const t=r.variableList;return e.replace(V5,n=>{const s=n.substring(2,n.length-1),i=t==null?void 0:t[s];return i===void 0?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${s}"`)),n):i})}return e}function zL(r,e,t){let n=r.variableList;n||(r.variableList=n={});let s,i;if("QUERYPARAM"in e){s=e.QUERYPARAM;try{const a=new self.URL(t).searchParams;if(a.has(s))i=a.get(s);else throw new Error(`"${s}" does not match any query parameter in URI: "${t}"`)}catch(a){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else s=e.NAME,i=e.VALUE;s in n?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${s}"`)):n[s]=i||""}function pQ(r,e,t){const n=e.IMPORT;if(t&&n in t){let s=r.variableList;s||(r.variableList=s={}),s[n]=t[n]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const xQ=/^(\d+)x(\d+)$/,GL=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Mr{constructor(e,t){typeof e=="string"&&(e=Mr.parseAttrList(e,t)),cr(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const n=new Uint8Array(t.length/2);for(let s=0;s<t.length/2;s++)n[s]=parseInt(t.slice(s*2,s*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const n=this[e];return n?parseFloat(n):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((s,i)=>(s[i.toLowerCase()]=!0,s),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=xQ.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let n;const s={},i='"';for(GL.lastIndex=0;(n=GL.exec(e))!==null;){const a=n[1].trim();let l=n[2];const A=l.indexOf(i)===0&&l.lastIndexOf(i)===l.length-1;let c=!1;if(A)l=l.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":c=!0}if(t&&(A||c))l=Gy(t,l);else if(!c&&!A)switch(a){case"CLOSED-CAPTIONS":if(l==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":or.warn(`${e}: attribute ${a} is missing quotes`)}s[a]=l}return s}}const yQ="com.apple.hls.interstitial";function wQ(r){return r!=="ID"&&r!=="CLASS"&&r!=="CUE"&&r!=="START-DATE"&&r!=="DURATION"&&r!=="END-DATE"&&r!=="END-ON-NEXT"}function bQ(r){return r==="SCTE35-OUT"||r==="SCTE35-IN"||r==="SCTE35-CMD"}class Y5{constructor(e,t,n=0){var s;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(t==null?void 0:t.tagAnchor)||null,this.tagOrder=(s=t==null?void 0:t.tagOrder)!=null?s:n,t){const i=t.attr;for(const a in i)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==i[a]){or.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=a;break}e=cr(new Mr({}),i,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const i=(t==null?void 0:t.endDate)||new Date(this.attr["END-DATE"]);He(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(or.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(He(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===yQ}get isValid(){return!!this.id&&!this._badValueForSameId&&He(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const vQ=10;class CQ{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(t=>{let n=t.decryptdata;return n||(t.setKeyFormat(e.keyFormat),n=t.decryptdata),!!n&&e.matches(n)})}get hasProgramDateTime(){return this.fragments.length?He(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||vQ}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let n=e.length;n--;)if(e[n].index>t)return e[n].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function Om(r,e){return r.length===e.length?!r.some((t,n)=>t!==e[n]):!1}function KL(r,e){return!r&&!e?!0:!r||!e?!1:Om(r,e)}function Xc(r){return r==="AES-128"||r==="AES-256"||r==="AES-256-CTR"}function ov(r){switch(r){case"AES-128":case"AES-256":return Rl.cbc;case"AES-256-CTR":return Rl.ctr;default:throw new Error(`invalid full segment method ${r}`)}}function lv(r){return Uint8Array.from(atob(r),e=>e.charCodeAt(0))}function Ky(r){return Uint8Array.from(unescape(encodeURIComponent(r)),e=>e.charCodeAt(0))}function LQ(r){const e=Ky(r).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function W5(r){const e=function(n,s,i){const a=n[s];n[s]=n[i],n[i]=a};e(r,0,3),e(r,1,2),e(r,4,5),e(r,6,7)}function J5(r){const e=r.split(":");let t=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),s=n[n.length-1].split(",");if(s.length===2){const i=s[0]==="base64",a=s[1];i?(n.splice(-1,1),t=lv(a)):t=LQ(a)}}return t}const Hm=typeof self<"u"?self:void 0;var Fr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Hn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Qg(r){switch(r){case Hn.FAIRPLAY:return Fr.FAIRPLAY;case Hn.PLAYREADY:return Fr.PLAYREADY;case Hn.WIDEVINE:return Fr.WIDEVINE;case Hn.CLEARKEY:return Fr.CLEARKEY}}function Ex(r){switch(r){case Fr.FAIRPLAY:return Hn.FAIRPLAY;case Fr.PLAYREADY:return Hn.PLAYREADY;case Fr.WIDEVINE:return Hn.WIDEVINE;case Fr.CLEARKEY:return Hn.CLEARKEY}}function Qd(r){const{drmSystems:e,widevineLicenseUrl:t}=r,n=e?[Fr.FAIRPLAY,Fr.WIDEVINE,Fr.PLAYREADY,Fr.CLEARKEY].filter(s=>!!e[s]):[];return!n[Fr.WIDEVINE]&&t&&n.push(Fr.WIDEVINE),n}const q5=function(r){return Hm!=null&&(r=Hm.navigator)!=null&&r.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function SQ(r,e,t,n){let s;switch(r){case Fr.FAIRPLAY:s=["cenc","sinf"];break;case Fr.WIDEVINE:case Fr.PLAYREADY:s=["cenc"];break;case Fr.CLEARKEY:s=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return EQ(s,e,t,n)}function EQ(r,e,t,n){return[{initDataTypes:r,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(i=>({contentType:`audio/mp4; codecs=${i}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:t.map(i=>({contentType:`video/mp4; codecs=${i}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function NQ(r){var e;return!!r&&(r.sessionType==="persistent-license"||!!((e=r.sessionTypes)!=null&&e.some(t=>t==="persistent-license")))}function Z5(r){const e=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),n=t.substring(t.indexOf("<"),t.length),a=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(a){const l=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(l){const A=lv(l).subarray(0,16);return W5(A),A}}return null}let hc={};class kl{static clearKeyUriToKeyIdMap(){hc={}}static setKeyIdForUri(e,t){hc[e]=t}static addKeyIdForUri(e){const t=Object.keys(hc).length%Number.MAX_SAFE_INTEGER,n=new Uint8Array(16);return new DataView(n.buffer,12,4).setUint32(0,t),hc[e]=n,n}constructor(e,t,n,s=[1],i=null,a){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=s,this.iv=i,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!Xc(e),a!=null&&a.startsWith("0x")&&(this.keyId=new Uint8Array(E5(a)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&Om(e.keyFormatVersions,this.keyFormatVersions)&&KL(e.iv,this.iv)&&KL(e.keyId,this.keyId)}isSupported(){if(this.method){if(Xc(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Hn.FAIRPLAY:case Hn.WIDEVINE:case Hn.PLAYREADY:case Hn.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,t){if(!this.encrypted||!this.uri)return null;if(Xc(this.method)){let i=this.iv;return i||(typeof e!="number"&&(or.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),i=kQ(e)),new kl(this.method,this.uri,"identity",this.keyFormatVersions,i)}if(this.keyId){const i=hc[this.uri];if(i&&!Om(this.keyId,i)&&kl.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const n=J5(this.uri);if(n)switch(this.keyFormat){case Hn.WIDEVINE:if(this.pssh=n,!this.keyId){const i=T8(n.buffer);if(i.length){var s;const a=i[0];this.keyId=(s=a.kids)!=null&&s.length?a.kids[0]:null}}this.keyId||(this.keyId=$L(t));break;case Hn.PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=I8(i,null,n),this.keyId=Z5(n);break}default:{let i=n.subarray(0,16);if(i.length!==16){const a=new Uint8Array(16);a.set(i,16-i.length),i=a}this.keyId=i;break}}if(!this.keyId||this.keyId.byteLength!==16){let i;i=BQ(t),i||(i=$L(t),i||(i=hc[this.uri])),i&&(this.keyId=i,kl.setKeyIdForUri(this.uri,i))}return this}}function BQ(r){const e=r==null?void 0:r[Hn.WIDEVINE];return e?e.keyId:null}function $L(r){const e=r==null?void 0:r[Hn.PLAYREADY];if(e){const t=J5(e.uri);if(t)return Z5(t)}return null}function kQ(r){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=r>>8*(15-t)&255;return e}const VL=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,YL=/#EXT-X-MEDIA:(.*)/g,jQ=/^#EXT(?:INF|-X-TARGETDURATION):/m,Nx=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),IQ=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ia{static findGroup(e,t){for(let n=0;n<e.length;n++){const s=e[n];if(s.id===t)return s}}static resolve(e,t){return Xb.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return jQ.test(e)}static parseMasterPlaylist(e,t){const n=HL(e),s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},i=[];if(VL.lastIndex=0,!e.startsWith("#EXTM3U"))return s.playlistParsingError=new Error("no EXTM3U delimiter"),s;let a;for(;(a=VL.exec(e))!=null;)if(a[1]){var l;const c=new Mr(a[1],s),f=Gy(s,a[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:Ia.resolve(f,t)},u=c.decimalResolution("RESOLUTION");u&&(d.width=u.width,d.height=u.height),qL(c.CODECS,d);const h=c["SUPPLEMENTAL-CODECS"];h&&(d.supplemental={},qL(h,d.supplemental)),(l=d.unknownCodecs)!=null&&l.length||i.push(d),s.levels.push(d)}else if(a[3]){const c=a[3],f=a[4];switch(c){case"SESSION-DATA":{const d=new Mr(f,s),u=d["DATA-ID"];u&&(s.sessionData===null&&(s.sessionData={}),s.sessionData[u]=d);break}case"SESSION-KEY":{const d=WL(f,t,s);d.encrypted&&d.isSupported()?(s.sessionKeys===null&&(s.sessionKeys=[]),s.sessionKeys.push(d)):or.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${f}"`);break}case"DEFINE":{{const d=new Mr(f,s);zL(s,d,t)}break}case"CONTENT-STEERING":{const d=new Mr(f,s);s.contentSteering={uri:Ia.resolve(d["SERVER-URI"],t),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{s.startTimeOffset=JL(f);break}}}const A=i.length>0&&i.length<s.levels.length;return s.levels=A?i:s.levels,s.levels.length===0&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(e,t,n){let s;const i={},a=n.levels,l={AUDIO:a.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:a.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let A=0;for(YL.lastIndex=0;(s=YL.exec(e))!==null;){const c=new Mr(s[1],n),f=c.TYPE;if(f){const d=l[f],u=i[f]||[];i[f]=u;const h=c.LANGUAGE,g=c["ASSOC-LANGUAGE"],m=c.CHANNELS,y=c.CHARACTERISTICS,x=c["INSTREAM-ID"],w={attrs:c,bitrate:0,id:A++,groupId:c["GROUP-ID"]||"",name:c.NAME||h||"",type:f,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:h,url:c.URI?Ia.resolve(c.URI,t):""};if(g&&(w.assocLang=g),m&&(w.channels=m),y&&(w.characteristics=y),x&&(w.instreamId=x),d!=null&&d.length){const v=Ia.findGroup(d,w.groupId)||d[0];ZL(w,v,"audioCodec"),ZL(w,v,"textCodec")}u.push(w)}}return i}static parseLevelPlaylist(e,t,n,s,i,a){var l;const A={url:t},c=new CQ(t),f=c.fragments,d=[];let u=null,h=0,g=0,m=0,y=0,x=0,w=null,v=new Cx(s,A),C,N,B,j=-1,M=!1,I=null,U;if(Nx.lastIndex=0,c.m3u8=e,c.hasVariableRefs=HL(e),((l=Nx.exec(e))==null?void 0:l[0])!=="#EXTM3U")return c.playlistParsingError=new Error("Missing format identifier #EXTM3U"),c;for(;(C=Nx.exec(e))!==null;){M&&(M=!1,v=new Cx(s,A),v.playlistOffset=m,v.setStart(m),v.sn=h,v.cc=y,x&&(v.bitrate=x),v.level=n,u&&(v.initSegment=u,u.rawProgramDateTime&&(v.rawProgramDateTime=u.rawProgramDateTime,u.rawProgramDateTime=null),I&&(v.setByteRange(I),I=null)));const R=C[1];if(R){v.duration=parseFloat(R);const q=(" "+C[2]).slice(1);v.title=q||null,v.tagList.push(q?["INF",R,q]:["INF",R])}else if(C[3]){if(He(v.duration)){v.playlistOffset=m,v.setStart(m),B&&e3(v,B,c),v.sn=h,v.level=n,v.cc=y,f.push(v);const q=(" "+C[3]).slice(1);v.relurl=Gy(c,q),$y(v,w,d),w=v,m+=v.duration,h++,g=0,M=!0}}else{if(C=C[0].match(IQ),!C){or.warn("No matches on slow regex match for level playlist!");continue}for(N=1;N<C.length&&C[N]===void 0;N++);const q=(" "+C[N]).slice(1),Z=(" "+C[N+1]).slice(1),oe=C[N+2]?(" "+C[N+2]).slice(1):null;switch(q){case"BYTERANGE":w?v.setByteRange(Z,w):v.setByteRange(Z);break;case"PROGRAM-DATE-TIME":v.rawProgramDateTime=Z,v.tagList.push(["PROGRAM-DATE-TIME",Z]),j===-1&&(j=f.length);break;case"PLAYLIST-TYPE":c.type&&ao(c,q,C),c.type=Z.toUpperCase();break;case"MEDIA-SEQUENCE":c.startSN!==0?ao(c,q,C):f.length>0&&t3(c,q,C),h=c.startSN=parseInt(Z);break;case"SKIP":{c.skippedSegments&&ao(c,q,C);const H=new Mr(Z,c),re=H.decimalInteger("SKIPPED-SEGMENTS");if(He(re)){c.skippedSegments+=re;for(let le=re;le--;)f.push(null);h+=re}const ce=H.enumeratedString("RECENTLY-REMOVED-DATERANGES");ce&&(c.recentlyRemovedDateranges=(c.recentlyRemovedDateranges||[]).concat(ce.split("	")));break}case"TARGETDURATION":c.targetduration!==0&&ao(c,q,C),c.targetduration=Math.max(parseInt(Z),1);break;case"VERSION":c.version!==null&&ao(c,q,C),c.version=parseInt(Z);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":c.live||ao(c,q,C),c.live=!1;break;case"#":(Z||oe)&&v.tagList.push(oe?[Z,oe]:[Z]);break;case"DISCONTINUITY":y++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([q]);break;case"BITRATE":v.tagList.push([q,Z]),x=parseInt(Z)*1e3,He(x)?v.bitrate=x:x=0;break;case"DATERANGE":{const H=new Mr(Z,c),re=new Y5(H,c.dateRanges[H.ID],c.dateRangeTagCount);c.dateRangeTagCount++,re.isValid||c.skippedSegments?c.dateRanges[re.id]=re:or.warn(`Ignoring invalid DATERANGE tag: "${Z}"`),v.tagList.push(["EXT-X-DATERANGE",Z]);break}case"DEFINE":{{const H=new Mr(Z,c);"IMPORT"in H?pQ(c,H,a):zL(c,H,t)}break}case"DISCONTINUITY-SEQUENCE":c.startCC!==0?ao(c,q,C):f.length>0&&t3(c,q,C),c.startCC=y=parseInt(Z);break;case"KEY":{const H=WL(Z,t,c);if(H.isSupported()){if(H.method==="NONE"){B=void 0;break}B||(B={});const re=B[H.keyFormat];re!=null&&re.matches(H)||(re&&(B=cr({},B)),B[H.keyFormat]=H)}else or.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${Z}"`);break}case"START":c.startTimeOffset=JL(Z);break;case"MAP":{const H=new Mr(Z,c);if(v.duration){const re=new Cx(s,A);XL(re,H,n,B),u=re,v.initSegment=u,u.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=u.rawProgramDateTime)}else{const re=v.byteRangeEndOffset;if(re){const ce=v.byteRangeStartOffset;I=`${re-ce}@${ce}`}else I=null;XL(v,H,n,B),u=v,M=!0}u.cc=y;break}case"SERVER-CONTROL":{U&&ao(c,q,C),U=new Mr(Z),c.canBlockReload=U.bool("CAN-BLOCK-RELOAD"),c.canSkipUntil=U.optionalFloat("CAN-SKIP-UNTIL",0),c.canSkipDateRanges=c.canSkipUntil>0&&U.bool("CAN-SKIP-DATERANGES"),c.partHoldBack=U.optionalFloat("PART-HOLD-BACK",0),c.holdBack=U.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{c.partTarget&&ao(c,q,C);const H=new Mr(Z);c.partTarget=H.decimalFloatingPoint("PART-TARGET");break}case"PART":{let H=c.partList;H||(H=c.partList=[]);const re=g>0?H[H.length-1]:void 0,ce=g++,le=new Mr(Z,c),D=new p8(le,v,A,ce,re);H.push(D),v.duration+=D.duration;break}case"PRELOAD-HINT":{const H=new Mr(Z,c);c.preloadHint=H;break}case"RENDITION-REPORT":{const H=new Mr(Z,c);c.renditionReports=c.renditionReports||[],c.renditionReports.push(H);break}default:or.warn(`line parsed but not handled: ${C}`);break}}}w&&!w.relurl?(f.pop(),m-=w.duration,c.partList&&(c.fragmentHint=w)):c.partList&&($y(v,w,d),v.cc=y,c.fragmentHint=v,B&&e3(v,B,c)),c.targetduration||(c.playlistParsingError=new Error("Missing Target Duration"));const T=f.length,P=f[0],G=f[T-1];if(m+=c.skippedSegments*c.targetduration,m>0&&T&&G){c.averagetargetduration=m/T;const R=G.sn;c.endSN=R!=="initSegment"?R:0,c.live||(G.endList=!0),j>0&&(MQ(f,j),P&&d.unshift(P))}return c.fragmentHint&&(m+=c.fragmentHint.duration),c.totalduration=m,d.length&&c.dateRangeTagCount&&P&&X5(d,c),c.endCC=y,c}}function X5(r,e){let t=r.length;if(!t)if(e.hasProgramDateTime){const l=e.fragments[e.fragments.length-1];r.push(l),t++}else return;const n=r[t-1],s=e.live?1/0:e.totalduration,i=Object.keys(e.dateRanges);for(let l=i.length;l--;){const A=e.dateRanges[i[l]],c=A.startDate.getTime();A.tagAnchor=n.ref;for(let f=t;f--;){var a;if(((a=r[f])==null?void 0:a.sn)<e.startSN)break;const d=TQ(e,c,r,f,s);if(d!==-1){A.tagAnchor=e.fragments[d].ref;break}}}}function TQ(r,e,t,n,s){const i=t[n];if(i){const l=i.programDateTime;if(e>=l||n===0){var a;const A=(((a=t[n+1])==null?void 0:a.start)||s)-i.start;if(e<=l+A*1e3){const c=t[n].sn-r.startSN;if(c<0)return-1;const f=r.fragments;if(f.length>t.length){const u=(t[n+1]||f[f.length-1]).sn-r.startSN;for(let h=u;h>c;h--){const g=f[h].programDateTime;if(e>=g&&e<g+f[h].duration*1e3)return h}}return c}}}return-1}function WL(r,e,t){var n,s;const i=new Mr(r,t),a=(n=i.METHOD)!=null?n:"",l=i.URI,A=i.hexadecimalInteger("IV"),c=i.KEYFORMATVERSIONS,f=(s=i.KEYFORMAT)!=null?s:"identity";l&&i.IV&&!A&&or.error(`Invalid IV: ${i.IV}`);const d=l?Ia.resolve(l,e):"",u=(c||"1").split("/").map(Number).filter(Number.isFinite);return new kl(a,d,f,u,A,i.KEYID)}function JL(r){const t=new Mr(r).decimalFloatingPoint("TIME-OFFSET");return He(t)?t:null}function qL(r,e){let t=(r||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const s=t.filter(i=>rv(i,n));s.length&&(e[`${n}Codec`]=s.map(i=>i.split("/")[0]).join(","),t=t.filter(i=>s.indexOf(i)===-1))}),e.unknownCodecs=t}function ZL(r,e,t){const n=e[t];n&&(r[t]=n)}function MQ(r,e){let t=r[e];for(let n=e;n--;){const s=r[n];if(!s)return;s.programDateTime=t.programDateTime-s.duration*1e3,t=s}}function $y(r,e,t){r.rawProgramDateTime?t.push(r):e!=null&&e.programDateTime&&(r.programDateTime=e.endProgramDateTime)}function XL(r,e,t,n){r.relurl=e.URI,e.BYTERANGE&&r.setByteRange(e.BYTERANGE),r.level=t,r.sn="initSegment",n&&(r.levelkeys=n),r.initSegment=null}function e3(r,e,t){r.levelkeys=e;const{encryptedFragments:n}=t;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(s=>e[s].isCommonEncryption)&&n.push(r)}function ao(r,e,t){r.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function t3(r,e,t){r.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function Bx(r,e){const t=e.startPTS;if(He(t)){let n=0,s;e.sn>r.sn?(n=t-r.start,s=r):(n=r.start-t,s=e),s.duration!==n&&s.setDuration(n)}else e.sn>r.sn?r.cc===e.cc&&r.minEndPTS?e.setStart(r.start+(r.minEndPTS-r.start)):e.setStart(r.start+r.duration):e.setStart(Math.max(r.start-e.duration,0))}function ej(r,e,t,n,s,i,a){n-t<=0&&(a.warn("Fragment should have a positive duration",e),n=t+e.duration,i=s+e.duration);let A=t,c=n;const f=e.startPTS,d=e.endPTS;if(He(f)){const x=Math.abs(f-t);r&&x>r.totalduration?a.warn(`media timestamps and playlist times differ by ${x}s for level ${e.level} ${r.url}`):He(e.deltaPTS)?e.deltaPTS=Math.max(x,e.deltaPTS):e.deltaPTS=x,A=Math.max(t,f),t=Math.min(t,f),s=e.startDTS!==void 0?Math.min(s,e.startDTS):s,c=Math.min(n,d),n=Math.max(n,d),i=e.endDTS!==void 0?Math.max(i,e.endDTS):i}const u=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(n-e.start),e.startPTS=t,e.maxStartPTS=A,e.startDTS=s,e.endPTS=n,e.minEndPTS=c,e.endDTS=i;const h=e.sn;if(!r||h<r.startSN||h>r.endSN)return 0;let g;const m=h-r.startSN,y=r.fragments;for(y[m]=e,g=m;g>0;g--)Bx(y[g],y[g-1]);for(g=m;g<y.length-1;g++)Bx(y[g],y[g+1]);return r.fragmentHint&&Bx(y[y.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,u}function DQ(r,e,t){if(r===e)return;let n=null;const s=r.fragments;for(let f=s.length-1;f>=0;f--){const d=s[f].initSegment;if(d){n=d;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let i;RQ(r,e,(f,d,u,h)=>{if((!e.startCC||e.skippedSegments)&&d.cc!==f.cc){const g=f.cc-d.cc;for(let m=u;m<h.length;m++)h[m].cc+=g;e.endCC=h[h.length-1].cc}He(f.startPTS)&&He(f.endPTS)&&(d.setStart(d.startPTS=f.startPTS),d.startDTS=f.startDTS,d.maxStartPTS=f.maxStartPTS,d.endPTS=f.endPTS,d.endDTS=f.endDTS,d.minEndPTS=f.minEndPTS,d.setDuration(f.endPTS-f.startPTS),d.duration&&(i=d),e.PTSKnown=e.alignedSliding=!0),f.hasStreams&&(d.elementaryStreams=f.elementaryStreams),d.loader=f.loader,f.hasStats&&(d.stats=f.stats),f.initSegment&&(d.initSegment=f.initSegment,n=f.initSegment)});const a=e.fragments,l=e.fragmentHint?a.concat(e.fragmentHint):a;if(n&&l.forEach(f=>{var d;f&&(!f.initSegment||f.initSegment.relurl===((d=n)==null?void 0:d.relurl))&&(f.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=a.some(f=>!f),e.deltaUpdateFailed){t.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let f=e.skippedSegments;f--;)a.shift();e.startSN=a[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=FQ(r.dateRanges,e,t));const f=r.fragments.filter(d=>d.rawProgramDateTime);if(r.hasProgramDateTime&&!e.hasProgramDateTime)for(let d=1;d<l.length;d++)l[d].programDateTime===null&&$y(l[d],l[d-1],f);X5(f,e)}e.endCC=a[a.length-1].cc}if(!e.startCC){var A;const f=nj(r,e.startSN-1);e.startCC=(A=f==null?void 0:f.cc)!=null?A:a[0].cc}UQ(r.partList,e.partList,(f,d)=>{d.elementaryStreams=f.elementaryStreams,d.stats=f.stats}),i?ej(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS,t):tj(r,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=r.driftStartTime,e.driftStart=r.driftStart;const c=e.advancedDateTime;if(e.advanced&&c){const f=e.edge;e.driftStart||(e.driftStartTime=c,e.driftStart=f),e.driftEndTime=c,e.driftEnd=f}else e.driftEndTime=r.driftEndTime,e.driftEnd=r.driftEnd,e.advancedDateTime=r.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=r.requestScheduled)}function FQ(r,e,t){const{dateRanges:n,recentlyRemovedDateranges:s}=e,i=cr({},r);s&&s.forEach(A=>{delete i[A]});const l=Object.keys(i).length;return l?(Object.keys(n).forEach(A=>{const c=i[A],f=new Y5(n[A].attr,c);f.isValid?(i[A]=f,c||(f.tagOrder+=l)):t.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${gr(n[A].attr)}"`)}),i):n}function UQ(r,e,t){if(r&&e){let n=0;for(let s=0,i=r.length;s<=i;s++){const a=r[s],l=e[s+n];a&&l&&a.index===l.index&&a.fragment.sn===l.fragment.sn?t(a,l):n--}}}function RQ(r,e,t){const n=e.skippedSegments,s=Math.max(r.startSN,e.startSN)-e.startSN,i=(r.fragmentHint?1:0)+(n?e.endSN:Math.min(r.endSN,e.endSN))-e.startSN,a=e.startSN-r.startSN,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,A=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let c=s;c<=i;c++){const f=A[a+c];let d=l[c];if(n&&!d&&f&&(d=e.fragments[c]=f),f&&d){t(f,d,c,l);const u=f.relurl,h=d.relurl;if(u&&_Q(u,h)){e.playlistParsingError=r3(`media sequence mismatch ${d.sn}:`,r,e,f,d);return}else if(f.cc!==d.cc){e.playlistParsingError=r3(`discontinuity sequence mismatch (${f.cc}!=${d.cc})`,r,e,f,d);return}}}}function r3(r,e,t,n,s){return new Error(`${r} ${s.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function tj(r,e,t=!0){const n=e.startSN+e.skippedSegments-r.startSN,s=r.fragments,i=n>=0;let a=0;if(i&&n<s.length)a=s[n].start;else if(i&&e.startSN===r.endSN+1)a=r.fragmentEnd;else if(i&&t)a=r.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)a=r.fragmentStart;else return;Vy(e,a)}function Vy(r,e){if(e){const t=r.fragments;for(let n=r.skippedSegments;n<t.length;n++)t[n].addStart(e);r.fragmentHint&&r.fragmentHint.addStart(e)}}function rj(r,e=1/0){let t=1e3*r.targetduration;if(r.updated){const n=r.fragments;if(n.length&&t*4>e){const i=n[n.length-1].duration*1e3;i<t&&(t=i)}}else t/=2;return Math.round(t)}function nj(r,e,t){if(!r)return null;let n=r.fragments[e-r.startSN];return n||(n=r.fragmentHint,n&&n.sn===e)?n:e<r.startSN&&t&&t.sn===e?t:null}function n3(r,e,t){return r?sj(r.partList,e,t):null}function sj(r,e,t){if(r)for(let n=r.length;n--;){const s=r[n];if(s.index===t&&s.fragment.sn===e)return s}return null}function ij(r){r.forEach((e,t)=>{var n;(n=e.details)==null||n.fragments.forEach(s=>{s.level=t,s.initSegment&&(s.initSegment.level=t)})})}function _Q(r,e){return r!==e&&e?s3(r)!==s3(e):!1}function s3(r){return r.replace(/\?[^?]*$/,"")}function lu(r,e){for(let n=0,s=r.length;n<s;n++){var t;if(((t=r[n])==null?void 0:t.cc)===e)return r[n]}return null}function PQ(r,e){return!!(r&&e.startCC<r.endCC&&e.endCC>r.startCC)}function i3(r,e){const t=r.start+e;r.startPTS=t,r.setStart(t),r.endPTS=t+r.duration}function aj(r,e){const t=e.fragments;for(let n=0,s=t.length;n<s;n++)i3(t[n],r);e.fragmentHint&&i3(e.fragmentHint,r),e.alignedSliding=!0}function QQ(r,e){r&&(oj(e,r),e.alignedSliding||zm(e,r),!e.alignedSliding&&!e.skippedSegments&&tj(r,e,!1))}function oj(r,e){if(!PQ(e,r))return;const t=Math.min(e.endCC,r.endCC),n=lu(e.fragments,t),s=lu(r.fragments,t);if(!n||!s)return;or.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const i=n.start-s.start;aj(i,r)}function zm(r,e){if(!r.hasProgramDateTime||!e.hasProgramDateTime)return;const t=r.fragments,n=e.fragments;if(!t.length||!n.length)return;let s,i;const a=Math.min(e.endCC,r.endCC);e.startCC<a&&r.startCC<a&&(s=lu(n,a),i=lu(t,a)),(!s||!i)&&(s=n[Math.floor(n.length/2)],i=lu(t,s.cc)||t[Math.floor(t.length/2)]);const l=s.programDateTime,A=i.programDateTime;if(!l||!A)return;const c=(A-l)/1e3-(i.start-s.start);aj(c,r)}function gs(r,e,t){Bs(r,e,t),r.addEventListener(e,t)}function Bs(r,e,t){r.removeEventListener(e,t)}const OQ={toString:function(r){let e="";const t=r.length;for(let n=0;n<t;n++)e+=`[${r.start(n).toFixed(3)}-${r.end(n).toFixed(3)}]`;return e}},Ne={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Av extends $5{constructor(e,t,n,s,i){super(s,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Ne.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:l,media:A,mediaBuffer:c,state:f}=this,d=A?A.currentTime:0,u=Lt.bufferInfo(c||A,d,a.maxBufferHole),h=!u.len;if(this.log(`Media seeking to ${He(d)?d.toFixed(3):d}, state: ${f}, ${h?"out of":"in"} buffer`),this.state===Ne.ENDED)this.resetLoadingState();else if(l){const g=a.maxFragLookUpTolerance,m=l.start-g,y=l.start+l.duration+g;if(h||y<u.start||m>u.end){const x=d>y;(d<m||x)&&(x&&l.loader&&(this.log(`Cancelling fragment load for seek (sn: ${l.sn})`),l.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(A){this.fragmentTracker.removeFragmentsInRange(d,1/0,this.playlistType,!0);const g=this.lastCurrentTime;if(d>g&&(this.lastCurrentTime=d),!this.loadingParts){const m=Math.max(u.end,d),y=this.shouldLoadParts(this.getLevelDetails(),m);y&&(this.log(`LL-Part loading ON after seeking to ${d.toFixed(2)} with buffer @${m.toFixed(2)}`),this.loadingParts=y)}}this.hls.hasEnoughToStart||(this.log(`Setting ${h?"startPosition":"nextLoadPosition"} to ${d} for seek without enough to start`),this.nextLoadPosition=d,h&&(this.startPosition=d)),h&&this.state===Ne.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=i,this.hls=e,this.fragmentLoader=new gQ(e.config),this.keyLoader=n,this.fragmentTracker=t,this.config=e.config,this.decrypter=new iv(e.config)}registerListeners(){const{hls:e}=this;e.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(F.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===Ne.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ne.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const n=e.end||0,s=this.config.timelineOffset||0;if(n<=s)return!1;const i=e.buffered;this.config.maxBufferHole&&i&&i.length>1&&(e=Lt.bufferedInfo(i,e.start,0));const a=e.nextStart;if(a&&a>s&&a<t.edge||this.media.currentTime<e.start)return!1;const A=t.partList;if(A!=null&&A.length){const f=A[A.length-1];return Lt.isBuffered(this.media,f.start+f.duration/2)}const c=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(c)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const n=this.media=this.mediaBuffer=t.media;gs(n,"seeking",this.onMediaSeeking),gs(n,"ended",this.onMediaEnded);const s=this.config;this.levels&&s.autoStartLoad&&this.state===Ne.STOPPED&&this.startLoad(s.startPosition)}onMediaDetaching(e,t){const n=!!t.transferMedia,s=this.media;if(s!==null){if(s.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Bs(s,"seeking",this.onMediaSeeking),Bs(s,"ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=Ne.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,n){this.startFragRequested=!0,this._loadFragForPlayback(e,t,n)}_loadFragForPlayback(e,t,n){const s=i=>{const a=i.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${i.part?" part: "+i.part.index:""} of ${this.fragInfo(a,!1,i.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(i)};this._doFragLoad(e,t,n,s).then(i=>{if(!i)return;const a=this.state,l=i.frag;if(this.fragContextChanged(l)){(a===Ne.FRAG_LOADING||!this.fragCurrent&&a===Ne.PARSING)&&(this.fragmentTracker.removeFragment(l),this.state=Ne.IDLE);return}"payload"in i&&(this.log(`Loaded ${l.type} sn: ${l.sn} of ${this.playlistLabel()} ${l.level}`),this.hls.trigger(F.FRAG_LOADED,i)),this._handleFragmentLoadComplete(i)}).catch(i=>{this.state===Ne.STOPPED||this.state===Ne.ERROR||(this.warn(`Frag error: ${(i==null?void 0:i.message)||i}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:n}=this;if(n.getState(e)===wn.APPENDING){const i=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,i),l=Math.max(e.duration,a?a.len:this.config.maxBufferLength),A=this.backtrackFragment;((A?e.sn-A.sn:0)===1||this.reduceMaxBufferLength(l,e.duration))&&n.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===wn.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return(t==null?void 0:t.live)&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,n=null){if(!(e-t))return;const s={startOffset:e,endOffset:t,type:n};this.hls.trigger(F.BUFFER_FLUSHING,s)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(n=>{const s=n==null?void 0:n.frag;if(!s||this.fragContextChanged(s)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:s}=this,{frag:i,payload:a}=n,l=i.decryptdata;if(a&&a.byteLength>0&&l!=null&&l.key&&l.iv&&Xc(l.method)){const A=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),l.key.buffer,l.iv.buffer,ov(l.method)).catch(c=>{throw s.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:i}),c}).then(c=>{const f=self.performance.now();return s.trigger(F.FRAG_DECRYPTED,{frag:i,payload:c,stats:{tstart:A,tdecrypt:f}}),n.payload=c,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===Ne.STOPPED||this.state===Ne.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==Ne.STOPPED&&(this.state=Ne.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,t){var n,s;const i=e.tracks;if(i&&!t.encrypted&&((n=i.audio)!=null&&n.encrypted||(s=i.video)!=null&&s.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const a=this.media,l=new Error(`Encrypted track with no key in ${this.fragInfo(t)} (media ${a?"attached mediaKeys: "+a.mediaKeys:"detached"})`);return this.warn(l.message),!a||a.mediaKeys?!1:(this.hls.trigger(F.ERROR,{type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_NO_KEYS,fatal:!1,error:l,frag:t}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${n?OQ.toString(Lt.getBuffered(n)):"(detached)"})`),en(e)){var s;if(e.type!==Ye.SUBTITLE){const a=e.elementaryStreams;if(!Object.keys(a).some(l=>!!a[l])){this.state=Ne.IDLE;return}}const i=(s=this.levels)==null?void 0:s[e.level];i!=null&&i.fragmentError&&(this.log(`Resetting level fragment error count of ${i.fragmentError} on frag buffered`),i.fragmentError=0)}this.state=Ne.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:s,partsLoaded:i}=e,a=!i||i.length===0||i.some(A=>!A),l=new av(n.level,n.sn,n.stats.chunkCount+1,0,s?s.index:-1,!a);t.flush(l)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,n=null,s){var i;this.fragCurrent=e;const a=t.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let l=null;if(e.encrypted&&!((i=e.decryptdata)!=null&&i.key)){if(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=Ne.KEY_LOADING,this.fragCurrent=e,l=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(F.KEY_LOADED,u),this.state===Ne.KEY_LOADING&&(this.state=Ne.IDLE),u}),this.hls.trigger(F.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(l=this.keyLoader.loadClear(e,a.encryptedFragments,this.startFragRequested),l&&this.log("[eme] blocking frag load until media-keys acquired"));const A=this.fragPrevious;if(en(e)&&(!A||e.sn!==A.sn)){const u=this.shouldLoadParts(t.details,e.end);u!==this.loadingParts&&(this.log(`LL-Part loading ${u?"ON":"OFF"} loading sn ${A==null?void 0:A.sn}->${e.sn}`),this.loadingParts=u)}if(n=Math.max(e.start,n||0),this.loadingParts&&en(e)){const u=a.partList;if(u&&s){n>a.fragmentEnd&&a.fragmentHint&&(e=a.fragmentHint);const h=this.getNextPart(u,e,n);if(h>-1){const g=u[h];e=this.fragCurrent=g.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${g.index} (${h}/${u.length-1}) of ${this.fragInfo(e,!1,g)}) cc: ${e.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=g.start+g.duration,this.state=Ne.FRAG_LOADING;let m;return l?m=l.then(y=>!y||this.fragContextChanged(y.frag)?null:this.doFragPartsLoad(e,g,t,s)).catch(y=>this.handleFragLoadError(y)):m=this.doFragPartsLoad(e,g,t,s).catch(y=>this.handleFragLoadError(y)),this.hls.trigger(F.FRAG_LOADING,{frag:e,part:g,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):m}else if(!e.url||this.loadedEndOfParts(u,n))return Promise.resolve(null)}}if(en(e)&&this.loadingParts){var c;this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(c=a.partList)==null?void 0:c.filter(u=>u.loaded).map(u=>`[${u.start}-${u.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+a.startSN+"-"+a.endSN+"]"}, target: ${parseFloat(n.toFixed(3))}`),He(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Ne.FRAG_LOADING;const f=this.config.progressive&&e.type!==Ye.SUBTITLE;let d;return f&&l?d=l.then(u=>!u||this.fragContextChanged(u.frag)?null:this.fragmentLoader.load(e,s)).catch(u=>this.handleFragLoadError(u)):d=Promise.all([this.fragmentLoader.load(e,f?s:void 0),l]).then(([u])=>(!f&&s&&s(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(F.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):d}doFragPartsLoad(e,t,n,s){return new Promise((i,a)=>{var l;const A=[],c=(l=n.details)==null?void 0:l.partList,f=d=>{this.fragmentLoader.loadPart(e,d,s).then(u=>{A[d.index]=u;const h=u.part;this.hls.trigger(F.FRAG_LOADED,u);const g=n3(n.details,e.sn,d.index+1)||sj(c,e.sn,d.index+1);if(g)f(g);else return i({frag:e,part:h,partsLoaded:A})}).catch(a)};f(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;t.frag&&t.details===xe.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):t.frag&&t.type===at.KEY_SYSTEM_ERROR?(t.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(t.frag)):this.hls.trigger(F.ERROR,t)}else this.hls.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==Ne.PARSING){!this.fragCurrent&&this.state!==Ne.STOPPED&&this.state!==Ne.ERROR&&(this.state=Ne.IDLE);return}const{frag:n,part:s,level:i}=t,a=self.performance.now();n.stats.parsing.end=a,s&&(s.stats.parsing.end=a);const l=this.getLevelDetails(),c=l&&n.sn>l.endSN||this.shouldLoadParts(l,n.end);c!==this.loadingParts&&(this.log(`LL-Part loading ${c?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=c),this.updateLevelTiming(n,s,i,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var n;const i=e.partList[0];if(i.fragment.type===Ye.SUBTITLE)return!1;const a=i.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(t>=a){var s;if((this.hls.hasEnoughToStart?((s=this.media)==null?void 0:s.currentTime)||this.lastCurrentTime:this.getLoadPosition())>i.start-i.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:n}=this,{level:s,sn:i,part:a}=e;if(!(t!=null&&t[s]))return this.warn(`Levels object was unset while buffering fragment ${i} of ${this.playlistLabel()} ${s}. The current chunk will not be buffered.`),null;const l=t[s],A=l.details,c=a>-1?n3(A,i,a):null,f=c?c.fragment:nj(A,i,n);return f?(n&&n!==f&&(f.stats=n.stats),{frag:f,part:c,level:l}):null}bufferFragmentData(e,t,n,s,i){if(this.state!==Ne.PARSING)return;const{data1:a,data2:l}=e;let A=a;if(l&&(A=Ii(a,l)),!A.length)return;const c=this.initPTS[t.cc],f=c?-c.baseTime/c.timescale:void 0,d={type:e.type,frag:t,part:n,chunkMeta:s,offset:f,parent:t.type,data:A};if(this.hls.trigger(F.BUFFER_APPENDING,d),e.dropped&&e.independent&&!n){if(i)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!Lt.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const n=t.currentTime,s=Lt.bufferInfo(t,n,0),i=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,i*.25),l=Math.max(Math.min(e.start-a,s.end-a),n+a);e.start-l>a&&this.flushMainBuffer(l,e.start)}getFwdBufferInfo(e,t){var n;const s=this.getLoadPosition();if(!He(s))return null;const a=this.lastCurrentTime>s||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,s,t,a)}getFwdBufferInfoAtPos(e,t,n,s){const i=Lt.bufferInfo(e,t,s);if(i.len===0&&i.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(t,n);if(a&&(i.nextStart<=a.end||a.gap)){const l=Math.max(Math.min(i.nextStart,a.end)-t,s);return Lt.bufferInfo(e,t,l)}}return i}getMaxBufferLength(e){const{config:t}=this;let n;return e?n=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):n=t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const n=this.config,s=Math.max(Math.min(e-t,n.maxBufferLength),t),i=Math.max(e-t*3,n.maxMaxBufferLength/2,s);return i>=s?(n.maxMaxBufferLength=i,this.warn(`Reduce max buffer length to ${i}s`),!0):!1}getAppendedFrag(e,t=Ye.MAIN){const n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,t):null;return n&&"fragment"in n?n.fragment:n}getNextFragment(e,t){const n=t.fragments,s=n.length;if(!s)return null;const{config:i}=this,a=n[0].start,l=i.lowLatencyMode&&!!t.partList;let A=null;if(t.live){const d=i.initialLiveManifestSize;if(s<d)return this.warn(`Not enough fragments to start playback (have: ${s}, need: ${d})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a){var c;l&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),A=this.getInitialLiveFragment(t);const u=this.hls.startPosition,h=this.hls.liveSyncPosition,g=A?(u!==-1&&u>=a?u:h)||A.start:e;this.log(`Setting startPosition to ${g} to match start frag at live edge. mainStart: ${u} liveSyncPosition: ${h} frag.start: ${(c=A)==null?void 0:c.start}`),this.startPosition=this.nextLoadPosition=g}}else e<=a&&(A=n[0]);if(!A){const d=this.loadingParts?t.partEnd:t.fragmentEnd;A=this.getFragmentAtPosition(e,d,t)}let f=this.filterReplacedPrimary(A,t);if(!f&&A){const d=A.sn-t.startSN;f=this.filterReplacedPrimary(n[d+1]||null,t)}return this.mapToInitFragWhenRequired(f)}isLoopLoading(e,t){const n=this.fragmentTracker.getState(e);return(n===wn.OK||n===wn.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,n,s,i){let a=null;if(e.gap&&(a=this.getNextFragment(this.nextLoadPosition,t),a&&!a.gap&&n.nextStart)){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,s,0);if(l!==null&&n.len+l.len>=i){const A=a.sn;return this.loopSn!==A&&(this.log(`buffer full after gaps in "${s}" playlist starting at sn: ${A}`),this.loopSn=A),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(a3(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(a3(this.config)&&e.type!==Ye.SUBTITLE){const n=this.hls.interstitialsManager,s=n==null?void 0:n.bufferingItem;if(s){const a=s.event;if(a){if(a.appendInPlace||Math.abs(e.start-s.start)>1||s.start===0)return null}else if(e.end<=s.start&&(t==null?void 0:t.live)===!1||e.start>s.end&&s.nextEvent&&(s.nextEvent.appendInPlace||e.start-s.end>1))return null}const i=n==null?void 0:n.playerQueue;if(i)for(let a=i.length;a--;){const l=i[a].interstitial;if(l.appendInPlace&&e.start>=l.startTime&&e.end<=l.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,n){let s=-1,i=!1,a=!0;for(let l=0,A=e.length;l<A;l++){const c=e[l];if(a=a&&!c.independent,s>-1&&n<c.start)break;const f=c.loaded;f?s=-1:(i||(c.independent||a)&&c.fragment===t)&&(c.fragment!==t&&this.warn(`Need buffer at ${n} but next unloaded part starts at ${c.start}`),s=l),i=f}return s}loadedEndOfParts(e,t){let n;for(let s=e.length;s--;){if(n=e[s],!n.loaded)return!1;if(t>n.start)return!0}return!1}getInitialLiveFragment(e){const t=e.fragments,n=this.fragPrevious;let s=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),s=nQ(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!s){const i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){const a=t[i-e.startSN];n.cc===a.cc&&(s=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${s.sn}`))}s||(s=z5(e,n.cc,n.end),s&&this.log(`Live playlist, switching playlist, load frag with same CC: ${s.sn}`))}}else{const i=this.hls.liveSyncPosition;i!==null&&(s=this.getFragmentAtPosition(i,this.bitrateTest?e.fragmentEnd:e.edge,e))}return s}getFragmentAtPosition(e,t,n){const{config:s}=this;let{fragPrevious:i}=this,{fragments:a,endSN:l}=n;const{fragmentHint:A}=n,{maxFragLookUpTolerance:c}=s,f=n.partList,d=!!(this.loadingParts&&f!=null&&f.length&&A);d&&!this.bitrateTest&&f[f.length-1].fragment.sn===A.sn&&(a=a.concat(A),l=A.sn);let u;if(e<t){var h;const m=e<this.lastCurrentTime||e>t-c||(h=this.media)!=null&&h.paused||!this.startFragRequested?0:c;u=PA(i,a,e,m)}else u=a[a.length-1];if(u){const g=u.sn-n.startSN,m=this.fragmentTracker.getState(u);if((m===wn.OK||m===wn.PARTIAL&&u.gap)&&(i=u),i&&u.sn===i.sn&&(!d||f[0].fragment.sn>u.sn||!n.live)&&u.level===i.level){const x=a[g+1];u.sn<l&&this.fragmentTracker.getState(x)!==wn.OK?u=x:u=null}}return u}alignPlaylists(e,t,n){const s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;const i=e.fragmentStart,a=!t,l=e.alignedSliding&&He(i);if(a||!l&&!i){QQ(n,e);const A=e.fragmentStart;return this.log(`Live playlist sliding: ${A.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${s}`),A}return i}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let n=this.startPosition;n<t&&(n=-1);const s=this.timelineOffset;if(n===-1){const i=this.startTimeOffset!==null,a=i?this.startTimeOffset:e.startTimeOffset;a!==null&&He(a)?(n=t+a,a<0&&(n+=e.edge),n=Math.min(Math.max(t,n),t+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${a} found in ${i?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+s}this.nextLoadPosition=n+s}getLoadPosition(){var e;const{media:t}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?n=t.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&en(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==Ne.FRAG_LOADING_WAITING_RETRY)&&(this.state=Ne.IDLE)}onFragmentOrKeyLoadError(e,t){var n;if(t.chunkMeta&&!t.frag){const x=this.getCurrentContext(t.chunkMeta);x&&(t.frag=x.frag)}const s=t.frag;if(!s||s.type!==e||!this.levels)return;if(this.fragContextChanged(s)){var i;this.warn(`Frag load error must match current frag to retry ${s.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const a=t.details===xe.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(s,!0);const l=t.errorAction;if(!l){this.state=Ne.ERROR;return}const{action:A,flags:c,retryCount:f=0,retryConfig:d}=l,u=!!d,h=u&&A===_n.RetryRequest,g=u&&!l.resolved&&c===$s.MoveAllAlternatesMatchingHost,m=(n=this.hls.latestLevelDetails)==null?void 0:n.live;if(!h&&g&&en(s)&&!s.endList&&m&&!K5(t))this.resetFragmentErrors(e),this.treatAsGap(s),l.resolved=!0;else if((h||g)&&f<d.maxNumRetry){var y;const x=zy((y=t.response)==null?void 0:y.code),w=sv(d,f);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+w,this.state=Ne.FRAG_LOADING_WAITING_RETRY,l.resolved=!0,x){this.log("Waiting for connection (offline)"),this.retryDate=1/0,t.reason="offline";return}this.warn(`Fragment ${s.sn} of ${e} ${s.level} errored with ${t.details}, retrying loading ${f+1}/${d.maxNumRetry} in ${w}ms`)}else if(d)if(this.resetFragmentErrors(e),f<d.maxNumRetry)!a&&A!==_n.RemoveAlternatePermanently&&(l.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${f})`);return}else A===_n.SendAlternateToPenaltyBox?this.state=Ne.WAITING_LEVEL:this.state=Ne.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),t=this.retryDate,n=t===1/0;(!t||e>=t||n&&!zy(0))&&(n&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=Ne.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===Ne.PARSING||this.state===Ne.PARSED){const t=e.frag,n=e.parent,s=this.getFwdBufferInfo(this.mediaBuffer,n),i=s&&s.len>.5;i&&this.reduceMaxBufferLength(s.len,(t==null?void 0:t.duration)||10);const a=!i;return a&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${n} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===Ye.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Ne.STOPPED&&(this.state=Ne.IDLE)}afterBufferFlushed(e,t,n){if(!e)return;const s=Lt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,s,n),this.state===Ne.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Ne.STOPPED&&(this.state=Ne.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,n,s){const i=n.details;if(!i){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((A,c)=>{const f=e.elementaryStreams[c];if(f){const d=f.endPTS-f.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),A||!1;const u=s?0:ej(i,e,f.startPTS,f.endPTS,f.startDTS,f.endDTS,this);return this.hls.trigger(F.LEVEL_PTS_UPDATED,{details:i,level:n,drift:u,type:c,frag:e,start:f.startPTS,end:f.endPTS}),!0}return A},!1)){var l;const A=((l=this.transmuxer)==null?void 0:l.error)===null;if((n.fragmentError===0||A&&(n.fragmentError<2||e.endList))&&this.treatAsGap(e,n),A){const c=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(c.message),this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=Ne.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(F.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===Ye.MAIN?"level":"track"}fragInfo(e,t=!0,n){var s,i;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((s=t&&!n?e.startPTS:(n||e).start)!=null?s:NaN).toFixed(3)}-${((i=t&&!n?e.endPTS:(n||e).end)!=null?i:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function a3(r){return!!r.interstitialsController&&r.enableInterstitialPlayback!==!1}class lj{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let n;if(e.length)e.length===1?n=e[0]:n=HQ(e,t);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function HQ(r,e){const t=new Uint8Array(e);let n=0;for(let s=0;s<r.length;s++){const i=r[s];t.set(i,n),n+=i.length}return t}var kx={exports:{}},o3;function zQ(){return o3||(o3=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(A,c,f){this.fn=A,this.context=c,this.once=f||!1}function i(A,c,f,d,u){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||A,u),g=t?t+c:c;return A._events[g]?A._events[g].fn?A._events[g]=[A._events[g],h]:A._events[g].push(h):(A._events[g]=h,A._eventsCount++),A}function a(A,c){--A._eventsCount===0?A._events=new n:delete A._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c){var f=t?t+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var u=0,h=d.length,g=new Array(h);u<h;u++)g[u]=d[u].fn;return g},l.prototype.listenerCount=function(c){var f=t?t+c:c,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(c,f,d,u,h,g){var m=t?t+c:c;if(!this._events[m])return!1;var y=this._events[m],x=arguments.length,w,v;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,u),!0;case 5:return y.fn.call(y.context,f,d,u,h),!0;case 6:return y.fn.call(y.context,f,d,u,h,g),!0}for(v=1,w=new Array(x-1);v<x;v++)w[v-1]=arguments[v];y.fn.apply(y.context,w)}else{var C=y.length,N;for(v=0;v<C;v++)switch(y[v].once&&this.removeListener(c,y[v].fn,void 0,!0),x){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,f);break;case 3:y[v].fn.call(y[v].context,f,d);break;case 4:y[v].fn.call(y[v].context,f,d,u);break;default:if(!w)for(N=1,w=new Array(x-1);N<x;N++)w[N-1]=arguments[N];y[v].fn.apply(y[v].context,w)}}return!0},l.prototype.on=function(c,f,d){return i(this,c,f,d,!1)},l.prototype.once=function(c,f,d){return i(this,c,f,d,!0)},l.prototype.removeListener=function(c,f,d,u){var h=t?t+c:c;if(!this._events[h])return this;if(!f)return a(this,h),this;var g=this._events[h];if(g.fn)g.fn===f&&(!u||g.once)&&(!d||g.context===d)&&a(this,h);else{for(var m=0,y=[],x=g.length;m<x;m++)(g[m].fn!==f||u&&!g[m].once||d&&g[m].context!==d)&&y.push(g[m]);y.length?this._events[h]=y.length===1?y[0]:y:a(this,h)}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=t?t+c:c,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,r.exports=l}(kx)),kx.exports}var GQ=zQ(),cv=g8(GQ);const Ku="1.6.15",Ef={};function KQ(){return typeof __HLS_WORKER_BUNDLE__=="function"}function $Q(){const r=Ef[Ku];if(r)return r.clientCount++,r;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),s={worker:new self.Worker(t),objectURL:t,clientCount:1};return Ef[Ku]=s,s}function VQ(r){const e=Ef[r];if(e)return e.clientCount++,e;const t=new self.URL(r,self.location.href).href,s={worker:new self.Worker(t),scriptURL:t,clientCount:1};return Ef[r]=s,s}function YQ(r){const e=Ef[r||Ku];if(e&&e.clientCount--===1){const{worker:n,objectURL:s}=e;delete Ef[r||Ku],s&&self.URL.revokeObjectURL(s),n.terminate()}}function Aj(r,e){return e+10<=r.length&&r[e]===51&&r[e+1]===68&&r[e+2]===73&&r[e+3]<255&&r[e+4]<255&&r[e+6]<128&&r[e+7]<128&&r[e+8]<128&&r[e+9]<128}function fv(r,e){return e+10<=r.length&&r[e]===73&&r[e+1]===68&&r[e+2]===51&&r[e+3]<255&&r[e+4]<255&&r[e+6]<128&&r[e+7]<128&&r[e+8]<128&&r[e+9]<128}function Qp(r,e){let t=0;return t=(r[e]&127)<<21,t|=(r[e+1]&127)<<14,t|=(r[e+2]&127)<<7,t|=r[e+3]&127,t}function $u(r,e){const t=e;let n=0;for(;fv(r,e);){n+=10;const s=Qp(r,e+6);n+=s,Aj(r,e+10)&&(n+=10),e+=n}if(n>0)return r.subarray(t,t+n)}function WQ(r,e,t,n){const s=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=e[t+2],a=i>>2&15;if(a>12){const h=new Error(`invalid ADTS sampling index:${a}`);r.emit(F.ERROR,F.ERROR,{type:at.MEDIA_ERROR,details:xe.FRAG_PARSING_ERROR,fatal:!0,error:h,reason:h.message});return}const l=(i>>6&3)+1,A=e[t+3]>>6&3|(i&1)<<2,c="mp4a.40."+l,f=s[a];let d=a;(l===5||l===29)&&(d-=3);const u=[l<<3|(d&14)>>1,(d&1)<<7|A<<3];return or.log(`manifest codec:${n}, parsed codec:${c}, channels:${A}, rate:${f} (ADTS object type:${l} sampling index:${a})`),{config:u,samplerate:f,channelCount:A,codec:c,parsedCodec:c,manifestCodec:n}}function cj(r,e){return r[e]===255&&(r[e+1]&246)===240}function fj(r,e){return r[e+1]&1?7:9}function dv(r,e){return(r[e+3]&3)<<11|r[e+4]<<3|(r[e+5]&224)>>>5}function JQ(r,e){return e+5<r.length}function Gm(r,e){return e+1<r.length&&cj(r,e)}function qQ(r,e){return JQ(r,e)&&cj(r,e)&&dv(r,e)<=r.length-e}function ZQ(r,e){if(Gm(r,e)){const t=fj(r,e);if(e+t>=r.length)return!1;const n=dv(r,e);if(n<=t)return!1;const s=e+n;return s===r.length||Gm(r,s)}return!1}function dj(r,e,t,n,s){if(!r.samplerate){const i=WQ(e,t,n,s);if(!i)return;cr(r,i)}}function uj(r){return 1024*9e4/r}function XQ(r,e){const t=fj(r,e);if(e+t<=r.length){const n=dv(r,e)-t;if(n>0)return{headerLength:t,frameLength:n}}}function hj(r,e,t,n,s){const i=uj(r.samplerate),a=n+s*i,l=XQ(e,t);let A;if(l){const{frameLength:d,headerLength:u}=l,h=u+d,g=Math.max(0,t+h-e.length);g?(A=new Uint8Array(h-u),A.set(e.subarray(t+u,e.length),0)):A=e.subarray(t+u,t+h);const m={unit:A,pts:a};return g||r.samples.push(m),{sample:m,length:h,missing:g}}const c=e.length-t;return A=new Uint8Array(c),A.set(e.subarray(t,e.length),0),{sample:{unit:A,pts:a},length:c,missing:-1}}function e9(r,e){return fv(r,e)&&Qp(r,e+6)+10<=r.length-e}function t9(r){return r instanceof ArrayBuffer?r:r.byteOffset==0&&r.byteLength==r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer}function jx(r,e=0,t=1/0){return r9(r,e,t,Uint8Array)}function r9(r,e,t,n){const s=n9(r);let i=1;"BYTES_PER_ELEMENT"in n&&(i=n.BYTES_PER_ELEMENT);const a=s9(r)?r.byteOffset:0,l=(a+r.byteLength)/i,A=(a+e)/i,c=Math.floor(Math.max(0,Math.min(A,l))),f=Math.floor(Math.min(c+Math.max(t,0),l));return new n(s,c,f-c)}function n9(r){return r instanceof ArrayBuffer?r:r.buffer}function s9(r){return r&&r.buffer instanceof ArrayBuffer&&r.byteLength!==void 0&&r.byteOffset!==void 0}function i9(r){const e={key:r.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(r.size<2)return;if(r.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const n=r.data.subarray(1).indexOf(0);if(n===-1)return;const s=ti(jx(r.data,1,n)),i=r.data[2+n],a=r.data.subarray(3+n).indexOf(0);if(a===-1)return;const l=ti(jx(r.data,3+n,a));let A;return s==="-->"?A=ti(jx(r.data,4+n+a)):A=t9(r.data.subarray(4+n+a)),e.mimeType=s,e.pictureType=i,e.description=l,e.data=A,e}function a9(r){if(r.size<2)return;const e=ti(r.data,!0),t=new Uint8Array(r.data.subarray(e.length+1));return{key:r.type,info:e,data:t.buffer}}function o9(r){if(r.size<2)return;if(r.type==="TXXX"){let t=1;const n=ti(r.data.subarray(t),!0);t+=n.length+1;const s=ti(r.data.subarray(t));return{key:r.type,info:n,data:s}}const e=ti(r.data.subarray(1));return{key:r.type,info:"",data:e}}function l9(r){if(r.type==="WXXX"){if(r.size<2)return;let t=1;const n=ti(r.data.subarray(t),!0);t+=n.length+1;const s=ti(r.data.subarray(t));return{key:r.type,info:n,data:s}}const e=ti(r.data);return{key:r.type,info:"",data:e}}function A9(r){return r.type==="PRIV"?a9(r):r.type[0]==="W"?l9(r):r.type==="APIC"?i9(r):o9(r)}function c9(r){const e=String.fromCharCode(r[0],r[1],r[2],r[3]),t=Qp(r,4),n=10;return{type:e,size:t,data:r.subarray(n,n+t)}}const k0=10,f9=10;function gj(r){let e=0;const t=[];for(;fv(r,e);){const n=Qp(r,e+6);r[e+5]>>6&1&&(e+=k0),e+=k0;const s=e+n;for(;e+f9<s;){const i=c9(r.subarray(e)),a=A9(i);a&&t.push(a),e+=i.size+k0}Aj(r,e)&&(e+=k0)}return t}function mj(r){return r&&r.key==="PRIV"&&r.info==="com.apple.streaming.transportStreamTimestamp"}function d9(r){if(r.data.byteLength===8){const e=new Uint8Array(r.data),t=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,t&&(n+=4772185884e-2),Math.round(n)}}function uv(r){const e=gj(r);for(let t=0;t<e.length;t++){const n=e[t];if(mj(n))return d9(n)}}let Ws=function(r){return r.audioId3="org.id3",r.dateRange="com.apple.quicktime.HLS",r.emsg="https://aomedia.org/emsg/ID3",r.misbklv="urn:misb:KLV:bin:1910.1",r}({});function Ba(r="",e=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class hv{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,n,s){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,n){}demux(e,t){this.cachedData&&(e=Ii(this.cachedData,e),this.cachedData=null);let n=$u(e,0),s=n?n.length:0,i;const a=this._audioTrack,l=this._id3Track,A=n?uv(n):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&He(A))&&(this.basePTS=u9(A,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Ws.audioId3,duration:Number.POSITIVE_INFINITY});s<c;){if(this.canParse(e,s)){const f=this.appendFrame(a,e,s);f?(this.frameIndex++,this.lastPTS=f.sample.pts,s+=f.length,i=s):s=c}else e9(e,s)?(n=$u(e,s),l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Ws.audioId3,duration:Number.POSITIVE_INFINITY}),s+=n.length,i=s):s++;if(s===c&&i!==c){const f=e.slice(i);this.cachedData?this.cachedData=Ii(this.cachedData,f):this.cachedData=f}}return{audioTrack:a,videoTrack:Ba(),id3Track:l,textTrack:Ba()}}demuxSampleAes(e,t,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Ba(),id3Track:this._id3Track,textTrack:Ba()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const u9=(r,e,t)=>{if(He(r))return r*90;const n=t?t.baseTime*9e4/t.timescale:0;return e*9e4+n};let j0=null;const h9=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],g9=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],m9=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],p9=[0,1,1,4];function pj(r,e,t,n,s){if(t+24>e.length)return;const i=xj(e,t);if(i&&t+i.frameLength<=e.length){const a=i.samplesPerFrame*9e4/i.sampleRate,l=n+s*a,A={unit:e.subarray(t,t+i.frameLength),pts:l,dts:l};return r.config=[],r.channelCount=i.channelCount,r.samplerate=i.sampleRate,r.samples.push(A),{sample:A,length:i.frameLength,missing:0}}}function xj(r,e){const t=r[e+1]>>3&3,n=r[e+1]>>1&3,s=r[e+2]>>4&15,i=r[e+2]>>2&3;if(t!==1&&s!==0&&s!==15&&i!==3){const a=r[e+2]>>1&1,l=r[e+3]>>6,A=t===3?3-n:n===3?3:4,c=h9[A*14+s-1]*1e3,d=g9[(t===3?0:t===2?1:2)*3+i],u=l===3?1:2,h=m9[t][n],g=p9[n],m=h*8*g,y=Math.floor(h*c/d+a)*g;if(j0===null){const v=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);j0=v?parseInt(v[1]):0}return!!j0&&j0<=87&&n===2&&c>=224e3&&l===0&&(r[e+3]=r[e+3]|128),{sampleRate:d,channelCount:u,frameLength:y,samplesPerFrame:m}}}function gv(r,e){return r[e]===255&&(r[e+1]&224)===224&&(r[e+1]&6)!==0}function yj(r,e){return e+1<r.length&&gv(r,e)}function x9(r,e){return gv(r,e)&&4<=r.length-e}function wj(r,e){if(e+1<r.length&&gv(r,e)){const n=xj(r,e);let s=4;n!=null&&n.frameLength&&(s=n.frameLength);const i=e+s;return i===r.length||yj(r,i)}return!1}class y9 extends hv{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,n,s){super.resetInitSegment(e,t,n,s),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const n=$u(e,0);let s=(n==null?void 0:n.length)||0;if(wj(e,s))return!1;for(let i=e.length;s<i;s++)if(ZQ(e,s))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return qQ(e,t)}appendFrame(e,t,n){dj(e,this.observer,t,n,e.manifestCodec);const s=hj(e,t,n,this.basePTS,this.frameIndex);if(s&&s.missing===0)return s}}const bj=(r,e)=>{let t=0,n=5;e+=n;const s=new Uint32Array(1),i=new Uint32Array(1),a=new Uint8Array(1);for(;n>0;){a[0]=r[e];const l=Math.min(n,8),A=8-l;i[0]=4278190080>>>24+A<<A,s[0]=(a[0]&i[0])>>A,t=t?t<<l|s[0]:s[0],e+=1,n-=l}return t};class w9 extends hv{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,n,s){super.resetInitSegment(e,t,n,s),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,n){const s=vj(e,t,n,this.basePTS,this.frameIndex);if(s!==-1)return{sample:e.samples[e.samples.length-1],length:s,missing:0}}static probe(e){if(!e)return!1;const t=$u(e,0);if(!t)return!1;const n=t.length;return e[n]===11&&e[n+1]===119&&uv(t)!==void 0&&bj(e,n)<16}}function vj(r,e,t,n,s){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const i=e[t+4]>>6;if(i>=3)return-1;const l=[48e3,44100,32e3][i],A=e[t+4]&63,f=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][A*3+i]*2;if(t+f>e.length)return-1;const d=e[t+6]>>5;let u=0;d===2?u+=2:(d&1&&d!==1&&(u+=2),d&4&&(u+=2));const h=(e[t+6]<<8|e[t+7])>>12-u&1,m=[2,1,2,3,3,4,4,5][d]+h,y=e[t+5]>>3,x=e[t+5]&7,w=new Uint8Array([i<<6|y<<1|x>>2,(x&3)<<6|d<<3|h<<2|A>>4,A<<4&224]),v=1536/l*9e4,C=n+s*v,N=e.subarray(t,t+f);return r.config=w,r.channelCount=m,r.samplerate=l,r.samples.push({unit:N,pts:C}),f}class b9 extends hv{resetInitSegment(e,t,n,s){super.resetInitSegment(e,t,n,s),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=$u(e,0);let n=(t==null?void 0:t.length)||0;if(t&&e[n]===11&&e[n+1]===119&&uv(t)!==void 0&&bj(e,n)<=16)return!1;for(let s=e.length;n<s;n++)if(wj(e,n))return or.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return x9(e,t)}appendFrame(e,t,n){if(this.basePTS!==null)return pj(e,t,n,this.basePTS,this.frameIndex)}}const v9=/\/emsg[-/]ID3/i;class C9{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,n,s){const i=this.videoTrack=Ba("video",1),a=this.audioTrack=Ba("audio",1),l=this.txtTrack=Ba("text",1);if(this.id3Track=Ba("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const A=T5(e);if(A.video){const{id:c,timescale:f,codec:d,supplemental:u}=A.video;i.id=c,i.timescale=l.timescale=f,i.codec=d,i.supplemental=u}if(A.audio){const{id:c,timescale:f,codec:d}=A.audio;a.id=c,a.timescale=f,a.codec=d}l.id=k5.text,i.sampleDuration=0,i.duration=a.duration=s}resetContiguity(){this.remainderData=null}static probe(e){return w8(e)}demux(e,t){this.timeOffset=t;let n=e;const s=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Ii(this.remainderData,e));const l=N8(n);this.remainderData=l.remainder,s.samples=l.valid||new Uint8Array}else s.samples=n;const a=this.extractID3Track(s,t);return i.samples=SL(t,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const s=this.extractID3Track(t,this.timeOffset);return n.samples=SL(e,t),{videoTrack:t,audioTrack:Ba(),id3Track:s,textTrack:Ba()}}extractID3Track(e,t){const n=this.id3Track;if(e.samples.length){const s=Rt(e.samples,["emsg"]);s&&s.forEach(i=>{const a=k8(i);if(v9.test(a.schemeIdUri)){const l=l3(a,t);let A=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;A<=.001&&(A=Number.POSITIVE_INFINITY);const c=a.payload;n.samples.push({data:c,len:c.byteLength,dts:l,pts:l,type:Ws.emsg,duration:A})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const l=l3(a,t);n.samples.push({data:a.payload,len:a.payload.byteLength,dts:l,pts:l,type:Ws.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function l3(r,e){return He(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale}class L9{constructor(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new iv(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,Rl.cbc)}decryptAacSample(e,t,n){const s=e[t].unit;if(s.length<=16)return;const i=s.subarray(16,s.length-s.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(a).then(l=>{const A=new Uint8Array(l);s.set(A,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,n)}).catch(n)}decryptAacSamples(e,t,n){for(;;t++){if(t>=e.length){n();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(t);let s=0;for(let i=32;i<e.length-16;i+=160,s+=16)n.set(e.subarray(i,i+16),s);return n}getAvcDecryptedUnit(e,t){const n=new Uint8Array(t);let s=0;for(let i=32;i<e.length-16;i+=160,s+=16)e.set(n.subarray(s,s+16),i);return e}decryptAvcSample(e,t,n,s,i){const a=F5(i.data),l=this.getAvcEncryptedData(a);this.decryptBuffer(l.buffer).then(A=>{i.data=this.getAvcDecryptedUnit(a,A),this.decrypter.isSync()||this.decryptAvcSamples(e,t,n+1,s)}).catch(s)}decryptAvcSamples(e,t,n,s){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length){s();return}const i=e[t].units;for(;!(n>=i.length);n++){const a=i[n];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,t,n,s,a),!this.decrypter.isSync()))return}}}}class Cj{constructor(){this.VideoSample=null}createVideoSample(e,t,n){return{key:e,frame:!1,pts:t,dts:n,units:[],length:0}}getLastNalUnit(e){var t;let n=this.VideoSample,s;if((!n||n.units.length===0)&&(n=e[e.length-1]),(t=n)!=null&&t.units){const i=n.units;s=i[i.length-1]}return s}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const n=t.samples,s=n.length;if(s){const i=n[s-1];e.pts=i.pts,e.dts=i.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,n){const s=t.byteLength;let i=e.naluState||0;const a=i,l=[];let A=0,c,f,d,u=-1,h=0;for(i===-1&&(u=0,h=this.getNALuType(t,0),i=0,A=1);A<s;){if(c=t[A++],!i){i=c?0:1;continue}if(i===1){i=c?0:2;continue}if(!c)i=3;else if(c===1){if(f=A-i-1,u>=0){const g={data:t.subarray(u,f),type:h};l.push(g)}else{const g=this.getLastNalUnit(e.samples);g&&(a&&A<=4-a&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-a)),f>0&&(g.data=Ii(g.data,t.subarray(0,f)),g.state=0))}A<s?(d=this.getNALuType(t,A),u=A,h=d,i=0):i=-1}else i=0}if(u>=0&&i>=0){const g={data:t.subarray(u,s),type:h,state:i};l.push(g)}if(l.length===0){const g=this.getLastNalUnit(e.samples);g&&(g.data=Ii(g.data,t))}return e.naluState=i,l}}class Au{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,n=e.byteLength-t,s=new Uint8Array(4),i=Math.min(4,t);if(i===0)throw new Error("no bytes available");s.set(e.subarray(n,n+i)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=i*8,this.bytesAvailable-=i}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const n=this.word>>>32-t;if(e>32&&or.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class S9 extends Cj{parsePES(e,t,n,s){const i=this.parseNALu(e,n.data,s);let a=this.VideoSample,l,A=!1;n.data=null,a&&i.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),i.forEach(c=>{var f,d;switch(c.type){case 1:{let m=!1;l=!0;const y=c.data;if(A&&y.length>4){const x=this.readSliceType(y);(x===2||x===4||x===7||x===9)&&(m=!0)}if(m){var u;(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.frame=!0,a.key=m;break}case 5:l=!0,(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 6:{l=!0,tv(c.data,1,n.pts,t.samples);break}case 7:{var h,g;l=!0,A=!0;const m=c.data,y=this.readSPS(m);if(!e.sps||e.width!==y.width||e.height!==y.height||((h=e.pixelRatio)==null?void 0:h[0])!==y.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==y.pixelRatio[1]){e.width=y.width,e.height=y.height,e.pixelRatio=y.pixelRatio,e.sps=[m];const x=m.subarray(1,4);let w="avc1.";for(let v=0;v<3;v++){let C=x[v].toString(16);C.length<2&&(C="0"+C),w+=C}e.codec=w}break}case 8:l=!0,e.pps=[c.data];break;case 9:l=!0,e.audFound=!0,(d=a)!=null&&d.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:l=!0;break;default:l=!1;break}a&&l&&a.units.push(c)}),s&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new Au(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let n=8,s=8,i;for(let a=0;a<e;a++)s!==0&&(i=t.readEG(),s=(n+i+256)%256),n=s===0?n:s}readSPS(e){const t=new Au(e);let n=0,s=0,i=0,a=0,l,A,c;const f=t.readUByte.bind(t),d=t.readBits.bind(t),u=t.readUEG.bind(t),h=t.readBoolean.bind(t),g=t.skipBits.bind(t),m=t.skipEG.bind(t),y=t.skipUEG.bind(t),x=this.skipScalingList.bind(this);f();const w=f();if(d(5),g(3),f(),y(),w===100||w===110||w===122||w===244||w===44||w===83||w===86||w===118||w===128){const M=u();if(M===3&&g(1),y(),y(),g(1),h())for(A=M!==3?8:12,c=0;c<A;c++)h()&&(c<6?x(16,t):x(64,t))}y();const v=u();if(v===0)u();else if(v===1)for(g(1),m(),m(),l=u(),c=0;c<l;c++)m();y(),g(1);const C=u(),N=u(),B=d(1);B===0&&g(1),g(1),h()&&(n=u(),s=u(),i=u(),a=u());let j=[1,1];if(h()&&h())switch(f()){case 1:j=[1,1];break;case 2:j=[12,11];break;case 3:j=[10,11];break;case 4:j=[16,11];break;case 5:j=[40,33];break;case 6:j=[24,11];break;case 7:j=[20,11];break;case 8:j=[32,11];break;case 9:j=[80,33];break;case 10:j=[18,11];break;case 11:j=[15,11];break;case 12:j=[64,33];break;case 13:j=[160,99];break;case 14:j=[4,3];break;case 15:j=[3,2];break;case 16:j=[2,1];break;case 255:{j=[f()<<8|f(),f()<<8|f()];break}}return{width:Math.ceil((C+1)*16-n*2-s*2),height:(2-B)*(N+1)*16-(B?2:4)*(i+a),pixelRatio:j}}}class E9 extends Cj{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,n,s){const i=this.parseNALu(e,n.data,s);let a=this.VideoSample,l,A=!1;n.data=null,a&&i.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),i.forEach(c=>{var f,d;switch(c.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.frame=!0,l=!0;break;case 16:case 17:case 18:case 21:if(l=!0,A){var u;(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:l=!0,(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 39:l=!0,tv(c.data,2,n.pts,t.samples);break;case 32:l=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=cr(e.params,this.readVPS(c.data)),this.initVPS=c.data),e.vps=[c.data];break;case 33:if(l=!0,A=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],c.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const h=this.readSPS(c.data);e.width=h.width,e.height=h.height,e.pixelRatio=h.pixelRatio,e.codec=h.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const g in h.params)e.params[g]=h.params[g]}this.pushParameterSet(e.sps,c.data,e.vps),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0;break;case 34:if(l=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const h=this.readPPS(c.data);for(const g in h)e.params[g]=h[g]}this.pushParameterSet(e.pps,c.data,e.vps)}break;case 35:l=!0,e.audFound=!0,(d=a)!=null&&d.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:l=!1;break}a&&l&&a.units.push(c)}),s&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}pushParameterSet(e,t,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let n=0;for(let s=0;s<e.byteLength;s++)s>=2&&e[s]===3&&e[s-1]===0&&e[s-2]===0||(t[n]=e[s],n++);return new Uint8Array(t.buffer,0,n)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new Au(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const n=t.readBits(3),s=t.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:s}}readSPS(e){const t=new Au(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const n=t.readBits(3);t.readBoolean();const s=t.readBits(2),i=t.readBoolean(),a=t.readBits(5),l=t.readUByte(),A=t.readUByte(),c=t.readUByte(),f=t.readUByte(),d=t.readUByte(),u=t.readUByte(),h=t.readUByte(),g=t.readUByte(),m=t.readUByte(),y=t.readUByte(),x=t.readUByte(),w=[],v=[];for(let Ie=0;Ie<n;Ie++)w.push(t.readBoolean()),v.push(t.readBoolean());if(n>0)for(let Ie=n;Ie<8;Ie++)t.readBits(2);for(let Ie=0;Ie<n;Ie++)w[Ie]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),v[Ie]&&t.readUByte();t.readUEG();const C=t.readUEG();C==3&&t.skipBits(1);const N=t.readUEG(),B=t.readUEG(),j=t.readBoolean();let M=0,I=0,U=0,T=0;j&&(M+=t.readUEG(),I+=t.readUEG(),U+=t.readUEG(),T+=t.readUEG());const P=t.readUEG(),G=t.readUEG(),R=t.readUEG(),q=t.readBoolean();for(let Ie=q?0:n;Ie<=n;Ie++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let Ke=0;Ke<4;Ke++)for(let $e=0;$e<(Ke===3?2:6);$e++)if(!t.readBoolean())t.readUEG();else{const Je=Math.min(64,1<<4+(Ke<<1));Ke>1&&t.readEG();for(let Oe=0;Oe<Je;Oe++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const H=t.readUEG();let re=0;for(let Ie=0;Ie<H;Ie++){let Ke=!1;if(Ie!==0&&(Ke=t.readBoolean()),Ke){Ie===H&&t.readUEG(),t.readBoolean(),t.readUEG();let $e=0;for(let je=0;je<=re;je++){const Je=t.readBoolean();let Oe=!1;Je||(Oe=t.readBoolean()),(Je||Oe)&&$e++}re=$e}else{const $e=t.readUEG(),je=t.readUEG();re=$e+je;for(let Je=0;Je<$e;Je++)t.readUEG(),t.readBoolean();for(let Je=0;Je<je;Je++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const Ie=t.readUEG();for(let Ke=0;Ke<Ie;Ke++){for(let $e=0;$e<R+4;$e++)t.readBits(1);t.readBits(1)}}let le=0,D=1,K=1,Y=!0,se=1,J=0;t.readBoolean(),t.readBoolean();let ie=!1;if(t.readBoolean()){if(t.readBoolean()){const be=t.readUByte(),Fe=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],rt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];be>0&&be<16?(D=Fe[be-1],K=rt[be-1]):be===255&&(D=t.readBits(16),K=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),ie=t.readBoolean(),ie&&(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG()),t.readBoolean()&&(se=t.readBits(32),J=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const rt=t.readBoolean(),ot=t.readBoolean();let dt=!1;(rt||ot)&&(dt=t.readBoolean(),dt&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),dt&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let Et=0;Et<=n;Et++){Y=t.readBoolean();const wt=Y||t.readBoolean();let Ve=!1;wt?t.readEG():Ve=t.readBoolean();const mt=Ve?1:t.readUEG()+1;if(rt)for(let et=0;et<mt;et++)t.readUEG(),t.readUEG(),dt&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(ot)for(let et=0;et<mt;et++)t.readUEG(),t.readUEG(),dt&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),le=t.readUEG())}let ae=N,he=B;if(j){let Ie=1,Ke=1;C===1?Ie=Ke=2:C==2&&(Ie=2),ae=N-Ie*I-Ie*M,he=B-Ke*T-Ke*U}const Ee=s?["A","B","C"][s]:"",_e=l<<24|A<<16|c<<8|f;let Pe=0;for(let Ie=0;Ie<32;Ie++)Pe=(Pe|(_e>>Ie&1)<<31-Ie)>>>0;let We=Pe.toString(16);return a===1&&We==="2"&&(We="6"),{codecString:`hvc1.${Ee}${a}.${We}.${i?"H":"L"}${x}.B0`,params:{general_tier_flag:i,general_profile_idc:a,general_profile_space:s,general_profile_compatibility_flags:[l,A,c,f],general_constraint_indicator_flags:[d,u,h,g,m,y],general_level_idc:x,bit_depth:P+8,bit_depth_luma_minus8:P,bit_depth_chroma_minus8:G,min_spatial_segmentation_idc:le,chroma_format_idc:C,frame_rate:{fixed:Y,fps:J/se}},width:ae,height:he,pixelRatio:[D,K]}}readPPS(e){const t=new Au(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const s=t.readBoolean(),i=t.readBoolean();let a=1;return i&&s?a=0:i?a=3:s&&(a=2),{parallelismType:a}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const Sn=188;class Al{constructor(e,t,n,s){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.logger=s,this.videoParser=null}static probe(e,t){const n=Al.syncOffset(e);return n>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const t=e.length;let n=Math.min(Sn*5,t-Sn)+1,s=0;for(;s<n;){let i=!1,a=-1,l=0;for(let A=s;A<t;A+=Sn)if(e[A]===71&&(t-A===Sn||e[A+Sn]===71)){if(l++,a===-1&&(a=A,a!==0&&(n=Math.min(a+Sn*99,e.length-Sn)+1)),i||(i=Yy(e,A)===0),i&&l>1&&(a===0&&l>2||A+Sn>n))return a}else{if(l)return-1;break}s++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:k5[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,n,s){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Al.createTrack("video"),this._videoTrack.duration=s,this._audioTrack=Al.createTrack("audio",s),this._id3Track=Al.createTrack("id3"),this._txtTrack=Al.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:n}=this;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,n=!1,s=!1){n||(this.sampleAes=null);let i;const a=this._videoTrack,l=this._audioTrack,A=this._id3Track,c=this._txtTrack;let f=a.pid,d=a.pesData,u=l.pid,h=A.pid,g=l.pesData,m=A.pesData,y=null,x=this.pmtParsed,w=this._pmtId,v=e.length;if(this.remainderData&&(e=Ii(this.remainderData,e),v=e.length,this.remainderData=null),v<Sn&&!s)return this.remainderData=e,{audioTrack:l,videoTrack:a,id3Track:A,textTrack:c};const C=Math.max(0,Al.syncOffset(e));v-=(v-C)%Sn,v<e.byteLength&&!s&&(this.remainderData=new Uint8Array(e.buffer,v,e.buffer.byteLength-v));let N=0;for(let j=C;j<v;j+=Sn)if(e[j]===71){const M=!!(e[j+1]&64),I=Yy(e,j),U=(e[j+3]&48)>>4;let T;if(U>1){if(T=j+5+e[j+4],T===j+Sn)continue}else T=j+4;switch(I){case f:M&&(d&&(i=gc(d,this.logger))&&(this.readyVideoParser(a.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(a,c,i,!1)),d={data:[],size:0}),d&&(d.data.push(e.subarray(T,j+Sn)),d.size+=j+Sn-T);break;case u:if(M){if(g&&(i=gc(g,this.logger)))switch(l.segmentCodec){case"aac":this.parseAACPES(l,i);break;case"mp3":this.parseMPEGPES(l,i);break;case"ac3":this.parseAC3PES(l,i);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(T,j+Sn)),g.size+=j+Sn-T);break;case h:M&&(m&&(i=gc(m,this.logger))&&this.parseID3PES(A,i),m={data:[],size:0}),m&&(m.data.push(e.subarray(T,j+Sn)),m.size+=j+Sn-T);break;case 0:M&&(T+=e[T]+1),w=this._pmtId=N9(e,T);break;case w:{M&&(T+=e[T]+1);const P=B9(e,T,this.typeSupported,n,this.observer,this.logger);f=P.videoPid,f>0&&(a.pid=f,a.segmentCodec=P.segmentVideoCodec),u=P.audioPid,u>0&&(l.pid=u,l.segmentCodec=P.segmentAudioCodec),h=P.id3Pid,h>0&&(A.pid=h),y!==null&&!x&&(this.logger.warn(`MPEG-TS PMT found at ${j} after unknown PID '${y}'. Backtracking to sync byte @${C} to parse all TS packets.`),y=null,j=C-188),x=this.pmtParsed=!0;break}case 17:case 8191:break;default:y=I;break}}else N++;N>0&&Wy(this.observer,new Error(`Found ${N} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=d,l.pesData=g,A.pesData=m;const B={audioTrack:l,videoTrack:a,id3Track:A,textTrack:c};return s&&this.extractRemainingSamples(B),B}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:n,id3Track:s,textTrack:i}=e,a=n.pesData,l=t.pesData,A=s.pesData;let c;if(a&&(c=gc(a,this.logger))?(this.readyVideoParser(n.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(n,i,c,!0),n.pesData=null)):n.pesData=a,l&&(c=gc(l,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,c);break;case"mp3":this.parseMPEGPES(t,c);break;case"ac3":this.parseAC3PES(t,c);break}t.pesData=null}else l!=null&&l.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=l;A&&(c=gc(A,this.logger))?(this.parseID3PES(s,c),s.pesData=null):s.pesData=A}demuxSampleAes(e,t,n){const s=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new L9(this.observer,this.config,t);return this.decrypt(s,i)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new S9:e==="hevc"&&(this.videoParser=new E9))}decrypt(e,t){return new Promise(n=>{const{audioTrack:s,videoTrack:i}=e;s.samples&&s.segmentCodec==="aac"?t.decryptAacSamples(s.samples,0,()=>{i.samples?t.decryptAvcSamples(i.samples,0,0,()=>{n(e)}):n(e)}):i.samples&&t.decryptAvcSamples(i.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let n=0;const s=this.aacOverFlow;let i=t.data;if(s){this.aacOverFlow=null;const d=s.missing,u=s.sample.unit.byteLength;if(d===-1)i=Ii(s.sample.unit,i);else{const h=u-d;s.sample.unit.set(i.subarray(0,d),h),e.samples.push(s.sample),n=s.missing}}let a,l;for(a=n,l=i.length;a<l-1&&!Gm(i,a);a++);if(a!==n){let d;const u=a<l-1;if(u?d=`AAC PES did not start with ADTS header,offset:${a}`:d="No ADTS header found in AAC PES",Wy(this.observer,new Error(d),u,this.logger),!u)return}dj(e,this.observer,i,a,this.audioCodec);let A;if(t.pts!==void 0)A=t.pts;else if(s){const d=uj(e.samplerate);A=s.sample.pts+d}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,f;for(;a<l;)if(f=hj(e,i,a,A,c),a+=f.length,f.missing){this.aacOverFlow=f;break}else for(c++;a<l-1&&!Gm(i,a);a++);}parseMPEGPES(e,t){const n=t.data,s=n.length;let i=0,a=0;const l=t.pts;if(l===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<s;)if(yj(n,a)){const A=pj(e,n,a,l,i);if(A)a+=A.length,i++;else break}else a++}parseAC3PES(e,t){{const n=t.data,s=t.pts;if(s===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const i=n.length;let a=0,l=0,A;for(;l<i&&(A=vj(e,n,l,s,a++))>0;)l+=A}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=cr({},t,{type:this._videoTrack?Ws.emsg:Ws.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function Yy(r,e){return((r[e+1]&31)<<8)+r[e+2]}function N9(r,e){return(r[e+10]&31)<<8|r[e+11]}function B9(r,e,t,n,s,i){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},l=(r[e+1]&15)<<8|r[e+2],A=e+3+l-4,c=(r[e+10]&15)<<8|r[e+11];for(e+=12+c;e<A;){const f=Yy(r,e),d=(r[e+3]&15)<<8|r[e+4];switch(r[e]){case 207:if(!n){Ix("ADTS AAC",i);break}case 15:a.audioPid===-1&&(a.audioPid=f);break;case 21:a.id3Pid===-1&&(a.id3Pid=f);break;case 219:if(!n){Ix("H.264",i);break}case 27:a.videoPid===-1&&(a.videoPid=f);break;case 3:case 4:!t.mpeg&&!t.mp3?i.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=f,a.segmentAudioCodec="mp3");break;case 193:if(!n){Ix("AC-3",i);break}case 129:t.ac3?a.audioPid===-1&&(a.audioPid=f,a.segmentAudioCodec="ac3"):i.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&d>0){let u=e+5,h=d;for(;h>2;){switch(r[u]){case 106:t.ac3!==!0?i.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=f,a.segmentAudioCodec="ac3");break}const m=r[u+1]+2;u+=m,h-=m}}break;case 194:case 135:return Wy(s,new Error("Unsupported EC-3 in M2TS found"),void 0,i),a;case 36:a.videoPid===-1&&(a.videoPid=f,a.segmentVideoCodec="hevc",i.log("HEVC in M2TS found"));break}e+=d+5}return a}function Wy(r,e,t,n){n.warn(`parsing error: ${e.message}`),r.emit(F.ERROR,F.ERROR,{type:at.MEDIA_ERROR,details:xe.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function Ix(r,e){e.log(`${r} with AES-128-CBC encryption found in unencrypted stream`)}function gc(r,e){let t=0,n,s,i,a,l;const A=r.data;if(!r||r.size===0)return null;for(;A[0].length<19&&A.length>1;)A[0]=Ii(A[0],A[1]),A.splice(1,1);if(n=A[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(s=(n[4]<<8)+n[5],s&&s>r.size-6)return null;const f=n[7];f&192&&(a=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,f&64?(l=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,a-l>60*9e4&&(e.warn(`${Math.round((a-l)/9e4)}s delta between PTS and DTS, align them`),a=l)):l=a),i=n[8];let d=i+9;if(r.size<=d)return null;r.size-=d;const u=new Uint8Array(r.size);for(let h=0,g=A.length;h<g;h++){n=A[h];let m=n.byteLength;if(d)if(d>m){d-=m;continue}else n=n.subarray(d),m-=d,d=0;u.set(n,t),t+=m}return s&&(s-=i+3),{data:u,pts:a,dts:l,len:s}}return null}class k9{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const el=Math.pow(2,32)-1;class pe{static init(){pe.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in pe.types)pe.types.hasOwnProperty(e)&&(pe.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);pe.HDLR_TYPES={video:t,audio:n};const s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);pe.STTS=pe.STSC=pe.STCO=i,pe.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),pe.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),pe.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),pe.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),l=new Uint8Array([97,118,99,49]),A=new Uint8Array([0,0,0,1]);pe.FTYP=pe.box(pe.types.ftyp,a,A,a,l),pe.DINF=pe.box(pe.types.dinf,pe.box(pe.types.dref,s))}static box(e,...t){let n=8,s=t.length;const i=s;for(;s--;)n+=t[s].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(e,4),s=0,n=8;s<i;s++)a.set(t[s],n),n+=t[s].byteLength;return a}static hdlr(e){return pe.box(pe.types.hdlr,pe.HDLR_TYPES[e])}static mdat(e){return pe.box(pe.types.mdat,e)}static mdhd(e,t){t*=e;const n=Math.floor(t/(el+1)),s=Math.floor(t%(el+1));return pe.box(pe.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,s>>24,s>>16&255,s>>8&255,s&255,85,196,0,0]))}static mdia(e){return pe.box(pe.types.mdia,pe.mdhd(e.timescale||0,e.duration||0),pe.hdlr(e.type),pe.minf(e))}static mfhd(e){return pe.box(pe.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?pe.box(pe.types.minf,pe.box(pe.types.smhd,pe.SMHD),pe.DINF,pe.stbl(e)):pe.box(pe.types.minf,pe.box(pe.types.vmhd,pe.VMHD),pe.DINF,pe.stbl(e))}static moof(e,t,n){return pe.box(pe.types.moof,pe.mfhd(e),pe.traf(n,t))}static moov(e){let t=e.length;const n=[];for(;t--;)n[t]=pe.trak(e[t]);return pe.box.apply(null,[pe.types.moov,pe.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(pe.mvex(e)))}static mvex(e){let t=e.length;const n=[];for(;t--;)n[t]=pe.trex(e[t]);return pe.box.apply(null,[pe.types.mvex,...n])}static mvhd(e,t){t*=e;const n=Math.floor(t/(el+1)),s=Math.floor(t%(el+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,s>>24,s>>16&255,s>>8&255,s&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return pe.box(pe.types.mvhd,i)}static sdtp(e){const t=e.samples||[],n=new Uint8Array(4+t.length);let s,i;for(s=0;s<t.length;s++)i=t[s].flags,n[s+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return pe.box(pe.types.sdtp,n)}static stbl(e){return pe.box(pe.types.stbl,pe.stsd(e),pe.box(pe.types.stts,pe.STTS),pe.box(pe.types.stsc,pe.STSC),pe.box(pe.types.stsz,pe.STSZ),pe.box(pe.types.stco,pe.STCO))}static avc1(e){let t=[],n=[],s,i,a;for(s=0;s<e.sps.length;s++)i=e.sps[s],a=i.byteLength,t.push(a>>>8&255),t.push(a&255),t=t.concat(Array.prototype.slice.call(i));for(s=0;s<e.pps.length;s++)i=e.pps[s],a=i.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(i));const l=pe.box(pe.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(n))),A=e.width,c=e.height,f=e.pixelRatio[0],d=e.pixelRatio[1];return pe.box(pe.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,A>>8&255,A&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,pe.box(pe.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),pe.box(pe.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,f&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return pe.box(pe.types.mp4a,pe.audioStsd(e),pe.box(pe.types.esds,pe.esds(e)))}static mp3(e){return pe.box(pe.types[".mp3"],pe.audioStsd(e))}static ac3(e){return pe.box(pe.types["ac-3"],pe.audioStsd(e),pe.box(pe.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return pe.box(pe.types.stsd,pe.STSD,pe.mp4a(e));if(t==="ac3"&&e.config)return pe.box(pe.types.stsd,pe.STSD,pe.ac3(e));if(t==="mp3"&&e.codec==="mp3")return pe.box(pe.types.stsd,pe.STSD,pe.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return pe.box(pe.types.stsd,pe.STSD,pe.avc1(e));if(t==="hevc"&&e.vps)return pe.box(pe.types.stsd,pe.STSD,pe.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,n=(e.duration||0)*(e.timescale||0),s=e.width||0,i=e.height||0,a=Math.floor(n/(el+1)),l=Math.floor(n%(el+1));return pe.box(pe.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,l>>24,l>>16&255,l>>8&255,l&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,s&255,0,0,i>>8&255,i&255,0,0]))}static traf(e,t){const n=pe.sdtp(e),s=e.id,i=Math.floor(t/(el+1)),a=Math.floor(t%(el+1));return pe.box(pe.types.traf,pe.box(pe.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255])),pe.box(pe.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,a>>24,a>>16&255,a>>8&255,a&255])),pe.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,pe.box(pe.types.trak,pe.tkhd(e),pe.mdia(e))}static trex(e){const t=e.id;return pe.box(pe.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const n=e.samples||[],s=n.length,i=12+16*s,a=new Uint8Array(i);let l,A,c,f,d,u;for(t+=8+i,a.set([e.type==="video"?1:0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),l=0;l<s;l++)A=n[l],c=A.duration,f=A.size,d=A.flags,u=A.cts,a.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,u>>>24&255,u>>>16&255,u>>>8&255,u&255],12+16*l);return pe.box(pe.types.trun,a)}static initSegment(e){pe.types||pe.init();const t=pe.moov(e);return Ii(pe.FTYP,t)}static hvc1(e){const t=e.params,n=[e.vps,e.sps,e.pps],s=4,i=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),s-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),n.length]);let a=i.length;for(let g=0;g<n.length;g+=1){a+=3;for(let m=0;m<n[g].length;m+=1)a+=2+n[g][m].length}const l=new Uint8Array(a);l.set(i,0),a=i.length;const A=n.length-1;for(let g=0;g<n.length;g+=1){l.set(new Uint8Array([32+g|(g===A?128:0),0,n[g].length]),a),a+=3;for(let m=0;m<n[g].length;m+=1)l.set(new Uint8Array([n[g][m].length>>8,n[g][m].length&255]),a),a+=2,l.set(n[g][m],a),a+=n[g][m].length}const c=pe.box(pe.types.hvcC,l),f=e.width,d=e.height,u=e.pixelRatio[0],h=e.pixelRatio[1];return pe.box(pe.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f>>8&255,f&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,pe.box(pe.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),pe.box(pe.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,h>>24,h>>16&255,h>>8&255,h&255])))}}pe.types=void 0;pe.HDLR_TYPES=void 0;pe.STTS=void 0;pe.STSC=void 0;pe.STCO=void 0;pe.STSZ=void 0;pe.VMHD=void 0;pe.SMHD=void 0;pe.STSD=void 0;pe.FTYP=void 0;pe.DINF=void 0;const Lj=9e4;function mv(r,e,t=1,n=!1){const s=r*e*t;return n?Math.round(s):s}function j9(r,e,t=1,n=!1){return mv(r,e,1/t,n)}function Ed(r,e=!1){return mv(r,1e3,1/Lj,e)}function I9(r,e=1){return mv(r,Lj,1/e)}function A3(r){const{baseTime:e,timescale:t,trackId:n}=r;return`${e/t} (${e}/${t}) trackId: ${n}`}const T9=10*1e3,M9=1024,D9=1152,F9=1536;let mc=null,Tx=null;function c3(r,e,t,n){return{duration:e,size:t,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:r?2:1,isNonSync:r?0:1}}}class Og extends Di{constructor(e,t,n,s){if(super("mp4-remuxer",s),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,mc===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);mc=a?parseInt(a[1]):0}if(Tx===null){const i=navigator.userAgent.match(/Safari\/(\d+)/i);Tx=i?parseInt(i[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const t=this._initPTS;(!t||!e||e.trackId!==t.trackId||e.baseTime!==t.baseTime||e.timescale!==t.timescale)&&this.log(`Reset initPTS: ${t&&A3(t)} > ${e&&A3(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const n=e[0].pts,s=e.reduce((i,a)=>{let l=a.pts,A=l-i;return A<-4294967296&&(t=!0,l=Vs(l,n),A=l-i),A>0?i:l},n);return t&&this.debug("PTS rollover detected"),s}remux(e,t,n,s,i,a,l,A){let c,f,d,u,h,g,m=i,y=i;const x=e.pid>-1,w=t.pid>-1,v=t.samples.length,C=e.samples.length>0,N=l&&v>0||v>1;if((!x||C)&&(!w||N)||this.ISGenerated||l){if(this.ISGenerated){var j,M,I,U;const R=this.videoTrackConfig;(R&&(t.width!==R.width||t.height!==R.height||((j=t.pixelRatio)==null?void 0:j[0])!==((M=R.pixelRatio)==null?void 0:M[0])||((I=t.pixelRatio)==null?void 0:I[1])!==((U=R.pixelRatio)==null?void 0:U[1]))||!R&&N||this.nextAudioTs===null&&C)&&this.resetInitSegment()}this.ISGenerated||(d=this.generateIS(e,t,i,a));const T=this.isVideoContiguous;let P=-1,G;if(N&&(P=U9(t.samples),!T&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,P>0){this.warn(`Dropped ${P} out of ${v} video samples due to a missing keyframe`);const R=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(P),t.dropped+=P,y+=(t.samples[0].pts-R)/t.inputTimeScale,G=y}else P===-1&&(this.warn(`No keyframe found out of ${v} video samples`),g=!1);if(this.ISGenerated){if(C&&N){const R=this.getVideoStartPts(t.samples),Z=(Vs(e.samples[0].pts,R)-R)/t.inputTimeScale;m+=Math.max(0,Z),y+=Math.max(0,-Z)}if(C){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),d=this.generateIS(e,t,i,a)),f=this.remuxAudio(e,m,this.isAudioContiguous,a,w||N||A===Ye.AUDIO?y:void 0),N){const R=f?f.endPTS-f.startPTS:0;t.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),d=this.generateIS(e,t,i,a)),c=this.remuxVideo(t,y,T,R)}}else N&&(c=this.remuxVideo(t,y,T,0));c&&(c.firstKeyFrame=P,c.independent=P!==-1,c.firstKeyFramePTS=G)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=Sj(n,i,this._initPTS,this._initDTS)),s.samples.length&&(u=Ej(s,i,this._initPTS))),{audio:f,video:c,initSegment:d,independent:g,text:u,id3:h}}computeInitPts(e,t,n,s){const i=Math.round(n*t);let a=Vs(e,i);if(a<i+t)for(this.log(`Adjusting PTS for rollover in timeline near ${(i-a)/t} ${s}`);a<i+t;)a+=8589934592;return a-i}generateIS(e,t,n,s){const i=e.samples,a=t.samples,l=this.typeSupported,A={},c=this._initPTS;let f=!c||s,d="audio/mp4",u,h,g,m=-1;if(f&&(u=h=1/0),e.config&&i.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":l.mpeg?(d="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}A.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&l.mpeg?new Uint8Array(0):pe.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(m=e.id,g=e.inputTimeScale,!c||g!==c.timescale?u=h=this.computeInitPts(i[0].pts,g,n,"audio"):f=!1)}if(t.sps&&t.pps&&a.length){if(t.timescale=t.inputTimeScale,A.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:pe.initSegment([t]),metadata:{width:t.width,height:t.height}},f)if(m=t.id,g=t.inputTimeScale,!c||g!==c.timescale){const y=this.getVideoStartPts(a),x=Vs(a[0].dts,y),w=this.computeInitPts(x,g,n,"video"),v=this.computeInitPts(y,g,n,"video");h=Math.min(h,w),u=Math.min(u,v)}else f=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(A).length)return this.ISGenerated=!0,f?(c&&this.warn(`Timestamps at playlist time: ${s?"":"~"}${n} ${u/g} != initPTS: ${c.baseTime/c.timescale} (${c.baseTime}/${c.timescale}) trackId: ${c.trackId}`),this.log(`Found initPTS at playlist time: ${n} offset: ${u/g} (${u}/${g}) trackId: ${m}`),this._initPTS={baseTime:u,timescale:g,trackId:m},this._initDTS={baseTime:h,timescale:g,trackId:m}):u=g=void 0,{tracks:A,initPTS:u,timescale:g,trackId:m}}remuxVideo(e,t,n,s){const i=e.inputTimeScale,a=e.samples,l=[],A=a.length,c=this._initPTS,f=c.baseTime*i/c.timescale;let d=this.nextVideoTs,u=8,h=this.videoSampleDuration,g,m,y=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,w=!1;if(!n||d===null){const le=f+t*i,D=a[0].pts-Vs(a[0].dts,a[0].pts);mc&&d!==null&&Math.abs(le-D-(d+f))<15e3?n=!0:d=le-D-f}const v=d+f;for(let le=0;le<A;le++){const D=a[le];D.pts=Vs(D.pts,v),D.dts=Vs(D.dts,v),D.dts<a[le>0?le-1:le].dts&&(w=!0)}w&&a.sort(function(le,D){const K=le.dts-D.dts,Y=le.pts-D.pts;return K||Y}),g=a[0].dts,m=a[a.length-1].dts;const C=m-g,N=C?Math.round(C/(A-1)):h||e.inputTimeScale/30;if(n){const le=g-v,D=le>N,K=le<-1;if((D||K)&&(D?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Ed(le,!0)} ms (${le}dts) hole between fragments detected at ${t.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Ed(-le,!0)} ms (${le}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!K||v>=a[0].pts||mc)){g=v;const Y=a[0].pts-le;if(D)a[0].dts=g,a[0].pts=Y;else{let se=!0;for(let J=0;J<a.length&&!(a[J].dts>Y&&se);J++){const ie=a[J].pts;if(a[J].dts-=le,a[J].pts-=le,J<a.length-1){const de=a[J+1].pts,ae=a[J].pts,he=de<=ae,Ee=de<=ie;se=he==Ee}}}this.log(`Video: Initial PTS/DTS adjusted: ${Ed(Y,!0)}/${Ed(g,!0)}, delta: ${Ed(le,!0)} ms`)}}g=Math.max(0,g);let B=0,j=0,M=g;for(let le=0;le<A;le++){const D=a[le],K=D.units,Y=K.length;let se=0;for(let J=0;J<Y;J++)se+=K[J].data.length;j+=se,B+=Y,D.length=se,D.dts<M?(D.dts=M,M+=N/4|0||1):M=D.dts,y=Math.min(D.pts,y),x=Math.max(D.pts,x)}m=a[A-1].dts;const I=j+4*B+8;let U;try{U=new Uint8Array(I)}catch(le){this.observer.emit(F.ERROR,F.ERROR,{type:at.MUX_ERROR,details:xe.REMUX_ALLOC_ERROR,fatal:!1,error:le,bytes:I,reason:`fail allocating video mdat ${I}`});return}const T=new DataView(U.buffer);T.setUint32(0,I),U.set(pe.types.mdat,4);let P=!1,G=Number.POSITIVE_INFINITY,R=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,Z=Number.NEGATIVE_INFINITY;for(let le=0;le<A;le++){const D=a[le],K=D.units;let Y=0;for(let ie=0,de=K.length;ie<de;ie++){const ae=K[ie],he=ae.data,Ee=ae.data.byteLength;T.setUint32(u,Ee),u+=4,U.set(he,u),u+=Ee,Y+=4+Ee}let se;if(le<A-1)h=a[le+1].dts-D.dts,se=a[le+1].pts-D.pts;else{const ie=this.config,de=le>0?D.dts-a[le-1].dts:N;if(se=le>0?D.pts-a[le-1].pts:N,ie.stretchShortVideoTrack&&this.nextAudioTs!==null){const ae=Math.floor(ie.maxBufferHole*i),he=(s?y+s*i:this.nextAudioTs+f)-D.pts;he>ae?(h=he-de,h<0?h=de:P=!0,this.log(`It is approximately ${he/90} ms to the next segment; using duration ${h/90} ms for the last video frame.`)):h=de}else h=de}const J=Math.round(D.pts-D.dts);G=Math.min(G,h),q=Math.max(q,h),R=Math.min(R,se),Z=Math.max(Z,se),l.push(c3(D.key,h,Y,J))}if(l.length){if(mc){if(mc<70){const le=l[0].flags;le.dependsOn=2,le.isNonSync=0}}else if(Tx&&Z-R<q-G&&N/q<.025&&l[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let le=g;for(let D=0,K=l.length;D<K;D++){const Y=le+l[D].duration,se=le+l[D].cts;if(D<K-1){const J=Y+l[D+1].cts;l[D].duration=J-se}else l[D].duration=D?l[D-1].duration:N;l[D].cts=0,le=Y}}}h=P||!h?N:h;const oe=m+h;this.nextVideoTs=d=oe-f,this.videoSampleDuration=h,this.isVideoContiguous=!0;const ce={data1:pe.moof(e.sequenceNumber++,g,cr(e,{samples:l})),data2:U,startPTS:(y-f)/i,endPTS:(x+h-f)/i,startDTS:(g-f)/i,endDTS:d/i,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ce}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return D9;case"ac3":return F9;default:return M9}}remuxAudio(e,t,n,s,i){const a=e.inputTimeScale,l=e.samplerate?e.samplerate:a,A=a/l,c=this.getSamplesPerFrame(e),f=c*A,d=this._initPTS,u=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],g=i!==void 0;let m=e.samples,y=u?0:8,x=this.nextAudioTs||-1;const w=d.baseTime*a/d.timescale,v=w+t*a;if(this.isAudioContiguous=n=n||m.length&&x>0&&(s&&Math.abs(v-(x+w))<9e3||Math.abs(Vs(m[0].pts,v)-(x+w))<20*f),m.forEach(function(Z){Z.pts=Vs(Z.pts,v)}),!n||x<0){const Z=m.length;if(m=m.filter(oe=>oe.pts>=0),Z!==m.length&&this.warn(`Removed ${m.length-Z} of ${Z} samples (initPTS ${w} / ${a})`),!m.length)return;i===0?x=0:s&&!g?x=Math.max(0,v-w):x=m[0].pts-w}if(e.segmentCodec==="aac"){const Z=this.config.maxAudioFramesDrift;for(let oe=0,H=x+w;oe<m.length;oe++){const re=m[oe],ce=re.pts,le=ce-H,D=Math.abs(1e3*le/a);if(le<=-Z*f&&g)oe===0&&(this.warn(`Audio frame @ ${(ce/a).toFixed(3)}s overlaps marker by ${Math.round(1e3*le/a)} ms.`),this.nextAudioTs=x=ce-w,H=ce);else if(le>=Z*f&&D<T9&&g){let K=Math.round(le/f);for(H=ce-K*f;H<0&&K&&f;)K--,H+=f;oe===0&&(this.nextAudioTs=x=H-w),this.warn(`Injecting ${K} audio frames @ ${((H-w)/a).toFixed(3)}s due to ${Math.round(1e3*le/a)} ms gap.`);for(let Y=0;Y<K;Y++){let se=k9.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);se||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),se=re.unit.subarray()),m.splice(oe,0,{unit:se,pts:H}),H+=f,oe++}}re.pts=H,H+=f}}let C=null,N=null,B,j=0,M=m.length;for(;M--;)j+=m[M].unit.byteLength;for(let Z=0,oe=m.length;Z<oe;Z++){const H=m[Z],re=H.unit;let ce=H.pts;if(N!==null){const D=h[Z-1];D.duration=Math.round((ce-N)/A)}else if(n&&e.segmentCodec==="aac"&&(ce=x+w),C=ce,j>0){j+=y;try{B=new Uint8Array(j)}catch(D){this.observer.emit(F.ERROR,F.ERROR,{type:at.MUX_ERROR,details:xe.REMUX_ALLOC_ERROR,fatal:!1,error:D,bytes:j,reason:`fail allocating audio mdat ${j}`});return}u||(new DataView(B.buffer).setUint32(0,j),B.set(pe.types.mdat,4))}else return;B.set(re,y);const le=re.byteLength;y+=le,h.push(c3(!0,c,le,0)),N=ce}const I=h.length;if(!I)return;const U=h[h.length-1];x=N-w,this.nextAudioTs=x+A*U.duration;const T=u?new Uint8Array(0):pe.moof(e.sequenceNumber++,C/A,cr({},e,{samples:h}));e.samples=[];const P=(C-w)/a,G=this.nextAudioTs/a,q={data1:T,data2:B,startPTS:P,endPTS:G,startDTS:P,endDTS:G,type:"audio",hasAudio:!0,hasVideo:!1,nb:I};return this.isAudioContiguous=!0,q}}function Vs(r,e){let t;if(e===null)return r;for(e<r?t=-8589934592:t=8589934592;Math.abs(r-e)>4294967296;)r+=t;return r}function U9(r){for(let e=0;e<r.length;e++)if(r[e].key)return e;return-1}function Sj(r,e,t,n){const s=r.samples.length;if(!s)return;const i=r.inputTimeScale;for(let l=0;l<s;l++){const A=r.samples[l];A.pts=Vs(A.pts-t.baseTime*i/t.timescale,e*i)/i,A.dts=Vs(A.dts-n.baseTime*i/n.timescale,e*i)/i}const a=r.samples;return r.samples=[],{samples:a}}function Ej(r,e,t){const n=r.samples.length;if(!n)return;const s=r.inputTimeScale;for(let a=0;a<n;a++){const l=r.samples[a];l.pts=Vs(l.pts-t.baseTime*s/t.timescale,e*s)/s}r.samples.sort((a,l)=>a.pts-l.pts);const i=r.samples;return r.samples=[],{samples:i}}class R9 extends Di{constructor(e,t,n,s){super("passthrough-remuxer",s),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const t=this.initPTS;t&&e&&t.baseTime===e.baseTime&&t.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,t,n,s){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e,s),this.emitInitSegment=!0}generateInitSegment(e,t){let{audioCodec:n,videoCodec:s}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:i,video:a}=this.initData=T5(e);if(t)L8(e,t);else{const A=i||a;A!=null&&A.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${A.codec}")!`)}i&&(n=f3(i,hr.AUDIO,this)),a&&(s=f3(a,hr.VIDEO,this));const l={};i&&a?l.audiovideo={container:"video/mp4",codec:n+","+s,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:i?l.audio={container:"audio/mp4",codec:n,encrypted:i.encrypted,initSegment:e,id:"audio"}:a?l.video={container:"video/mp4",codec:s,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=l}remux(e,t,n,s,i,a){var l,A;let{initPTS:c,lastEndTime:f}=this;const d={audio:void 0,video:void 0,text:s,id3:n,initSegment:void 0};He(f)||(f=this.lastEndTime=i||0);const u=t.samples;if(!u.length)return d;const h={initPTS:void 0,timescale:void 0,trackId:void 0};let g=this.initData;if((l=g)!=null&&l.length||(this.generateInitSegment(u),g=this.initData),!((A=g)!=null&&A.length))return this.warn("Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const m=E8(u,g,this),y=g.audio?m[g.audio.id]:null,x=g.video?m[g.video.id]:null,w=I0(x,1/0),v=I0(y,1/0),C=I0(x,0,!0),N=I0(y,0,!0);let B=i,j=0;const M=y&&(!x||!c&&v<w||c&&c.trackId===g.audio.id),I=M?y:x;if(I){const H=I.timescale,re=I.start-i*H,ce=M?g.audio.id:g.video.id;B=I.start/H,j=M?N-v:C-w,(a||!c)&&(_9(c,B,i,j)||H!==c.timescale)&&(c&&this.warn(`Timestamps at playlist time: ${a?"":"~"}${i} ${re/H} != initPTS: ${c.baseTime/c.timescale} (${c.baseTime}/${c.timescale}) trackId: ${c.trackId}`),this.log(`Found initPTS at playlist time: ${i} offset: ${B-i} (${re}/${H}) trackId: ${ce}`),c=null,h.initPTS=re,h.timescale=H,h.trackId=ce)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${i}`);c?(h.initPTS=c.baseTime,h.timescale=c.timescale,h.trackId=c.trackId):((!h.timescale||h.trackId===void 0||h.initPTS===void 0)&&(this.warn("Could not set initPTS"),h.initPTS=B,h.timescale=1,h.trackId=-1),this.initPTS=c={baseTime:h.initPTS,timescale:h.timescale,trackId:h.trackId});const U=B-c.baseTime/c.timescale,T=U+j;j>0?this.lastEndTime=T:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const P=!!g.audio,G=!!g.video;let R="";P&&(R+="audio"),G&&(R+="video");const q=(g.audio?g.audio.encrypted:!1)||(g.video?g.video.encrypted:!1),Z={data1:u,startPTS:U,startDTS:U,endPTS:T,endDTS:T,type:R,hasAudio:P,hasVideo:G,nb:1,dropped:0,encrypted:q};d.audio=P&&!G?Z:void 0,d.video=G?Z:void 0;const oe=x==null?void 0:x.sampleCount;if(oe){const H=x.keyFrameIndex,re=H!==-1;Z.nb=oe,Z.dropped=H===0||this.isVideoContiguous?0:re?H:oe,Z.independent=re,Z.firstKeyFrame=H,re&&x.keyFrameStart&&(Z.firstKeyFramePTS=(x.keyFrameStart-c.baseTime)/c.timescale),this.isVideoContiguous||(d.independent=re),this.isVideoContiguous||(this.isVideoContiguous=re),Z.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${H}/${oe} dropped: ${Z.dropped} start: ${Z.firstKeyFramePTS||"NA"}`)}return d.initSegment=h,d.id3=Sj(n,i,c,c),s.samples.length&&(d.text=Ej(s,i,c)),d}}function I0(r,e,t=!1){return(r==null?void 0:r.start)!==void 0?(r.start+(t?r.duration:0))/r.timescale:e}function _9(r,e,t,n){if(r===null)return!0;const s=Math.max(n,1),i=e-r.baseTime/r.timescale;return Math.abs(i-t)>s}function f3(r,e,t){const n=r.codec;return n&&n.length>4?n:e===hr.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?Um(n,!1):(t.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):(t.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let go;try{go=self.performance.now.bind(self.performance)}catch{go=Date.now}const Hg=[{demux:C9,remux:R9},{demux:Al,remux:Og},{demux:y9,remux:Og},{demux:b9,remux:Og}];Hg.splice(2,0,{demux:w9,remux:Og});class d3{constructor(e,t,n,s,i,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.id=i,this.logger=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,n,s){const i=n.transmuxing;i.executeStart=go();let a=new Uint8Array(e);const{currentTransmuxState:l,transmuxConfig:A}=this;s&&(this.currentTransmuxState=s);const{contiguous:c,discontinuity:f,trackSwitch:d,accurateTimeOffset:u,timeOffset:h,initSegmentChange:g}=s||l,{audioCodec:m,videoCodec:y,defaultInitPts:x,duration:w,initSegmentData:v}=A,C=P9(a,t);if(C&&Xc(C.method)){const M=this.getDecrypter(),I=ov(C.method);if(M.isSync()){let U=M.softwareDecrypt(a,C.key.buffer,C.iv.buffer,I);if(n.part>-1){const P=M.flush();U=P&&P.buffer}if(!U)return i.executeEnd=go(),Mx(n);a=new Uint8Array(U)}else return this.asyncResult=!0,this.decryptionPromise=M.webCryptoDecrypt(a,C.key.buffer,C.iv.buffer,I).then(U=>{const T=this.push(U,null,n);return this.decryptionPromise=null,T}),this.decryptionPromise}const N=this.needsProbing(f,d);if(N){const M=this.configureTransmuxer(a);if(M)return this.logger.warn(`[transmuxer] ${M.message}`),this.observer.emit(F.ERROR,F.ERROR,{type:at.MEDIA_ERROR,details:xe.FRAG_PARSING_ERROR,fatal:!1,error:M,reason:M.message}),i.executeEnd=go(),Mx(n)}(f||d||g||N)&&this.resetInitSegment(v,m,y,w,t),(f||g||N)&&this.resetInitialTimestamp(x),c||this.resetContiguity();const B=this.transmux(a,C,h,u,n);this.asyncResult=Vu(B);const j=this.currentTransmuxState;return j.contiguous=!0,j.discontinuity=!1,j.trackSwitch=!1,i.executeEnd=go(),B}flush(e){const t=e.transmuxing;t.executeStart=go();const{decrypter:n,currentTransmuxState:s,decryptionPromise:i}=this;if(i)return this.asyncResult=!0,i.then(()=>this.flush(e));const a=[],{timeOffset:l}=s;if(n){const d=n.flush();d&&a.push(this.push(d.buffer,null,e))}const{demuxer:A,remuxer:c}=this;if(!A||!c){t.executeEnd=go();const d=[Mx(e)];return this.asyncResult?Promise.resolve(d):d}const f=A.flush(l);return Vu(f)?(this.asyncResult=!0,f.then(d=>(this.flushRemux(a,d,e),a))):(this.flushRemux(a,f,e),this.asyncResult?Promise.resolve(a):a)}flushRemux(e,t,n){const{audioTrack:s,videoTrack:i,id3Track:a,textTrack:l}=t,{accurateTimeOffset:A,timeOffset:c}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===Ye.MAIN?"level":"track"} ${n.level}`);const f=this.remuxer.remux(s,i,a,l,c,A,!0,this.id);e.push({remuxResult:f,chunkMeta:n}),n.transmuxing.executeEnd=go()}resetInitialTimestamp(e){const{demuxer:t,remuxer:n}=this;!t||!n||(t.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,n,s,i){const{demuxer:a,remuxer:l}=this;!a||!l||(a.resetInitSegment(e,t,n,s),l.resetInitSegment(e,t,n,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,n,s,i){let a;return t&&t.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,t,n,s,i):a=this.transmuxUnencrypted(e,n,s,i),a}transmuxUnencrypted(e,t,n,s){const{audioTrack:i,videoTrack:a,id3Track:l,textTrack:A}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,a,l,A,t,n,!1,this.id),chunkMeta:s}}transmuxSampleAes(e,t,n,s,i){return this.demuxer.demuxSampleAes(e,t,n).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,n,s,!1,this.id),chunkMeta:i}))}configureTransmuxer(e){const{config:t,observer:n,typeSupported:s}=this;let i;for(let d=0,u=Hg.length;d<u;d++){var a;if((a=Hg[d].demux)!=null&&a.probe(e,this.logger)){i=Hg[d];break}}if(!i)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,A=this.remuxer,c=i.remux,f=i.demux;(!A||!(A instanceof c))&&(this.remuxer=new c(n,t,s,this.logger)),(!l||!(l instanceof f))&&(this.demuxer=new f(n,t,s,this.logger),this.probe=f.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new iv(this.config)),e}}function P9(r,e){let t=null;return r.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const Mx=r=>({remuxResult:{},chunkMeta:r});function Vu(r){return"then"in r&&r.then instanceof Function}class Q9{constructor(e,t,n,s,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=s,this.defaultInitPts=i||null}}class O9{constructor(e,t,n,s,i,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=s,this.timeOffset=i,this.initSegmentChange=a}}let u3=0;class Nj{constructor(e,t,n,s){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=u3++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=A=>{const c=A.data,f=this.hls;if(!(!f||!(c!=null&&c.event)||c.instanceNo!==this.instanceNo))switch(c.event){case"init":{var d;const u=(d=this.workerContext)==null?void 0:d.objectURL;u&&self.URL.revokeObjectURL(u);break}case"transmuxComplete":{this.handleTransmuxComplete(c.data);break}case"flush":{this.onFlush(c.data);break}case"workerLog":{f.logger[c.data.logType]&&f.logger[c.data.logType](c.data.message);break}default:{c.data=c.data||{},c.data.frag=this.frag,c.data.part=this.part,c.data.id=this.id,f.trigger(c.event,c.data);break}}},this.onWorkerError=A=>{if(!this.hls)return;const c=new Error(`${A.message}  (${A.filename}:${A.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:c})};const i=e.config;this.hls=e,this.id=t,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=n,this.onFlush=s;const a=(A,c)=>{c=c||{},c.frag=this.frag||void 0,A===F.ERROR&&(c=c,c.parent=this.id,c.part=this.part,this.error=c.error),this.hls.trigger(A,c)};this.observer=new cv,this.observer.on(F.FRAG_DECRYPTED,a),this.observer.on(F.ERROR,a);const l=BL(i.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const A=this.hls.logger;if(i.workerPath||KQ()){try{i.workerPath?(A.log(`loading Web Worker ${i.workerPath} for "${t}"`),this.workerContext=VQ(i.workerPath)):(A.log(`injecting Web Worker for "${t}"`),this.workerContext=$Q());const{worker:f}=this.workerContext;f.addEventListener("message",this.onWorkerMessage),f.addEventListener("error",this.onWorkerError),f.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:l,id:t,config:gr(i)})}catch(f){A.warn(`Error setting up "${t}" Web Worker, fallback to inline`,f),this.terminateWorker(),this.error=null,this.transmuxer=new d3(this.observer,l,i,"",t,e.logger)}return}}this.transmuxer=new d3(this.observer,l,i,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=u3++;const t=this.hls.config,n=BL(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:gr(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),YQ(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,n,s,i,a,l,A,c,f){var d,u;c.transmuxing.start=self.performance.now();const{instanceNo:h,transmuxer:g}=this,m=a?a.start:i.start,y=i.decryptdata,x=this.frag,w=!(x&&i.cc===x.cc),v=!(x&&c.level===x.level),C=x?c.sn-x.sn:-1,N=this.part?c.part-this.part.index:-1,B=C===0&&c.id>1&&c.id===(x==null?void 0:x.stats.chunkCount),j=!v&&(C===1||C===0&&(N===1||B&&N<=0)),M=self.performance.now();(v||C||i.stats.parsing.start===0)&&(i.stats.parsing.start=M),a&&(N||!j)&&(a.stats.parsing.start=M);const I=!(x&&((d=i.initSegment)==null?void 0:d.url)===((u=x.initSegment)==null?void 0:u.url)),U=new O9(w,j,A,v,m,I);if(!j||w||I){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${i.type} sn: ${c.sn}${c.part>-1?" part: "+c.part:""} ${this.id===Ye.MAIN?"level":"track"}: ${c.level} id: ${c.id}
        discontinuity: ${w}
        trackSwitch: ${v}
        contiguous: ${j}
        accurateTimeOffset: ${A}
        timeOffset: ${m}
        initSegmentChange: ${I}`);const T=new Q9(n,s,t,l,f);this.configureTransmuxer(T)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:h,cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:U},e instanceof ArrayBuffer?[e]:[]);else if(g){const T=g.push(e,y,c,U);Vu(T)?T.then(P=>{this.handleTransmuxComplete(P)}).catch(P=>{this.transmuxerError(P,c,"transmuxer-interface push error")}):this.handleTransmuxComplete(T)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(n){const s=n.flush(e);Vu(s)?s.then(i=>{this.handleFlushResult(i,e)}).catch(i=>{this.transmuxerError(i,e,"transmuxer-interface flush error")}):this.handleFlushResult(s,e)}}transmuxerError(e,t,n){this.hls&&(this.error=e,this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,t){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const h3=100;class H9 extends Av{constructor(e,t,n){super(e,t,n,"audio-stream-controller",Ye.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(F.LEVEL_LOADED,this.onLevelLoaded,this),e.on(F.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(F.BUFFER_RESET,this.onBufferReset,this),e.on(F.BUFFER_CREATED,this.onBufferCreated,this),e.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(F.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(F.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(F.FRAG_LOADING,this.onFragLoading,this),e.on(F.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(F.LEVEL_LOADED,this.onLevelLoaded,this),e.off(F.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(F.BUFFER_RESET,this.onBufferReset,this),e.off(F.BUFFER_CREATED,this.onBufferCreated,this),e.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(F.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(F.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(F.FRAG_LOADING,this.onFragLoading,this),e.off(F.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:n,initPTS:s,timescale:i,trackId:a}){if(n===Ye.MAIN){const l=t.cc,A=this.fragCurrent;if(this.initPTS[l]={baseTime:s,timescale:i,trackId:a},this.log(`InitPTS for cc: ${l} found from main: ${s/i} (${s}/${i}) trackId: ${a}`),this.mainAnchor=t,this.state===Ne.WAITING_INIT_PTS){const c=this.waitingData;(!c&&!this.loadingParts||c&&c.frag.cc!==l)&&this.syncWithAnchor(t,c==null?void 0:c.frag)}else!this.hls.hasEnoughToStart&&A&&A.cc!==l?(A.abortRequests(),this.syncWithAnchor(t,A)):this.state===Ne.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,t){var n;const s=((n=this.mainFragLoading)==null?void 0:n.frag)||null;if(t&&(s==null?void 0:s.cc)===t.cc)return;const i=(s||e).cc,a=this.getLevelDetails(),l=this.getLoadPosition(),A=z5(a,i,l);A&&(this.log(`Syncing with main frag at ${A.start} cc ${A.cc}`),this.startFragRequested=!1,this.nextLoadPosition=A.start,this.resetLoadingState(),this.state===Ne.IDLE&&this.doTickIdle())}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=Ne.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(h3),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=Ne.IDLE):this.state=Ne.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case Ne.IDLE:this.doTickIdle();break;case Ne.WAITING_TRACK:{const{levels:e,trackId:t}=this,n=e==null?void 0:e[t],s=n==null?void 0:n.details;if(s&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(s))break;this.state=Ne.WAITING_INIT_PTS}break}case Ne.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case Ne.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:t,part:n,cache:s,complete:i}=e,a=this.mainAnchor;if(this.initPTS[t.cc]!==void 0){this.waitingData=null,this.state=Ne.FRAG_LOADING;const l=s.flush().buffer,A={frag:t,part:n,payload:l,networkDetails:null};this._handleFragmentLoadProgress(A),i&&super._handleFragmentLoadComplete(A)}else a&&a.cc!==e.frag.cc&&this.syncWithAnchor(a,e.frag)}else this.state=Ne.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:n,media:s,trackId:i}=this,a=t.config;if(!this.buffering||!s&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(n!=null&&n[i]))return;const l=n[i],A=l.details;if(!A||this.waitForLive(l)||this.waitForCdnTuneIn(A)){this.state=Ne.WAITING_TRACK,this.startFragRequested=!1;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,hr.AUDIO,Ye.AUDIO));const f=this.getFwdBufferInfo(c,Ye.AUDIO);if(f===null)return;if(!this.switchingTrack&&this._streamEnded(f,A)){t.trigger(F.BUFFER_EOS,{type:"audio"}),this.state=Ne.ENDED;return}const d=f.len,u=t.maxBufferLength,h=A.fragments,g=h[0].start,m=this.getLoadPosition(),y=this.flushing?m:f.end;if(this.switchingTrack&&s){const v=m;A.PTSKnown&&v<g&&(f.end>g||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),s.currentTime=g+.05)}if(d>=u&&!this.switchingTrack&&y<h[h.length-1].start)return;let x=this.getNextFragment(y,A);if(x&&this.isLoopLoading(x,y)&&(x=this.getNextFragmentLoopLoading(x,A,f,Ye.MAIN,u)),!x){this.bufferFlushed=!0;return}let w=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&w&&en(x)&&!x.endList&&(!A.live||!this.loadingParts&&y<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(w)===wn.OK&&(this.mainFragLoading=w=null),w&&en(w))){if(x.start>w.end){const C=this.fragmentTracker.getFragAtPos(y,Ye.MAIN);C&&C.end>w.end&&(w=C,this.mainFragLoading={frag:C,targetBufferTime:null})}if(x.start>w.end)return}this.loadFragment(x,l,y)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(n=>new Gu(n))}onAudioTrackSwitching(e,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:s}=this;s&&(s.abortRequests(),this.removeUnbufferedFrags(s.start)),this.resetLoadingState(),n?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==Ne.STOPPED&&(this.setInterval(h3),this.state=Ne.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(F.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,t){var n;const{levels:s}=this,{details:i,id:a,groupId:l,track:A}=t;if(!s){this.warn(`Audio tracks reset while loading track ${a} "${A.name}" of "${l}"`);return}const c=this.mainDetails;if(!c||i.endCC>c.endCC||c.expired){this.cachedTrackLoadedData=t,this.state!==Ne.STOPPED&&(this.state=Ne.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${A.name}" of "${l}" loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const f=s[a];let d=0;if(i.live||(n=f.details)!=null&&n.live){if(this.checkLiveUpdate(i),i.deltaUpdateFailed)return;if(f.details){var u;d=this.alignPlaylists(i,f.details,(u=this.levelLastLoaded)==null?void 0:u.details)}i.alignedSliding||(oj(i,c),i.alignedSliding||zm(i,c),d=i.fragmentStart)}f.details=i,this.levelLastLoaded=f,this.startFragRequested||this.setStartPosition(c,d),this.hls.trigger(F.AUDIO_TRACK_UPDATED,{details:i,id:a,groupId:t.groupId}),this.state===Ne.WAITING_TRACK&&!this.waitForCdnTuneIn(i)&&(this.state=Ne.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:s,payload:i}=e,{config:a,trackId:l,levels:A}=this;if(!A){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const c=A[l];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const f=c.details;if(!f){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const d=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let u=this.transmuxer;u||(u=this.transmuxer=new Nj(this.hls,Ye.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],g=(t=n.initSegment)==null?void 0:t.data;if(h!==void 0){const y=s?s.index:-1,x=y!==-1,w=new av(n.level,n.sn,n.stats.chunkCount,i.byteLength,y,x);u.push(i,g,d,"",n,s,f.totalduration,!1,w,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${f.startSN} ,${f.endSN}],track ${l}`);const{cache:m}=this.waitingData=this.waitingData||{frag:n,part:s,cache:new lj,complete:!1};m.push(new Uint8Array(i)),this.state!==Ne.STOPPED&&(this.state=Ne.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===Ye.MAIN&&en(t.frag)&&(this.mainFragLoading=t,this.state===Ne.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:n,part:s}=t;if(n.type!==Ye.AUDIO){!this.audioOnly&&n.type===Ye.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${s?" p: "+s.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(en(n)){this.fragPrevious=n;const i=this.switchingTrack;i&&(this.bufferedTrack=i,this.switchingTrack=null,this.hls.trigger(F.AUDIO_TRACK_SWITCHED,ir({},i)))}this.fragBufferedComplete(n,s),this.media&&this.tick()}onError(e,t){var n;if(t.fatal){this.state=Ne.ERROR;return}switch(t.details){case xe.FRAG_GAP:case xe.FRAG_PARSING_ERROR:case xe.FRAG_DECRYPT_ERROR:case xe.FRAG_LOAD_ERROR:case xe.FRAG_LOAD_TIMEOUT:case xe.KEY_LOAD_ERROR:case xe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ye.AUDIO,t);break;case xe.AUDIO_TRACK_LOAD_ERROR:case xe.AUDIO_TRACK_LOAD_TIMEOUT:case xe.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===Ne.WAITING_TRACK&&((n=t.context)==null?void 0:n.type)===Pt.AUDIO_TRACK&&(this.state=Ne.IDLE);break;case xe.BUFFER_ADD_CODEC_ERROR:case xe.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)||this.resetLoadingState();break;case xe.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case xe.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==hr.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==hr.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Ne.ENDED&&(this.state=Ne.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,t,Ye.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const n="audio",{hls:s}=this,{remuxResult:i,chunkMeta:a}=e,l=this.getCurrentContext(a);if(!l){this.resetWhenMissingContext(a);return}const{frag:A,part:c,level:f}=l,{details:d}=f,{audio:u,text:h,id3:g,initSegment:m}=i;if(this.fragContextChanged(A)||!d){this.fragmentTracker.removeFragment(A);return}if(this.state=Ne.PARSING,this.switchingTrack&&u&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){const y=A.initSegment||A;if(this.unhandledEncryptionError(m,A))return;this._bufferInitSegment(f,m.tracks,y,a),s.trigger(F.FRAG_PARSING_INIT_SEGMENT,{frag:y,id:n,tracks:m.tracks})}if(u){const{startPTS:y,endPTS:x,startDTS:w,endDTS:v}=u;c&&(c.elementaryStreams[hr.AUDIO]={startPTS:y,endPTS:x,startDTS:w,endDTS:v}),A.setElementaryStreamInfo(hr.AUDIO,y,x,w,v),this.bufferFragmentData(u,A,c,a)}if(g!=null&&(t=g.samples)!=null&&t.length){const y=cr({id:n,frag:A,details:d},g);s.trigger(F.FRAG_PARSING_METADATA,y)}if(h){const y=cr({id:n,frag:A,details:d},h);s.trigger(F.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,t,n,s){if(this.state!==Ne.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const i=t.audio;i.id=Ye.AUDIO;const a=e.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${a}/${i.codec}]`),a&&a.split(",").length===1&&(i.levelCodec=a),this.hls.trigger(F.BUFFER_CODECS,t);const l=i.initSegment;if(l!=null&&l.byteLength){const A={type:"audio",frag:n,part:null,chunkMeta:s,parent:n.type,data:l};this.hls.trigger(F.BUFFER_APPENDING,A)}this.tickImmediate()}loadFragment(e,t,n){const s=this.fragmentTracker.getState(e);if(this.switchingTrack||s===wn.NOT_LOADED||s===wn.PARTIAL){var i;if(!en(e))this._loadInitSegment(e,t);else if((i=t.details)!=null&&i.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Ne.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==t.details.fragmentStart&&zm(t.details,a)}else super.loadFragment(e,t,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:n,assocLang:s,characteristics:i,audioCodec:a,channels:l}=this.bufferedTrack;BA({name:t,lang:n,assocLang:s,characteristics:i,audioCodec:a,channels:l},e,gA)||(_m(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(F.AUDIO_TRACK_SWITCHED,ir({},e))}}class pv extends Di{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,n){const s=t==null?void 0:t.renditionReports;if(s){let i=-1;for(let a=0;a<s.length;a++){const l=s[a];let A;try{A=new self.URL(l.URI,t.url).href}catch(c){this.warn(`Could not construct new URL for Rendition Report: ${c}`),A=l.URI||""}if(A===e){i=a;break}else A===e.substring(0,A.length)&&(i=a)}if(i!==-1){const a=s[i],l=parseInt(a["LAST-MSN"])||t.lastPartSn;let A=parseInt(a["LAST-PART"])||t.lastPartIndex;if(this.hls.config.lowLatencyMode){const f=Math.min(t.age-t.partTarget,t.targetduration);A>=0&&f>t.partTarget&&(A+=1)}const c=n&&kL(n);return new jL(l,A>=0?A:void 0,c)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,t,n){const{details:s,stats:i}=t,a=self.performance.now(),l=i.loading.first?Math.max(0,a-i.loading.first):0;s.advancedDateTime=Date.now()-l;const A=this.hls.config.timelineOffset;if(A!==s.appliedTimelineOffset){const f=Math.max(A||0,0);s.appliedTimelineOffset=f,s.fragments.forEach(d=>{d.setStart(d.playlistOffset+f)})}if(s.live||n!=null&&n.live){const f="levelInfo"in t?t.levelInfo:t.track;if(s.reloaded(n),n&&s.fragments.length>0){DQ(n,s,this);const w=s.playlistParsingError;if(w){this.warn(w);const v=this.hls;if(!v.config.ignorePlaylistParsingErrors){var c;const{networkDetails:C}=t;v.trigger(F.ERROR,{type:at.NETWORK_ERROR,details:xe.LEVEL_PARSING_ERROR,fatal:!1,url:s.url,error:w,reason:w.message,level:t.level||void 0,parent:(c=s.fragments[0])==null?void 0:c.type,networkDetails:C,stats:i});return}s.playlistParsingError=null}}s.requestScheduled===-1&&(s.requestScheduled=i.loading.start);const d=this.hls.mainForwardBufferInfo,u=d?d.end-d.len:0,h=(s.edge-u)*1e3,g=rj(s,h);if(s.requestScheduled+g<a?s.requestScheduled=a:s.requestScheduled+=g,this.log(`live playlist ${e} ${s.advanced?"REFRESHED "+s.lastPartSn+"-"+s.lastPartIndex:s.updated?"UPDATED":"MISSED"}`),!this.canLoad||!s.live)return;let m,y,x;if(s.canBlockReload&&s.endSN&&s.advanced){const w=this.hls.config.lowLatencyMode,v=s.lastPartSn,C=s.endSN,N=s.lastPartIndex,B=N!==-1,j=v===C;B?j?(y=C+1,x=w?0:N):(y=v,x=w?N+1:s.maxPartIndex):y=C+1;const M=s.age,I=M+s.ageHeader;let U=Math.min(I-s.partTarget,s.targetduration*1.5);if(U>0){if(I>s.targetduration*3)this.log(`Playlist last advanced ${M.toFixed(2)}s ago. Omitting segment and part directives.`),y=void 0,x=void 0;else if(n!=null&&n.tuneInGoal&&I-s.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${U} with playlist age: ${s.age}`),U=0;else{const T=Math.floor(U/s.targetduration);if(y+=T,x!==void 0){const P=Math.round(U%s.targetduration/s.partTarget);x+=P}this.log(`CDN Tune-in age: ${s.ageHeader}s last advanced ${M.toFixed(2)}s goal: ${U} skip sn ${T} to part ${x}`)}s.tuneInGoal=U}if(m=this.getDeliveryDirectives(s,t.deliveryDirectives,y,x),w||!j){s.requestScheduled=a,this.loadingPlaylist(f,m);return}}else(s.canBlockReload||s.canSkipUntil)&&(m=this.getDeliveryDirectives(s,t.deliveryDirectives,y,x));m&&y!==void 0&&s.canBlockReload&&(s.requestScheduled=i.loading.first+Math.max(g-l*2,g/2)),this.scheduleLoading(f,m,s)}else this.clearTimer()}scheduleLoading(e,t,n){const s=n||e.details;if(!s){this.loadingPlaylist(e,t);return}const i=self.performance.now(),a=s.requestScheduled;if(i>=a){this.loadingPlaylist(e,t);return}const l=a-i;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(l)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),l)}getDeliveryDirectives(e,t,n,s){let i=kL(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,s=t.part,i=Pg.No),new jL(n,s,i)}checkRetry(e){const t=e.details,n=Pm(e),s=e.errorAction,{action:i,retryCount:a=0,retryConfig:l}=s||{},A=!!s&&!!l&&(i===_n.RetryRequest||!s.resolved&&i===_n.SendAlternateToPenaltyBox);if(A){var c;if(a>=l.maxNumRetry)return!1;if(n&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const f=sv(l,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),f),this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${t}" in ${f}ms`)}e.levelRetry=!0,s.resolved=!0}return A}}function Bj(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(!Yu(r[t].attrs,e[t].attrs))return!1;return!0}function Yu(r,e,t){const n=r["STABLE-RENDITION-ID"];return n&&!t?n===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(s=>r[s]!==e[s])}function Jy(r,e){return e.label.toLowerCase()===r.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(r.lang||"").toLowerCase())}class z9 extends pv{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.MANIFEST_PARSED,this.onManifestParsed,this),e.on(F.LEVEL_LOADING,this.onLevelLoading,this),e.on(F.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.MANIFEST_PARSED,this.onManifestParsed,this),e.off(F.LEVEL_LOADING,this.onLevelLoading,this),e.off(F.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(F.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:n,groupId:s,details:i}=t,a=this.tracksInGroup[n];if(!a||a.groupId!==s){this.warn(`Audio track with id:${n} and group:${s} not found in active group ${a==null?void 0:a.groupId}`);return}const l=a.details;a.details=t.details,this.log(`Audio track ${n} "${a.name}" lang:${a.lang} group:${s} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,l)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.audioGroups||null,s=this.groupIds;let i=this.currentTrack;if(!n||(s==null?void 0:s.length)!==(n==null?void 0:n.length)||n!=null&&n.some(l=>(s==null?void 0:s.indexOf(l))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const l=this.tracks.filter(u=>!n||n.indexOf(u.groupId)!==-1);if(l.length)this.selectDefaultTrack&&!l.some(u=>u.default)&&(this.selectDefaultTrack=!1),l.forEach((u,h)=>{u.id=h});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=l;const A=this.hls.config.audioPreference;if(!i&&A){const u=ja(A,l,gA);if(u>-1)i=l[u];else{const h=ja(A,this.tracks);i=this.tracks[h]}}let c=this.findTrackId(i);c===-1&&i&&(c=this.findTrackId(null));const f={audioTracks:l};this.log(`Updating audio tracks, ${l.length} track(s) found in group(s): ${n==null?void 0:n.join(",")}`),this.hls.trigger(F.AUDIO_TRACKS_UPDATED,f);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(l.length&&d===-1){var a;const u=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${l.length}`);this.warn(u.message),this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:u})}}}onError(e,t){t.fatal||!t.context||t.context.type===Pt.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const s=this.currentTrack;if(s&&BA(e,s,gA))return s;const i=ja(e,this.tracksInGroup,gA);if(i>-1){const a=this.tracksInGroup[i];return this.setAudioTrack(i),a}else if(s){let a=t.loadLevel;a===-1&&(a=t.firstAutoLevel);const l=tQ(e,t.levels,n,a,gA);if(l===-1)return null;t.nextLoadLevel=l}if(e.channels||e.audioCodec){const a=ja(e,n);if(a>-1)return n[a]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,s=t[e],i=s.details&&!s.details.live;if(e===this.trackId&&s===n&&i||(this.log(`Switching to audio-track ${e} "${s.name}" lang:${s.lang} group:${s.groupId} channels:${s.channels}`),this.trackId=e,this.currentTrack=s,this.hls.trigger(F.AUDIO_TRACK_SWITCHING,ir({},s)),i))return;const a=this.switchParams(s.url,n==null?void 0:n.details,s.details);this.loadPlaylist(a)}findTrackId(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const s=t[n];if(!(this.selectDefaultTrack&&!s.default)&&(!e||BA(e,s,gA)))return n}if(e){const{name:n,lang:s,assocLang:i,characteristics:a,audioCodec:l,channels:A}=e;for(let c=0;c<t.length;c++){const f=t[c];if(BA({name:n,lang:s,assocLang:i,characteristics:a,audioCodec:l,channels:A},f,gA))return c}for(let c=0;c<t.length;c++){const f=t[c];if(Yu(e.attrs,f.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<t.length;c++){const f=t[c];if(Yu(e.attrs,f.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&_m(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,s=e.groupId,i=this.getUrlWithDirectives(e.url,t),a=e.details,l=a==null?void 0:a.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${s}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${i}`),this.hls.trigger(F.AUDIO_TRACK_LOADING,{url:i,id:n,groupId:s,deliveryDirectives:t||null,track:e})}}class G9{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,n){if(this.queues===null||this.tracks===null)return;const s=this.queues[t];s.push(e),s.length===1&&!n&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const n={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const n={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const n=(t=e[0])==null?void 0:t.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const s=t[0];try{s.execute()}catch(i){var n;if(s.onError(i),this.queues===null||this.tracks===null)return;const a=(n=this.tracks[e])==null?void 0:n.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,n;return(t=this.queues)!=null&&t[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const n=(t=this.tracks)==null?void 0:t[e],s=n==null?void 0:n.buffer;return s?`SourceBuffer${s.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(n=>n.label).join(", "))||""}}const g3=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,kj="HlsJsTrackRemovedError";class K9 extends Error{constructor(e){super(e),this.name=kj}}class $9 extends Di{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var s;this.hls&&((s=this.mediaSource)==null?void 0:s.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:s,mediaSource:i}=this;n&&this.log("Media source opened"),!(!s||!i)&&(i.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(F.MEDIA_ATTACHED,{media:s,mediaSource:i}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:s}=this;n!==s&&this.error(`Media element src was set while attaching MediaSource (${s} > ${n})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=h8(Ul(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.MANIFEST_PARSED,this.onManifestParsed,this),e.on(F.BUFFER_RESET,this.onBufferReset,this),e.on(F.BUFFER_APPENDING,this.onBufferAppending,this),e.on(F.BUFFER_CODECS,this.onBufferCodecs,this),e.on(F.BUFFER_EOS,this.onBufferEos,this),e.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(F.FRAG_PARSED,this.onFragParsed,this),e.on(F.FRAG_CHANGED,this.onFragChanged,this),e.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.MANIFEST_PARSED,this.onManifestParsed,this),e.off(F.BUFFER_RESET,this.onBufferReset,this),e.off(F.BUFFER_APPENDING,this.onBufferAppending,this),e.off(F.BUFFER_CODECS,this.onBufferCodecs,this),e.off(F.BUFFER_EOS,this.onBufferEos,this),e.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(F.FRAG_PARSED,this.onFragParsed,this),e.off(F.FRAG_CHANGED,this.onFragChanged,this),e.off(F.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const n={};if(this.operationQueue){const i=this.isUpdating();i||this.operationQueue.removeBlockers();const a=this.isQueued();(i||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${i?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const s=this.transferData;return!this.sourceBufferCount&&s&&s.mediaSource===t?cr(n,s.tracks):this.sourceBuffers.forEach(i=>{const[a]=i;a&&(n[a]=cr({},this.tracks[a]),this.removeBuffer(a)),i[0]=i[1]=null}),{media:e,mediaSource:t,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var n;let s=2;(t.audio&&!t.video||!t.altAudio)&&(s=1),this.bufferCodecEventsTotal=s,this.log(`${s} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&s&&this.bufferCreated()}onMediaAttaching(e,t){const n=this.media=t.media;this.transferData=this.overrides=void 0;const s=Ul(this.appendSource);if(s){const i=!!t.mediaSource;(i||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const a=this.mediaSource=t.mediaSource||new s;if(this.assignMediaSource(a),i)this._objectUrl=n.src,this.attachTransferred();else{const l=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");const A=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||A&&a instanceof A,m3(n),V9(n,l),n.load()}catch{n.src=l}else n.src=l}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,n;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const n=this.tracks,s=t.tracks,i=s?Object.keys(s):null,a=i?i.length:0,l=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(s&&i&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${gr(n,(A,c)=>A==="initSegment"?void 0:c)};
transfer tracks: ${gr(s,(A,c)=>A==="initSegment"?void 0:c)}}`),!S5(s,n)){t.mediaSource=null,t.tracks=void 0;const A=e.currentTime,c=this.details,f=Math.max(A,(c==null?void 0:c.fragments[0].start)||0);if(f-A>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${A} -> ${f}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(s)}"->"${Object.keys(n)}") start time: ${f} currentTime: ${A}`),this.onMediaDetaching(F.MEDIA_DETACHING,{}),this.onMediaAttaching(F.MEDIA_ATTACHING,t),e.currentTime=f;return}this.transferData=void 0,i.forEach(A=>{const c=A,f=s[c];if(f){const d=f.buffer;if(d){const u=this.fragmentTracker,h=f.id;if(u.hasFragments(h)||u.hasParts(h)){const y=Lt.getBuffered(d);u.detectEvictedFragments(c,y,h,null,!0)}const g=Dx(c),m=[c,d];this.sourceBuffers[g]=m,d.updating&&this.operationQueue&&this.operationQueue.prependBlocker(c),this.trackSourceBuffer(c,f)}}}),l(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),l()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const n=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:s,mediaSource:i,_objectUrl:a}=this;if(i){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([l])=>{l&&this.removeBuffer(l)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const l=i.readyState==="open";try{const A=i.sourceBuffers;for(let c=A.length;c--;)l&&A[c].abort(),i.removeSourceBuffer(A[c]);l&&i.endOfStream()}catch(A){this.warn(`onMediaDetaching: ${A.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}i.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("sourceended",this._onMediaSourceEnded),i.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(i.removeEventListener("startstreaming",this._onStartStreaming),i.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}s&&(s.removeEventListener("emptied",this._onMediaEmptied),n||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(s.removeAttribute("src"),this.appendSource&&m3(s),s.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(F.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const n=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),n)try{var s;(s=this.mediaSource)!=null&&s.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(i){this.warn(`onBufferReset ${e}`,i)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Dx(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new G9(this.tracks)}onBufferCodecs(e,t){var n;const s=this.tracks,i=Object.keys(t);this.log(`BUFFER_CODECS: "${i}" (current SB count ${this.sourceBufferCount})`);const a="audiovideo"in t&&(s.audio||s.video)||s.audiovideo&&("audio"in t||"video"in t),l=!a&&this.sourceBufferCount&&this.media&&i.some(A=>!s[A]);if(a||l){this.warn(`Unsupported transition between "${Object.keys(s)}" and "${i}" SourceBuffers`);return}i.forEach(A=>{var c,f;const d=t[A],{id:u,codec:h,levelCodec:g,container:m,metadata:y,supplemental:x}=d;let w=s[A];const v=(c=this.transferData)==null||(c=c.tracks)==null?void 0:c[A],C=v!=null&&v.buffer?v:w,N=(C==null?void 0:C.pendingCodec)||(C==null?void 0:C.codec),B=C==null?void 0:C.levelCodec;w||(w=s[A]={buffer:void 0,listeners:[],codec:h,supplemental:x,container:m,levelCodec:g,metadata:y,id:u});const j=_g(N,B),M=j==null?void 0:j.replace(g3,"$1");let I=_g(h,g);const U=(f=I)==null?void 0:f.replace(g3,"$1");I&&j&&M!==U&&(A.slice(0,5)==="audio"&&(I=Um(I,this.appendSource)),this.log(`switching codec ${N} to ${I}`),I!==(w.pendingCodec||w.codec)&&(w.pendingCodec=I),w.container=m,this.appendChangeType(A,m,I))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!t.video&&((n=t.audio)==null?void 0:n.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const n=this.tracks[t];return e[t]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,t,n){const s=`${t};codecs=${n}`,i={label:`change-type=${s}`,execute:()=>{const a=this.tracks[e];if(a){const l=a.buffer;l!=null&&l.changeType&&(this.log(`changing ${e} sourceBuffer type to ${s}`),l.changeType(s),a.codec=n,a.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};this.append(i,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const n=e.start,s=n+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(n,Ye.MAIN))==null?void 0:t.gap)===!0)return;const a={label:"block-audio",execute:()=>{var l;const A=this.tracks.video;(this.lastVideoAppendEnd>s||A!=null&&A.buffer&&Lt.isBuffered(A.buffer,s)||((l=this.fragmentTracker.getAppendedFrag(s,Ye.MAIN))==null?void 0:l.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:l=>{this.warn("Error executing block-audio operation",l)}};this.blockedAudioAppend={op:a,frag:e},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:n}=this,{data:s,type:i,parent:a,frag:l,part:A,chunkMeta:c,offset:f}=t,d=c.buffering[i],{sn:u,cc:h}=l,g=self.performance.now();d.start=g;const m=l.stats.buffering,y=A?A.stats.buffering:null;m.start===0&&(m.start=g),y&&y.start===0&&(y.start=g);const x=n.audio;let w=!1;i==="audio"&&(x==null?void 0:x.container)==="audio/mpeg"&&(w=!this.lastMpegAudioChunk||c.id===1||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const v=n.video,C=v==null?void 0:v.buffer;if(C&&u!=="initSegment"){const j=A||l,M=this.blockedAudioAppend;if(i==="audio"&&a!=="main"&&!this.blockedAudioAppend&&!(v.ending||v.ended)){const U=j.start+j.duration*.05,T=C.buffered,P=this.currentOp("video");!T.length&&!P?this.blockAudio(j):!P&&!Lt.isBuffered(C,U)&&this.lastVideoAppendEnd<U&&this.blockAudio(j)}else if(i==="video"){const I=j.end;if(M){const U=M.frag.start;(I>U||I<this.lastVideoAppendEnd||Lt.isBuffered(C,U))&&this.unblockAudio()}this.lastVideoAppendEnd=I}}const N=(A||l).start,B={label:`append-${i}`,execute:()=>{var j;d.executeStart=self.performance.now();const M=(j=this.tracks[i])==null?void 0:j.buffer;M&&(w?this.updateTimestampOffset(M,N,.1,i,u,h):f!==void 0&&He(f)&&this.updateTimestampOffset(M,f,1e-6,i,u,h)),this.appendExecutor(s,i)},onStart:()=>{},onComplete:()=>{const j=self.performance.now();d.executeEnd=d.end=j,m.first===0&&(m.first=j),y&&y.first===0&&(y.first=j);const M={};this.sourceBuffers.forEach(([I,U])=>{I&&(M[I]=Lt.getBuffered(U))}),this.appendErrors[i]=0,i==="audio"||i==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(F.BUFFER_APPENDED,{type:i,frag:l,part:A,chunkMeta:c,parent:l.type,timeRanges:M})},onError:j=>{var M;const I={type:at.MEDIA_ERROR,parent:l.type,details:xe.BUFFER_APPEND_ERROR,sourceBufferName:i,frag:l,part:A,chunkMeta:c,error:j,err:j,fatal:!1},U=(M=this.media)==null?void 0:M.error;if(j.code===DOMException.QUOTA_EXCEEDED_ERR||j.name=="QuotaExceededError"||"quota"in j)I.details=xe.BUFFER_FULL_ERROR;else if(j.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!U)I.errorAction=Zc(!0);else if(j.name===kj&&this.sourceBufferCount===0)I.errorAction=Zc(!0);else{const T=++this.appendErrors[i];this.warn(`Failed ${T}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${i}" sourceBuffer (${U||"no media error"})`),(T>=this.hls.config.appendErrorMaxRetry||U)&&(I.fatal=!0)}this.hls.trigger(F.ERROR,I)}};this.log(`queuing "${i}" append sn: ${u}${A?" p: "+A.index:""} of ${l.type===Ye.MAIN?"level":"track"} ${l.level} cc: ${h}`),this.append(B,i,this.isPending(this.tracks[i]))}getFlushOp(e,t,n){return this.log(`queuing "${e}" remove ${t}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(F.BUFFER_FLUSHED,{type:e})},onError:s=>{this.warn(`Failed to remove ${t}-${n} from "${e}" SourceBuffer`,s)}}}onBufferFlushing(e,t){const{type:n,startOffset:s,endOffset:i}=t;n?this.append(this.getFlushOp(n,s,i),n):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,s,i),a)})}onFragParsed(e,t){const{frag:n,part:s}=t,i=[],a=s?s.elementaryStreams:n.elementaryStreams;a[hr.AUDIOVIDEO]?i.push("audiovideo"):(a[hr.AUDIO]&&i.push("audio"),a[hr.VIDEO]&&i.push("video"));const l=()=>{const A=self.performance.now();n.stats.buffering.end=A,s&&(s.stats.buffering.end=A);const c=s?s.stats:n.stats;this.hls.trigger(F.FRAG_BUFFERED,{frag:n,part:s,stats:c,id:n.type})};i.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(l,i).catch(A=>{this.warn(`Fragment buffered callback ${A}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const t=this.tracks[e];if(t)return!t.ended||t.ending}return!1})}onBufferEos(e,t){var n;this.sourceBuffers.forEach(([a])=>{if(a){const l=this.tracks[a];(!t.type||t.type===a)&&(l.ending=!0,l.ended||(l.ended=!0,this.log(`${a} buffer reached EOS`)))}});const s=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var l;return a&&!((l=this.tracks[a])!=null&&l.ended)})?s?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(F.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(F.BUFFERED_TO_END,void 0)):t.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,t){if(t.details===xe.BUFFER_APPEND_ERROR&&t.frag){var n;const s=(n=t.errorAction)==null?void 0:n.nextAutoLevel;He(s)&&s!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:n}=this;if(!n||t===null||!this.sourceBufferCount)return;const s=e.config,i=n.currentTime,a=t.levelTargetDuration,l=t.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(He(l)&&l>=0){const c=Math.max(l,a),f=Math.floor(i/a)*a-c;this.flushBackBuffer(i,a,f)}const A=s.frontBufferFlushThreshold;if(He(A)&&A>0){const c=Math.max(s.maxBufferLength,A),f=Math.max(c,a),d=Math.floor(i/a)*a+f;this.flushFrontBuffer(i,a,d)}}flushBackBuffer(e,t,n){this.sourceBuffers.forEach(([s,i])=>{if(i){const l=Lt.getBuffered(i);if(l.length>0&&n>l.start(0)){var a;this.hls.trigger(F.BACK_BUFFER_REACHED,{bufferEnd:n});const A=this.tracks[s];if((a=this.details)!=null&&a.live)this.hls.trigger(F.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(A!=null&&A.ended){this.log(`Cannot flush ${s} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(F.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:s})}}})}flushFrontBuffer(e,t,n){this.sourceBuffers.forEach(([s,i])=>{if(i){const a=Lt.getBuffered(i),l=a.length;if(l<2)return;const A=a.start(l-1),c=a.end(l-1);if(n>A||e>=A&&e<=c)return;this.hls.trigger(F.BUFFER_FLUSHING,{startOffset:A,endOffset:1/0,type:s})}})}getDurationAndRange(){var e;const{details:t,mediaSource:n}=this;if(!t||!this.media||(n==null?void 0:n.readyState)!=="open")return null;const s=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&n.setLiveSeekableRange){const c=Math.max(0,t.fragmentStart),f=Math.max(c,s);return{duration:1/0,start:c,end:f}}return{duration:1/0}}const i=(e=this.overrides)==null?void 0:e.duration;if(i)return He(i)?{duration:i}:null;const a=this.media.duration,l=He(n.duration)?n.duration:0;return s>l&&s>a||!He(a)?{duration:s}:null}updateMediaSource({duration:e,start:t,end:n}){const s=this.mediaSource;!this.media||!s||s.readyState!=="open"||(s.duration!==e&&(He(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),s.duration=e),t!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${s.duration}. Setting seekable range to ${t}-${n}.`),s.setLiveSeekableRange(t,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${gr(n)}`),this.tracksReady){var s;const i=(s=this.transferData)==null?void 0:s.tracks;i&&Object.keys(i).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,n])=>{if(t){const s=this.tracks[t];e[t]={buffer:n,container:s.container,codec:s.codec,supplemental:s.supplemental,levelCodec:s.levelCodec,id:s.id,metadata:s.metadata}}}),this.hls.trigger(F.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const i in e){const a=i,l=e[a];if(this.isPending(l)){const A=this.getTrackCodec(l,a),c=`${l.container};codecs=${A}`;l.codec=A,this.log(`creating sourceBuffer(${c})${this.currentOp(a)?" Queued":""} ${gr(l)}`);try{const f=n.addSourceBuffer(c),d=Dx(a),u=[a,f];t[d]=u,l.buffer=f}catch(f){var s;this.error(`error while trying to add sourceBuffer: ${f.message}`),this.shiftAndExecuteNext(a),(s=this.operationQueue)==null||s.removeBlockers(),delete this.tracks[a],this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:f,sourceBufferName:a,mimeType:c,parent:l.id});return}this.trackSourceBuffer(a,l)}}this.bufferCreated()}getTrackCodec(e,t){const n=e.supplemental;let s=e.codec;n&&(t==="video"||t==="audiovideo")&&Hu(n,"video")&&(s=U8(s,n));const i=_g(s,e.levelCodec);return i?t.slice(0,5)==="audio"?Um(i,this.appendSource):i:""}trackSourceBuffer(e,t){const n=t.buffer;if(!n)return;const s=this.getTrackCodec(t,e);this.tracks[e]={buffer:n,codec:s,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(i,a)=>{const l=a.removedRanges;l!=null&&l.length&&this.hls.trigger(F.BUFFER_FLUSHED,{type:i})})}get mediaSrc(){var e,t;const n=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return n==null?void 0:n.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var n;const s=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${s}`,t),this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:s,fatal:!1});const i=this.currentOp(e);i&&i.onError(s)}updateTimestampOffset(e,t,n,s,i,a){const l=t-e.timestampOffset;Math.abs(l)>=n&&(this.log(`Updating ${s} SourceBuffer timestampOffset to ${t} (sn: ${i} cc: ${a})`),e.timestampOffset=t)}removeExecutor(e,t,n){const{media:s,mediaSource:i}=this,a=this.tracks[e],l=a==null?void 0:a.buffer;if(!s||!i||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const A=He(s.duration)?s.duration:1/0,c=He(i.duration)?i.duration:1/0,f=Math.max(0,t),d=Math.min(n,A,c);d>f&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${f},${d}] from the ${e} SourceBuffer`),l.remove(f,d)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const n=this.tracks[t],s=n==null?void 0:n.buffer;if(!s)throw new K9(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,s.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,s=t.map(a=>this.appendBlocker(a));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(s).then(a=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var n;const s=(n=this.tracks[t])==null?void 0:n.buffer;!s||s.updating||this.shiftAndExecuteNext(t)})}append(e,t,n){this.operationQueue&&this.operationQueue.append(e,t,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,n){const s=this.tracks[e];if(!s)return;const i=s.buffer;if(!i)return;const a=n.bind(this,e);s.listeners.push({event:t,listener:a}),i.addEventListener(t,a)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const n=t.buffer;n&&(t.listeners.forEach(s=>{n.removeEventListener(s.event,s.listener)}),t.listeners.length=0)}}function m3(r){const e=r.querySelectorAll("source");[].slice.call(e).forEach(t=>{r.removeChild(t)})}function V9(r,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,r.appendChild(t)}function Dx(r){return r==="audio"?1:0}class xv{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(F.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(F.MANIFEST_PARSED,this.onManifestParsed,this),e.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(F.BUFFER_CODECS,this.onBufferCodecs,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(F.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(F.MANIFEST_PARSED,this.onManifestParsed,this),e.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(F.BUFFER_CODECS,this.onBufferCodecs,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&He(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=n,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter((s,i)=>this.isLevelAllowed(s)&&i<=e);return this.clientRect=null,xv.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,!t.width&&!t.height&&(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,t,n){if(!(e!=null&&e.length))return-1;const s=(l,A)=>A?l.width!==A.width||l.height!==A.height:!0;let i=e.length-1;const a=Math.max(t,n);for(let l=0;l<e.length;l+=1){const A=e[l];if((A.width>=a||A.height>=a)&&s(A,e[l+1])){i=l;break}}return i}}const Y9={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Ls=Y9,W9={HLS:"h"},J9=W9;class Ua{constructor(e,t){Array.isArray(e)&&(e=e.map(n=>n instanceof Ua?n:new Ua(n))),this.value=e,this.params=t}}const q9="Dict";function Z9(r){return Array.isArray(r)?JSON.stringify(r):r instanceof Map?"Map{}":r instanceof Set?"Set{}":typeof r=="object"?JSON.stringify(r):String(r)}function X9(r,e,t,n){return new Error(`failed to ${r} "${Z9(e)}" as ${t}`,{cause:n})}function Ra(r,e,t){return X9("serialize",r,e,t)}class jj{constructor(e){this.description=e}}const p3="Bare Item",eO="Boolean";function tO(r){if(typeof r!="boolean")throw Ra(r,eO);return r?"?1":"?0"}function rO(r){return btoa(String.fromCharCode(...r))}const nO="Byte Sequence";function sO(r){if(ArrayBuffer.isView(r)===!1)throw Ra(r,nO);return`:${rO(r)}:`}const iO="Integer";function aO(r){return r<-999999999999999||999999999999999<r}function Ij(r){if(aO(r))throw Ra(r,iO);return r.toString()}function oO(r){return`@${Ij(r.getTime()/1e3)}`}function Tj(r,e){if(r<0)return-Tj(-r,e);const t=Math.pow(10,e);if(Math.abs(r*t%1-.5)<Number.EPSILON){const s=Math.floor(r*t);return(s%2===0?s:s+1)/t}else return Math.round(r*t)/t}const lO="Decimal";function AO(r){const e=Tj(r,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Ra(r,lO);const t=e.toString();return t.includes(".")?t:`${t}.0`}const cO="String",fO=/[\x00-\x1f\x7f]+/;function dO(r){if(fO.test(r))throw Ra(r,cO);return`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function uO(r){return r.description||r.toString().slice(7,-1)}const hO="Token";function x3(r){const e=uO(r);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Ra(e,hO);return e}function qy(r){switch(typeof r){case"number":if(!He(r))throw Ra(r,p3);return Number.isInteger(r)?Ij(r):AO(r);case"string":return dO(r);case"symbol":return x3(r);case"boolean":return tO(r);case"object":if(r instanceof Date)return oO(r);if(r instanceof Uint8Array)return sO(r);if(r instanceof jj)return x3(r);default:throw Ra(r,p3)}}const gO="Key";function Zy(r){if(/^[a-z*][a-z0-9\-_.*]*$/.test(r)===!1)throw Ra(r,gO);return r}function yv(r){return r==null?"":Object.entries(r).map(([e,t])=>t===!0?`;${Zy(e)}`:`;${Zy(e)}=${qy(t)}`).join("")}function Mj(r){return r instanceof Ua?`${qy(r.value)}${yv(r.params)}`:qy(r)}function mO(r){return`(${r.value.map(Mj).join(" ")})${yv(r.params)}`}function pO(r,e={whitespace:!0}){if(typeof r!="object"||r==null)throw Ra(r,q9);const t=r instanceof Map?r.entries():Object.entries(r),n=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([s,i])=>{i instanceof Ua||(i=new Ua(i));let a=Zy(s);return i.value===!0?a+=yv(i.params):(a+="=",Array.isArray(i.value)?a+=mO(i):a+=Mj(i)),a}).join(`,${n}`)}function Dj(r,e){return pO(r,e)}const va="CMCD-Object",zr="CMCD-Request",cA="CMCD-Session",tl="CMCD-Status",xO={br:va,ab:va,d:va,ot:va,tb:va,tpb:va,lb:va,tab:va,lab:va,url:va,pb:zr,bl:zr,tbl:zr,dl:zr,ltc:zr,mtp:zr,nor:zr,nrr:zr,rc:zr,sn:zr,sta:zr,su:zr,ttfb:zr,ttfbb:zr,ttlb:zr,cmsdd:zr,cmsds:zr,smrt:zr,df:zr,cs:zr,ts:zr,cid:cA,pr:cA,sf:cA,sid:cA,st:cA,v:cA,msd:cA,bs:tl,bsd:tl,cdn:tl,rtp:tl,bg:tl,pt:tl,ec:tl,e:tl},yO={REQUEST:zr};function wO(r){return Object.keys(r).reduce((e,t)=>{var n;return(n=r[t])===null||n===void 0||n.forEach(s=>e[s]=t),e},{})}function bO(r,e){const t={};if(!r)return t;const n=Object.keys(r),s=e?wO(e):{};return n.reduce((i,a)=>{var l;const A=xO[a]||s[a]||yO.REQUEST,c=(l=i[A])!==null&&l!==void 0?l:i[A]={};return c[a]=r[a],i},t)}function vO(r){return["ot","sf","st","e","sta"].includes(r)}function CO(r){return typeof r=="number"?He(r):r!=null&&r!==""&&r!==!1}const Fj="event";function LO(r,e){const t=new URL(r),n=new URL(e);if(t.origin!==n.origin)return r;const s=t.pathname.split("/").slice(1),i=n.pathname.split("/").slice(1,-1);for(;s[0]===i[0];)s.shift(),i.shift();for(;i.length;)i.shift(),s.unshift("..");return s.join("/")+t.search+t.hash}const zg=r=>Math.round(r),Xy=(r,e)=>Array.isArray(r)?r.map(t=>Xy(t,e)):r instanceof Ua&&typeof r.value=="string"?new Ua(Xy(r.value,e),r.params):(e.baseUrl&&(r=LO(r,e.baseUrl)),e.version===1?encodeURIComponent(r):r),T0=r=>zg(r/100)*100,SO=(r,e)=>{let t=r;return e.version>=2&&(r instanceof Ua&&typeof r.value=="string"?t=new Ua([r]):typeof r=="string"&&(t=[r])),Xy(t,e)},EO={br:zg,d:zg,bl:T0,dl:T0,mtp:T0,nor:SO,rtp:T0,tb:zg},Uj="request",Rj="response",wv=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],NO=["e"],BO=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function Op(r){return BO.test(r)}function kO(r){return wv.includes(r)||NO.includes(r)||Op(r)}const _j=["d","dl","nor","ot","rtp","su"];function jO(r){return wv.includes(r)||_j.includes(r)||Op(r)}const IO=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function TO(r){return wv.includes(r)||_j.includes(r)||IO.includes(r)||Op(r)}const MO=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function DO(r){return MO.includes(r)||Op(r)}const FO={[Rj]:TO,[Fj]:kO,[Uj]:jO};function Pj(r,e={}){const t={};if(r==null||typeof r!="object")return t;const n=e.version||r.v||1,s=e.reportingMode||Uj,i=n===1?DO:FO[s];let a=Object.keys(r).filter(i);const l=e.filter;typeof l=="function"&&(a=a.filter(l));const A=s===Rj||s===Fj;A&&!a.includes("ts")&&a.push("ts"),n>1&&!a.includes("v")&&a.push("v");const c=cr({},EO,e.formatters),f={version:n,reportingMode:s,baseUrl:e.baseUrl};return a.sort().forEach(d=>{let u=r[d];const h=c[d];if(typeof h=="function"&&(u=h(u,f)),d==="v"){if(n===1)return;u=n}d=="pr"&&u===1||(A&&d==="ts"&&!He(u)&&(u=Date.now()),CO(u)&&(vO(d)&&typeof u=="string"&&(u=new jj(u)),t[d]=u))}),t}function UO(r,e={}){const t={};if(!r)return t;const n=Pj(r,e),s=bO(n,e==null?void 0:e.customHeaderMap);return Object.entries(s).reduce((i,[a,l])=>{const A=Dj(l,{whitespace:!1});return A&&(i[a]=A),i},t)}function RO(r,e,t){return cr(r,UO(e,t))}const _O="CMCD";function PO(r,e={}){return r?Dj(Pj(r,e),{whitespace:!1}):""}function QO(r,e={}){if(!r)return"";const t=PO(r,e);return encodeURIComponent(t)}function OO(r,e={}){if(!r)return"";const t=QO(r,e);return`${_O}=${t}`}const y3=/CMCD=[^&#]+/;function HO(r,e,t){const n=OO(e,t);if(!n)return r;if(y3.test(r))return r.replace(y3,n);const s=r.includes("?")?"&":"?";return`${r}${s}${n}`}class zO{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=s=>{try{this.apply(s,{ot:Ls.MANIFEST,su:!this.initialized})}catch(i){this.hls.logger.warn("Could not generate manifest CMCD data.",i)}},this.applyFragmentData=s=>{try{const{frag:i,part:a}=s,l=this.hls.levels[i.level],A=this.getObjectType(i),c={d:(a||i).duration*1e3,ot:A};(A===Ls.VIDEO||A===Ls.AUDIO||A==Ls.MUXED)&&(c.br=l.bitrate/1e3,c.tb=this.getTopBandwidth(A)/1e3,c.bl=this.getBufferLength(A));const f=a?this.getNextPart(a):this.getNextFrag(i);f!=null&&f.url&&f.url!==i.url&&(c.nor=f.url),this.apply(s,c)}catch(i){this.hls.logger.warn("Could not generate segment CMCD data.",i)}},this.hls=e;const t=this.config=e.config,{cmcd:n}=t;n!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(F.MEDIA_DETACHED,this.onMediaDetached,this),e.on(F.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(F.MEDIA_DETACHED,this.onMediaDetached,this),e.off(F.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var n,s;this.audioBuffer=(n=t.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(s=t.tracks.video)==null?void 0:s.buffer}createData(){var e;return{v:1,sf:J9.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){cr(t,this.createData());const n=t.ot===Ls.INIT||t.ot===Ls.VIDEO||t.ot===Ls.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:s}=this;s&&(t=Object.keys(t).reduce((a,l)=>(s.includes(l)&&(a[l]=t[l]),a),{}));const i={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),RO(e.headers,t,i)):e.url=HO(e.url,t,i)}getNextFrag(e){var t;const n=(t=this.hls.levels[e.level])==null?void 0:t.details;if(n){const s=e.sn-n.startSN;return n.fragments[s+1]}}getNextPart(e){var t;const{index:n,fragment:s}=e,i=(t=this.hls.levels[s.level])==null||(t=t.details)==null?void 0:t.partList;if(i){const{sn:a}=s;for(let l=i.length-1;l>=0;l--){const A=i[l];if(A.index===n&&A.fragment.sn===a)return i[l+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return Ls.TIMED_TEXT;if(e.sn==="initSegment")return Ls.INIT;if(t==="audio")return Ls.AUDIO;if(t==="main")return this.hls.audioTracks.length?Ls.VIDEO:Ls.MUXED}getTopBandwidth(e){let t=0,n;const s=this.hls;if(e===Ls.AUDIO)n=s.audioTracks;else{const i=s.maxAutoLevel,a=i>-1?i+1:s.levels.length;n=s.levels.slice(0,a)}return n.forEach(i=>{i.bitrate>t&&(t=i.bitrate)}),t>0?t:NaN}getBufferLength(e){const t=this.media,n=e===Ls.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!t?NaN:Lt.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new n(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,a,l){t(i),this.loader.load(i,a,l)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,n=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new n(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,a,l){t(i),this.loader.load(i,a,l)}}}}const GO=3e5;class KO extends Di{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(F.MANIFEST_PARSED,this.onManifestParsed,this),e.on(F.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(F.MANIFEST_PARSED,this.onManifestParsed,this),e.off(F.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:n}=t;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:n}=t;if((n==null?void 0:n.action)===_n.SendAlternateToPenaltyBox&&n.flags===$s.MoveAllAlternatesMatchingHost){const s=this.levels;let i=this._pathwayPriority,a=this.pathwayId;if(t.context){const{groupId:l,pathwayId:A,type:c}=t.context;l&&s?a=this.getPathwayForGroupId(l,c,a):A&&(a=A)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!i&&s&&(i=this.pathways()),i&&i.length>1&&(this.updatePathwayPriority(i),n.resolved=this.pathwayId!==a),t.details===xe.BUFFER_APPEND_ERROR&&!t.fatal?n.resolved=!0:n.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${a} levels: ${s&&s.length} priorities: ${gr(i)} penalized: ${gr(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const n=this.penalizedPathways,s=performance.now();Object.keys(n).forEach(i=>{s-n[i]>GO&&delete n[i]});for(let i=0;i<e.length;i++){const a=e[i];if(a in n)continue;if(a===this.pathwayId)return;const l=this.hls.nextLoadLevel,A=this.hls.levels[l];if(t=this.getLevelsForPathway(a),t.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,ij(t),this.hls.trigger(F.LEVELS_UPDATED,{levels:t});const c=this.hls.levels[l];A&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==A.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==A.bitrate&&this.log(`Unstable Pathways change from bitrate ${A.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=l);break}}}getPathwayForGroupId(e,t,n){const s=this.getLevelsForPathway(n).concat(this.levels||[]);for(let i=0;i<s.length;i++)if(t===Pt.AUDIO_TRACK&&s[i].hasAudioGroup(e)||t===Pt.SUBTITLE_TRACK&&s[i].hasSubtitleGroup(e))return s[i].pathwayId;return n}clonePathways(e){const t=this.levels;if(!t)return;const n={},s={};e.forEach(i=>{const{ID:a,"BASE-ID":l,"URI-REPLACEMENT":A}=i;if(t.some(f=>f.pathwayId===a))return;const c=this.getLevelsForPathway(l).map(f=>{const d=new Mr(f.attrs);d["PATHWAY-ID"]=a;const u=d.AUDIO&&`${d.AUDIO}_clone_${a}`,h=d.SUBTITLES&&`${d.SUBTITLES}_clone_${a}`;u&&(n[d.AUDIO]=u,d.AUDIO=u),h&&(s[d.SUBTITLES]=h,d.SUBTITLES=h);const g=Qj(f.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",A),m=new Gu({attrs:d,audioCodec:f.audioCodec,bitrate:f.bitrate,height:f.height,name:f.name,url:g,videoCodec:f.videoCodec,width:f.width});if(f.audioGroups)for(let y=1;y<f.audioGroups.length;y++)m.addGroupId("audio",`${f.audioGroups[y]}_clone_${a}`);if(f.subtitleGroups)for(let y=1;y<f.subtitleGroups.length;y++)m.addGroupId("text",`${f.subtitleGroups[y]}_clone_${a}`);return m});t.push(...c),w3(this.audioTracks,n,A,a),w3(this.subtitleTracks,s,A,a)})}loadSteeringManifest(e){const t=this.hls.config,n=t.loader;this.loader&&this.loader.destroy(),this.loader=new n(t);let s;try{s=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(s.protocol!=="data:"){const f=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;s.searchParams.set("_HLS_pathway",this.pathwayId),s.searchParams.set("_HLS_throughput",""+f)}const i={responseType:"json",url:s.href},a=t.steeringManifestLoadPolicy.default,l=a.errorRetry||a.timeoutRetry||{},A={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:(f,d,u,h)=>{this.log(`Loaded steering manifest: "${s}"`);const g=f.data;if((g==null?void 0:g.VERSION)!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":y,"PATHWAY-PRIORITY":x}=g;if(m)try{this.uri=new self.URL(m,s).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||u.url),y&&this.clonePathways(y);const w={steeringManifest:g,url:s.toString()};this.hls.trigger(F.STEERING_MANIFEST_LOADED,w),x&&this.updatePathwayPriority(x)},onError:(f,d,u,h)=>{if(this.log(`Error loading steering manifest: ${f.code} ${f.text} (${d.url})`),this.stopLoad(),f.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let g=this.timeToLoad*1e3;if(f.code===429){const m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){const y=m.getResponseHeader("Retry-After");y&&(g=parseFloat(y)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,g)},onTimeout:(f,d,u)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${s}`),this.loader.load(i,A,c)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const s=(n=this.hls)==null?void 0:n.media;if(s&&!s.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function w3(r,e,t,n){r&&Object.keys(e).forEach(s=>{const i=r.filter(a=>a.groupId===s).map(a=>{const l=cr({},a);return l.details=void 0,l.attrs=new Mr(l.attrs),l.url=l.attrs.URI=Qj(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),l.groupId=l.attrs["GROUP-ID"]=e[s],l.attrs["PATHWAY-ID"]=n,l});r.push(...i)})}function Qj(r,e,t,n){const{HOST:s,PARAMS:i,[t]:a}=n;let l;e&&(l=a==null?void 0:a[e],l&&(r=l));const A=new self.URL(r);return s&&!l&&(A.host=s),i&&Object.keys(i).sort().forEach(c=>{c&&A.searchParams.set(c,i[c])}),A.href}class ef extends Di{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=ef.CDMCleanupPromise?[ef.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=t=>{const{initDataType:n,initData:s}=t,i=`"${t.type}" event: init data type: "${n}"`;if(this.debug(i),s!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=Qd(this.config));const l=a.map(Ex).filter(A=>!!A);this.keyFormatPromise=this.getKeyFormatPromise(l)}this.keyFormatPromise.then(a=>{const l=Qg(a);if(n!=="sinf"||l!==Fr.FAIRPLAY){this.log(`Ignoring "${t.type}" event with init data type: "${n}" for selected key-system ${l}`);return}let A;try{const h=xn(new Uint8Array(s)),g=lv(JSON.parse(h).sinf),m=D5(g);if(!m)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");A=new Uint8Array(m.subarray(8,24))}catch(h){this.warn(`${i} Failed to parse sinf: ${h}`);return}const c=On(A),{keyIdToKeySessionPromise:f,mediaKeySessions:d}=this;let u=f[c];for(let h=0;h<d.length;h++){const g=d[h],m=g.decryptdata;if(!m.keyId)continue;const y=On(m.keyId);if(Om(A,m.keyId)||m.uri.replace(/-/g,"").indexOf(c)!==-1){if(u=f[y],!u)continue;if(m.pssh)break;delete f[y],m.pssh=new Uint8Array(s),m.keyId=A,u=f[c]=u.then(()=>this.generateRequestWithPreferredKeySession(g,n,s,"encrypted-event-key-match")),u.catch(x=>this.handleError(x));break}}u||this.handleError(new Error(`Key ID ${c} not encountered in playlist. Key-system sessions ${d.length}.`))}).catch(a=>this.handleError(a))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(F.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(F.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(F.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(F.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(F.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(F.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:n}=this.config,s=t==null?void 0:t[e];if(s)return s.licenseUrl;if(e===Fr.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,n=t==null?void 0:t[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,n=(a,l,A)=>!!a&&A.indexOf(a)===l,s=t.map(a=>a.audioCodec).filter(n),i=t.map(a=>a.videoCodec).filter(n);return s.length+i.length===0&&i.push("avc1.42e01e"),new Promise((a,l)=>{const A=c=>{const f=c.shift();this.getMediaKeysPromise(f,s,i).then(d=>a({keySystem:f,mediaKeys:d})).catch(d=>{c.length?A(c):d instanceof Gs?l(d):l(new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};A(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let s=`Configured requestMediaKeySystemAccess is not a function ${n}`;return q5===null&&self.location.protocol==="http:"&&(s=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(s))}return n(e,t)}getMediaKeysPromise(e,t,n){var s;const i=SQ(e,t,n,this.config.drmSystemOptions||{});let a=this.keySystemAccessPromises[e],l=(s=a)==null?void 0:s.keySystemAccess;if(!l){this.log(`Requesting encrypted media "${e}" key-system access with config: ${gr(i)}`),l=this.requestMediaKeySystemAccess(e,i);const A=a=this.keySystemAccessPromises[e]={keySystemAccess:l};return l.catch(c=>{this.log(`Failed to obtain access to key-system "${e}": ${c}`)}),l.then(c=>{this.log(`Access for key-system "${c.keySystem}" obtained`);const f=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const d=A.mediaKeys=c.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),A.hasMediaKeys=!0,f.then(h=>h?this.setMediaKeysServerCertificate(u,e,h):u)));return d.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),d})}return l.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:n}){this.log(`Creating key-system session "${t}" keyId: ${On(e.keyId||[])} keyUri: ${e.uri}`);const s=n.createSession(),i={decryptdata:e,keySystem:t,mediaKeys:n,mediaKeysSession:s,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const n=this.createMediaKeySessionContext(e),s=M0(t),i="cenc";this.keyIdToKeySessionPromise[s]=this.generateRequestWithPreferredKeySession(n,i,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,t){const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyId ${On(e.decryptdata.keyId||[])}
      } (data length: ${t.byteLength})`),n.update(t)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>Ex(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:t,mediaKeys:n})=>this.attemptSetMediaKeys(t,n))}selectKeySystem(e){return new Promise((t,n)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:s})=>{const i=Ex(s);i?t(i):n(new Error(`Unable to find format for key-system "${s}"`))}).catch(n)})}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){const t=Qd(this.config),n=e.map(Qg).filter(s=>!!s&&t.indexOf(s)!==-1);return this.selectKeySystem(n)}getKeyStatus(e){const{mediaKeySessions:t}=this;for(let n=0;n<t.length;n++){const s=$O(e,t[n]);if(s)return s}}loadKey(e){const t=e.keyInfo.decryptdata,n=M0(t),s=this.bannedKeyIds[n];if(s||this.getKeyStatus(t)==="internal-error"){const l=b3(s||"internal-error",t);return this.handleError(l,e.frag),Promise.reject(l)}const i=`(keyId: ${n} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${i}`);const a=this.keyIdToKeySessionPromise[n];if(!a){const l=this.getKeySystemForKeyPromise(t).then(({keySystem:A,mediaKeys:c})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(A,c).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:A,mediaKeys:c,decryptdata:t}))))).then(A=>{const c="cenc",f=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(A,c,f,"playlist-key")});return l.catch(A=>this.handleError(A,e.frag)),this.keyIdToKeySessionPromise[n]=l,l}return a.catch(l=>{if(l instanceof Gs){const A=ir({},l.data);this.getKeyStatus(t)==="internal-error"&&(A.decryptdata=t);const c=new Gs(A,l.message);this.handleError(c,e.frag)}}),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,t){if(this.hls)if(e instanceof Gs){t&&(e.data.frag=t);const n=e.data.decryptdata;this.error(`${e.message}${n?` (${On(n.keyId||[])})`:""}`),this.hls.trigger(F.ERROR,e.data)}else this.error(e.message),this.hls.trigger(F.ERROR,{type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const t=M0(e),n=this.keyIdToKeySessionPromise[t];if(!n){const s=Qg(e.keyFormat),i=s?[s]:Qd(this.config);return this.attemptKeySystemAccess(i)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=Qd(this.config)),e.length===0)throw new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${gr({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){if(this.mediaResolved=void 0,this.mediaKeys===t)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const s=Promise.all(n).then(()=>this.media?this.media.setMediaKeys(t):new Promise((i,a)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return a(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=t,this.media.setMediaKeys(t).then(i).catch(a)}}));return this.mediaKeys=t,this.setMediaKeysQueue.push(s),s.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(s),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(i=>n.indexOf(i)===-1)})}generateRequestWithPreferredKeySession(e,t,n,s){var i;const a=(i=this.config.drmSystems)==null||(i=i[e.keySystem])==null?void 0:i.generateRequest;if(a)try{const g=a.call(this.hls,t,n,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");t=g.initDataType,n=g.initData?g.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(g){if(this.warn(g.message),this.hls&&this.hls.config.debug)throw g}if(n===null)return this.log(`Skipping key-session request for "${s}" (no initData)`),Promise.resolve(e);const l=M0(e.decryptdata),A=e.decryptdata.uri;this.log(`Generating key-session request for "${s}" keyId: ${l} URI: ${A} (init data type: ${t} length: ${n.byteLength})`);const c=new cv,f=e._onmessage=g=>{const m=e.mediaKeysSession;if(!m){c.emit("error",new Error("invalid state"));return}const{messageType:y,message:x}=g;this.log(`"${y}" message event for session "${m.sessionId}" message size: ${x.byteLength}`),y==="license-request"||y==="license-renewal"?this.renewLicense(e,x).catch(w=>{c.eventNames().length?c.emit("error",w):this.handleError(w)}):y==="license-release"?e.keySystem===Fr.FAIRPLAY&&this.updateKeySession(e,Ky("acknowledged")).then(()=>this.removeSession(e)).catch(w=>this.handleError(w)):this.warn(`unhandled media key message type "${y}"`)},d=(g,m)=>{m.keyStatus=g;let y;g.startsWith("usable")?c.emit("resolved"):g==="internal-error"||g==="output-restricted"||g==="output-downscaled"?y=b3(g,m.decryptdata):g==="expired"?y=new Error(`key expired (keyId: ${l})`):g==="released"?y=new Error("key released"):g==="status-pending"||this.warn(`unhandled key status change "${g}" (keyId: ${l})`),y&&(c.eventNames().length?c.emit("error",y):this.handleError(y))},u=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){c.emit("error",new Error("invalid state"));return}const y=this.getKeyStatuses(e);if(!Object.keys(y).some(C=>y[C]!=="status-pending"))return;if(y[l]==="expired"){this.log(`Expired key ${gr(y)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let w=y[l];if(w)d(w,e);else{var v;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(v=e.keyStatusTimeouts)[l]||(v[l]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const N=this.getKeyStatus(e.decryptdata);if(N&&N!=="status-pending")return this.log(`No status for keyId ${l} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${N} from other session.`),d(N,e);this.log(`key status for ${l} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),w="internal-error",d(w,e)},1e3)),this.log(`No status for keyId ${l} (${gr(y)}).`)}};gs(e.mediaKeysSession,"message",f),gs(e.mediaKeysSession,"keystatuseschange",u);const h=new Promise((g,m)=>{c.on("error",m),c.on("resolved",g)});return e.mediaKeysSession.generateRequest(t,n).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${l} URI: ${A}`)}).catch(g=>{throw new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_NO_SESSION,error:g,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>h).catch(g=>(c.removeAllListeners(),this.removeSession(e).then(()=>{throw g}))).then(()=>(c.removeAllListeners(),e))}getKeyStatuses(e){const t={};return e.mediaKeysSession.keyStatuses.forEach((n,s)=>{if(typeof s=="string"&&typeof n=="object"){const l=s;s=n,n=l}const i="buffer"in s?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s);if(e.keySystem===Fr.PLAYREADY&&i.length===16){const l=On(i);t[l]=n,W5(i)}const a=On(i);n==="internal-error"&&(this.bannedKeyIds[a]=n),this.log(`key status change "${n}" for keyStatuses keyId: ${a} key-session "${e.mediaKeysSession.sessionId}"`),t[a]=n}),t}fetchServerCertificate(e){const t=this.config,n=t.loader,s=new n(t),i=this.getServerCertificateUrl(e);return i?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,l)=>{const A={responseType:"arraybuffer",url:i},c=t.certLoadPolicy.default,f={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(u,h,g,m)=>{a(u.data)},onError:(u,h,g,m)=>{l(new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:ir({url:A.url,data:void 0},u)},`"${e}" certificate request failed (${i}). Status: ${u.code} (${u.text})`))},onTimeout:(u,h,g)=>{l(new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:A.url,data:void 0}},`"${e}" certificate request timed out (${i})`))},onAbort:(u,h,g)=>{l(new Error("aborted"))}};s.load(A,f,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,n){return new Promise((s,i)=>{e.setServerCertificate(n).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${n.byteLength}) on "${t}"`),s(e)}).catch(a=>{i(new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(s=>{throw new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:s,fatal:!1},s.message)}))}unpackPlayReadyKeyMessage(e,t){const n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const s=new DOMParser().parseFromString(n,"application/xml"),i=s.querySelectorAll("HttpHeader");if(i.length>0){let f;for(let d=0,u=i.length;d<u;d++){var a,l;f=i[d];const h=(a=f.querySelector("name"))==null?void 0:a.textContent,g=(l=f.querySelector("value"))==null?void 0:l.textContent;h&&g&&e.setRequestHeader(h,g)}}const A=s.querySelector("Challenge"),c=A==null?void 0:A.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return Ky(atob(c))}setupLicenseXHR(e,t,n,s){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return i.call(this.hls,e,t,n,s)}).catch(a=>{if(!n.decryptdata)throw a;return e.open("POST",t,!0),i.call(this.hls,e,t,n,s)}).then(a=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:a||s})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:s}))}requestLicense(e,t){const n=this.config.keyLoadPolicy.default;return new Promise((s,i)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const l=new XMLHttpRequest;l.responseType="arraybuffer",l.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return i(new Error("invalid state"));if(l.readyState===4)if(l.status===200){this._requestLicenseFailureCount=0;let A=l.response;this.log(`License received ${A instanceof ArrayBuffer?A.byteLength:A}`);const c=this.config.licenseResponseCallback;if(c)try{A=c.call(this.hls,l,a,e)}catch(f){this.error(f)}s(A)}else{const A=n.errorRetry,c=A?A.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||l.status>=400&&l.status<500)i(new Gs({type:at.KEY_SYSTEM_ERROR,details:xe.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:l,response:{url:a,data:void 0,code:l.status,text:l.statusText}},`License Request XHR failed (${a}). Status: ${l.status} (${l.statusText})`));else{const f=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${f} attempts left`),this.requestLicense(e,t).then(s,i)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=l,this.setupLicenseXHR(l,a,e,t).then(({xhr:A,licenseChallenge:c})=>{e.keySystem==Fr.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(A,c)),A.send(c)}).catch(i)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const n=t.media;this.media=n,gs(n,"encrypted",this.onMediaEncrypted),gs(n,"waitingforkey",this.onWaitingForKey);const s=this.mediaResolved;s?s():this.mediaKeys=n.mediaKeys}onMediaDetached(){const e=this.media;e&&(Bs(e,"encrypted",this.onMediaEncrypted),Bs(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const t=this.mediaResolved;if(t&&t(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,s=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,kl.clearKeyUriToKeyIdMap();const i=s.length;ef.CDMCleanupPromise=Promise.all(s.map(a=>this.removeSession(a)).concat((n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(a=>{this.log(`Could not clear media keys: ${a}`),this.hls&&this.hls.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${a}`)})}))||Promise.resolve())).catch(a=>{this.log(`Could not close sessions and clear media keys: ${a}`),this.hls&&this.hls.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${a}`)})}).then(()=>{i&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=t.reduce((s,i)=>(s.indexOf(i.keyFormat)===-1&&s.push(i.keyFormat),s),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:n,decryptdata:s}=e;if(t){this.log(`Remove licenses and keys and close session "${t.sessionId}" keyId: ${On((s==null?void 0:s.keyId)||[])}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);i>-1&&this.mediaKeySessions.splice(i,1);const{keyStatusTimeouts:a}=e;a&&Object.keys(a).forEach(c=>self.clearTimeout(a[c]));const{drmSystemOptions:l}=this.config;return(NQ(l)?new Promise((c,f)=>{self.setTimeout(()=>f(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(c).catch(f)}):Promise.resolve()).catch(c=>{this.log(`Could not remove session: ${c}`),this.hls&&this.hls.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${c}`)})}).then(()=>t.close()).catch(c=>{this.log(`Could not close session: ${c}`),this.hls&&this.hls.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${c}`)})})}return Promise.resolve()}}ef.CDMCleanupPromise=void 0;function M0(r){if(!r)throw new Error("Could not read keyId of undefined decryptdata");if(r.keyId===null)throw new Error("keyId is null");return On(r.keyId)}function $O(r,e){if(r.keyId&&e.mediaKeysSession.keyStatuses.has(r.keyId))return e.mediaKeysSession.keyStatuses.get(r.keyId);if(r.matches(e.decryptdata))return e.keyStatus}class Gs extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}function b3(r,e){const t=r==="output-restricted",n=t?xe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:xe.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new Gs({type:at.KEY_SYSTEM_ERROR,details:n,fatal:!1,decryptdata:e},t?"HDCP level output restricted":`key status changed to "${r}"`)}class VO{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(F.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(F.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const s=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,n){const s=performance.now();if(t){if(this.lastTime){const i=s-this.lastTime,a=n-this.lastDroppedFrames,l=t-this.lastDecodedFrames,A=1e3*a/i,c=this.hls;if(c.trigger(F.FPS_DROP,{currentDropped:a,currentDecoded:l,totalDroppedFrames:n}),A>0&&a>c.config.fpsDroppedMonitoringThreshold*l){let f=c.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=f)&&(f=f-1,c.trigger(F.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function Oj(r,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=r,e.dispatchEvent(t)}function Hj(r,e){const t=r.mode;if(t==="disabled"&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(e.id))try{if(r.addCue(e),!r.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){or.debug(`[texttrack-utils]: ${n}`);try{const s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,r.addCue(s)}catch(s){or.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${s}`)}}t==="disabled"&&(r.mode=t)}function zc(r,e){const t=r.mode;if(t==="disabled"&&(r.mode="hidden"),r.cues)for(let n=r.cues.length;n--;)e&&r.cues[n].removeEventListener("enter",e),r.removeCue(r.cues[n]);t==="disabled"&&(r.mode=t)}function ew(r,e,t,n){const s=r.mode;if(s==="disabled"&&(r.mode="hidden"),r.cues&&r.cues.length>0){const i=WO(r.cues,e,t);for(let a=0;a<i.length;a++)(!n||n(i[a]))&&r.removeCue(i[a])}s==="disabled"&&(r.mode=s)}function YO(r,e){if(e<=r[0].startTime)return 0;const t=r.length-1;if(e>r[t].endTime)return-1;let n=0,s=t,i;for(;n<=s;)if(i=Math.floor((s+n)/2),e<r[i].startTime)s=i-1;else if(e>r[i].startTime&&n<t)n=i+1;else return i;return r[n].startTime-e<e-r[s].startTime?n:s}function WO(r,e,t){const n=[],s=YO(r,e);if(s>-1)for(let i=s,a=r.length;i<a;i++){const l=r[i];if(l.startTime>=e&&l.endTime<=t)n.push(l);else if(l.startTime>t)return n}return n}function Gg(r){const e=[];for(let t=0;t<r.length;t++){const n=r[t];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(r[t])}return e}class JO extends pv{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const n=Gg(this.media.textTracks);for(let i=0;i<n.length;i++)if(n[i].mode==="hidden")t=n[i];else if(n[i].mode==="showing"){t=n[i];break}const s=this.findTrackForTextTrack(t);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.MANIFEST_PARSED,this.onManifestParsed,this),e.on(F.LEVEL_LOADING,this.onLevelLoading,this),e.on(F.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.MANIFEST_PARSED,this.onManifestParsed,this),e.off(F.LEVEL_LOADING,this.onLevelLoading,this),e.off(F.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(F.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const n=this.media;if(!n)return;const s=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,s)return;Gg(n.textTracks).forEach(a=>{zc(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:n,groupId:s,details:i}=t,a=this.tracksInGroup[n];if(!a||a.groupId!==s){this.warn(`Subtitle track with id:${n} and group:${s} not found in active group ${a==null?void 0:a.groupId}`);return}const l=a.details;a.details=t.details,this.log(`Subtitle track ${n} "${a.name}" lang:${a.lang} group:${s} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,l)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.subtitleGroups||null,s=this.groupIds;let i=this.currentTrack;if(!n||(s==null?void 0:s.length)!==(n==null?void 0:n.length)||n!=null&&n.some(a=>(s==null?void 0:s.indexOf(a))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!n||n.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,d)=>{f.id=d});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.subtitlePreference;if(!i&&l){this.selectDefaultTrack=!1;const f=ja(l,a);if(f>-1)i=a[f];else{const d=ja(l,this.tracks);i=this.tracks[d]}}let A=this.findTrackId(i);A===-1&&i&&(A=this.findTrackId(null));const c={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n==null?void 0:n.join(",")}" group-id`),this.hls.trigger(F.SUBTITLE_TRACKS_UPDATED,c),A!==-1&&this.trackId===-1&&this.setSubtitleTrack(A)}}findTrackId(e){const t=this.tracksInGroup,n=this.selectDefaultTrack;for(let s=0;s<t.length;s++){const i=t[s];if(!(n&&!i.default||!n&&!e)&&(!e||BA(i,e)))return s}if(e){for(let s=0;s<t.length;s++){const i=t[s];if(Yu(e.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<t.length;s++){const i=t[s];if(Yu(e.attrs,i.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const s=t[n];if(Jy(s,e))return n}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===Pt.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const n=this.currentTrack;if(n&&BA(e,n))return n;const s=ja(e,this.tracksInGroup);if(s>-1){const i=this.tracksInGroup[s];return this.setSubtitleTrack(s),i}else{if(n)return null;{const i=ja(e,t);if(i>-1)return t[i]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,s=e.groupId,i=this.getUrlWithDirectives(e.url,t),a=e.details,l=a==null?void 0:a.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${s}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${i}`),this.hls.trigger(F.SUBTITLE_TRACK_LOADING,{url:i,id:n,groupId:s,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Gg(e.textTracks),n=this.currentTrack;let s;if(n&&(s=t.filter(i=>Jy(n,i))[0],s||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(t).forEach(i=>{i.mode!=="disabled"&&i!==s&&(i.mode="disabled")}),s){const i=this.subtitleDisplay?"showing":"hidden";s.mode!==i&&(s.mode=i)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!He(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,s=t[e]||null;if(this.trackId=e,this.currentTrack=s,this.toggleTrackModes(),!s){this.hls.trigger(F.SUBTITLE_TRACK_SWITCH,{id:e});return}const i=!!s.details&&!s.details.live;if(e===this.trackId&&s===n&&i)return;this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:""));const{id:a,groupId:l="",name:A,type:c,url:f}=s;this.hls.trigger(F.SUBTITLE_TRACK_SWITCH,{id:a,groupId:l,name:A,type:c,url:f});const d=this.switchParams(s.url,n==null?void 0:n.details,s.details);this.loadPlaylist(d)}}function qO(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(s=="x"?i:i&3|8).toString(16)})}}}function cu(r){let e=5381,t=r.length;for(;t;)e=e*33^r.charCodeAt(--t);return(e>>>0).toString()}const tf=.025;let Km=function(r){return r[r.Point=0]="Point",r[r.Range=1]="Range",r}({});function ZO(r,e,t){return`${r.identifier}-${t+1}-${cu(e)}`}class XO{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var t;if(e>0&&e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:n===0?!0:(((t=this.assetList[e])==null?void 0:t.startOffset)||0)>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return Fx(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,n=Fx(t,e);return t-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=He(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return Fx(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<tf))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Km.Range:Km.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return e7(this)}}function Fx(r,e){return r-e.start<e.duration/2&&!(Math.abs(r-(e.start+e.duration))<tf)?e.start:e.start+e.duration}function zj(r,e,t){const n=new self.URL(r,t);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function Ux(r,e){for(;(t=r.assetList[++e])!=null&&t.error;)var t;return e}function e7(r){return`["${r.identifier}" ${r.cue.pre?"<pre>":r.cue.post?"<post>":""}${r.timelineStart.toFixed(2)}-${r.resumeTime.toFixed(2)}]`}function Ec(r){const e=r.timelineStart,t=r.duration||0;return`["${r.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class t7{constructor(e,t,n,s){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(F.PLAYOUT_LIMIT_REACHED,{})};const i=this.hls=new e(t);this.interstitial=n,this.assetItem=s;const a=()=>{this.hasDetails=!0};i.once(F.LEVEL_LOADED,a),i.once(F.AUDIO_TRACK_LOADED,a),i.once(F.SUBTITLE_TRACK_LOADED,a),i.on(F.MEDIA_ATTACHING,(l,{media:A})=>{this.removeMediaListeners(),this.mediaAttached=A,this.interstitial.playoutLimit&&(A.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&i.on(F.BUFFER_APPENDED,()=>{const f=this.bufferedEnd;this.reachedPlayout(f)&&(this._bufferedEosTime=f,i.trigger(F.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let t=this.assetItem.uri;try{t=zj(t,e.config.primarySessionId||"").href}catch{}e.loadSource(t)}}bufferedInPlaceToEnd(e){var t;if(!this.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e)return!1;const n=Math.min(this._bufferedEosTime||1/0,this.duration),s=this.timelineOffset,i=Lt.bufferInfo(e,s,0);return this.getAssetTime(i.end)>=n-.02}reachedPlayout(e){const n=this.interstitial.playoutLimit;return this.startOffset+e>=n}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=Lt.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const t=this.interstitial.playoutLimit;if(t){const n=t-this.startOffset;if(n>0&&n<e)return n}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const n=e-t;if(Math.abs(n)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-t),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var t;this.loadSource(),(t=this.hls)==null||t.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const t=n=>delete n.details;e.levels.forEach(t),e.allAudioTracks.forEach(t),e.allSubtitleTracks.forEach(t),this.hasDetails=!1}}on(e,t,n){var s;(s=this.hls)==null||s.on(e,t)}once(e,t,n){var s;(s=this.hls)==null||s.once(e,t)}off(e,t,n){var s;(s=this.hls)==null||s.off(e,t)}toString(){var e;return`HlsAssetPlayer: ${Ec(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const v3=.033;class r7 extends Di{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((n,s)=>e<=s.startOffset&&t>s.startOffset?(delete s.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const s=this.items;if(s)for(s[n]||(t===void 0&&(t=e.start),n=this.findItemIndexAtTime(t));n>=0&&(i=s[n])!=null&&i.event;){var i;n--}return n}findItemIndexAtTime(e,t){const n=this.items;if(n)for(let s=0;s<n.length;s++){let i=n[s];if(t&&t!=="primary"&&(i=i[t]),e===i.start||e>i.start&&e<i.end)return s}return-1}findJumpRestrictedIndex(e,t){const n=this.items;if(n)for(let s=e;s<=t&&n[s];s++){const i=n[s].event;if(i!=null&&i.restrictions.jump&&!i.appendInPlace)return s}return-1}findEventIndex(e){const t=this.items;if(t)for(let s=t.length;s--;){var n;if(((n=t[s].event)==null?void 0:n.identifier)===e)return s}return-1}findAssetIndex(e,t){const n=e.assetList,s=n.length;if(s>1)for(let i=0;i<s;i++){const a=n[i];if(!a.error){const l=a.timelineStart;if(t===l||t>l&&(t<l+(a.duration||0)||i===s-1))return i}}return 0}get assetIdAtEnd(){var e;const t=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(t){const n=t.assetList,s=n[n.length-1];if(s)return s.identifier}return null}parseInterstitialDateRanges(e,t){const n=e.main.details,{dateRanges:s}=n,i=this.events,a=this.parseDateRanges(s,{url:n.url},t),l=Object.keys(s),A=i?i.filter(c=>!l.includes(c.identifier)):[];a.length&&a.sort((c,f)=>{const d=c.cue.pre,u=c.cue.post,h=f.cue.pre,g=f.cue.post;if(d&&!h)return-1;if(h&&!d||u&&!g)return 1;if(g&&!u)return-1;if(!d&&!h&&!u&&!g){const m=c.startTime,y=f.startTime;if(m!==y)return m-y}return c.dateRange.tagOrder-f.dateRange.tagOrder}),this.events=a,A.forEach(c=>{this.removeEvent(c)}),this.updateSchedule(e,A)}updateSchedule(e,t=[],n=!1){const s=this.events||[];if(s.length||t.length||this.length<2){const i=this.items,a=this.parseSchedule(s,e);(n||t.length||(i==null?void 0:i.length)!==a.length||a.some((A,c)=>Math.abs(A.playout.start-i[c].playout.start)>.005||Math.abs(A.playout.end-i[c].playout.end)>.005))&&(this.items=a,this.onScheduleUpdate(t,i))}}parseDateRanges(e,t,n){const s=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const l=i[a],A=e[l];if(A.isInterstitial){let c=this.eventMap[l];c?c.setDateRange(A):(c=new XO(A,t),this.eventMap[l]=c,n===!1&&(c.appendInPlace=n)),s.push(c)}}return s}parseSchedule(e,t){const n=[],s=t.main.details,i=s.live?1/0:s.edge;let a=0;if(e=e.filter(A=>!A.error&&!(A.cue.once&&A.hasPlayed)),e.length){this.resolveOffsets(e,t);let A=0,c=0;if(e.forEach((f,d)=>{const u=f.cue.pre,h=f.cue.post,g=e[d-1]||null,m=f.appendInPlace,y=h?i:f.startOffset,x=f.duration,w=f.timelineOccupancy===Km.Range?x:0,v=f.resumptionOffset,C=(g==null?void 0:g.startTime)===y,N=y+f.cumulativeDuration;let B=m?N+x:y+v;if(u||!h&&y<=0){const M=c;c+=w,f.timelineStart=N;const I=a;a+=x,n.push({event:f,start:N,end:B,playout:{start:I,end:a},integrated:{start:M,end:c}})}else if(y<=i){if(!C){const U=y-A;if(U>v3){const T=A,P=c;c+=U;const G=a;a+=U;const R={previousEvent:e[d-1]||null,nextEvent:f,start:T,end:T+U,playout:{start:G,end:a},integrated:{start:P,end:c}};n.push(R)}else U>0&&g&&(g.cumulativeDuration+=U,n[n.length-1].end=y)}h&&(B=N),f.timelineStart=N;const M=c;c+=w;const I=a;a+=x,n.push({event:f,start:N,end:B,playout:{start:I,end:a},integrated:{start:M,end:c}})}else return;const j=f.resumeTime;h||j>i?A=i:A=j}),A<i){var l;const f=A,d=c,u=i-A;c+=u;const h=a;a+=u,n.push({previousEvent:((l=n[n.length-1])==null?void 0:l.event)||null,nextEvent:null,start:A,end:f+u,playout:{start:h,end:a},integrated:{start:d,end:c}})}this.setDurations(i,a,c)}else n.push({previousEvent:null,nextEvent:null,start:0,end:i,playout:{start:0,end:i},integrated:{start:0,end:i}}),this.setDurations(i,i,i);return n}setDurations(e,t,n){this.durations={primary:e,playout:t,integrated:n}}resolveOffsets(e,t){const n=t.main.details,s=n.live?1/0:n.edge;let i=0,a=-1;e.forEach((l,A)=>{const c=l.cue.pre,f=l.cue.post,d=c?0:f?s:l.startTime;this.updateAssetDurations(l),a===d?l.cumulativeDuration=i:(i=0,a=d),!f&&l.snapOptions.in&&(l.resumeAnchor=PA(null,n.fragments,l.startOffset+l.resumptionOffset,0,0)||void 0),l.appendInPlace&&!l.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(l,t)||(l.appendInPlace=!1)),!l.appendInPlace&&A+1<e.length&&e[A+1].startTime-e[A].resumeTime<v3&&(e[A+1].appendInPlace=!1,e[A+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${l}`));const h=He(l.resumeOffset)?l.resumeOffset:l.duration;i+=h})}primaryCanResumeInPlaceAt(e,t){const n=e.resumeTime,s=e.startTime+e.resumptionOffset;return Math.abs(n-s)>tf?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${s}`),!1):!Object.keys(t).some(a=>{const l=t[a].details,A=l.edge;if(n>=A)return this.log(`"${e.identifier}" resumption ${n} past ${a} playlist end ${A}`),!1;const c=PA(null,l.fragments,n);if(!c)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${a} playlist (${l.fragStart}-${l.fragmentEnd})`),!0;const f=a==="audio"?.175:0;return Math.abs(c.start-n)<tf+f||Math.abs(c.end-n)<tf+f?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${a} fragment bounds (${c.start}-${c.end} sn: ${c.sn} cc: ${c.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let n=0,s=!1,i=!1;for(let a=0;a<e.assetList.length;a++){const l=e.assetList[a],A=t+n;l.startOffset=n,l.timelineStart=A,s||(s=l.duration===null),i||(i=!!l.error);const c=l.error?0:l.duration||0;n+=c}s&&!i?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function Gi(r){return`[${r.event?'"'+r.event.identifier+'"':"primary"}: ${r.start.toFixed(2)}-${r.end.toFixed(2)}]`}class n7{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const n=e.assetListUrl;let s;try{s=zj(n,this.hls.sessionId,e.baseUrl)}catch(u){const h=this.assignAssetListError(e,xe.ASSET_LIST_LOAD_ERROR,u,n);this.hls.trigger(F.ERROR,h);return}t&&s.protocol!=="data:"&&s.searchParams.set("_HLS_start_offset",""+t);const i=this.hls.config,a=i.loader,l=new a(i),A={responseType:"json",url:s.href},c=i.interstitialAssetListLoadPolicy.default,f={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(u,h,g,m)=>{const y=u.data,x=y==null?void 0:y.ASSETS;if(!Array.isArray(x)){const w=this.assignAssetListError(e,xe.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),g.url,h,m);this.hls.trigger(F.ERROR,w);return}e.assetListResponse=y,this.hls.trigger(F.ASSET_LIST_LOADED,{event:e,assetListResponse:y,networkDetails:m})},onError:(u,h,g,m)=>{const y=this.assignAssetListError(e,xe.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${u.code} ${u.text} (${h.url})`),h.url,m,g);this.hls.trigger(F.ERROR,y)},onTimeout:(u,h,g)=>{const m=this.assignAssetListError(e,xe.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${h.url})`),h.url,u,g);this.hls.trigger(F.ERROR,m)}};return l.load(A,f,d),this.hls.trigger(F.ASSET_LIST_LOADING,{event:e}),l}assignAssetListError(e,t,n,s,i,a){return e.error=n,{type:at.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:s,error:n,networkDetails:a,stats:i}}}function C3(r){var e;r==null||(e=r.play())==null||e.catch(()=>{})}function D0(r,e){return`[${r}] Advancing timeline position to ${e}`}class s7 extends Di{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled||!this.schedule)return;const s=n-this.timelinePos;if(Math.abs(s)<1/7056e5)return;const a=s<=-.01;this.timelinePos=n,this.bufferedPos=n;const l=this.playingItem;if(!l){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(n,n-s)&&this.updateSchedule(!0),this.checkBuffer(),a&&n<l.start||n>=l.end){var A;const h=this.findItemIndex(l);let g=this.schedule.findItemIndexAtTime(n);if(g===-1&&(g=h+(a?-1:1),this.log(`seeked ${a?"back ":""}to position not covered by schedule ${n} (resolving from ${h} to ${g})`)),!this.isInterstitial(l)&&(A=this.media)!=null&&A.paused&&(this.shouldPlay=!1),!a&&g>h){const m=this.schedule.findJumpRestrictedIndex(h+1,g);if(m>h){this.setSchedulePosition(m);return}}this.setSchedulePosition(g);return}const c=this.playingAsset;if(!c){if(this.playingLastItem&&this.isInterstitial(l)){const h=l.event.assetList[0];h&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,h))}return}const f=c.timelineStart,d=c.duration||0;if(a&&n<f||n>=f+d){var u;(u=l.event)!=null&&u.appendInPlace&&(this.clearAssetPlayers(l.event,l),this.flushFrontBuffer(n)),this.setScheduleToAssetAtTime(n,c)}},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const s=this.playingItem;if(!s||this.playingLastItem)return;if(n>=s.end){this.timelinePos=s.end;const l=this.findItemIndex(s);this.setSchedulePosition(l+1)}const i=this.playingAsset;if(!i)return;const a=i.timelineStart+(i.duration||0);n>=a&&this.setScheduleToAssetAtTime(n,i)},this.onScheduleUpdate=(n,s)=>{const i=this.schedule;if(!i)return;const a=this.playingItem,l=i.events||[],A=i.items||[],c=i.durations,f=n.map(m=>m.identifier),d=!!(l.length||f.length);(d||s)&&this.log(`INTERSTITIALS_UPDATED (${l.length}): ${l}
Schedule: ${A.map(m=>Gi(m))} pos: ${this.timelinePos}`),f.length&&this.log(`Removed events ${f}`);let u=null,h=null;a&&(u=this.updateItem(a,this.timelinePos),this.itemsMatch(a,u)?this.playingItem=u:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const g=this.bufferingItem;if(g&&(h=this.updateItem(g,this.bufferedPos),this.itemsMatch(g,h)?this.bufferingItem=h:g.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(g.event,null))),n.forEach(m=>{m.assetList.forEach(y=>{this.clearAssetPlayer(y.identifier,null)})}),this.playerQueue.forEach(m=>{if(m.interstitial.appendInPlace){const y=m.assetItem.timelineStart,x=m.timelineOffset-y;if(x)try{m.timelineOffset=y}catch(w){Math.abs(x)>tf&&this.warn(`${w} ("${m.assetId}" ${m.timelineOffset}->${y})`)}}}),d||s){if(this.hls.trigger(F.INTERSTITIALS_UPDATED,{events:l.slice(0),schedule:A.slice(0),durations:c,removedIds:f}),this.isInterstitial(a)&&f.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}a&&this.trimInPlace(u,a),g&&h!==u&&this.trimInPlace(h,g),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new n7(e),this.schedule=new r7(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(F.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(F.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(F.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(F.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(F.BUFFER_APPENDED,this.onBufferAppended,this),e.on(F.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(F.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(F.MEDIA_ENDED,this.onMediaEnded,this),e.on(F.ERROR,this.onError,this),e.on(F.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(F.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(F.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(F.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(F.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(F.BUFFER_CODECS,this.onBufferCodecs,this),e.off(F.BUFFER_APPENDED,this.onBufferAppended,this),e.off(F.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(F.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(F.MEDIA_ENDED,this.onMediaEnded,this),e.off(F.ERROR,this.onError,this),e.off(F.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Bs(e,"play",this.onPlay),Bs(e,"pause",this.onPause),Bs(e,"seeking",this.onSeeking),Bs(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const n=this.media=t.media;gs(n,"seeking",this.onSeeking),gs(n,"timeupdate",this.onTimeupdate),gs(n,"play",this.onPlay),gs(n,"pause",this.onPause)}onMediaAttached(e,t){const n=this.effectivePlayingItem,s=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!s){this.clearScheduleState();const i=this.findItemIndex(n);this.setSchedulePosition(i)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const n=!!t.transferMedia,s=this.media;if(this.media=null,!n&&(s&&this.removeMediaListeners(s),this.detachedData)){const i=this.getBufferingPlayer();i&&(this.log(`Removing schedule state for detachedData and ${i}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,i.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,t=()=>e.bufferingItem||e.waitingItem,n=d=>d&&e.getAssetPlayer(d.identifier),s=(d,u,h,g,m)=>{if(d){let y=d[u].start;const x=d.event;if(x){if(u==="playout"||x.timelineOccupancy!==Km.Point){const w=n(h);(w==null?void 0:w.interstitial)===x&&(y+=w.assetItem.startOffset+w[m])}}else{const w=g==="bufferedPos"?a():e[g];y+=w-d.start}return y}return 0},i=(d,u)=>{var h;if(d!==0&&u!=="primary"&&(h=e.schedule)!=null&&h.length){var g;const m=e.schedule.findItemIndexAtTime(d),y=(g=e.schedule.items)==null?void 0:g[m];if(y){const x=y[u].start-y.start;return d+x}}return d},a=()=>{const d=e.bufferedPos;return d===Number.MAX_VALUE?l("primary"):Math.max(d,0)},l=d=>{var u,h;return(u=e.primaryDetails)!=null&&u.live?e.primaryDetails.edge:((h=e.schedule)==null?void 0:h.durations[d])||0},A=(d,u)=>{var h,g;const m=e.effectivePlayingItem;if(m!=null&&(h=m.event)!=null&&h.restrictions.skip||!e.schedule)return;e.log(`seek to ${d} "${u}"`);const y=e.effectivePlayingItem,x=e.schedule.findItemIndexAtTime(d,u),w=(g=e.schedule.items)==null?void 0:g[x],v=e.getBufferingPlayer(),C=v==null?void 0:v.interstitial,N=C==null?void 0:C.appendInPlace,B=y&&e.itemsMatch(y,w);if(y&&(N||B)){const j=n(e.playingAsset),M=(j==null?void 0:j.media)||e.primaryMedia;if(M){const I=u==="primary"?M.currentTime:s(y,u,e.playingAsset,"timelinePos","currentTime"),U=d-I,T=(N?I:M.currentTime)+U;if(T>=0&&(!j||N||T<=j.duration)){M.currentTime=T;return}}}if(w){let j=d;if(u!=="primary"){const I=w[u].start,U=d-I;j=w.start+U}const M=!e.isInterstitial(w);if((!e.isInterstitial(y)||y.event.appendInPlace)&&(M||w.event.appendInPlace)){const I=e.media||(N?v==null?void 0:v.media:null);I&&(I.currentTime=j)}else if(y){const I=e.findItemIndex(y);if(x>I){const T=e.schedule.findJumpRestrictedIndex(I+1,x);if(T>I){e.setSchedulePosition(T);return}}let U=0;if(M)e.timelinePos=j,e.checkBuffer();else{const T=w.event.assetList,P=d-(w[u]||w).start;for(let G=T.length;G--;){const R=T[G];if(R.duration&&P>=R.startOffset&&P<R.startOffset+R.duration){U=G;break}}}e.setSchedulePosition(x,U)}}},c=()=>{const d=e.effectivePlayingItem;if(e.isInterstitial(d))return d;const u=t();return e.isInterstitial(u)?u:null},f={get bufferedEnd(){const d=t(),u=e.bufferingItem;if(u&&u===d){var h;return s(u,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-u.playout.start||((h=e.bufferingAsset)==null?void 0:h.startOffset)||0}return 0},get currentTime(){const d=c(),u=e.effectivePlayingItem;return u&&u===d?s(u,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-u.playout.start:0},set currentTime(d){const u=c(),h=e.effectivePlayingItem;h&&h===u&&A(d+h.playout.start,"playout")},get duration(){const d=c();return d?d.playout.end-d.playout.start:0},get assetPlayers(){var d;const u=(d=c())==null?void 0:d.event.assetList;return u?u.map(h=>e.getAssetPlayer(h.identifier)):[]},get playingIndex(){var d;const u=(d=c())==null?void 0:d.event;return u&&e.effectivePlayingAsset?u.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return c()}};return this.manager={get events(){var d;return((d=e.schedule)==null||(d=d.events)==null?void 0:d.slice(0))||[]},get schedule(){var d;return((d=e.schedule)==null||(d=d.items)==null?void 0:d.slice(0))||[]},get interstitialPlayer(){return c()?f:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const d=t();return e.findItemIndex(d)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const d=e.effectivePlayingItem;return e.findItemIndex(d)},primary:{get bufferedEnd(){return a()},get currentTime(){const d=e.timelinePos;return d>0?d:0},set currentTime(d){A(d,"primary")},get duration(){return l("primary")},get seekableStart(){var d;return((d=e.primaryDetails)==null?void 0:d.fragmentStart)||0}},integrated:{get bufferedEnd(){return s(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return s(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(d){A(d,"integrated")},get duration(){return l("integrated")},get seekableStart(){var d;return i(((d=e.primaryDetails)==null?void 0:d.fragmentStart)||0,"integrated")}},skip:()=>{const d=e.effectivePlayingItem,u=d==null?void 0:d.event;if(u&&!u.restrictions.skip){const h=e.findItemIndex(d);if(u.appendInPlace){const g=d.playout.start+d.event.duration;A(g+.001,"playout")}else e.advanceAfterAssetEnded(u,h,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!n?!1:this.findItemIndex(t)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t;if(this.mediaSelection===null)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let s=this.media;!s&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(s=this.primaryMedia);const i=(t=s)==null?void 0:t.currentTime;if(!(i===void 0||!He(i)))return i}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,t)}transferMediaFromPlayer(e,t){const n=e.interstitial.appendInPlace,s=e.media;if(n&&s===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&s){this.detachedData={media:s};return}const i=e.transferMedia();this.log(`transfer MediaSource from ${e} ${gr(i)}`),this.detachedData=i}else t&&s&&(this.shouldPlay||(this.shouldPlay=!s.paused))}transferMediaTo(e,t){var n,s;if(e.media===t)return;let i=null;const a=this.hls,l=e!==a,A=l&&e.interstitial.appendInPlace,c=(n=this.detachedData)==null?void 0:n.mediaSource;let f;if(a.media)A&&(i=a.transferMedia(),this.detachedData=i),f="Primary";else if(c){const g=this.getBufferingPlayer();g?(i=g.transferMedia(),f=`${g}`):f="detached MediaSource"}else f="detached media";if(!i){if(c)i=this.detachedData,this.log(`using detachedData: MediaSource ${gr(i)}`);else if(!this.detachedData||a.media===t){const g=this.playerQueue;g.length>1&&g.forEach(m=>{if(l&&m.interstitial.appendInPlace!==A){const y=m.interstitial;this.clearInterstitial(m.interstitial,null),y.appendInPlace=!1,y.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${y}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const d=i&&"mediaSource"in i&&((s=i.mediaSource)==null?void 0:s.readyState)!=="closed",u=d&&i?i:t;this.log(`${d?"transfering MediaSource":"attaching media"} to ${l?e:"Primary"} from ${f} (media.currentTime: ${t.currentTime})`);const h=this.schedule;if(u===i&&h){const g=l&&e.assetId===h.assetIdAtEnd;u.overrides={duration:h.duration,endOfStream:!l||g,cueRemoval:!l}}e.attachMedia(u)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e==null?void 0:e.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,s=this.effectivePlayingItem;if(n===-1){const i=this.hls.startPosition;if(this.log(D0("checkStart",i)),this.timelinePos=i,t.length&&t[0].cue.pre){const a=e.findEventIndex(t[0].identifier);this.setSchedulePosition(a)}else if(i>=0||!this.primaryLive){const a=this.timelinePos=i>0?i:0,l=e.findItemIndexAtTime(a);this.setSchedulePosition(l)}}else if(s&&!this.playingItem){const i=e.findItemIndex(s);this.setSchedulePosition(i)}}advanceAssetBuffering(e,t){const n=e.event,s=n.findAssetIndex(t),i=Ux(n,s);if(!n.isAssetPastPlayoutLimit(i))this.bufferedToEvent(e,i);else if(this.schedule){var a;const l=(a=this.schedule.items)==null?void 0:a[this.findItemIndex(e)+1];l&&this.bufferedToItem(l)}}advanceAfterAssetEnded(e,t,n){const s=Ux(e,n);if(e.isAssetPastPlayoutLimit(s)){if(this.schedule){const i=this.schedule.items;if(i){const a=t+1,l=i.length;if(a>=l){this.setSchedulePosition(-1);return}const A=e.resumeTime;this.timelinePos<A&&(this.log(D0("advanceAfterAssetEnded",A)),this.timelinePos=A,e.appendInPlace&&this.advanceInPlace(A),this.checkBuffer(this.bufferedPos<A)),this.setSchedulePosition(a)}}}else{if(e.appendInPlace){const i=e.assetList[s];i&&this.advanceInPlace(i.timelineStart)}this.setSchedulePosition(t,s)}}setScheduleToAssetAtTime(e,t){const n=this.schedule;if(!n)return;const s=t.parentIdentifier,i=n.getEvent(s);if(i){const a=n.findEventIndex(s),l=n.findAssetIndex(i,e);this.advanceAfterAssetEnded(i,a,l-1)}}setSchedulePosition(e,t){var n;const s=(n=this.schedule)==null?void 0:n.items;if(!s||this.playbackDisabled)return;const i=e>=0?s[e]:null;this.log(`setSchedulePosition ${e}, ${t} (${i&&Gi(i)}) pos: ${this.timelinePos}`);const a=this.waitingItem||this.playingItem,l=this.playingLastItem;if(this.isInterstitial(a)){const f=a.event,d=this.playingAsset,u=d==null?void 0:d.identifier,h=u?this.getAssetPlayer(u):null;if(h&&u&&(!this.eventItemsMatch(a,i)||t!==void 0&&u!==f.assetList[t].identifier)){var A;const g=f.findAssetIndex(d);if(this.log(`INTERSTITIAL_ASSET_ENDED ${g+1}/${f.assetList.length} ${Ec(d)}`),this.endedAsset=d,this.playingAsset=null,this.hls.trigger(F.INTERSTITIAL_ASSET_ENDED,{asset:d,assetListIndex:g,event:f,schedule:s.slice(0),scheduleIndex:e,player:h}),a!==this.playingItem){this.itemsMatch(a,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(f,this.findItemIndex(this.playingItem),g);return}this.retreiveMediaSource(u,i),h.media&&!((A=this.detachedData)!=null&&A.mediaSource)&&h.detachMedia()}if(!this.eventItemsMatch(a,i)&&(this.endedItem=a,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${f} ${Gi(a)}`),f.hasPlayed=!0,this.hls.trigger(F.INTERSTITIAL_ENDED,{event:f,schedule:s.slice(0),scheduleIndex:e}),f.cue.once)){var c;this.updateSchedule();const g=(c=this.schedule)==null?void 0:c.items;if(i&&g){const m=this.findItemIndex(i);this.advanceSchedule(m,g,t,a,l)}return}}this.advanceSchedule(e,s,t,a,l)}advanceSchedule(e,t,n,s,i){const a=this.schedule;if(!a)return;const l=t[e]||null,A=this.primaryMedia,c=this.playerQueue;if(c.length&&c.forEach(f=>{const d=f.interstitial,u=a.findEventIndex(d.identifier);(u<e||u>e+1)&&this.clearInterstitial(d,l)}),this.isInterstitial(l)){this.timelinePos=Math.min(Math.max(this.timelinePos,l.start),l.end);const f=l.event;if(n===void 0){n=a.findAssetIndex(f,this.timelinePos);const g=Ux(f,n-1);if(f.isAssetPastPlayoutLimit(g)||f.appendInPlace&&this.timelinePos===l.end){this.advanceAfterAssetEnded(f,e,n);return}n=g}const d=this.waitingItem;this.assetsBuffered(l,A)||this.setBufferingItem(l);let u=this.preloadAssets(f,n);if(this.eventItemsMatch(l,d||s)||(this.waitingItem=l,this.log(`INTERSTITIAL_STARTED ${Gi(l)} ${f.appendInPlace?"append in place":""}`),this.hls.trigger(F.INTERSTITIAL_STARTED,{event:f,schedule:t.slice(0),scheduleIndex:e})),!f.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${f}`);return}if(f.assetListLoader&&(f.assetListLoader.destroy(),f.assetListLoader=void 0),!A){this.log(`Waiting for attachMedia to start Interstitial ${f}`);return}this.waitingItem=this.endedItem=null,this.playingItem=l;const h=f.assetList[n];if(!h){this.advanceAfterAssetEnded(f,e,n||0);return}if(u||(u=this.getAssetPlayer(h.identifier)),u===null||u.destroyed){const g=f.assetList.length;this.warn(`asset ${n+1}/${g} player destroyed ${f}`),u=this.createAssetPlayer(f,h,n),u.loadSource()}if(!this.eventItemsMatch(l,this.bufferingItem)&&f.appendInPlace&&this.isAssetBuffered(h))return;this.startAssetPlayer(u,n,t,e,A),this.shouldPlay&&C3(u.media)}else l?(this.resumePrimary(l,e,s),this.shouldPlay&&C3(this.hls.media)):i&&this.isInterstitial(s)&&(this.endedItem=null,this.playingItem=s,s.event.appendInPlace||this.attachPrimary(a.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,n){var s,i;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${Gi(e)}`),!((s=this.detachedData)!=null&&s.mediaSource)){let l=this.timelinePos;(l<e.start||l>=e.end)&&(l=this.getPrimaryResumption(e,t),this.log(D0("resumePrimary",l)),this.timelinePos=l),this.attachPrimary(l,e)}if(!n)return;const a=(i=this.schedule)==null?void 0:i.items;a&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${Gi(e)}`),this.hls.trigger(F.INTERSTITIALS_PRIMARY_RESUMED,{schedule:a.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const n=e.start;if(this.primaryLive){const s=this.primaryDetails;if(t===0)return this.hls.startPosition;if(s&&(n<s.fragmentStart||n>s.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:Lt.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,n){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const s=this.primaryMedia;if(!s)return;const i=this.hls;i.media?this.checkBuffer():(this.transferMediaTo(i,s),n&&this.startLoadingPrimaryAt(e,n)),n||(this.log(D0("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,t){var n;const s=this.hls;!s.loadingEnabled||!s.media||Math.abs((((n=s.mainForwardBufferInfo)==null?void 0:n.start)||s.media.currentTime)-e)>.5?s.startLoad(e,t):s.bufferingEnabled||s.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(F.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(F.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1||!this.schedule)return;const n=this.hls.levels[t.level];if(!n.details)return;const s=ir(ir({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=s,this.schedule.parseInterstitialDateRanges(s,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const n=this.hls.audioTracks[t.id],s=this.mediaSelection;if(!s){this.altSelection=ir(ir({},this.altSelection),{},{audio:n});return}const i=ir(ir({},s),{},{audio:n});this.mediaSelection=i}onSubtitleTrackUpdated(e,t){const n=this.hls.subtitleTracks[t.id],s=this.mediaSelection;if(!s){this.altSelection=ir(ir({},this.altSelection),{},{subtitles:n});return}const i=ir(ir({},s),{},{subtitles:n});this.mediaSelection=i}onAudioTrackSwitching(e,t){const n=TL(t);this.playerQueue.forEach(({hls:s})=>s&&(s.setAudioOption(t)||s.setAudioOption(n)))}onSubtitleTrackSwitch(e,t){const n=TL(t);this.playerQueue.forEach(({hls:s})=>s&&(s.setSubtitleOption(t)||t.id!==-1&&s.setSubtitleOption(n)))}onBufferCodecs(e,t){const n=t.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const s=this.timelinePos;this.bufferedPos=s,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let s=0;s<t.length;s++){const i=t[s];if(i.cue.post){var n;const a=this.schedule.findEventIndex(i.identifier),l=(n=this.schedule.items)==null?void 0:n[a];this.isInterstitial(l)&&this.eventItemsMatch(l,this.bufferingItem)&&this.bufferedToItem(l,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const n=this.findItemIndex(t);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,t){var n;const s=(n=this.schedule)==null?void 0:n.items;if(e&&s){const i=this.findItemIndex(e,t);return s[i]||null}return null}trimInPlace(e,t){if(this.isInterstitial(e)&&e.event.appendInPlace&&t.end-e.end>.25){e.event.assetList.forEach((i,a)=>{e.event.isAssetPastPlayoutLimit(a)&&this.clearAssetPlayer(i.identifier,null)});const n=e.end+.25,s=Lt.bufferInfo(this.primaryMedia,n,0);(s.end>n||(s.nextStart||0)>n)&&(this.log(`trim buffered interstitial ${Gi(e)} (was ${Gi(t)})`),this.attachPrimary(n,null,!0),this.flushFrontBuffer(n))}}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var n;return!!t&&(e===t||e.event.identifier===((n=t.event)==null?void 0:n.identifier))}findItemIndex(e,t){return e&&this.schedule?this.schedule.findItemIndex(e,t):-1}updateSchedule(e=!1){var t;const n=this.mediaSelection;n&&((t=this.schedule)==null||t.updateSchedule(n,[],e))}checkBuffer(e){var t;const n=(t=this.schedule)==null?void 0:t.items;if(!n)return;const s=Lt.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=s.len<1),this.updateBufferedPos(s.end,n,e)}updateBufferedPos(e,t,n){const s=this.schedule,i=this.bufferingItem;if(this.bufferedPos>e||!s)return;if(t.length===1&&this.itemsMatch(t[0],i)){this.bufferedPos=e;return}const a=this.playingItem,l=this.findItemIndex(a);let A=s.findItemIndexAtTime(e);if(this.bufferedPos<e){var c;const f=this.findItemIndex(i),d=Math.min(f+1,t.length-1),u=t[d];if((A===-1&&i&&e>=i.end||(c=u.event)!=null&&c.appendInPlace&&e+.01>=u.start)&&(A=d),this.isInterstitial(i)){const h=i.event;if(d-l>1&&h.appendInPlace===!1||h.assetList.length===0&&h.assetListLoader)return}if(this.bufferedPos=e,A>f&&A>l)this.bufferedToItem(u);else{const h=this.primaryDetails;this.primaryLive&&h&&e>h.edge-h.targetduration&&u.start<h.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(u)&&this.preloadAssets(u.event,0)}}else n&&a&&!this.itemsMatch(a,i)&&(A===l?this.bufferedToItem(a):A===l+1&&this.bufferedToItem(t[A]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(s=>{const i=this.getAssetPlayer(s.identifier);return!(i!=null&&i.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,n=this.schedule;if(!this.itemsMatch(e,t)&&n){const{items:s,events:i}=n;if(!s||!i)return t;const a=this.isInterstitial(e),l=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const A=l?l.remaining:t?t.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${Gi(e)}`+(t?` (${A.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(a){const c=n.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((f,d)=>{const u=this.getAssetPlayer(f.identifier);u&&(d===c&&u.loadSource(),u.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(c=>c.pauseBuffering());this.hls.trigger(F.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:i.slice(0),schedule:s.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return t}bufferedToItem(e,t=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(n!==null){this.bufferingAsset=null;const s=this.detachedData;s?s.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),n=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,t){const n=e.event,s=n.assetList.length===0&&!n.assetListLoader,i=n.cue.once;if(s||!i){const a=this.preloadAssets(n,t);if(a!=null&&a.interstitial.appendInPlace){const l=this.primaryMedia;l&&this.bufferAssetPlayer(a,l)}}}preloadAssets(e,t){const n=e.assetUrl,s=e.assetList.length,i=s===0&&!e.assetListLoader,a=e.cue.once;if(i){const A=e.timelineStart;if(e.appendInPlace){var l;const u=this.playingItem;!this.isInterstitial(u)&&(u==null||(l=u.nextEvent)==null?void 0:l.identifier)===e.identifier&&this.flushFrontBuffer(A+.25)}let c,f=0;if(!this.playingItem&&this.primaryLive&&(f=this.hls.startPosition,f===-1&&(f=this.hls.liveSyncPosition||0)),f&&!(e.cue.pre||e.cue.post)){const u=f-A;u>0&&(c=Math.round(u*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${n?1:s} ${e}${c?` live-start: ${f} start-offset: ${c}`:""}`),n)return this.createAsset(e,0,0,A,e.duration,n);const d=this.assetListLoader.loadAssetList(e,c);d&&(e.assetListLoader=d)}else if(!a&&s){for(let c=t;c<s;c++){const f=e.assetList[c],d=this.getAssetPlayerQueueIndex(f.identifier);(d===-1||this.playerQueue[d].destroyed)&&!f.error&&this.createAssetPlayer(e,f,c)}const A=e.assetList[t];if(A){const c=this.getAssetPlayer(A.identifier);return c&&c.loadSource(),c}}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(s=>{this.hls.trigger(F.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:s})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let n=0;n<t.length;n++)if(e===t[n].assetId)return n;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let n=0;n<e.length;n++)if(e[n].media===t)return e[n]}return null}createAsset(e,t,n,s,i,a){const l={parentIdentifier:e.identifier,identifier:ZO(e,a,t),duration:i,startOffset:n,timelineStart:s,uri:a};return this.createAssetPlayer(e,l,t)}createAssetPlayer(e,t,n){const s=this.hls,i=s.userConfig;let a=i.videoPreference;const l=s.loadLevelObj||s.levels[s.currentLevel];(a||l)&&(a=cr({},a),l.videoCodec&&(a.videoCodec=l.videoCodec),l.videoRange&&(a.allowedVideoRanges=[l.videoRange]));const A=s.audioTracks[s.audioTrack],c=s.subtitleTracks[s.subtitleTrack];let f=0;if(this.primaryLive||e.appendInPlace){const C=this.timelinePos-t.timelineStart;if(C>1){const N=t.duration;N&&C<N&&(f=C)}}const d=t.identifier,u=ir(ir({},i),{},{maxMaxBufferLength:Math.min(180,s.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:s.sessionId,assetPlayerId:d,abrEwmaDefaultEstimate:s.bandwidthEstimate,interstitialsController:void 0,startPosition:f,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:A||i.audioPreference,subtitlePreference:c||i.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(u.timelineOffset=t.timelineStart));const h=u.cmcd;h!=null&&h.sessionId&&h.contentId&&(u.cmcd=cr({},h,{contentId:cu(t.uri)})),this.getAssetPlayer(d)&&this.warn(`Duplicate date range identifier ${e} and asset ${d}`);const g=new t7(this.HlsPlayerClass,u,e,t);this.playerQueue.push(g),e.assetList[n]=t;let m=!0;const y=C=>{if(C.live){var N;const M=new Error(`Interstitials MUST be VOD assets ${e}`),I={fatal:!0,type:at.OTHER_ERROR,details:xe.INTERSTITIAL_ASSET_ITEM_ERROR,error:M},U=((N=this.schedule)==null?void 0:N.findEventIndex(e.identifier))||-1;this.handleAssetItemError(I,e,U,n,M.message);return}const B=C.edge-C.fragmentStart,j=t.duration;(m||j===null||B>j)&&(m=!1,this.log(`Interstitial asset "${d}" duration change ${j} > ${B}`),t.duration=B,this.updateSchedule())};g.on(F.LEVEL_UPDATED,(C,{details:N})=>y(N)),g.on(F.LEVEL_PTS_UPDATED,(C,{details:N})=>y(N)),g.on(F.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const x=(C,N)=>{const B=this.getAssetPlayer(d);if(B&&N.tracks){B.off(F.BUFFER_CODECS,x),B.tracks=N.tracks;const j=this.primaryMedia;this.bufferingAsset===B.assetItem&&j&&!B.media&&this.bufferAssetPlayer(B,j)}};g.on(F.BUFFER_CODECS,x);const w=()=>{var C;const N=this.getAssetPlayer(d);if(this.log(`buffered to end of asset ${N}`),!N||!this.schedule)return;const B=this.schedule.findEventIndex(e.identifier),j=(C=this.schedule.items)==null?void 0:C[B];this.isInterstitial(j)&&this.advanceAssetBuffering(j,t)};g.on(F.BUFFERED_TO_END,w);const v=C=>()=>{if(!this.getAssetPlayer(d)||!this.schedule)return;this.shouldPlay=!0;const B=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,B,C)};return g.once(F.MEDIA_ENDED,v(n)),g.once(F.PLAYOUT_LIMIT_REACHED,v(1/0)),g.on(F.ERROR,(C,N)=>{if(!this.schedule)return;const B=this.getAssetPlayer(d);if(N.details===xe.BUFFER_STALLED_ERROR){if(B!=null&&B.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(N,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${N.error} ${e}`)}),g.on(F.DESTROYING,()=>{if(!this.getAssetPlayer(d)||!this.schedule)return;const N=new Error(`Asset player destroyed unexpectedly ${d}`),B={fatal:!0,type:at.OTHER_ERROR,details:xe.INTERSTITIAL_ASSET_ITEM_ERROR,error:N};this.handleAssetItemError(B,e,this.schedule.findEventIndex(e.identifier),n,N.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${Ec(t)}`),this.hls.trigger(F.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:n,event:e,player:g}),g}clearInterstitial(e,t){this.clearAssetPlayers(e,t),e.reset()}clearAssetPlayers(e,t){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,t)})}resetAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);if(t!==-1){this.log(`reset asset player "${e}" after error`);const n=this.playerQueue[t];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(e,t){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){const s=this.playerQueue[n];this.log(`clear ${s} toSegment: ${t&&Gi(t)}`),this.transferMediaFromPlayer(s,t),this.playerQueue.splice(n,1),s.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,n,s,i){const{interstitial:a,assetItem:l,assetId:A}=e,c=a.assetList.length,f=this.playingAsset;this.endedAsset=null,this.playingAsset=l,(!f||f.identifier!==A)&&(f&&(this.clearAssetPlayer(f.identifier,n[s]),delete f.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${c} ${Ec(l)}`),this.hls.trigger(F.INTERSTITIAL_ASSET_STARTED,{asset:l,assetListIndex:t,event:a,schedule:n.slice(0),scheduleIndex:s,player:e})),this.bufferAssetPlayer(e,i)}bufferAssetPlayer(e,t){var n,s;if(!this.schedule)return;const{interstitial:i,assetItem:a}=e,l=this.schedule.findEventIndex(i.identifier),A=(n=this.schedule.items)==null?void 0:n[l];if(!A)return;e.loadSource(),this.setBufferingItem(A),this.bufferingAsset=a;const c=this.getBufferingPlayer();if(c===e)return;const f=i.appendInPlace;if(f&&(c==null?void 0:c.interstitial.appendInPlace)===!1)return;const d=(c==null?void 0:c.tracks)||((s=this.detachedData)==null?void 0:s.tracks)||this.requiredTracks;if(f&&a!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(d&&!S5(d,e.tracks)){const u=new Error(`Asset ${Ec(a)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(d)}')`),h={fatal:!0,type:at.OTHER_ERROR,details:xe.INTERSTITIAL_ASSET_ITEM_ERROR,error:u},g=i.findAssetIndex(a);this.handleAssetItemError(h,i,l,g,u.message);return}}this.transferMediaTo(e,t)}handleInPlaceStall(e){const t=this.schedule,n=this.primaryMedia;if(!t||!n)return;const s=n.currentTime,i=t.findAssetIndex(e,s),a=e.assetList[i];if(a){const l=this.getAssetPlayer(a.identifier);if(l){const A=l.currentTime||s-a.timelineStart,c=l.duration-A;if(this.warn(`Stalled at ${A} of ${A+c} in ${l} ${e} (media.currentTime: ${s})`),A&&(c/n.playbackRate<.5||l.bufferedInPlaceToEnd(n))&&l.hls){const f=t.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,f,i)}}}}advanceInPlace(e){const t=this.primaryMedia;t&&t.currentTime<e&&(t.currentTime=e)}handleAssetItemError(e,t,n,s,i){if(e.details===xe.BUFFER_STALLED_ERROR)return;const a=t.assetList[s]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${a&&Ec(a)} ${e.error}`),!this.schedule)return;const l=(a==null?void 0:a.identifier)||"",A=this.getAssetPlayerQueueIndex(l),c=this.playerQueue[A]||null,f=this.schedule.items,d=cr({},e,{fatal:!1,errorAction:Zc(!0),asset:a,assetListIndex:s,event:t,schedule:f,scheduleIndex:n,player:c});if(this.hls.trigger(F.INTERSTITIAL_ASSET_ERROR,d),!e.fatal)return;const u=this.playingAsset,h=this.bufferingAsset,g=new Error(i);if(a&&(this.clearAssetPlayer(l,null),a.error=g),!t.assetList.some(m=>!m.error))t.error=g;else for(let m=s;m<t.assetList.length;m++)this.resetAssetPlayer(t.assetList[m].identifier);this.updateSchedule(!0),t.error?this.primaryFallback(t):u&&u.identifier===l?this.advanceAfterAssetEnded(t,n,s):h&&h.identifier===l&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,h)}primaryFallback(e){const t=e.timelineStart,n=this.effectivePlayingItem;let s=this.timelinePos;if(n){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${s} playing: ${Gi(n)} error: ${e.error}`),s===-1&&(s=this.hls.startPosition);const a=this.updateItem(n,s);this.itemsMatch(n,a)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t))}else if(s===-1){this.checkStart();return}if(!this.schedule)return;const i=this.schedule.findItemIndexAtTime(s);this.setSchedulePosition(i)}onAssetListLoaded(e,t){var n,s;const i=t.event,a=i.identifier,l=t.assetListResponse.ASSETS;if(!((n=this.schedule)!=null&&n.hasEvent(a)))return;const A=i.timelineStart,c=i.duration;let f=0;l.forEach((m,y)=>{const x=parseFloat(m.DURATION);this.createAsset(i,y,f,A+f,x,m.URI),f+=x}),i.duration=f,this.log(`Loaded asset-list with duration: ${f} (was: ${c}) ${i}`);const d=this.waitingItem,u=(d==null?void 0:d.event.identifier)===a;this.updateSchedule();const h=(s=this.bufferingItem)==null?void 0:s.event;if(u){var g;const m=this.schedule.findEventIndex(a),y=(g=this.schedule.items)==null?void 0:g[m];if(y){if(!this.playingItem&&this.timelinePos>y.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==m){i.error=new Error(`Interstitial ${l.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${i}`),this.log(i.error.message),this.updateSchedule(!0),this.primaryFallback(i);return}this.setBufferingItem(y)}this.setSchedulePosition(m)}else if((h==null?void 0:h.identifier)===a){const m=i.assetList[0];if(m){const y=this.getAssetPlayer(m.identifier);if(h.appendInPlace){const x=this.primaryMedia;y&&x&&this.bufferAssetPlayer(y,x)}else y&&y.loadSource()}}}onError(e,t){if(this.schedule)switch(t.details){case xe.ASSET_LIST_PARSING_ERROR:case xe.ASSET_LIST_LOAD_ERROR:case xe.ASSET_LIST_LOAD_TIMEOUT:{const n=t.interstitial;n&&(this.updateSchedule(!0),this.primaryFallback(n));break}case xe.BUFFER_STALLED_ERROR:{const n=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&n.event.appendInPlace){this.handleInPlaceStall(n.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const L3=500;class i7 extends Av{constructor(e,t,n){super(e,t,n,"subtitle-stream-controller",Ye.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(F.LEVEL_LOADED,this.onLevelLoaded,this),e.on(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(F.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(F.LEVEL_LOADED,this.onLevelLoaded,this),e.off(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(F.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=Ne.IDLE,this.setInterval(L3),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:n,success:s}=t;if(this.fragContextChanged(n)||(en(n)&&(this.fragPrevious=n),this.state=Ne.IDLE),!s)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let a;const l=n.start;for(let c=0;c<i.length;c++)if(l>=i[c].start&&l<=i[c].end){a=i[c];break}const A=n.start+n.duration;a?a.end=A:(a={start:l,end:A},i.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:n,endOffset:s}=t;if(n===0&&s!==Number.POSITIVE_INFINITY){const i=s-1;if(i<=0)return;t.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach(a=>{for(let l=0;l<a.length;){if(a[l].end<=i){a.shift();continue}else if(a[l].start<i)a[l].start=i;else break;l++}}),this.fragmentTracker.removeFragmentsInRange(n,i,Ye.SUBTITLE)}}onError(e,t){const n=t.frag;(n==null?void 0:n.type)===Ye.SUBTITLE&&(t.details===xe.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Ne.STOPPED&&(this.state=Ne.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&Bj(this.levels,t)){this.levels=t.map(n=>new Gu(n));return}this.tracksBuffered=[],this.levels=t.map(n=>{const s=new Gu(n);return this.tracksBuffered[s.id]=[],s}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ye.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var n;if(this.currentTrackId=t.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const s=this.levels[this.currentTrackId];s!=null&&s.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,s&&this.state!==Ne.STOPPED&&this.setInterval(L3)}onSubtitleTrackLoaded(e,t){var n;const{currentTrackId:s,levels:i}=this,{details:a,id:l}=t;if(!i){this.warn(`Subtitle tracks were reset while loading level ${l}`);return}const A=i[l];if(l>=i.length||!A)return;this.log(`Subtitle track ${l} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(a.live||(n=A.details)!=null&&n.live){if(a.deltaUpdateFailed)return;const d=this.mainDetails;if(!d){this.startFragRequested=!1;return}const u=d.fragments[0];if(!A.details)a.hasProgramDateTime&&d.hasProgramDateTime?(zm(a,d),c=a.fragmentStart):u&&(c=u.start,Vy(a,c));else{var f;c=this.alignPlaylists(a,A.details,(f=this.levelLastLoaded)==null?void 0:f.details),c===0&&u&&(c=u.start,Vy(a,c))}d&&!this.startFragRequested&&this.setStartPosition(d,c)}A.details=a,this.levelLastLoaded=A,l===s&&(this.hls.trigger(F.SUBTITLE_TRACK_UPDATED,{details:a,id:l,groupId:t.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===Ne.IDLE&&(PA(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),A.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:n}=e,s=t.decryptdata,i=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&s!=null&&s.key&&s.iv&&Xc(s.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(n),s.key.buffer,s.iv.buffer,ov(s.method)).catch(l=>{throw i.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:t}),l}).then(l=>{const A=performance.now();i.trigger(F.FRAG_DECRYPTED,{frag:t,payload:l,stats:{tstart:a,tdecrypt:A}})}).catch(l=>{this.warn(`${l.name}: ${l.message}`),this.state=Ne.IDLE})}}doTick(){if(!this.media){this.state=Ne.IDLE;return}if(this.state===Ne.IDLE){const{currentTrackId:e,levels:t}=this,n=t==null?void 0:t[e];if(!n||!t.length||!n.details||this.waitForLive(n))return;const{config:s}=this,i=this.getLoadPosition(),a=Lt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,s.maxBufferHole),{end:l,len:A}=a,c=n.details,f=this.hls.maxBufferLength+c.levelTargetDuration;if(A>f)return;const d=c.fragments,u=d.length,h=c.edge;let g=null;const m=this.fragPrevious;if(l<h){const w=s.maxFragLookUpTolerance,v=l>h-w?0:w;g=PA(m,d,Math.max(d[0].start,l),v),!g&&m&&m.start<d[0].start&&(g=d[0])}else g=d[u-1];if(g=this.filterReplacedPrimary(g,n.details),!g)return;const y=g.sn-c.startSN,x=d[y-1];if(x&&x.cc===g.cc&&this.fragmentTracker.getState(x)===wn.NOT_LOADED&&(g=x),this.fragmentTracker.getState(g)===wn.NOT_LOADED){const w=this.mapToInitFragWhenRequired(g);w&&this.loadFragment(w,n,l)}}}loadFragment(e,t,n){en(e)?super.loadFragment(e,t,n):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new a7(this.tracksBuffered[this.currentTrackId]||[])}}class a7{constructor(e){this.buffered=void 0;const t=(n,s,i)=>{if(s=s>>>0,s>i-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${i})`);return e[s][n]};this.buffered={get length(){return e.length},end(n){return t("end",n,e.length)},start(n){return t("start",n,e.length)}}}}const o7={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Gj=r=>String.fromCharCode(o7[r]||r),Vi=15,oo=100,l7={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},A7={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c7={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f7={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d7=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class u7{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const n=typeof t=="function"?t():t;or.log(`${this.time} [${e}] ${n}`)}}}const fA=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toString(16));return t};class Kj{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const s=t[n];e.hasOwnProperty(s)&&(this[s]=e[s])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class h7{constructor(){this.uchar=" ",this.penState=new Kj}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class g7{constructor(e){this.chars=[],this.pos=0,this.currPenState=new Kj,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<oo;t++)this.chars.push(new h7);this.logger=e}equals(e){for(let t=0;t<oo;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<oo;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<oo;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>oo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=oo)}moveCursor(e){const t=this.pos+e;if(e>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=Gj(e);if(this.pos>=oo){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<oo;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let n=0;n<oo;n++){const s=this.chars[n].uchar;s!==" "&&(t=!1),e.push(s)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Rx{constructor(e){this.rows=[],this.currRow=Vi-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Vi;t++)this.rows.push(new g7(e));this.logger=e}reset(){for(let e=0;e<Vi;e++)this.rows[e].clear();this.currRow=Vi-1}equals(e){let t=!0;for(let n=0;n<Vi;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}copy(e){for(let t=0;t<Vi;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Vi;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+gr(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let l=0;l<Vi;l++)this.rows[l].clear();const i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const l=a.rows[i].cueStartTime,A=this.logger.time;if(l!==null&&A!==null&&l<A)for(let c=0;c<this.nrRollUpRows;c++)this.rows[t-this.nrRollUpRows+c+1].copy(a.rows[i+c])}}this.currRow=t;const n=this.rows[this.currRow];if(e.indent!==null){const i=e.indent,a=Math.max(i-1,0);n.setCursor(e.indent),e.color=n.chars[a].penState.foreground}const s={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(s)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+gr(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let n="",s=-1;for(let i=0;i<Vi;i++){const a=this.rows[i].getTextString();a&&(s=i+1,e?t.push("Row "+s+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(e?n="["+t.join(" | ")+"]":n=t.join(`
`)),n}getTextAndFormat(){return this.rows}}class S3{constructor(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Rx(n),this.nonDisplayedMemory=new Rx(n),this.lastOutputScreen=new Rx(n),this.currRollUpRow=this.displayedMemory.rows[Vi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Vi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const n=Math.floor(e/2)-16,s=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=s[n]}this.logger.log(2,"MIDROW: "+gr(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class E3{constructor(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=p7(),this.logger=void 0;const s=this.logger=new u7;this.channels=[null,new S3(e,t,s),new S3(e+1,n,s)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let n=0;n<t.length;n+=2){const s=t[n]&127,i=t[n+1]&127;let a=!1,l=null;if(s===0&&i===0)continue;this.logger.log(3,()=>"["+fA([t[n],t[n+1]])+"] -> ("+fA([s,i])+")");const A=this.cmdHistory;if(s>=16&&s<=31){if(m7(s,i,A)){F0(null,null,A),this.logger.log(3,()=>"Repeated command ("+fA([s,i])+") is dropped");continue}F0(s,i,this.cmdHistory),a=this.parseCmd(s,i),a||(a=this.parseMidrow(s,i)),a||(a=this.parsePAC(s,i)),a||(a=this.parseBackgroundAttributes(s,i))}else F0(null,null,A);if(!a&&(l=this.parseChars(s,i),l)){const f=this.currentChannel;f&&f>0?this.channels[f].insertChars(l):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!l&&this.logger.log(2,()=>"Couldn't parse cleaned data "+fA([s,i])+" orig: "+fA([t[n],t[n+1]]))}}parseCmd(e,t){const n=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,s=(e===23||e===31)&&t>=33&&t<=35;if(!(n||s))return!1;const i=e===20||e===21||e===23?1:2,a=this.channels[i];return e===20||e===21||e===28||e===29?t===32?a.ccRCL():t===33?a.ccBS():t===34?a.ccAOF():t===35?a.ccAON():t===36?a.ccDER():t===37?a.ccRU(2):t===38?a.ccRU(3):t===39?a.ccRU(4):t===40?a.ccFON():t===41?a.ccRDC():t===42?a.ccTR():t===43?a.ccRTD():t===44?a.ccEDM():t===45?a.ccCR():t===46?a.ccENM():t===47&&a.ccEOC():a.ccTO(t-32),this.currentChannel=i,!0}parseMidrow(e,t){let n=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const s=this.channels[n];return s?(s.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+fA([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let n;const s=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,i=(e===16||e===24)&&t>=64&&t<=95;if(!(s||i))return!1;const a=e<=23?1:2;t>=64&&t<=95?n=a===1?l7[e]:c7[e]:n=a===1?A7[e]:f7[e];const l=this.channels[a];return l?(l.setPAC(this.interpretPAC(n,t)),this.currentChannel=a,!0):!1}interpretPAC(e,t){let n;const s={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?n=t-96:n=t-64,s.underline=(n&1)===1,n<=13?s.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(s.italics=!0,s.color="white"):s.indent=Math.floor((n-16)/2)*4,s}parseChars(e,t){let n,s=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){let a;i===17?a=t+80:i===18?a=t+112:a=t+144,this.logger.log(2,()=>"Special char '"+Gj(a)+"' in channel "+n),s=[a]}else e>=32&&e<=127&&(s=t===0?[e]:[e,t]);return s&&this.logger.log(3,()=>"Char codes =  "+fA(s).join(",")),s}parseBackgroundAttributes(e,t){const n=(e===16||e===24)&&t>=32&&t<=47,s=(e===23||e===31)&&t>=45&&t<=47;if(!(n||s))return!1;let i;const a={};e===16||e===24?(i=Math.floor((t-32)/2),a.background=d7[i],t%2===1&&(a.background=a.background+"_semi")):t===45?a.background="transparent":(a.foreground="black",t===47&&(a.underline=!0));const l=e<=23?1:2;return this.channels[l].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}F0(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(e)}}}function F0(r,e,t){t.a=r,t.b=e}function m7(r,e,t){return t.a===r&&t.b===e}function p7(){return{a:null,b:null}}var bv=function(){if(Hm!=null&&Hm.VTTCue)return self.VTTCue;const r=["","lr","rl"],e=["start","middle","end","left","right"];function t(l,A){if(typeof A!="string"||!Array.isArray(l))return!1;const c=A.toLowerCase();return~l.indexOf(c)?c:!1}function n(l){return t(r,l)}function s(l){return t(e,l)}function i(l,...A){let c=1;for(;c<arguments.length;c++){const f=arguments[c];for(const d in f)l[d]=f[d]}return l}function a(l,A,c){const f=this,d={enumerable:!0};f.hasBeenReset=!1;let u="",h=!1,g=l,m=A,y=c,x=null,w="",v=!0,C="auto",N="start",B=50,j="middle",M=50,I="middle";Object.defineProperty(f,"id",i({},d,{get:function(){return u},set:function(U){u=""+U}})),Object.defineProperty(f,"pauseOnExit",i({},d,{get:function(){return h},set:function(U){h=!!U}})),Object.defineProperty(f,"startTime",i({},d,{get:function(){return g},set:function(U){if(typeof U!="number")throw new TypeError("Start time must be set to a number.");g=U,this.hasBeenReset=!0}})),Object.defineProperty(f,"endTime",i({},d,{get:function(){return m},set:function(U){if(typeof U!="number")throw new TypeError("End time must be set to a number.");m=U,this.hasBeenReset=!0}})),Object.defineProperty(f,"text",i({},d,{get:function(){return y},set:function(U){y=""+U,this.hasBeenReset=!0}})),Object.defineProperty(f,"region",i({},d,{get:function(){return x},set:function(U){x=U,this.hasBeenReset=!0}})),Object.defineProperty(f,"vertical",i({},d,{get:function(){return w},set:function(U){const T=n(U);if(T===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"snapToLines",i({},d,{get:function(){return v},set:function(U){v=!!U,this.hasBeenReset=!0}})),Object.defineProperty(f,"line",i({},d,{get:function(){return C},set:function(U){if(typeof U!="number"&&U!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=U,this.hasBeenReset=!0}})),Object.defineProperty(f,"lineAlign",i({},d,{get:function(){return N},set:function(U){const T=s(U);if(!T)throw new SyntaxError("An invalid or illegal string was specified.");N=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"position",i({},d,{get:function(){return B},set:function(U){if(U<0||U>100)throw new Error("Position must be between 0 and 100.");B=U,this.hasBeenReset=!0}})),Object.defineProperty(f,"positionAlign",i({},d,{get:function(){return j},set:function(U){const T=s(U);if(!T)throw new SyntaxError("An invalid or illegal string was specified.");j=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"size",i({},d,{get:function(){return M},set:function(U){if(U<0||U>100)throw new Error("Size must be between 0 and 100.");M=U,this.hasBeenReset=!0}})),Object.defineProperty(f,"align",i({},d,{get:function(){return I},set:function(U){const T=s(U);if(!T)throw new SyntaxError("An invalid or illegal string was specified.");I=T,this.hasBeenReset=!0}})),f.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class x7{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function $j(r){function e(n,s,i,a){return(n|0)*3600+(s|0)*60+(i|0)+parseFloat(a||0)}const t=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class y7{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,n){for(let s=0;s<n.length;++s)if(t===n[s]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function Vj(r,e,t,n){const s=n?r.split(n):[r];for(const i in s){if(typeof s[i]!="string")continue;const a=s[i].split(t);if(a.length!==2)continue;const l=a[0],A=a[1];e(l,A)}}const tw=new bv(0,0,""),U0=tw.align==="middle"?"middle":"center";function w7(r,e,t){const n=r;function s(){const l=$j(r);if(l===null)throw new Error("Malformed timestamp: "+n);return r=r.replace(/^[^\sa-zA-Z-]+/,""),l}function i(l,A){const c=new y7;Vj(l,function(u,h){let g;switch(u){case"region":for(let m=t.length-1;m>=0;m--)if(t[m].id===h){c.set(u,t[m].region);break}break;case"vertical":c.alt(u,h,["rl","lr"]);break;case"line":g=h.split(","),c.integer(u,g[0]),c.percent(u,g[0])&&c.set("snapToLines",!1),c.alt(u,g[0],["auto"]),g.length===2&&c.alt("lineAlign",g[1],["start",U0,"end"]);break;case"position":g=h.split(","),c.percent(u,g[0]),g.length===2&&c.alt("positionAlign",g[1],["start",U0,"end","line-left","line-right","auto"]);break;case"size":c.percent(u,h);break;case"align":c.alt(u,h,["start",U0,"end","left","right"]);break}},/:/,/\s/),A.region=c.get("region",null),A.vertical=c.get("vertical","");let f=c.get("line","auto");f==="auto"&&tw.line===-1&&(f=-1),A.line=f,A.lineAlign=c.get("lineAlign","start"),A.snapToLines=c.get("snapToLines",!0),A.size=c.get("size",100),A.align=c.get("align",U0);let d=c.get("position","auto");d==="auto"&&tw.position===50&&(d=A.align==="start"||A.align==="left"?0:A.align==="end"||A.align==="right"?100:50),A.position=d}function a(){r=r.replace(/^\s+/,"")}if(a(),e.startTime=s(),a(),r.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);r=r.slice(3),a(),e.endTime=s(),a(),i(r,e)}function Yj(r){return r.replace(/<br(?: \/)?>/gi,`
`)}class b7{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new x7,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function n(){let i=t.buffer,a=0;for(i=Yj(i);a<i.length&&i[a]!=="\r"&&i[a]!==`
`;)++a;const l=i.slice(0,a);return i[a]==="\r"&&++a,i[a]===`
`&&++a,t.buffer=i.slice(a),l}function s(i){Vj(i,function(a,l){},/:/)}try{let i="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;i=n();const l=i.match(/^()?WEBVTT([ \t].*)?$/);if(!(l!=null&&l[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let a=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=n(),t.state){case"HEADER":/:/.test(i)?s(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new bv(0,0,""),t.state="CUE",i.indexOf("-->")===-1){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{w7(i,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const l=i.indexOf("-->")!==-1;if(!i||l&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=i}continue;case"BADCUE":i||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const v7=/\r\n|\n\r|\n|\r/g,_x=function(e,t,n=0){return e.slice(n,n+t.length)===t},C7=function(e){let t=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),s=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!He(t)||!He(n)||!He(s)||!He(i))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*n,t+=60*1e3*s,t+=60*60*1e3*i,t};function vv(r,e,t){return cu(r.toString())+cu(e.toString())+cu(t)}const L7=function(e,t,n){let s=e[t],i=e[s.prevCC];if(!i||!i.new&&s.new){e.ccOffset=e.presentationOffset=s.start,s.new=!1;return}for(;(a=i)!=null&&a.new;){var a;e.ccOffset+=s.start-i.start,s.new=!1,s=i,i=e[s.prevCC]}e.presentationOffset=n};function S7(r,e,t,n,s,i,a){const l=new b7,A=ti(new Uint8Array(r)).trim().replace(v7,`
`).split(`
`),c=[],f=e?I9(e.baseTime,e.timescale):0;let d="00:00.000",u=0,h=0,g,m=!0;l.oncue=function(y){const x=t[n];let w=t.ccOffset;const v=(u-f)/9e4;if(x!=null&&x.new&&(h!==void 0?w=t.ccOffset=x.start:L7(t,n,v)),v){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}w=v-t.presentationOffset}const C=y.endTime-y.startTime,N=Vs((y.startTime+w-h)*9e4,s*9e4)/9e4;y.startTime=Math.max(N,0),y.endTime=Math.max(N+C,0);const B=y.text.trim();y.text=decodeURIComponent(encodeURIComponent(B)),y.id||(y.id=vv(y.startTime,y.endTime,B)),y.endTime>0&&c.push(y)},l.onparsingerror=function(y){g=y},l.onflush=function(){if(g){a(g);return}i(c)},A.forEach(y=>{if(m)if(_x(y,"X-TIMESTAMP-MAP=")){m=!1,y.slice(16).split(",").forEach(x=>{_x(x,"LOCAL:")?d=x.slice(6):_x(x,"MPEGTS:")&&(u=parseInt(x.slice(7)))});try{h=C7(d)/1e3}catch(x){g=x}return}else y===""&&(m=!1);l.parse(y+`
`)}),l.flush()}const Px="stpp.ttml.im1t",Wj=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Jj=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,E7={left:"start",center:"center",right:"end",start:"start",end:"end"};function N3(r,e,t,n){const s=Rt(new Uint8Array(r),["mdat"]);if(s.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const i=s.map(l=>ti(l)),a=j9(e.baseTime,1,e.timescale);try{i.forEach(l=>t(N7(l,a)))}catch(l){n(l)}}function N7(r,e){const s=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!s)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(i).reduce((d,u)=>(d[u]=s.getAttribute(`ttp:${u}`)||i[u],d),{}),l=s.getAttribute("xml:space")!=="preserve",A=B3(Qx(s,"styling","style")),c=B3(Qx(s,"layout","region")),f=Qx(s,"body","[begin]");return[].map.call(f,d=>{const u=qj(d,l);if(!u||!d.hasAttribute("begin"))return null;const h=Hx(d.getAttribute("begin"),a),g=Hx(d.getAttribute("dur"),a);let m=Hx(d.getAttribute("end"),a);if(h===null)throw k3(d);if(m===null){if(g===null)throw k3(d);m=h+g}const y=new bv(h-e,m-e,u);y.id=vv(y.startTime,y.endTime,y.text);const x=c[d.getAttribute("region")],w=A[d.getAttribute("style")],v=B7(x,w,A),{textAlign:C}=v;if(C){const N=E7[C];N&&(y.lineAlign=N),y.align=C}return cr(y,v),y}).filter(d=>d!==null)}function Qx(r,e,t){const n=r.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(t)):[]}function B3(r){return r.reduce((e,t)=>{const n=t.getAttribute("xml:id");return n&&(e[n]=t),e},{})}function qj(r,e){return[].slice.call(r.childNodes).reduce((t,n,s)=>{var i;return n.nodeName==="br"&&s?t+`
`:(i=n.childNodes)!=null&&i.length?qj(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent},"")}function B7(r,e,t){const n="http://www.w3.org/ns/ttml#styling";let s=null;const i=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=r!=null&&r.hasAttribute("style")?r.getAttribute("style"):null;return a&&t.hasOwnProperty(a)&&(s=t[a]),i.reduce((l,A)=>{const c=Ox(e,n,A)||Ox(r,n,A)||Ox(s,n,A);return c&&(l[A]=c),l},{})}function Ox(r,e,t){return r&&r.hasAttributeNS(e,t)?r.getAttributeNS(e,t):null}function k3(r){return new Error(`Could not parse ttml timestamp ${r}`)}function Hx(r,e){if(!r)return null;let t=$j(r);return t===null&&(Wj.test(r)?t=k7(r,e):Jj.test(r)&&(t=j7(r,e))),t}function k7(r,e){const t=Wj.exec(r),n=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+n/e.frameRate}function j7(r,e){const t=Jj.exec(r),n=Number(t[1]);switch(t[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class R0{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class I7{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=I3(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(F.FRAG_LOADING,this.onFragLoading,this),e.on(F.FRAG_LOADED,this.onFragLoaded,this),e.on(F.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(F.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(F.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(F.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(F.FRAG_LOADING,this.onFragLoading,this),e.off(F.FRAG_LOADED,this.onFragLoaded,this),e.off(F.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(F.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(F.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(F.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new R0(this,"textTrack1"),t=new R0(this,"textTrack2"),n=new R0(this,"textTrack3"),s=new R0(this,"textTrack4");this.cea608Parser1=new E3(1,e,t),this.cea608Parser2=new E3(3,n,s)}addCues(e,t,n,s,i){let a=!1;for(let l=i.length;l--;){const A=i[l],c=T7(A[0],A[1],t,n);if(c>=0&&(A[0]=Math.min(A[0],t),A[1]=Math.max(A[1],n),a=!0,c/(n-t)>.5))return}if(a||i.push([t,n]),this.config.renderTextTracksNatively){const l=this.captionsTracks[e];this.Cues.newCue(l,t,n,s)}else{const l=this.Cues.newCue(null,t,n,s);this.hls.trigger(F.CUES_PARSED,{type:"captions",cues:l,track:e})}}onInitPtsFound(e,{frag:t,id:n,initPTS:s,timescale:i,trackId:a}){const{unparsedVttFrags:l}=this;n===Ye.MAIN&&(this.initPTS[t.cc]={baseTime:s,timescale:i,trackId:a}),l.length&&(this.unparsedVttFrags=[],l.forEach(A=>{this.initPTS[A.frag.cc]?this.onFragLoaded(F.FRAG_LOADED,A):this.hls.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:A.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,t){const{media:n}=this;if(n)for(let s=0;s<n.textTracks.length;s++){const i=n.textTracks[s];if(j3(i,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:n,media:s}=this,{label:i,languageCode:a}=t[e],l=this.getExistingTrack(i,a);if(l)n[e]=l,zc(n[e]),Oj(n[e],s);else{const A=this.createTextTrack("captions",i,a);A&&(A[e]=!0,n[e]=A)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const n=t.label,s={_id:e,label:n,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=s,this.hls.trigger(F.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(e,t,n){const s=this.media;if(s)return s.addTextTrack(e,t,n)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const n=!!t.transferMedia;if(this.media=null,n)return;const{captionsTracks:s}=this;Object.keys(s).forEach(i=>{zc(s[i]),delete s[i]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=I3(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let n=0;n<t.length;n++)zc(t[n])}onSubtitleTracksUpdated(e,t){const n=t.subtitleTracks||[],s=n.some(i=>i.textCodec===Px);if(this.config.enableWebVTT||s&&this.config.enableIMSC1){if(Bj(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const a=this.media,l=a?Gg(a.textTracks):null;if(this.tracks.forEach((A,c)=>{let f;if(l){let d=null;for(let u=0;u<l.length;u++)if(l[u]&&j3(l[u],A)){d=l[u],l[u]=null;break}d&&(f=d)}if(f)zc(f);else{const d=Zj(A);f=this.createTextTrack(d,A.name,A.lang),f&&(f.mode="disabled")}f&&this.textTracks.push(f)}),l!=null&&l.length){const A=l.filter(c=>c!==null).map(c=>c.label);A.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${A.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(l=>({label:l.name,kind:l.type.toLowerCase(),default:l.default,subtitleTrack:l}));this.hls.trigger(F.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(n=>{const s=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!s)return;const i=`textTrack${s[1]}`,a=this.captionsProperties[i];a&&(a.label=n.name,n.lang&&(a.languageCode=n.lang),a.media=n)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Ye.MAIN){var n,s;const{cea608Parser1:i,cea608Parser2:a,lastSn:l}=this,{cc:A,sn:c}=t.frag,f=(n=(s=t.part)==null?void 0:s.index)!=null?n:-1;i&&a&&(c!==l+1||c===l&&f!==this.lastPartIndex+1||A!==this.lastCc)&&(i.reset(),a.reset()),this.lastCc=A,this.lastSn=c,this.lastPartIndex=f}}onFragLoaded(e,t){const{frag:n,payload:s}=t;if(n.type===Ye.SUBTITLE)if(s.byteLength){const i=n.decryptdata,a="stats"in t;if(i==null||!i.encrypted||a){const l=this.tracks[n.level],A=this.vttCCs;A[n.cc]||(A[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),l&&l.textCodec===Px?this._parseIMSC1(n,s):this._parseVTTs(t)}}else this.hls.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const n=this.hls;N3(t,this.initPTS[e.cc],s=>{this._appendCues(s,e.level),n.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},s=>{n.logger.log(`Failed to parse IMSC1: ${s}`),n.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:s})})}_parseVTTs(e){var t;const{frag:n,payload:s}=e,{initPTS:i,unparsedVttFrags:a}=this,l=i.length-1;if(!i[n.cc]&&l===-1){a.push(e);return}const A=this.hls,c=(t=n.initSegment)!=null&&t.data?Ii(n.initSegment.data,new Uint8Array(s)).buffer:s;S7(c,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,f=>{this._appendCues(f,n.level),A.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},f=>{const d=f.message==="Missing initPTS for VTT MPEGTS";d?a.push(e):this._fallbackToIMSC1(n,s),A.logger.log(`Failed to parse VTT cue: ${f}`),!(d&&l>n.cc)&&A.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:f})})}_fallbackToIMSC1(e,t){const n=this.tracks[e.level];n.textCodec||N3(t,this.initPTS[e.cc],()=>{n.textCodec=Px,this._parseIMSC1(e,t)},()=>{n.textCodec="wvtt"})}_appendCues(e,t){const n=this.hls;if(this.config.renderTextTracksNatively){const s=this.textTracks[t];if(!s||s.mode==="disabled")return;e.forEach(i=>Hj(s,i))}else{const s=this.tracks[t];if(!s)return;const i=s.default?"default":"subtitles"+t;n.trigger(F.CUES_PARSED,{type:"subtitles",cues:e,track:i})}}onFragDecrypted(e,t){const{frag:n}=t;n.type===Ye.SUBTITLE&&this.onFragLoaded(F.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:s}=t;if(!(n.type===Ye.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let i=0;i<s.length;i++){const a=s[i].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const l=this.extractCea608Data(a);this.cea608Parser1.addData(s[i].pts,l[0]),this.cea608Parser2.addData(s[i].pts,l[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:n,endOffsetSubtitles:s,type:i}){const{media:a}=this;if(!(!a||a.currentTime<n)){if(!i||i==="video"){const{captionsTracks:l}=this;Object.keys(l).forEach(A=>ew(l[A],t,n))}if(this.config.renderTextTracksNatively&&t===0&&s!==void 0){const{textTracks:l}=this;Object.keys(l).forEach(A=>ew(l[A],t,s))}}}extractCea608Data(e){const t=[[],[]],n=e[0]&31;let s=2;for(let i=0;i<n;i++){const a=e[s++],l=127&e[s++],A=127&e[s++];if(l===0&&A===0)continue;if((4&a)!==0){const f=3&a;(f===0||f===1)&&(t[f].push(l),t[f].push(A))}}return t}}function Zj(r){return r.characteristics&&/transcribes-spoken-dialog/gi.test(r.characteristics)&&/describes-music-and-sound/gi.test(r.characteristics)?"captions":"subtitles"}function j3(r,e){return!!r&&r.kind===Zj(e)&&Jy(e,r)}function T7(r,e,t,n){return Math.min(e,n)-Math.max(r,t)}function I3(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const M7=/\s/,D7={newCue(r,e,t,n){const s=[];let i,a,l,A,c;const f=self.VTTCue||self.TextTrackCue;for(let u=0;u<n.rows.length;u++)if(i=n.rows[u],l=!0,A=0,c="",!i.isEmpty()){var d;for(let m=0;m<i.chars.length;m++)M7.test(i.chars[m].uchar)&&l?A++:(c+=i.chars[m].uchar,l=!1);i.cueStartTime=e,e===t&&(t+=1e-4),A>=16?A--:A++;const h=Yj(c.trim()),g=vv(e,t,h);r!=null&&(d=r.cues)!=null&&d.getCueById(g)||(a=new f(e,t,h),a.id=g,a.line=u+1,a.align="left",a.position=10+Math.min(80,Math.floor(A*8/32)*10),s.push(a))}return r&&s.length&&(s.sort((u,h)=>u.line==="auto"||h.line==="auto"?0:u.line>8&&h.line>8?h.line-u.line:u.line-h.line),s.forEach(u=>Hj(r,u))),s}};function F7(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const U7=/(\d+)-(\d+)\/(\d+)/;class T3{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Q7,this.controller=new self.AbortController,this.stats=new ev}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,n){const s=this.stats;if(s.loading.start)throw new Error("Loader can only be used once.");s.loading.start=self.performance.now();const i=R7(e,this.controller.signal),a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:A,maxLoadTimeMs:c}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,i),self.clearTimeout(this.requestTimeout),t.timeout=A&&He(A)?A:c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(s,e,this.response))},t.timeout),(Vu(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(d=>{var u;this.response=this.loader=d;const h=Math.max(self.performance.now(),s.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(s,e,this.response))},c-(h-s.loading.start)),!d.ok){const{status:m,statusText:y}=d;throw new O7(y||"fetch, bad network response",m,d)}s.loading.first=h,s.total=P7(d.headers)||s.total;const g=(u=this.callbacks)==null?void 0:u.onProgress;return g&&He(t.highWaterMark)?this.loadProgressively(d,s,e,t.highWaterMark,g):a?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{var u,h;const g=this.response;if(!g)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),s.loading.end=Math.max(self.performance.now(),s.loading.first);const m=d[l];m&&(s.loaded=s.total=m);const y={url:g.url,data:d,code:g.status},x=(u=this.callbacks)==null?void 0:u.onProgress;x&&!He(t.highWaterMark)&&x(s,e,d,g),(h=this.callbacks)==null||h.onSuccess(y,s,e,g)}).catch(d=>{var u;if(self.clearTimeout(this.requestTimeout),s.aborted)return;const h=d&&d.code||0,g=d?d.message:null;(u=this.callbacks)==null||u.onError({code:h,text:g},e,d?d.details:null,s)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,n,s=0,i){const a=new lj,l=e.body.getReader(),A=()=>l.read().then(c=>{if(c.done)return a.dataLength&&i(t,n,a.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const f=c.value,d=f.length;return t.loaded+=d,d<s||a.dataLength?(a.push(f),a.dataLength>=s&&i(t,n,a.flush().buffer,e)):i(t,n,f.buffer,e),A()}).catch(()=>Promise.reject());return A()}}function R7(r,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(cr({},r.headers))};return r.rangeEnd&&t.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),t}function _7(r){const e=U7.exec(r);if(e)return parseInt(e[2])-parseInt(e[1])+1}function P7(r){const e=r.get("Content-Range");if(e){const n=_7(e);if(He(n))return n}const t=r.get("Content-Length");if(t)return parseInt(t)}function Q7(r,e){return new self.Request(r.url,e)}class O7 extends Error{constructor(e,t,n){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const H7=/^age:\s*[\d.]+\s*$/im;class Xj{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new ev,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const n=this.loader=new self.XMLHttpRequest,s=this.stats;s.loading.first=0,s.loaded=0,s.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return i(n,t.url)}).catch(a=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",t.url,!0),i(n,t.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,t,e)}).catch(a=>{var l;(l=this.callbacks)==null||l.onError({code:n.status,text:a.message},t,n,s)}):this.openAndSendXhr(n,t,e)}openAndSendXhr(e,t,n){e.readyState||e.open("GET",t.url,!0);const s=t.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:a}=n.loadPolicy;if(s)for(const l in s)e.setRequestHeader(l,s[l]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=i&&He(i)?i:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:n}=this;if(!e||!t)return;const s=t.readyState,i=this.config;if(!n.aborted&&s>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),s===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const c=t.status,f=t.responseType==="text"?t.responseText:null;if(c>=200&&c<300){const g=f??t.response;if(g!=null){var a,l;n.loading.end=Math.max(self.performance.now(),n.loading.first);const m=t.responseType==="arraybuffer"?g.byteLength:g.length;n.loaded=n.total=m,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const y=(a=this.callbacks)==null?void 0:a.onProgress;y&&y(n,e,g,t);const x={url:t.responseURL,data:g,code:c};(l=this.callbacks)==null||l.onSuccess(x,n,e,t);return}}const d=i.loadPolicy.errorRetry,u=n.retry,h={url:e.url,data:void 0,code:c};if(Qm(d,u,!1,h))this.retry(d);else{var A;or.error(`${c} while loading ${e.url}`),(A=this.callbacks)==null||A.onError({code:c,text:t.statusText},e,t,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Qm(e,t,!0))this.retry(e);else{var n;or.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:n}=this;this.retryDelay=sv(e,n.retry),n.retry++,or.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&H7.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const z7={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},G7=ir(ir({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:Xj,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:rQ,bufferController:$9,capLevelController:xv,errorController:oQ,fpsController:VO,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:q5,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:z7},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},K7()),{},{subtitleStreamController:i7,subtitleTrackController:JO,timelineController:I7,audioStreamController:H9,audioTrackController:z9,emeController:ef,cmcdController:zO,contentSteeringController:KO,interstitialsController:s7});function K7(){return{cueHandler:D7,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function $7(r,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=rw(r),s=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return s.forEach(a=>{const l=`${a==="level"?"playlist":a}LoadPolicy`,A=e[l]===void 0,c=[];i.forEach(f=>{const d=`${a}Loading${f}`,u=e[d];if(u!==void 0&&A){c.push(d);const h=n[l].default;switch(e[l]={default:h},f){case"TimeOut":h.maxLoadTimeMs=u,h.maxTimeToFirstByteMs=u;break;case"MaxRetry":h.errorRetry.maxNumRetry=u,h.timeoutRetry.maxNumRetry=u;break;case"RetryDelay":h.errorRetry.retryDelayMs=u,h.timeoutRetry.retryDelayMs=u;break;case"MaxRetryTimeout":h.errorRetry.maxRetryDelayMs=u,h.timeoutRetry.maxRetryDelayMs=u;break}}}),c.length&&t.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${l}": ${gr(e[l])}`)}),ir(ir({},n),e)}function rw(r){return r&&typeof r=="object"?Array.isArray(r)?r.map(rw):Object.keys(r).reduce((e,t)=>(e[t]=rw(r[t]),e),{}):r}function V7(r,e){const t=r.loader;t!==T3&&t!==Xj?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):F7()&&(r.loader=T3,r.progressive=!0,r.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Kg=2,Y7=.1,W7=.05,J7=100;class q7 extends $5{constructor(e,t){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(F.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(J7),this.mediaSource=t.mediaSource;const n=this.media=t.media;gs(n,"playing",this.onMediaPlaying),gs(n,"waiting",this.onMediaWaiting),gs(n,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:n}=this;n&&(Bs(n,"playing",this.onMediaPlaying),Bs(n,"waiting",this.onMediaWaiting),Bs(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var n,s;const i=(n=this.hls)==null?void 0:n.config;if(!i)return;const a=this.media;if(!a)return;const{seeking:l}=a,A=this.seeking&&!l,c=!this.seeking&&l,f=a.paused&&!l||a.ended||a.playbackRate===0;if(this.seeking=l,e!==t){t&&(this.ended=0),this.moved=!0,l||(this.nudgeRetry=0,i.nudgeOnVideoHole&&!f&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(c||A){A&&this.stallResolved(e);return}if(f){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&a.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(F.MEDIA_ENDED,{stalled:!1}));return}if(!Lt.getBuffered(a).length){this.nudgeRetry=0;return}const d=Lt.bufferInfo(a,e,0),u=d.nextStart||0,h=this.fragmentTracker;if(l&&h&&this.hls){const B=M3(this.hls.inFlightFragments,e),j=d.len>Kg,M=!u||B||u-e>Kg&&!h.getPartialFragment(e);if(j||M)return;this.moved=!1}const g=(s=this.hls)==null?void 0:s.latestLevelDetails;if(!this.moved&&this.stalled!==null&&h){if(!(d.len>0)&&!u)return;const j=Math.max(u,d.start||0)-e,I=!!(g!=null&&g.live)?g.targetduration*2:Kg,U=_0(e,h);if(j>0&&(j<=I||U)){a.paused||this._trySkipBufferHole(U);return}}const m=i.detectStallWithCurrentTimeMs,y=self.performance.now(),x=this.waiting;let w=this.stalled;if(w===null)if(x>0&&y-x<m)w=this.stalled=x;else{this.stalled=y;return}const v=y-w;if(!l&&(v>=m||x)&&this.hls){var C;if(((C=this.mediaSource)==null?void 0:C.readyState)==="ended"&&!(g!=null&&g.live)&&Math.abs(e-((g==null?void 0:g.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(F.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(d),!this.media||!this.hls)return}const N=Lt.bufferInfo(a,e,i.maxBufferHole);this._tryFixBufferStall(N,v,e)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(F.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var n;const s=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&s&&s.length>1&&e>s.end(0)){const i=Lt.bufferedInfo(Lt.timeRangesToArray(this.buffered.audio),e,0);if(i.len>1&&t>=i.start){const a=Lt.timeRangesToArray(s),l=Lt.bufferedInfo(a,t,0).bufferedIndex;if(l>-1&&l<a.length-1){const A=Lt.bufferedInfo(a,e,0).bufferedIndex,c=a[l].end,f=a[l+1].start;if((A===-1||A>l)&&f-c<1&&e-c<2){const d=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${c} -> ${f} buffered index: ${A}`);this.warn(d.message),this.media.currentTime+=1e-6;let u=_0(e,this.fragmentTracker);u&&"fragment"in u?u=u.fragment:u||(u=void 0);const h=Lt.bufferInfo(this.media,e,0);this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:d,reason:d.message,frag:u,buffer:h.len,bufferInfo:h})}}}}}_tryFixBufferStall(e,t,n){var s,i;const{fragmentTracker:a,media:l}=this,A=(s=this.hls)==null?void 0:s.config;if(!l||!a||!A)return;const c=(i=this.hls)==null?void 0:i.latestLevelDetails,f=_0(n,a);if((f||c!=null&&c.live&&n<c.fragmentStart)&&(this._trySkipBufferHole(f)||!this.media))return;const d=e.buffered,u=this.adjacentTraversal(e,n);(d&&d.length>1&&e.len>A.maxBufferHole||e.nextStart&&(e.nextStart-n<A.maxBufferHole||u))&&(t>A.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,t){const n=this.fragmentTracker,s=e.nextStart;if(n&&s){const i=n.getFragAtPos(t,Ye.MAIN),a=n.getFragAtPos(s,Ye.MAIN);if(i&&a)return a.sn-i.sn<2}return!1}_reportStall(e){const{hls:t,media:n,stallReported:s,stalled:i}=this;if(!s&&i!==null&&n&&t){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${gr(e)})`);this.warn(a.message),t.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len,bufferInfo:e,stalled:{start:i}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:n,media:s}=this,i=(t=this.hls)==null?void 0:t.config;if(!s||!n||!i)return 0;const a=s.currentTime,l=Lt.bufferInfo(s,a,0),A=a<l.start?l.start:l.nextStart;if(A&&this.hls){const f=l.len<=i.maxBufferHole,d=l.len>0&&l.len<1&&s.readyState<3,u=A-a;if(u>0&&(f||d)){if(u>i.maxBufferHole){let g=!1;if(a===0){const m=n.getAppendedFrag(0,Ye.MAIN);m&&A<m.end&&(g=!0)}if(!g&&e){var c;if(!((c=this.hls.loadLevelObj)!=null&&c.details)||M3(this.hls.inFlightFragments,A))return 0;let y=!1,x=e.end;for(;x<A;){const w=_0(x,n);if(w)x+=w.duration;else{y=!0;break}}if(y)return 0}}const h=Math.max(A+W7,a+Y7);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${h}`),this.moved=!0,s.currentTime=h,!(e!=null&&e.gap)){const g=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${h}`),m={type:at.MEDIA_ERROR,details:xe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:g,reason:g.message,buffer:l.len,bufferInfo:l};e&&("fragment"in e?m.part=e:m.frag=e),this.hls.trigger(F.ERROR,m)}return h}}return 0}_tryNudgeBuffer(e){const{hls:t,media:n,nudgeRetry:s}=this,i=t==null?void 0:t.config;if(!n||!i)return 0;const a=n.currentTime;if(this.nudgeRetry++,s<i.nudgeMaxRetry){const l=a+(s+1)*i.nudgeOffset,A=new Error(`Nudging 'currentTime' from ${a} to ${l}`);this.warn(A.message),n.currentTime=l,t.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.BUFFER_NUDGE_ON_STALL,error:A,fatal:!1,buffer:e.len,bufferInfo:e})}else{const l=new Error(`Playhead still not moving while enough data buffered @${a} after ${i.nudgeMaxRetry} nudges`);this.error(l.message),t.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.BUFFER_STALLED_ERROR,error:l,fatal:!0,buffer:e.len,bufferInfo:e})}}}function M3(r,e){const t=D3(r.main);if(t&&t.start<=e)return t;const n=D3(r.audio);return n&&n.start<=e?n:null}function D3(r){if(!r)return null;switch(r.state){case Ne.IDLE:case Ne.STOPPED:case Ne.ENDED:case Ne.ERROR:return null}return r.frag}function _0(r,e){return e.getAppendedFrag(r,Ye.MAIN)||e.getPartialFragment(r)}const Z7=.25;function nw(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function zx(r,e,t,n,s){let i=new r(e,t,"");try{i.value=n,s&&(i.type=s)}catch{i=new r(e,t,gr(s?ir({type:s},n):n))}return i}const P0=(()=>{const r=nw();try{r&&new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class X7{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(F.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(F.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(F.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,t){var n;this.media=t.media,((n=t.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const t=(e=this.hls)==null?void 0:e.latestLevelDetails;t&&this.updateDateRangeCues(t)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&zc(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const n=e[t];if(n.kind==="metadata"&&n.label==="id3")return Oj(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:n,enableID3MetadataCues:s}=this.hls.config;if(!n&&!s)return;const{samples:i}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=nw();if(a)for(let l=0;l<i.length;l++){const A=i[l].type;if(A===Ws.emsg&&!n||!s)continue;const c=gj(i[l].data),f=i[l].pts;let d=f+i[l].duration;d>P0&&(d=P0),d-f<=0&&(d=f+Z7);for(let h=0;h<c.length;h++){const g=c[h];if(!mj(g)){this.updateId3CueEnds(f,A);const m=zx(a,f,d,g,A);m&&this.id3Track.addCue(m)}}}}updateId3CueEnds(e,t){var n;const s=(n=this.id3Track)==null?void 0:n.cues;if(s)for(let i=s.length;i--;){const a=s[i];a.type===t&&a.startTime<e&&a.endTime===P0&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:n,type:s}){const{id3Track:i,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:l,enableID3MetadataCues:A}}=a;if(i&&(l||A)){let c;s==="audio"?c=f=>f.type===Ws.audioId3&&A:s==="video"?c=f=>f.type===Ws.emsg&&l:c=f=>f.type===Ws.audioId3&&A||f.type===Ws.emsg&&l,ew(i,t,n,c)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.hls||!this.media)return;const{assetPlayerId:n,timelineOffset:s,enableDateRangeMetadataCues:i,interstitialsController:a}=this.hls.config;if(!i)return;const l=nw();if(n&&s&&!a){const{fragmentStart:m,fragmentEnd:y}=e;let x=this.assetCue;x?(x.startTime=m,x.endTime=y):l&&(x=this.assetCue=zx(l,m,y,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),x&&(x.id=n,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(x),x.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:A}=this,{dateRanges:c}=e,f=Object.keys(c);let d=this.dateRangeCuesAppended;if(A&&t){var u;if((u=A.cues)!=null&&u.length){const m=Object.keys(d).filter(y=>!f.includes(y));for(let y=m.length;y--;){var h;const x=m[y],w=(h=d[x])==null?void 0:h.cues;delete d[x],w&&Object.keys(w).forEach(v=>{const C=w[v];if(C){C.removeEventListener("enter",this.onEventCueEnter);try{A.removeCue(C)}catch{}}})}}else d=this.dateRangeCuesAppended={}}const g=e.fragments[e.fragments.length-1];if(!(f.length===0||!He(g==null?void 0:g.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let m=0;m<f.length;m++){const y=f[m],x=c[y],w=x.startTime,v=d[y],C=(v==null?void 0:v.cues)||{};let N=(v==null?void 0:v.durationKnown)||!1,B=P0;const{duration:j,endDate:M}=x;if(M&&j!==null)B=w+j,N=!0;else if(x.endOnNext&&!N){const U=f.reduce((T,P)=>{if(P!==x.id){const G=c[P];if(G.class===x.class&&G.startDate>x.startDate&&(!T||x.startDate<T.startDate))return G}return T},null);U&&(B=U.startTime,N=!0)}const I=Object.keys(x.attr);for(let U=0;U<I.length;U++){const T=I[U];if(!wQ(T))continue;const P=C[T];if(P)N&&!(v!=null&&v.durationKnown)?P.endTime=B:Math.abs(P.startTime-w)>.01&&(P.startTime=w,P.endTime=B);else if(l){let G=x.attr[T];bQ(T)&&(G=E5(G));const q=zx(l,w,B,{key:T,data:G},Ws.dateRange);q&&(q.id=y,this.id3Track.addCue(q),C[T]=q,a&&(T==="X-ASSET-LIST"||T==="X-ASSET-URL")&&q.addEventListener("enter",this.onEventCueEnter))}}d[y]={cues:C,dateRange:x,durationKnown:N}}}}}class eH{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,n=this.levelDetails;if(!t||!n)return;this.currentTime=t.currentTime;const s=this.computeLatency();if(s===null)return;this._latency=s;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:a}=this.config;if(!i||a===1||!n.live)return;const l=this.targetLatency;if(l===null)return;const A=s-l,c=Math.min(this.maxLatency,l+n.targetduration);if(A<c&&A>.05&&this.forwardBufferLength>1){const d=Math.min(2,Math.max(1,a)),u=Math.round(2/(1+Math.exp(-.75*A-this.edgeStalled))*20)/20,h=Math.min(d,Math.max(1,u));this.changeMediaPlaybackRate(t,h)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:n,targetduration:s}=e,{liveSyncDuration:i,liveSyncDurationCount:a,lowLatencyMode:l}=this.config,A=this.hls.userConfig;let c=l&&n||t;(this._targetLatencyUpdated||A.liveSyncDuration||A.liveSyncDurationCount||c===0)&&(c=i!==void 0?i:a*s);const f=s;return c+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,f)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const n=this.levelDetails;if(n===null)return null;const s=n.edge,i=e-t-this.edgeStalled,a=s-n.totalduration,l=s-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),l)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(F.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(F.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var n;t.details===xe.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var n,s;e.playbackRate!==t&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(s=this.targetLatency)==null?void 0:s.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class tH extends pv{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(F.LEVEL_LOADED,this.onLevelLoaded,this),e.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(F.FRAG_BUFFERED,this.onFragBuffered,this),e.on(F.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(F.LEVEL_LOADED,this.onLevelLoaded,this),e.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(F.FRAG_BUFFERED,this.onFragBuffered,this),e.off(F.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const n=this.hls.config.preferManagedMediaSource,s=[],i={},a={};let l=!1,A=!1,c=!1;t.levels.forEach(f=>{const d=f.attrs;let{audioCodec:u,videoCodec:h}=f;u&&(f.audioCodec=u=Um(u,n)||void 0),h&&(h=f.videoCodec=R8(h));const{width:g,height:m,unknownCodecs:y}=f,x=(y==null?void 0:y.length)||0;if(l||(l=!!(g&&m)),A||(A=!!h),c||(c=!!u),x||u&&!this.isAudioSupported(u)||h&&!this.isVideoSupported(h)){this.log(`Some or all CODECS not supported "${d.CODECS}"`);return}const{CODECS:w,"FRAME-RATE":v,"HDCP-LEVEL":C,"PATHWAY-ID":N,RESOLUTION:B,"VIDEO-RANGE":j}=d,I=`${`${N||"."}-`}${f.bitrate}-${B}-${v}-${w}-${j}-${C}`;if(i[I])if(i[I].uri!==f.url&&!f.attrs["PATHWAY-ID"]){const U=a[I]+=1;f.attrs["PATHWAY-ID"]=new Array(U+1).join(".");const T=this.createLevel(f);i[I]=T,s.push(T)}else i[I].addGroupId("audio",d.AUDIO),i[I].addGroupId("text",d.SUBTITLES);else{const U=this.createLevel(f);i[I]=U,a[I]=1,s.push(U)}}),this.filterAndSortMediaOptions(s,t,l,A,c)}createLevel(e){const t=new Gu(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const s=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(s.message),t.supportedResult=_5(s,[])}return t}isAudioSupported(e){return Hu(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Hu(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,n,s,i){var a;let l=[],A=[],c=e;const f=((a=t.stats)==null?void 0:a.parsing)||{};if((n||s)&&i&&(c=c.filter(({videoCodec:w,videoRange:v,width:C,height:N})=>(!!w||!!(C&&N))&&V8(v))),c.length===0){Promise.resolve().then(()=>{if(this.hls){let w="no level with compatible codecs found in manifest",v=w;t.levels.length&&(v=`one or more CODECS in variant not supported: ${gr(t.levels.map(N=>N.attrs.CODECS).filter((N,B,j)=>j.indexOf(N)===B))}`,this.warn(v),w+=` (${v})`);const C=new Error(w);this.hls.trigger(F.ERROR,{type:at.MEDIA_ERROR,details:xe.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:C,reason:v})}}),f.end=performance.now();return}t.audioTracks&&(l=t.audioTracks.filter(w=>!w.audioCodec||this.isAudioSupported(w.audioCodec)),F3(l)),t.subtitles&&(A=t.subtitles,F3(A));const d=c.slice(0);c.sort((w,v)=>{if(w.attrs["HDCP-LEVEL"]!==v.attrs["HDCP-LEVEL"])return(w.attrs["HDCP-LEVEL"]||"")>(v.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&w.height!==v.height)return w.height-v.height;if(w.frameRate!==v.frameRate)return w.frameRate-v.frameRate;if(w.videoRange!==v.videoRange)return Rm.indexOf(w.videoRange)-Rm.indexOf(v.videoRange);if(w.videoCodec!==v.videoCodec){const C=EL(w.videoCodec),N=EL(v.videoCodec);if(C!==N)return N-C}if(w.uri===v.uri&&w.codecSet!==v.codecSet){const C=Fm(w.codecSet),N=Fm(v.codecSet);if(C!==N)return N-C}return w.averageBitrate!==v.averageBitrate?w.averageBitrate-v.averageBitrate:0});let u=d[0];if(this.steering&&(c=this.steering.filterParsedLevels(c),c.length!==d.length)){for(let w=0;w<d.length;w++)if(d[w].pathwayId===c[0].pathwayId){u=d[w];break}}this._levels=c;for(let w=0;w<c.length;w++)if(c[w]===u){var h;this._firstLevel=w;const v=u.bitrate,C=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${c.length} level(s) found, first bitrate: ${v}`),((h=this.hls.userConfig)==null?void 0:h.abrEwmaDefaultEstimate)===void 0){const N=Math.min(v,this.hls.config.abrEwmaDefaultEstimateMax);N>C&&C===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=N)}break}const g=i&&!s,m=this.hls.config,y=!!(m.audioStreamController&&m.audioTrackController),x={levels:c,audioTracks:l,subtitleTracks:A,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:i,video:s,altAudio:y&&!g&&l.some(w=>!!w.url)};f.end=performance.now(),this.hls.trigger(F.MANIFEST_PARSED,x)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const f=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:f,reason:f.message}),d)return;e=Math.min(e,t.length-1)}const n=this.currentLevelIndex,s=this.currentLevel,i=s?s.attrs["PATHWAY-ID"]:void 0,a=t[e],l=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,n===e&&s&&i===l)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${l?" with Pathway "+l:""} from level ${n}${i?" with Pathway "+i:""}`);const A={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(F.LEVEL_SWITCHING,A);const c=a.details;if(!c||c.live){const f=this.switchParams(a.uri,s==null?void 0:s.details,c);this.loadPlaylist(f)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),n=e.filter(s=>t.indexOf(s)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=n}}onError(e,t){t.fatal||!t.context||t.context.type===Pt.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===Ye.MAIN){const n=t.elementaryStreams;if(!Object.keys(n).some(i=>!!n[i]))return;const s=this._levels[t.level];s!=null&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(e,t){var n;const{level:s,details:i}=t,a=t.levelInfo;if(!a){var l;this.warn(`Invalid level index ${s}`),(l=t.deliveryDirectives)!=null&&l.skip&&(i.deltaUpdateFailed=!0);return}if(a===this.currentLevel||t.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let A=a.details;A===t.details&&A.advanced&&(A=void 0),this.playlistLoaded(s,t,A)}else(n=t.deliveryDirectives)!=null&&n.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=this.getUrlWithDirectives(e.uri,t),s=this.currentLevelIndex,i=e.attrs["PATHWAY-ID"],a=e.details,l=a==null?void 0:a.age;this.log(`Loading level index ${s}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${i?" Pathway "+i:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${n}`),this.hls.trigger(F.LEVEL_LOADING,{url:n,level:s,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const n=this._levels.filter((i,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(l=>l.level=-1)),!1));ij(n),this._levels=n,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const s=n.length-1;this._firstLevel=Math.min(this._firstLevel,s),this._startLevel&&(this._startLevel=Math.min(this._startLevel,s)),this.hls.trigger(F.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(F.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function F3(r){const e={};r.forEach(t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++})}function eI(){return self.SourceBuffer||self.WebKitSourceBuffer}function tI(){if(!Ul())return!1;const e=eI();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function rH(){if(!tI())return!1;const r=Ul();return typeof(r==null?void 0:r.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>r.isTypeSupported(zu(e,"video")))||["mp4a.40.2","fLaC"].some(e=>r.isTypeSupported(zu(e,"audio"))))}function nH(){var r;const e=eI();return typeof(e==null||(r=e.prototype)==null?void 0:r.changeType)=="function"}const sH=100;class iH extends Av{constructor(e,t,n){super(e,t,n,"stream-controller",Ye.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const s=this.media,i=s?s.currentTime:null;if(i===null||!He(i)||(this.log(`Media seeked to ${i.toFixed(3)}`),!this.getBufferedFrag(i)))return;const a=this.getFwdBufferInfoAtPos(s,i,Ye.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${i} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(F.MANIFEST_PARSED,this.onManifestParsed,this),e.on(F.LEVEL_LOADING,this.onLevelLoading,this),e.on(F.LEVEL_LOADED,this.onLevelLoaded,this),e.on(F.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(F.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(F.BUFFER_CREATED,this.onBufferCreated,this),e.on(F.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(F.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(F.MANIFEST_PARSED,this.onManifestParsed,this),e.off(F.LEVEL_LOADED,this.onLevelLoaded,this),e.off(F.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(F.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(F.BUFFER_CREATED,this.onBufferCreated,this),e.off(F.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(F.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:n,hls:s}=this;if(this.stopLoad(),this.setInterval(sH),this.level=-1,!this.startFragRequested){let i=s.startLevel;i===-1&&(s.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=s.firstAutoLevel),s.nextLoadLevel=i,this.level=s.loadLevel,this._hasEnoughToStart=!!t}n>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=Ne.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=Ne.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Ne.WAITING_LEVEL:{const{levels:e,level:t}=this,n=e==null?void 0:e[t],s=n==null?void 0:n.details;if(s&&(!s.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(s))break;this.state=Ne.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Ne.IDLE;break}break}case Ne.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===Ne.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:n,media:s}=this;if(t===null||!s&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const i=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[i]))return;const a=n[i],l=this.getMainFwdBufferInfo();if(l===null)return;const A=this.getLevelDetails();if(A&&this._streamEnded(l,A)){const m={};this.altAudio===2&&(m.type="video"),this.hls.trigger(F.BUFFER_EOS,m),this.state=Ne.ENDED;return}if(!this.buffering)return;e.loadLevel!==i&&e.manualLevel===-1&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=e.nextLoadLevel=i;const c=a.details;if(!c||this.state===Ne.WAITING_LEVEL||this.waitForLive(a)){this.level=i,this.state=Ne.WAITING_LEVEL,this.startFragRequested=!1;return}const f=l.len,d=this.getMaxBufferLength(a.maxBitrate);if(f>=d)return;this.backtrackFragment&&this.backtrackFragment.start>l.end&&(this.backtrackFragment=null);const u=this.backtrackFragment?this.backtrackFragment.start:l.end;let h=this.getNextFragment(u,c);if(this.couldBacktrack&&!this.fragPrevious&&h&&en(h)&&this.fragmentTracker.getState(h)!==wn.OK){var g;const y=((g=this.backtrackFragment)!=null?g:h).sn-c.startSN,x=c.fragments[y-1];x&&h.cc===x.cc&&(h=x,this.fragmentTracker.removeFragment(x))}else this.backtrackFragment&&l.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,u)){if(!h.gap){const y=this.audioOnly&&!this.altAudio?hr.AUDIO:hr.VIDEO,x=(y===hr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;x&&this.afterBufferFlushed(x,y,Ye.MAIN)}h=this.getNextFragmentLoopLoading(h,c,l,Ye.MAIN,d)}h&&(h.initSegment&&!h.initSegment.data&&!this.bitrateTest&&(h=h.initSegment),this.loadFragment(h,a,u))}loadFragment(e,t,n){const s=this.fragmentTracker.getState(e);s===wn.NOT_LOADED||s===wn.PARTIAL?en(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,n):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Ye.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let n;const s=this.getAppendedFrag(t.currentTime);s&&s.start>1&&this.flushMainBuffer(0,s.start-1);const i=this.getLevelDetails();if(i!=null&&i.live){const l=this.getMainFwdBufferInfo();if(!l||l.len<i.targetduration*2)return}if(!t.paused&&e){const l=this.hls.nextLoadLevel,A=e[l],c=this.fragLastKbps;c&&this.fragCurrent?n=this.fragCurrent.duration*A.maxBitrate/(1e3*c)+1:n=0}else n=0;const a=this.getBufferedFrag(t.currentTime+n);if(a){const l=this.followingBufferedFrag(a);if(l){this.abortCurrentFrag();const A=l.maxStartPTS?l.maxStartPTS:l.start,c=l.duration,f=Math.max(a.end,A+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(f,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Ne.KEY_LOADING:case Ne.FRAG_LOADING:case Ne.FRAG_LOADING_WAITING_RETRY:case Ne.PARSING:case Ne.PARSED:this.state=Ne.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const n=t.media;gs(n,"playing",this.onMediaPlaying),gs(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:n}=this;n&&(Bs(n,"playing",this.onMediaPlaying),Bs(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(F.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let n=!1,s=!1;for(let i=0;i<t.levels.length;i++){const a=t.levels[i].audioCodec;a&&(n=n||a.indexOf("mp4a.40.2")!==-1,s=s||a.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=n&&s&&!nH(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:n}=this;if(!n||this.state!==Ne.IDLE)return;const s=t.levelInfo;(!s.details||s.details.live&&(this.levelLastLoaded!==s||s.details.expired)||this.waitForCdnTuneIn(s.details))&&(this.state=Ne.WAITING_LEVEL)}onLevelLoaded(e,t){var n;const{levels:s,startFragRequested:i}=this,a=t.level,l=t.details,A=l.totalduration;if(!s){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${l.startSN},${l.endSN}]${l.lastPartSn?`[part-${l.lastPartSn}-${l.lastPartIndex}]`:""}, cc [${l.startCC}, ${l.endCC}] duration:${A}`);const c=t.levelInfo,f=this.fragCurrent;f&&(this.state===Ne.FRAG_LOADING||this.state===Ne.FRAG_LOADING_WAITING_RETRY)&&f.level!==t.level&&f.loader&&this.abortCurrentFrag();let d=0;if(l.live||(n=c.details)!=null&&n.live){var u;if(this.checkLiveUpdate(l),l.deltaUpdateFailed)return;d=this.alignPlaylists(l,c.details,(u=this.levelLastLoaded)==null?void 0:u.details)}if(c.details=l,this.levelLastLoaded=c,i||this.setStartPosition(l,d),this.hls.trigger(F.LEVEL_UPDATED,{details:l,level:a}),this.state===Ne.WAITING_LEVEL){if(this.waitForCdnTuneIn(l))return;this.state=Ne.IDLE}i&&l.live&&this.synchronizeToLiveEdge(l),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:n}=this;if(!n)return;const s=this.hls.liveSyncPosition,i=this.getLoadPosition(),a=e.fragmentStart,l=e.edge,A=i>=a-t.maxFragLookUpTolerance&&i<=l;if(s!==null&&n.duration>s&&(i<s||!A)){const f=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;if((!A&&n.readyState<4||i<l-f)&&(this._hasEnoughToStart||(this.nextLoadPosition=s),n.readyState))if(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${l}, reset currentTime to : ${s.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var c;const d=Lt.bufferInfo(n,s,0);if(!((c=d.buffered)!=null&&c.length)){n.currentTime=s;return}if(d.start<=i){n.currentTime=s;return}const{nextStart:h}=Lt.bufferedInfo(d.buffered,i,0);h&&(n.currentTime=h)}else n.currentTime=s}}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:s,payload:i}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const l=a[n.level];if(!l){this.warn(`Level ${n.level} not found on progress`);return}const A=l.details;if(!A){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const c=l.videoCodec,f=A.PTSKnown||!A.live,d=(t=n.initSegment)==null?void 0:t.data,u=this._getAudioCodec(l),h=this.transmuxer=this.transmuxer||new Nj(this.hls,Ye.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=s?s.index:-1,m=g!==-1,y=new av(n.level,n.sn,n.stats.chunkCount,i.byteLength,g,m),x=this.initPTS[n.cc];h.push(i,d,u,c,n,s,A.totalduration,f,y,x)}onAudioTrackSwitching(e,t){const n=this.hls,s=this.altAudio!==0;if(_m(t.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(s){this.altAudio=0,this.fragmentTracker.removeAllFragments(),n.once(F.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(F.AUDIO_TRACK_SWITCHED,t)}),n.trigger(F.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(F.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const n=_m(t.url,this.hls);if(n){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,t){const n=t.tracks;let s,i,a=!1;for(const l in n){const A=n[l];if(A.id==="main"){if(i=l,s=A,l==="video"){const c=n[l];c&&(this.videoBuffer=c.buffer)}}else a=!0}a&&s?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=s.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:n,part:s}=t,i=n.type===Ye.MAIN;if(i){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${s?" p: "+s.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Ne.PARSED&&(this.state=Ne.IDLE);return}const l=s?s.stats:n.stats;this.fragLastKbps=Math.round(8*l.total/(l.buffering.end-l.loading.first)),en(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,s)}const a=this.media;a&&(!this._hasEnoughToStart&&Lt.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),i&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var n;if(t.fatal){this.state=Ne.ERROR;return}switch(t.details){case xe.FRAG_GAP:case xe.FRAG_PARSING_ERROR:case xe.FRAG_DECRYPT_ERROR:case xe.FRAG_LOAD_ERROR:case xe.FRAG_LOAD_TIMEOUT:case xe.KEY_LOAD_ERROR:case xe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ye.MAIN,t);break;case xe.LEVEL_LOAD_ERROR:case xe.LEVEL_LOAD_TIMEOUT:case xe.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===Ne.WAITING_LEVEL&&((n=t.context)==null?void 0:n.type)===Pt.LEVEL&&(this.state=Ne.IDLE);break;case xe.BUFFER_ADD_CODEC_ERROR:case xe.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.resetLoadingState();break;case xe.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case xe.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=Ne.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==hr.AUDIO||!this.altAudio){const n=(t===hr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,t,Ye.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${t}`);return}const s=this.timelineOffset;s&&n&&(n+=s);const i=this.getLevelDetails(),a=Lt.getBuffered(e),l=a.length?a.start(0):0,A=l-n,c=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||A>0&&(A<c||this.loadingParts&&A<2*((i==null?void 0:i.partTarget)||0)))&&(this.log(`adjusting start position by ${A} to match buffer start`),n+=A,this.startPosition=n),t<n&&(this.log(`seek to target start position ${n} from current time ${t} buffer start ${l}`),e.currentTime=n)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(n=>{const{hls:s}=this,i=n==null?void 0:n.frag;if(!i||this.fragContextChanged(i))return;t.fragmentError=0,this.state=Ne.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=i.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),s.trigger(F.FRAG_LOADED,n),i.bitrateTest=!1}).catch(n=>{this.state===Ne.STOPPED||this.state===Ne.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const t=this.playlistType,{hls:n}=this,{remuxResult:s,chunkMeta:i}=e,a=this.getCurrentContext(i);if(!a){this.resetWhenMissingContext(i);return}const{frag:l,part:A,level:c}=a,{video:f,text:d,id3:u,initSegment:h}=s,{details:g}=c,m=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=Ne.PARSING,h){const y=h.tracks;if(y){const C=l.initSegment||l;if(this.unhandledEncryptionError(h,l))return;this._bufferInitSegment(c,y,C,i),n.trigger(F.FRAG_PARSING_INIT_SEGMENT,{frag:C,id:t,tracks:y})}const x=h.initPTS,w=h.timescale,v=this.initPTS[l.cc];if(He(x)&&(!v||v.baseTime!==x||v.timescale!==w)){const C=h.trackId;this.initPTS[l.cc]={baseTime:x,timescale:w,trackId:C},n.trigger(F.INIT_PTS_FOUND,{frag:l,id:t,initPTS:x,timescale:w,trackId:C})}}if(f&&g){m&&f.type==="audiovideo"&&this.logMuxedErr(l);const y=g.fragments[l.sn-1-g.startSN],x=l.sn===g.startSN,w=!y||l.cc>y.cc;if(s.independent!==!1){const{startPTS:v,endPTS:C,startDTS:N,endDTS:B}=f;if(A)A.elementaryStreams[f.type]={startPTS:v,endPTS:C,startDTS:N,endDTS:B};else if(f.firstKeyFrame&&f.independent&&i.id===1&&!w&&(this.couldBacktrack=!0),f.dropped&&f.independent){const j=this.getMainFwdBufferInfo(),M=(j?j.end:this.getLoadPosition())+this.config.maxBufferHole,I=f.firstKeyFramePTS?f.firstKeyFramePTS:v;if(!x&&M<I-this.config.maxBufferHole&&!w){this.backtrack(l);return}else w&&(l.gap=!0);l.setElementaryStreamInfo(f.type,l.start,C,l.start,B,!0)}else x&&v-(g.appliedTimelineOffset||0)>Kg&&(l.gap=!0);l.setElementaryStreamInfo(f.type,v,C,N,B),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(f,l,A,i,x||w)}else if(x||w)l.gap=!0;else{this.backtrack(l);return}}if(m){const{startPTS:y,endPTS:x,startDTS:w,endDTS:v}=m;A&&(A.elementaryStreams[hr.AUDIO]={startPTS:y,endPTS:x,startDTS:w,endDTS:v}),l.setElementaryStreamInfo(hr.AUDIO,y,x,w,v),this.bufferFragmentData(m,l,A,i)}if(g&&u!=null&&u.samples.length){const y={id:t,frag:l,details:g,samples:u.samples};n.trigger(F.FRAG_PARSING_METADATA,y)}if(g&&d){const y={id:t,frag:l,details:g,samples:d.samples};n.trigger(F.FRAG_PARSING_USERDATA,y)}}logMuxedErr(e){this.warn(`${en(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,n,s){if(this.state!==Ne.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(n));const{audio:i,video:a,audiovideo:l}=t;if(i){const c=e.audioCodec;let f=_g(i.codec,c);f==="mp4a"&&(f="mp4a.40.5");const d=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){f&&(f.indexOf("mp4a.40.5")!==-1?f="mp4a.40.2":f="mp4a.40.5");const u=i.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&d.indexOf("firefox")===-1&&(f="mp4a.40.5")}f&&f.indexOf("mp4a.40.5")!==-1&&d.indexOf("android")!==-1&&i.container!=="audio/mpeg"&&(f="mp4a.40.2",this.log(`Android: force audio codec to ${f}`)),c&&c!==f&&this.log(`Swapping manifest audio codec "${c}" for "${f}"`),i.levelCodec=f,i.id=Ye.MAIN,this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${f||""}/${c||""}/${i.codec}]`),delete t.audiovideo}if(a){a.levelCodec=e.videoCodec,a.id=Ye.MAIN;const c=a.codec;if((c==null?void 0:c.length)===4)switch(c){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${c}]${a.codec!==c?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete t.audiovideo}l&&(this.log(`Init audiovideo buffer, container:${l.container}, codecs[level/parsed]=[${e.codecs}/${l.codec}]`),delete t.video,delete t.audio);const A=Object.keys(t);if(A.length){if(this.hls.trigger(F.BUFFER_CODECS,t),!this.hls)return;A.forEach(c=>{const d=t[c].initSegment;d!=null&&d.byteLength&&this.hls.trigger(F.BUFFER_APPENDING,{type:c,data:d,frag:n,part:null,chunkMeta:s,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Ye.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,n=e==null?void 0:e[t];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Ne.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Lt.isBuffered(e,n)?t=this.getAppendedFrag(n):Lt.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const s=this.fragPlaying,i=t.level;(!s||t.sn!==s.sn||s.level!==i)&&(this.fragPlaying=t,this.hls.trigger(F.FRAG_CHANGED,{frag:t}),(!s||s.level!==i)&&this.hls.trigger(F.LEVEL_SWITCHED,{level:i}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return He(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(He(t)){const n=this.getLevelDetails(),s=this.currentFrag||(n?PA(null,n.fragments,t):null);if(s){const i=s.programDateTime;if(i!==null){const a=i+(t-s.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class aH extends Di{constructor(e,t){super("key-loader",t),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyIdToKeyInfo){const s=this.keyIdToKeyInfo[n].loader;if(s){var t;if(e&&e!==((t=s.context)==null?void 0:t.frag.type))return;s.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e].loader;t&&t.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,t=xe.KEY_LOAD_ERROR,n,s,i){return new ho({type:at.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:n,networkDetails:s})}loadClear(e,t,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(t.length)for(let s=0,i=t.length;s<i;s++){const a=t[s];if(e.cc<=a.cc&&(!en(e)||!en(a)||e.sn<a.sn)||!n&&s==i-1)return this.emeController.selectKeySystemFormat(a).then(l=>{if(!this.emeController)return;a.setKeyFormat(l);const A=Qg(l);if(A)return this.emeController.getKeySystemAccess([A])})}if(this.config.requireKeySystemAccessOnStart){const s=Qd(this.config);if(s.length)return this.emeController.getKeySystemAccess(s)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var n,s;t&&e.setKeyFormat(t);const i=e.decryptdata;if(!i){const c=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,xe.KEY_LOAD_ERROR,c))}const a=i.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,xe.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));const l=Gx(i);let A=this.keyIdToKeyInfo[l];if((n=A)!=null&&n.decryptdata.key)return i.key=A.decryptdata.key,Promise.resolve({frag:e,keyInfo:A});if(this.emeController&&(s=A)!=null&&s.keyLoadPromise)switch(this.emeController.getKeyStatus(A.decryptdata)){case"usable":case"usable-in-future":return A.keyLoadPromise.then(f=>{const{keyInfo:d}=f;return i.key=d.decryptdata.key,{frag:e,keyInfo:d}})}switch(this.log(`${this.keyIdToKeyInfo[l]?"Rel":"L"}oading${i.keyId?" keyId: "+On(i.keyId):""} URI: ${i.uri} from ${e.type} ${e.level}`),A=this.keyIdToKeyInfo[l]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return i.keyFormat==="identity"?this.loadKeyHTTP(A,e):this.loadKeyEME(A,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(A,e);default:return Promise.reject(this.createKeyLoadError(e,xe.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(e,t){const n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var s;if(!e.decryptdata.keyId&&(s=t.initSegment)!=null&&s.data){const a=S8(t.initSegment.data);if(a.length){let l=a[0];l.some(A=>A!==0)?(this.log(`Using keyId found in init segment ${On(l)}`),kl.setKeyIdForUri(e.decryptdata.uri,l)):(l=kl.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${On(l)}`)),e.decryptdata.keyId=l}}if(!e.decryptdata.keyId&&!en(t))return Promise.resolve(n);const i=this.emeController.loadKey(n);return(e.keyLoadPromise=i.then(a=>(e.mediaKeySessionContext=a,n))).catch(a=>{throw e.keyLoadPromise=null,"data"in a&&(a.data.frag=t),a})}return Promise.resolve(n)}loadKeyHTTP(e,t){const n=this.config,s=n.loader,i=new s(n);return t.keyLoader=e.loader=i,e.keyLoadPromise=new Promise((a,l)=>{const A={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},c=n.keyLoadPolicy.default,f={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(u,h,g,m)=>{const{frag:y,keyInfo:x}=g,w=Gx(x.decryptdata);if(!y.decryptdata||x!==this.keyIdToKeyInfo[w])return l(this.createKeyLoadError(y,xe.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));x.decryptdata.key=y.decryptdata.key=new Uint8Array(u.data),y.keyLoader=null,x.loader=null,a({frag:y,keyInfo:x})},onError:(u,h,g,m)=>{this.resetLoader(h),l(this.createKeyLoadError(t,xe.KEY_LOAD_ERROR,new Error(`HTTP Error ${u.code} loading key ${u.text}`),g,ir({url:A.url,data:void 0},u)))},onTimeout:(u,h,g)=>{this.resetLoader(h),l(this.createKeyLoadError(t,xe.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(u,h,g)=>{this.resetLoader(h),l(this.createKeyLoadError(t,xe.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};i.load(A,f,d)})}resetLoader(e){const{frag:t,keyInfo:n,url:s}=e,i=n.loader;t.keyLoader===i&&(t.keyLoader=null,n.loader=null);const a=Gx(n.decryptdata)||s;delete this.keyIdToKeyInfo[a],i&&i.destroy()}}function Gx(r){if(r.keyFormat!==Hn.FAIRPLAY){const e=r.keyId;if(e)return On(e)}return r.uri}function U3(r){const{type:e}=r;switch(e){case Pt.AUDIO_TRACK:return Ye.AUDIO;case Pt.SUBTITLE_TRACK:return Ye.SUBTITLE;default:return Ye.MAIN}}function Kx(r,e){let t=r.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class oH{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(F.MANIFEST_LOADING,this.onManifestLoading,this),e.on(F.LEVEL_LOADING,this.onLevelLoading,this),e.on(F.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(F.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(F.MANIFEST_LOADING,this.onManifestLoading,this),e.off(F.LEVEL_LOADING,this.onLevelLoading,this),e.off(F.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(F.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,n=t.pLoader,s=t.loader,i=n||s,a=new i(t);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Pt.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:n,level:s,pathwayId:i,url:a,deliveryDirectives:l,levelInfo:A}=t;this.load({id:n,level:s,pathwayId:i,responseType:"text",type:Pt.LEVEL,url:a,deliveryDirectives:l,levelOrTrack:A})}onAudioTrackLoading(e,t){const{id:n,groupId:s,url:i,deliveryDirectives:a,track:l}=t;this.load({id:n,groupId:s,level:null,responseType:"text",type:Pt.AUDIO_TRACK,url:i,deliveryDirectives:a,levelOrTrack:l})}onSubtitleTrackLoading(e,t){const{id:n,groupId:s,url:i,deliveryDirectives:a,track:l}=t;this.load({id:n,groupId:s,level:null,responseType:"text",type:Pt.SUBTITLE_TRACK,url:i,deliveryDirectives:a,levelOrTrack:l})}onLevelsUpdated(e,t){const n=this.loaders[Pt.LEVEL];if(n){const s=n.context;s&&!t.levels.some(i=>i===s.levelOrTrack)&&(n.abort(),delete this.loaders[Pt.LEVEL])}}load(e){var t;const n=this.hls.config;let s=this.getInternalLoader(e);if(s){const c=this.hls.logger,f=s.context;if(f&&f.levelOrTrack===e.levelOrTrack&&(f.url===e.url||f.deliveryDirectives&&!e.deliveryDirectives)){f.url===e.url?c.log(`[playlist-loader]: ignore ${e.url} ongoing request`):c.log(`[playlist-loader]: ignore ${e.url} in favor of ${f.url}`);return}c.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),s.abort()}let i;if(e.type===Pt.MANIFEST?i=n.manifestLoadPolicy.default:i=cr({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),He((t=e.deliveryDirectives)==null?void 0:t.part)){let c;if(e.type===Pt.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===Pt.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===Pt.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const f=c.partTarget,d=c.targetduration;if(f&&d){const u=Math.max(f*3,d*.8)*1e3;i=cr({},i,{maxTimeToFirstByteMs:Math.min(u,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(u,i.maxTimeToFirstByteMs)})}}}const a=i.errorRetry||i.timeoutRetry||{},l={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},A={onSuccess:(c,f,d,u)=>{const h=this.getInternalLoader(d);this.resetInternalLoader(d.type);const g=c.data;f.parsing.start=performance.now(),Ia.isMediaPlaylist(g)||d.type!==Pt.MANIFEST?this.handleTrackOrLevelPlaylist(c,f,d,u||null,h):this.handleMasterPlaylist(c,f,d,u)},onError:(c,f,d,u)=>{this.handleNetworkError(f,d,!1,c,u)},onTimeout:(c,f,d)=>{this.handleNetworkError(f,d,!0,void 0,c)}};s.load(e,l,A)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,n,s){const i=this.hls,a=e.data,l=Kx(e,n),A=Ia.parseMasterPlaylist(a,l);if(A.playlistParsingError){t.parsing.end=performance.now(),this.handleManifestParsingError(e,n,A.playlistParsingError,s,t);return}const{contentSteering:c,levels:f,sessionData:d,sessionKeys:u,startTimeOffset:h,variableList:g}=A;this.variableList=g,f.forEach(w=>{const{unknownCodecs:v}=w;if(v){const{preferManagedMediaSource:C}=this.hls.config;let{audioCodec:N,videoCodec:B}=w;for(let j=v.length;j--;){const M=v[j];Hu(M,"audio",C)?(w.audioCodec=N=N?`${N},${M}`:M,Sf.audio[N.substring(0,4)]=2,v.splice(j,1)):Hu(M,"video",C)&&(w.videoCodec=B=B?`${B},${M}`:M,Sf.video[B.substring(0,4)]=2,v.splice(j,1))}}});const{AUDIO:m=[],SUBTITLES:y,"CLOSED-CAPTIONS":x}=Ia.parseMasterPlaylistMedia(a,l,A);m.length&&!m.some(v=>!v.url)&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Mr({}),bitrate:0,url:""})),i.trigger(F.MANIFEST_LOADED,{levels:f,audioTracks:m,subtitles:y,captions:x,contentSteering:c,url:l,stats:t,networkDetails:s,sessionData:d,sessionKeys:u,startTimeOffset:h,variableList:g})}handleTrackOrLevelPlaylist(e,t,n,s,i){const a=this.hls,{id:l,level:A,type:c}=n,f=Kx(e,n),d=He(A)?A:He(l)?l:0,u=U3(n),h=Ia.parseLevelPlaylist(e.data,f,d,u,0,this.variableList);if(c===Pt.MANIFEST){const g={attrs:new Mr({}),bitrate:0,details:h,name:"",url:f};h.requestScheduled=t.loading.start+rj(h,0),a.trigger(F.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:f,stats:t,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=h,this.handlePlaylistLoaded(h,e,t,n,s,i)}handleManifestParsingError(e,t,n,s,i){this.hls.trigger(F.ERROR,{type:at.NETWORK_ERROR,details:xe.MANIFEST_PARSING_ERROR,fatal:t.type===Pt.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:s,stats:i})}handleNetworkError(e,t,n=!1,s,i){let a=`A network ${n?"timeout":"error"+(s?" (status "+s.code+")":"")} occurred while loading ${e.type}`;e.type===Pt.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===Pt.AUDIO_TRACK||e.type===Pt.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const l=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let A=xe.UNKNOWN,c=!1;const f=this.getInternalLoader(e);switch(e.type){case Pt.MANIFEST:A=n?xe.MANIFEST_LOAD_TIMEOUT:xe.MANIFEST_LOAD_ERROR,c=!0;break;case Pt.LEVEL:A=n?xe.LEVEL_LOAD_TIMEOUT:xe.LEVEL_LOAD_ERROR,c=!1;break;case Pt.AUDIO_TRACK:A=n?xe.AUDIO_TRACK_LOAD_TIMEOUT:xe.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case Pt.SUBTITLE_TRACK:A=n?xe.SUBTITLE_TRACK_LOAD_TIMEOUT:xe.SUBTITLE_LOAD_ERROR,c=!1;break}f&&this.resetInternalLoader(e.type);const d={type:at.NETWORK_ERROR,details:A,fatal:c,url:e.url,loader:f,context:e,error:l,networkDetails:t,stats:i};if(s){const u=(t==null?void 0:t.url)||e.url;d.response=ir({url:u,data:void 0},s)}this.hls.trigger(F.ERROR,d)}handlePlaylistLoaded(e,t,n,s,i,a){const l=this.hls,{type:A,level:c,levelOrTrack:f,id:d,groupId:u,deliveryDirectives:h}=s,g=Kx(t,s),m=U3(s);let y=typeof s.level=="number"&&m===Ye.MAIN?c:void 0;const x=e.playlistParsingError;if(x){if(this.hls.logger.warn(`${x} ${e.url}`),!l.config.ignorePlaylistParsingErrors){l.trigger(F.ERROR,{type:at.NETWORK_ERROR,details:xe.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:x,reason:x.message,response:t,context:s,level:y,parent:m,networkDetails:i,stats:n});return}e.playlistParsingError=null}if(!e.fragments.length){const w=e.playlistParsingError=new Error("No Segments found in Playlist");l.trigger(F.ERROR,{type:at.NETWORK_ERROR,details:xe.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:w,reason:w.message,response:t,context:s,level:y,parent:m,networkDetails:i,stats:n});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),A){case Pt.MANIFEST:case Pt.LEVEL:if(y){if(!f)y=0;else if(f!==l.levels[y]){const w=l.levels.indexOf(f);w>-1&&(y=w)}}l.trigger(F.LEVEL_LOADED,{details:e,levelInfo:f||l.levels[0],level:y||0,id:d||0,stats:n,networkDetails:i,deliveryDirectives:h,withoutMultiVariant:A===Pt.MANIFEST});break;case Pt.AUDIO_TRACK:l.trigger(F.AUDIO_TRACK_LOADED,{details:e,track:f,id:d||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:h});break;case Pt.SUBTITLE_TRACK:l.trigger(F.SUBTITLE_TRACK_LOADED,{details:e,track:f,id:d||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:h});break}}}class Zi{static get version(){return Ku}static isMSESupported(){return tI()}static isSupported(){return rH()}static getMediaSource(){return Ul()}static get Events(){return F}static get MetadataSchema(){return Ws}static get ErrorTypes(){return at}static get ErrorDetails(){return xe}static get DefaultConfig(){return Zi.defaultConfig?Zi.defaultConfig:G7}static set DefaultConfig(e){Zi.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new cv,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=u8(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=$7(Zi.DefaultConfig,e,t);this.userConfig=e,n.progressive&&V7(n,t);const{abrController:s,bufferController:i,capLevelController:a,errorController:l,fpsController:A}=n,c=new l(this),f=this.abrController=new s(this),d=new lQ(this),u=n.interstitialsController,h=u?this.interstitialsController=new u(this,Zi):null,g=this.bufferController=new i(this,d),m=this.capLevelController=new a(this),y=new A(this),x=new oH(this),w=n.contentSteeringController,v=w?new w(this):null,C=this.levelController=new tH(this,v),N=new X7(this),B=new aH(this.config,this.logger),j=this.streamController=new iH(this,d,B),M=this.gapController=new q7(this,d);m.setStreamController(j),y.setStreamController(j);const I=[x,C,j];h&&I.splice(1,0,h),v&&I.splice(1,0,v),this.networkControllers=I;const U=[f,g,M,m,y,N,d];this.audioTrackController=this.createController(n.audioTrackController,I);const T=n.audioStreamController;T&&I.push(this.audioStreamController=new T(this,d,B)),this.subtitleTrackController=this.createController(n.subtitleTrackController,I);const P=n.subtitleStreamController;P&&I.push(this.subtititleStreamController=new P(this,d,B)),this.createController(n.timelineController,U),B.emeController=this.emeController=this.createController(n.emeController,U),this.cmcdController=this.createController(n.cmcdController,U),this.latencyController=this.createController(eH,U),this.coreComponents=U,I.push(c);const G=c.onErrorOut;typeof G=="function"&&this.on(F.ERROR,G,c),this.on(F.MANIFEST_LOADED,x.onManifestLoaded,x)}createController(e,t){if(e){const n=new e(this);return t&&t.push(n),n}return null}on(e,t,n=this){this._emitter.on(e,t,n)}once(e,t,n=this){this._emitter.once(e,t,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,n=this,s){this._emitter.off(e,t,n,s)}listeners(e){return this._emitter.listeners(e)}emit(e,t,n){return this._emitter.emit(e,t,n)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const s=e===F.ERROR;this.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.INTERNAL_EXCEPTION,fatal:s,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(F.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const i=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(F.ERROR,{type:at.OTHER_ERROR,details:xe.ATTACH_MEDIA_ERROR,fatal:!0,error:i});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,n=t?e.media:e,s=t?e:{media:n};this._media=n,this.trigger(F.MEDIA_ATTACHING,s)}detachMedia(){this.logger.log("detachMedia"),this.trigger(F.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(F.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,n=this._url,s=this._url=Xb.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${s}`),t&&n&&(n!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(F.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,t),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Ye.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Ye.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Ye.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=qO()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){$8(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const n=e.length;for(let s=0;s<n;s++)if(e[s].maxBitrate>=t)return s;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:n}=this;let s;if(t===-1&&e!=null&&e.length?s=e.length-1:s=t,n)for(let i=s;i--;){const a=e[i].attrs["HDCP-LEVEL"];if(a&&a<=n)return i}return s}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const n=O5(t);return P5(e,n,navigator.mediaCapabilities)}}Zi.defaultConfig=void 0;const lH=({src:r,poster:e,onProgress:t})=>{const n=S.useRef(null),s=S.useRef(null),i=S.useRef(null),a=S.useRef(null),[l,A]=S.useState(!1),[c,f]=S.useState(0),[d,u]=S.useState(0),[h,g]=S.useState(1),[m,y]=S.useState(!1),[x,w]=S.useState(!0),[v,C]=S.useState(!1),[N,B]=S.useState(1),[j,M]=S.useState("Auto"),[I,U]=S.useState([]);S.useEffect(()=>{const ie=n.current;if(ie){if(Zi.isSupported()){const de=new Zi({enableWorker:!0,lowLatencyMode:!0});s.current=de,de.loadSource(r),de.attachMedia(ie),de.on(Zi.Events.MANIFEST_PARSED,(ae,he)=>{const Ee=he.levels.map((_e,Pe)=>({index:Pe,height:_e.height,label:`${_e.height}p`}));U([{index:-1,label:"Auto"},...Ee])}),de.on(Zi.Events.ERROR,(ae,he)=>{console.error("HLS error:",he)})}else ie.canPlayType("application/vnd.apple.mpegurl")&&(ie.src=r);return()=>{s.current&&s.current.destroy()}}},[r]);const[T,P]=S.useState(0);S.useRef(0),S.useEffect(()=>(l&&t&&(a.current=setInterval(()=>{n.current},1e3)),()=>{a.current&&clearInterval(a.current)}),[l]),S.useEffect(()=>{let ie;return l&&(ie=setInterval(()=>{P(de=>de+1)},1e3)),()=>clearInterval(ie)},[l]),S.useEffect(()=>{if(l&&t){const ie=setInterval(()=>{if(n.current){const de=n.current.currentTime,ae=n.current.duration,he=T/ae>=.6;t(de,ae,he)}},5e3);return()=>clearInterval(ie)}},[l,t,T]);const G=()=>{const ie=n.current;l?(ie.pause(),t&&t(ie.currentTime,ie.duration)):ie.play(),A(!l)},R=()=>{f(n.current.currentTime)},q=()=>{u(n.current.duration)},Z=ie=>{const de=ie.currentTarget.getBoundingClientRect(),ae=(ie.clientX-de.left)/de.width;n.current.currentTime=ae*d},oe=ie=>{const de=parseFloat(ie.target.value);g(de),n.current.volume=de,y(de===0)},H=()=>{m?(n.current.volume=h||.5,y(!1)):(n.current.volume=0,y(!0))},re=()=>{document.fullscreenElement?document.exitFullscreen():i.current.requestFullscreen()},ce=ie=>{if(s.current){s.current.currentLevel=ie;const de=I.find(ae=>ae.index===ie);M((de==null?void 0:de.label)||"Auto"),C(!1)}},le=ie=>{n.current.playbackRate=ie,B(ie)},D=ie=>{if(isNaN(ie))return"0:00";const de=Math.floor(ie/60),ae=Math.floor(ie%60);return`${de}:${ae.toString().padStart(2,"0")}`},K=[.25,.5,.75,1,1.25,1.5,1.75,2],Y=S.useRef(null),se=()=>{w(!0),Y.current&&clearTimeout(Y.current)},J=()=>{l&&(Y.current=setTimeout(()=>{w(!1)},3e3))};return o.jsxs("div",{ref:i,className:"relative bg-black group w-full h-full",onMouseEnter:se,onMouseLeave:J,onMouseMove:se,children:[o.jsx("video",{ref:n,className:"w-full h-full object-contain",onTimeUpdate:R,onLoadedMetadata:q,onClick:G,poster:e}),o.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent pt-12 pb-4 px-4 transition-opacity duration-300 z-50 ${x?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[o.jsx("div",{className:"w-full h-1 bg-gray-600 rounded-full cursor-pointer mb-4 hover:h-2 transition-all",onClick:Z,children:o.jsx("div",{className:"h-full bg-red-600 rounded-full",style:{width:`${c/d*100}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-white",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:G,className:"hover:scale-110 transition",children:l?o.jsx(tL,{size:24}):o.jsx(EA,{size:24})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:H,className:"hover:scale-110 transition",children:m?o.jsx(e5,{size:20}):o.jsx(Xk,{size:20})}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:m?0:h,onChange:oe,className:"w-20 h-1"})]}),o.jsxs("span",{className:"text-sm",children:[D(c)," / ",D(d)]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>C(!v),className:"hover:scale-110 transition",children:o.jsx(ou,{size:20})}),v&&o.jsxs("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-900 rounded-lg shadow-lg p-4 min-w-[200px] z-50",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-2 uppercase font-bold",children:"Playback Speed"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:K.map(ie=>o.jsxs("button",{onClick:()=>le(ie),className:`px-2 py-1 text-xs rounded transition-colors ${N===ie?"bg-brand-primary text-white":"bg-gray-800 hover:bg-gray-700"}`,children:[ie,"x"]},ie))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-400 mb-2 uppercase font-bold",children:"Quality"}),o.jsx("div",{className:"space-y-1",children:I.map(ie=>o.jsx("button",{onClick:()=>ce(ie.index),className:`w-full text-left px-3 py-2 text-sm rounded transition-colors ${j===ie.label?"bg-brand-primary text-white":"hover:bg-gray-800"}`,children:ie.label},ie.index))})]})]})]}),o.jsx("button",{onClick:()=>document.pictureInPictureElement?document.exitPictureInPicture():n.current.requestPictureInPicture(),className:"hover:scale-110 transition",title:"Picture in Picture",children:o.jsx(n_,{size:20})}),o.jsx("button",{onClick:re,className:"hover:scale-110 transition",children:o.jsx(WR,{size:20})})]})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsxs("div",{className:"flex gap-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-auto",children:[o.jsx("button",{onClick:ie=>{ie.stopPropagation(),n.current.currentTime-=10},className:"bg-black/50 p-3 rounded-full hover:bg-brand-primary/80 transition text-white",children:o.jsx("span",{className:"text-xs font-bold",children:"-10s"})}),o.jsx("button",{onClick:ie=>{ie.stopPropagation(),G()},className:"bg-brand-primary p-4 rounded-full hover:scale-110 transition shadow-lg",children:l?o.jsx(tL,{size:32,fill:"white"}):o.jsx(EA,{size:32,fill:"white"})}),o.jsx("button",{onClick:ie=>{ie.stopPropagation(),n.current.currentTime+=10},className:"bg-black/50 p-3 rounded-full hover:bg-brand-primary/80 transition text-white",children:o.jsx("span",{className:"text-xs font-bold",children:"+10s"})})]})})]}),!l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"bg-brand-primary/90 rounded-full p-6 shadow-lg transform transition-transform group-hover:scale-110",children:o.jsx(EA,{size:48,fill:"white",className:"text-white ml-1"})})})]})},AH=({video:r,course:e,currentTime:t})=>{var D,K,Y,se,J,ie,de;const n=ii(),[s,i]=S.useState("overview"),[a,l]=S.useState([]),[A,c]=S.useState(""),[f,d]=S.useState(""),[u,h]=S.useState(null),[g,m]=S.useState(!1),[y,x]=S.useState(null),[w,v]=S.useState([]),[C,N]=S.useState(""),[B,j]=S.useState(!1),[M,I]=S.useState(null),[U,T]=S.useState([]);S.useEffect(()=>{const ae=JSON.parse(localStorage.getItem("user"));x(ae)},[]),S.useEffect(()=>{s==="qa"&&r&&P(),s==="studentNotes"&&r&&G(),s==="assignments"&&R(),s==="articles"&&q()},[s,r,e._id]);const P=async()=>{m(!0);try{const{data:ae}=await api.get(`/comments/${r._id}`);l(ae)}catch(ae){console.error("Error fetching comments",ae)}finally{m(!1)}},G=async()=>{try{const{data:ae}=await api.get(`/notes/video/${r._id}`);v(ae)}catch(ae){console.error("Error fetching notes",ae)}},R=async()=>{try{const{data:ae}=await api.get(`/mega/assessments/${e._id}`);I(ae)}catch(ae){console.error("Error fetching assessment",ae)}},q=async()=>{if(e.instructorId)try{const{data:ae}=await api.get(`/articles?authorId=${e.instructorId._id||e.instructorId}`);T(ae)}catch(ae){console.error("Error fetching articles",ae)}},Z=async ae=>{if(ae.preventDefault(),!(!C.trim()||B)){j(!0);try{const{data:he}=await api.post("/notes",{videoId:r._id,courseId:e._id,content:C,timestamp:t||0});v([...w,he].sort((Ee,_e)=>Ee.timestamp-_e.timestamp)),N("")}catch(he){console.error("Error adding note",he)}finally{j(!1)}}},oe=async ae=>{try{await api.delete(`/notes/${ae}`),v(w.filter(he=>he._id!==ae))}catch(he){console.error("Error deleting note",he)}},H=ae=>{const he=Math.floor(ae/3600),Ee=Math.floor(ae%3600/60),_e=Math.floor(ae%60);return`${he>0?he+":":""}${Ee<10&&he>0?"0":""}${Ee}:${_e<10?"0":""}${_e}`},re=async ae=>{if(ae.preventDefault(),!!A.trim())try{const{data:he}=await api.post("/comments",{userId:y.id,videoId:r._id,text:A});l([he,...a]),c("")}catch(he){console.error("Error posting comment",he)}},ce=async ae=>{if(f.trim())try{const{data:he}=await api.post(`/comments/${ae}/reply`,{userId:y.id,text:f});l(a.map(Ee=>Ee._id===ae?he:Ee)),d(""),h(null)}catch(he){console.error("Error posting reply",he)}},le=async ae=>{try{const{data:he}=await api.put(`/comments/${ae}/like`,{userId:y.id});l(a.map(Ee=>Ee._id===ae?he:Ee))}catch(he){console.error("Error liking comment",he)}};return o.jsxs("div",{className:"flex flex-col h-full bg-dark-layer1 border border-dark-layer2 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"flex border-b border-dark-layer2 overflow-x-auto scrollbar-hide",children:[((D=e.instructorAdminSettings)==null?void 0:D.enableOverview)!==!1&&o.jsxs("button",{onClick:()=>i("overview"),className:`flex-1 min-w-[100px] py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${s==="overview"?"bg-dark-layer2 text-white border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:[o.jsx(VR,{size:16})," Overview"]}),((K=e.instructorAdminSettings)==null?void 0:K.enableQA)!==!1&&o.jsxs("button",{onClick:()=>i("qa"),className:`flex-1 min-w-[100px] py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${s==="qa"?"bg-dark-layer2 text-white border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:[o.jsx(qs,{size:16})," Q&A"]}),((Y=e.instructorAdminSettings)==null?void 0:Y.enableSummary)!==!1&&o.jsxs("button",{onClick:()=>i("notes"),className:`flex-1 min-w-[100px] py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${s==="notes"?"bg-dark-layer2 text-white border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:[o.jsx(Qn,{size:16})," Summary"]}),((se=e.instructorAdminSettings)==null?void 0:se.enableNotes)!==!1&&o.jsxs("button",{onClick:()=>i("studentNotes"),className:`flex-1 min-w-[100px] py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${s==="studentNotes"?"bg-dark-layer2 text-white border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:[o.jsx(Qn,{size:16})," Notes"]}),o.jsxs("button",{onClick:()=>i("assignments"),className:`flex-1 min-w-[120px] py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${s==="assignments"?"bg-dark-layer2 text-white border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:[o.jsx(Kt,{size:16})," Assignments"]}),o.jsxs("button",{onClick:()=>i("articles"),className:`flex-1 min-w-[100px] py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${s==="articles"?"bg-dark-layer2 text-white border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:[o.jsx(iu,{size:16})," Articles"]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:r.title}),o.jsx("p",{className:"text-dark-muted",children:r.description||"No description available for this video."})]}),e.instructorId&&o.jsxs("div",{className:"border-t border-dark-layer2 pt-4",children:[o.jsx("h3",{className:"font-semibold text-white mb-3",children:"Instructor"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-bold text-xl",children:((J=e.instructorId.name)==null?void 0:J.charAt(0).toUpperCase())||"I"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-lg font-bold text-white",children:e.instructorId.name}),((ie=e.instructorId.instructorProfile)==null?void 0:ie.headline)&&o.jsx("p",{className:"text-sm text-dark-muted mt-1",children:e.instructorId.instructorProfile.headline}),((de=e.instructorId.instructorProfile)==null?void 0:de.bio)&&o.jsx("p",{className:"text-sm text-dark-muted mt-2",children:e.instructorId.instructorProfile.bio})]})]})]}),o.jsxs("div",{className:"border-t border-dark-layer2 pt-4",children:[o.jsx("h3",{className:"font-semibold text-white mb-2",children:"About this Course"}),o.jsx("p",{className:"text-sm text-dark-muted",children:e.description})]}),r.resources&&r.resources.length>0&&o.jsxs("div",{className:"border-t border-dark-layer2 pt-4",children:[o.jsx("h3",{className:"font-semibold text-white mb-3",children:"Downloadable Resources"}),o.jsx("div",{className:"space-y-2",children:r.resources.map((ae,he)=>o.jsxs("a",{href:ae.url,download:!0,className:"flex items-center justify-between p-3 bg-dark-layer2 rounded hover:bg-dark-layer1 transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qn,{size:20,className:"text-brand-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:ae.title}),o.jsxs("p",{className:"text-xs text-dark-muted",children:[ae.fileType,"  ",(ae.fileSize/1024).toFixed(2)," KB"]})]})]}),o.jsx("span",{className:"text-brand-primary group-hover:text-brand-hover",children:"Download"})]},he))})]})]}),s==="qa"&&o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("form",{onSubmit:re,className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:A,onChange:ae=>c(ae.target.value),placeholder:"Ask a question...",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg py-3 pl-4 pr-12 text-white focus:border-brand-primary focus:outline-none"}),o.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-brand-primary hover:text-brand-hover p-1",children:o.jsx(vf,{size:20})})]})}),g?o.jsx("div",{className:"text-center text-dark-muted",children:"Loading discussions..."}):a.length===0?o.jsxs("div",{className:"text-center text-dark-muted mt-10",children:[o.jsx(qs,{size:40,className:"mx-auto mb-2 opacity-20"}),o.jsx("p",{children:"No discussions yet. Be the first to ask!"})]}):o.jsx("div",{className:"space-y-6",children:a.map(ae=>o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center overflow-hidden",children:ae.user.avatar?o.jsx("img",{src:ae.user.avatar,alt:ae.user.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-xs font-bold text-white",children:ae.user.name.charAt(0)})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-semibold text-white text-sm",children:ae.user.name}),o.jsx("span",{className:"text-xs text-dark-muted",children:new Date(ae.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-dark-text text-sm mb-2",children:ae.text}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-dark-muted mb-2",children:[o.jsxs("button",{onClick:()=>le(ae._id),className:`flex items-center gap-1 hover:text-white transition-colors ${ae.likes.includes(y==null?void 0:y.id)?"text-brand-primary":""}`,children:[o.jsx(qk,{size:14})," ",ae.likes.length||0]}),o.jsxs("button",{onClick:()=>h(u===ae._id?null:ae._id),className:"flex items-center gap-1 hover:text-white transition-colors",children:[o.jsx(i_,{size:14})," Reply"]})]}),u===ae._id&&o.jsxs("div",{className:"flex gap-2 mb-4 mt-2",children:[o.jsx("input",{type:"text",value:f,onChange:he=>d(he.target.value),placeholder:"Write a reply...",className:"flex-1 bg-dark-layer2 border border-dark-layer2 rounded px-3 py-1 text-sm text-white focus:border-brand-primary focus:outline-none",autoFocus:!0}),o.jsx("button",{onClick:()=>ce(ae._id),className:"bg-brand-primary text-white px-3 py-1 rounded text-xs font-bold hover:bg-brand-hover",children:"Reply"})]}),ae.replies&&ae.replies.length>0&&o.jsx("div",{className:"space-y-3 mt-2 pl-4 border-l-2 border-dark-layer2",children:ae.replies.map((he,Ee)=>{var _e,Pe,We,W;return o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-green-500 to-teal-500 flex-shrink-0 flex items-center justify-center overflow-hidden",children:(_e=he.user)!=null&&_e.avatar?o.jsx("img",{src:he.user.avatar,alt:he.user.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-[10px] font-bold text-white",children:((We=(Pe=he.user)==null?void 0:Pe.name)==null?void 0:We.charAt(0))||"U"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-white text-xs",children:((W=he.user)==null?void 0:W.name)||"Unknown User"}),o.jsx("span",{className:"text-[10px] text-dark-muted",children:new Date(he.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-dark-text text-xs mt-0.5",children:he.text})]})]},Ee)})})]})]},ae._id))})]}),s==="studentNotes"&&o.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[o.jsxs("div",{className:"bg-dark-layer2 p-4 rounded-xl border border-white/5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[o.jsxs("span",{className:"text-xs font-bold text-dark-muted flex items-center gap-2",children:[o.jsx(Qn,{size:14,className:"text-brand-primary"}),"Note at ",H(t)]}),o.jsx("span",{className:"text-[10px] text-dark-muted uppercase font-black tracking-widest",children:"Auto-timestamp"})]}),o.jsxs("form",{onSubmit:Z,className:"space-y-3",children:[o.jsx("textarea",{value:C,onChange:ae=>N(ae.target.value),placeholder:"Add a private note at this moment...",className:"w-full bg-dark-layer1 border border-white/5 rounded-lg p-3 text-sm text-white focus:border-brand-primary focus:outline-none min-h-[100px] resize-none"}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",disabled:!C.trim()||B,className:"bg-brand-primary hover:bg-brand-hover disabled:opacity-50 text-dark-bg px-6 py-2 rounded-lg text-sm font-black uppercase tracking-wider transition-all",children:B?"Saving...":"Save Note"})})]})]}),o.jsx("div",{className:"space-y-4",children:w.length===0?o.jsxs("div",{className:"py-12 text-center",children:[o.jsx(Qn,{className:"mx-auto text-dark-muted opacity-20 mb-3",size:48}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Your private notes will appear here."})]}):w.map(ae=>o.jsxs("div",{className:"group bg-dark-layer2/50 border border-white/5 rounded-xl p-4 hover:border-brand-primary/30 transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("button",{onClick:()=>{const he=document.querySelector("video");he&&(he.currentTime=ae.timestamp)},className:"bg-brand-primary/10 text-brand-primary px-2 py-1 rounded text-[10px] font-black uppercase tracking-wider hover:bg-brand-primary hover:text-white transition-all",children:H(ae.timestamp)}),o.jsx("button",{onClick:()=>oe(ae._id),className:"text-dark-muted hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:o.jsx(XIcon,{})})]}),o.jsx("p",{className:"text-sm text-dark-text leading-relaxed whitespace-pre-wrap",children:ae.content}),o.jsxs("div",{className:"mt-3 text-[10px] text-dark-muted font-medium",children:["Last edited: ",new Date(ae.updatedAt).toLocaleDateString()]})]},ae._id))})]}),s==="notes"&&o.jsxs("div",{className:"space-y-4 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Qn,{className:"text-brand-primary",size:24}),o.jsx("h2",{className:"text-xl font-bold",children:"Video Summary"})]}),r.notePdf&&o.jsxs("div",{className:"bg-dark-layer2 p-4 rounded-lg border border-dark-layer2 mb-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-red-500/20 p-2 rounded text-red-400",children:o.jsx(Qn,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium",children:"Lecture Notes"}),o.jsx("p",{className:"text-xs text-dark-muted",children:"PDF Document"})]})]}),o.jsx("a",{href:r.notePdf,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-brand-primary text-white text-sm rounded hover:bg-brand-hover transition-colors",children:"View / Download"})]}),o.jsx("div",{className:"bg-dark-layer2 p-6 rounded-lg border border-dark-layer2",children:r.summary?o.jsx("p",{className:"text-dark-text leading-relaxed whitespace-pre-wrap",children:r.summary}):o.jsx("p",{className:"text-dark-muted italic",children:"No text summary available for this video."})})]}),s==="assignments"&&o.jsxs("div",{className:"space-y-6 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Kt,{className:"text-brand-primary",size:24}),o.jsx("h2",{className:"text-xl font-bold",children:"Course Assignments & Quizzes"})]}),M?o.jsxs("div",{className:"bg-dark-layer2 p-6 rounded-xl border border-dark-layer2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:M.title}),o.jsx("p",{className:"text-dark-muted mb-4",children:"Test your knowledge with this comprehensive assessment."}),o.jsxs("div",{className:"flex gap-4 text-sm text-dark-muted mb-6",children:[o.jsxs("span",{className:"bg-dark-layer1 px-3 py-1 rounded",children:["Questions: ",M.questions.length]}),o.jsxs("span",{className:"bg-dark-layer1 px-3 py-1 rounded",children:["Passing Score: ",M.passingScore,"%"]}),M.durationLimit>0&&o.jsxs("span",{className:"bg-dark-layer1 px-3 py-1 rounded",children:["Time Limit: ",M.durationLimit," mins"]})]})]}),o.jsx("div",{className:"bg-brand-primary/10 p-4 rounded-full",children:o.jsx(Award,{size:32,className:"text-brand-primary"})})]}),o.jsx("button",{onClick:()=>alert("Assessment taking feature coming soon!"),className:"w-full bg-brand-primary hover:bg-brand-hover text-white font-bold py-3 rounded-lg transition-colors",children:"Start Assessment"})]}):o.jsxs("div",{className:"py-12 text-center bg-dark-layer2 rounded-xl border border-dark-layer2 border-dashed",children:[o.jsx(Kt,{className:"mx-auto text-dark-muted opacity-20 mb-3",size:48}),o.jsx("p",{className:"text-dark-muted",children:"No assignments have been assigned for this course yet."})]})]}),s==="articles"&&o.jsxs("div",{className:"space-y-6 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(iu,{className:"text-brand-primary",size:24}),o.jsx("h2",{className:"text-xl font-bold",children:"From the Instructor's Blog"})]}),U.length>0?o.jsx("div",{className:"grid gap-4",children:U.map(ae=>o.jsxs("div",{onClick:()=>n(`/blog/${ae.slug}`),className:"bg-dark-layer2 p-4 rounded-xl border border-dark-layer2 hover:border-brand-primary transition-all cursor-pointer flex gap-4",children:[o.jsx("div",{className:"w-24 h-24 bg-dark-layer1 rounded-lg overflow-hidden flex-shrink-0",children:ae.coverImage?o.jsx("img",{src:ae.coverImage,alt:ae.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-dark-muted bg-dark-layer1",children:o.jsx(Qn,{size:24})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-white mb-1 line-clamp-1",children:ae.title}),o.jsx("div",{className:"text-xs text-brand-primary mb-2 uppercase font-bold tracking-wider",children:ae.category}),o.jsxs("p",{className:"text-sm text-dark-muted line-clamp-2 mb-3",children:[ae.content.substring(0,100).replace(/<[^>]*>/g,""),"..."]}),o.jsx("span",{className:"text-xs text-dark-muted",children:new Date(ae.createdAt).toLocaleDateString()})]})]},ae._id))}):o.jsxs("div",{className:"py-12 text-center bg-dark-layer2 rounded-xl border border-dark-layer2 border-dashed",children:[o.jsx(iu,{className:"mx-auto text-dark-muted opacity-20 mb-3",size:48}),o.jsx("p",{className:"text-dark-muted",children:"The instructor hasn't published any articles yet."})]})]})]})]})},cH=({courseId:r})=>{const[e,t]=S.useState([]),[n,s]=S.useState(0),[i,a]=S.useState(0),[l,A]=S.useState(""),[c,f]=S.useState(!1),[d,u]=S.useState(null);S.useEffect(()=>{const x=JSON.parse(localStorage.getItem("user"));u(x),h()},[r]);const h=async()=>{try{const{data:x}=await Ce.get(`/reviews/${r}`);t(x)}catch(x){console.error("Error fetching reviews:",x)}},g=async x=>{var w,v;if(x.preventDefault(),!(!n||!l.trim())){f(!0);try{const{data:C}=await Ce.post("/reviews",{userId:d.id,courseId:r,rating:n,comment:l});t([C,...e]),s(0),A(""),alert("Review submitted successfully!")}catch(C){alert(((v=(w=C.response)==null?void 0:w.data)==null?void 0:v.message)||"Failed to submit review")}finally{f(!1)}}},m=(x,w=!1)=>[...Array(5)].map((v,C)=>{const N=C+1;return o.jsx(is,{size:w?24:16,className:`${w?"cursor-pointer":""} transition-colors ${N<=(w?i||n:x)?"fill-yellow-400 text-yellow-400":"text-gray-400"}`,onClick:()=>w&&s(N),onMouseEnter:()=>w&&a(N),onMouseLeave:()=>w&&a(0)},C)}),y=e.length>0?(e.reduce((x,w)=>x+w.rating,0)/e.length).toFixed(1):0;return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Reviews"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex gap-1",children:m(Math.round(y))}),o.jsxs("span",{className:"text-dark-muted text-sm",children:[y," (",e.length," ",e.length===1?"review":"reviews",")"]})]})]})}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Write a Review"}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Rating"}),o.jsx("div",{className:"flex gap-1",children:m(n,!0)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Comment"}),o.jsx("textarea",{value:l,onChange:x=>A(x.target.value),placeholder:"Share your experience with this course...",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg p-3 text-white focus:border-brand-primary focus:outline-none min-h-[100px]",required:!0})]}),o.jsxs("button",{type:"submit",disabled:c||!n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${c||!n?"bg-dark-layer2 text-dark-muted cursor-not-allowed":"bg-brand-primary hover:bg-brand-hover text-white"}`,children:[o.jsx(vf,{size:16}),c?"Submitting...":"Submit Review"]})]})]}),o.jsx("div",{className:"space-y-4",children:e.length===0?o.jsx("div",{className:"bg-dark-layer1 p-8 rounded-lg border border-dark-layer2 text-center",children:o.jsx("p",{className:"text-dark-muted",children:"No reviews yet. Be the first to review this course!"})}):e.map(x=>{var w,v;return o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2 hover:border-dark-layer2/80 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center overflow-hidden",children:(w=x.user)!=null&&w.avatar?o.jsx("img",{src:x.user.avatar,alt:x.user.name,className:"w-full h-full object-cover"}):o.jsx(ji,{size:20,className:"text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white",children:((v=x.user)==null?void 0:v.name)||"Anonymous"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex gap-0.5",children:m(x.rating)}),o.jsx("span",{className:"text-xs text-dark-muted",children:new Date(x.createdAt).toLocaleDateString()})]})]})}),o.jsx("p",{className:"text-dark-text leading-relaxed",children:x.comment})]})]})},x._id)})})]})},fH=({course:r,onClose:e,onSuccess:t})=>{const[n,s]=S.useState(!1),[i,a]=S.useState(null),[l,A]=S.useState(!1),[c,f]=S.useState(!1),[d,u]=S.useState({cardNumber:"",expiry:"",cvc:"",name:""}),h=y=>{u({...d,[y.target.name]:y.target.value})},g=async()=>{var y,x;s(!0),a(null);try{const w=await Ce.post("/enrollment/enroll",{courseId:r._id});A(!0),setTimeout(()=>{t(),e()},2e3)}catch(w){a(((x=(y=w.response)==null?void 0:y.data)==null?void 0:x.message)||"Enrollment failed. Please try again.")}finally{s(!1)}},m=async y=>{var x,w;y.preventDefault(),s(!0),a(null);try{const v=JSON.parse(localStorage.getItem("user")).id,C=await Ce.post("/payment/purchase",{userId:v,courseId:r._id,paymentDetails:d,referralCode:localStorage.getItem("currentReferral")});C.data.success&&(await Ce.post("/enrollment/enroll",{courseId:r._id,paymentId:C.data.paymentId}),A(!0),setTimeout(()=>{t(),e()},2e3))}catch(v){a(((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Payment failed. Please try again.")}finally{s(!1)}};return l?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-dark-layer1 border border-brand-primary/50 p-8 rounded-2xl text-center max-w-md w-full animate-in fade-in zoom-in duration-300",children:[o.jsx(jo,{size:64,className:"text-green-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Enrollment Successful!"}),o.jsxs("p",{className:"text-dark-muted",children:["You have successfully enrolled in ",r.title,"."]})]})}):o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-6 border-b border-dark-layer2 flex justify-between items-center bg-dark-layer2/50",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(wf,{size:20,className:"text-brand-primary"}),"Checkout"]}),o.jsx("button",{onClick:e,className:"text-dark-muted hover:text-white transition-colors",children:o.jsx(hs,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 flex items-center gap-4 p-4 bg-dark-layer2 rounded-lg",children:[o.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-16 h-16 object-cover rounded"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium line-clamp-1",children:r.title}),o.jsxs("p",{className:"text-brand-primary font-bold text-lg",children:["$",r.price]})]})]}),o.jsx("div",{className:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Mp,{className:"text-yellow-400 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-yellow-400 font-semibold mb-1",children:"Testing Mode"}),o.jsx("p",{className:"text-sm text-dark-muted mb-3",children:"Skip payment and enroll instantly for testing purposes."}),o.jsx("button",{onClick:g,disabled:n,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-2 px-4 rounded-lg transition-all",children:n?"Processing...":"Enroll for Free (Test Mode)"})]})]})}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dark-layer2"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-dark-layer1 text-dark-muted",children:"OR"})})]}),c?o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-dark-muted mb-1 uppercase",children:"Cardholder Name"}),o.jsx("input",{type:"text",name:"name",required:!0,value:d.name,onChange:h,className:"w-full bg-dark-bg border border-dark-layer2 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-brand-primary transition-colors",placeholder:"John Doe"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-dark-muted mb-1 uppercase",children:"Card Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-muted",size:18}),o.jsx("input",{type:"text",name:"cardNumber",required:!0,value:d.cardNumber,onChange:h,className:"w-full bg-dark-bg border border-dark-layer2 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-brand-primary transition-colors",placeholder:"0000 0000 0000 0000"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-dark-muted mb-1 uppercase",children:"Expiry Date"}),o.jsx("input",{type:"text",name:"expiry",required:!0,value:d.expiry,onChange:h,className:"w-full bg-dark-bg border border-dark-layer2 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-brand-primary transition-colors",placeholder:"MM/YY"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-dark-muted mb-1 uppercase",children:"CVC"}),o.jsx("input",{type:"text",name:"cvc",required:!0,value:d.cvc,onChange:h,className:"w-full bg-dark-bg border border-dark-layer2 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-brand-primary transition-colors",placeholder:"123"})]})]}),i&&o.jsx("div",{className:"text-red-500 text-sm bg-red-500/10 p-3 rounded border border-red-500/20",children:i}),o.jsx("button",{type:"submit",disabled:n,className:"w-full bg-brand-primary hover:bg-brand-hover text-white font-bold py-3 rounded-lg transition-all transform active:scale-[0.98] flex items-center justify-center gap-2",children:n?o.jsx("span",{className:"animate-pulse",children:"Processing..."}):o.jsxs(o.Fragment,{children:["Pay $",r.price]})}),o.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-dark-muted hover:text-white transition-colors text-sm",children:" Back to test mode"})]}):o.jsx("button",{onClick:()=>f(!0),className:"w-full text-brand-primary hover:text-brand-hover transition-colors text-sm font-medium",children:"Use Real Payment Method "}),o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("p",{className:"text-xs text-dark-muted flex items-center justify-center gap-1",children:[o.jsx(wf,{size:12})," Payments are secure and encrypted."]})})]})]})})},dH=()=>{var Y,se;const{id:r}=dh(),e=ii(),[t,n]=S.useState(null),[s,i]=S.useState(null),[a,l]=S.useState(!0),[A,c]=S.useState({}),[f,d]=S.useState(!0),[u,h]=S.useState(0),[g,m]=S.useState(!1),[y,x]=S.useState(!1),[w,v]=S.useState(null),[C,N]=S.useState(!1);S.useEffect(()=>{const J=localStorage.getItem("user");J&&(v(JSON.parse(J)),B(JSON.parse(J).id));const de=new URLSearchParams(window.location.search).get("ref");de&&localStorage.setItem("currentReferral",de),M()},[r]);const B=async J=>{try{const{data:ie}=await Ce.get(`/users/${J}/wishlist`),de=ie.some(ae=>ae._id===r);N(de)}catch(ie){console.error("Error checking wishlist:",ie)}},j=async()=>{if(!w){alert("Please login to add to wishlist");return}try{const{data:J}=await Ce.post(`/users/${w.id}/wishlist/${r}`);N(J.action==="added")}catch(J){console.error("Error toggling wishlist:",J)}},M=async()=>{var J,ie;try{const de=localStorage.getItem("user");if(!de){e("/login");return}const ae=JSON.parse(de),he=ae.id,[Ee,_e]=await Promise.all([Ce.get(`/courses/${r}`),Ce.get(`/users/profile/${he}`)]);n(Ee.data);const Pe=(J=_e.data.enrolledCourses)==null?void 0:J.some(Ke=>{var je;return(((je=Ke.courseId)==null?void 0:je._id)||Ke.courseId)===r}),We=ae.role==="superadmin",W=((ie=Ee.data.instructorId)==null?void 0:ie._id)===he||Ee.data.instructorId===he;(We||Pe||W)&&(m(!0),Ee.data.videos.length>0&&i(Ee.data.videos[0]));const Ie={};_e.data.watchHistory&&_e.data.watchHistory.forEach(Ke=>{Ke.videoId&&(Ie[Ke.videoId._id||Ke.videoId]=Ke)}),c(Ie)}catch(de){console.error("Error fetching course details",de)}finally{l(!1)}},I=J=>{g&&(i(J),window.innerWidth<768&&d(!1))},U=async(J,ie)=>{if(!s||!t||!g)return;const de=J/ie>.8;try{h(J);const ae=JSON.parse(localStorage.getItem("user")).id;await Ce.put(`/enrollment/${t._id}/progress`,{videoId:s._id,progress:J,completed:de,timeSpent:5}),c(he=>({...he,[s._id]:{...he[s._id],completed:de}}))}catch(ae){console.error("Error saving progress",ae)}},T=()=>{m(!0),M()},[P,G]=S.useState(320),[R,q]=S.useState(!1),[Z,oe]=S.useState(60),[H,re]=S.useState(!1),ce=J=>{q(!0)},le=J=>{re(!0)},D=()=>{q(!1),re(!1)},K=J=>{if(R){const ie=window.innerWidth-J.clientX;ie>200&&ie<600&&G(ie)}if(H){const ie=J.clientY/window.innerHeight*100;ie>30&&ie<85&&oe(ie)}};return S.useEffect(()=>(window.addEventListener("mousemove",K),window.addEventListener("mouseup",D),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",D)}),[R,H]),a?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading course..."}):t?o.jsxs("div",{className:"flex h-[calc(100vh-80px)] -m-4 md:-m-8 overflow-hidden bg-dark-bg relative",children:[y&&o.jsx(fH,{course:t,onClose:()=>x(!1),onSuccess:T}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",style:{marginRight:0},children:[o.jsx("div",{className:"bg-black w-full relative flex-shrink-0 flex items-center justify-center md:h-[60vh] aspect-video md:aspect-auto",style:{height:window.innerWidth>=768?`${Z}vh`:"auto"},children:g?s?o.jsx(lH,{src:`/${s.videoUrl.replace(/\\/g,"/").replace(/^\/+/,"")}`,poster:s.thumbnailUrl,onProgress:U}):o.jsx("div",{className:"text-white",children:"Select a video to start learning"}):o.jsx("div",{className:"absolute inset-0 bg-dark-layer1/90 flex flex-col items-center justify-center p-8 text-center bg-[url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center bg-no-repeat bg-blend-overlay",children:o.jsxs("div",{className:"bg-black/80 p-8 rounded-2xl backdrop-blur-md border border-brand-primary/30 max-w-lg w-full",children:[o.jsx(wf,{size:48,className:"text-brand-primary mx-auto mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Unlock This Course"}),o.jsx("p",{className:"text-dark-muted mb-6",children:"Get full access to all videos, resources, and certification."}),o.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm text-dark-muted",children:"One-time payment"}),o.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",t.price]})]})}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>x(!0),className:"flex-1 bg-brand-primary hover:bg-brand-hover text-white font-bold py-4 rounded-xl text-lg transition-all transform hover:scale-[1.02] shadow-lg shadow-brand-primary/25",children:"Buy Now"}),o.jsx("button",{onClick:j,className:`px-4 rounded-xl border-2 transition-colors flex items-center justify-center ${C?"border-brand-primary bg-brand-primary/10 text-brand-primary":"border-dark-layer2 hover:border-white text-white"}`,children:o.jsx(Dl,{size:24,className:C?"fill-red-500 text-red-500":""})}),o.jsxs("button",{onClick:()=>{if(!w)return alert("Login to share");const J=`${window.location.origin}/course/${t._id}?ref=${w.referralCode}`;navigator.clipboard.writeText(J),alert("Referral link copied!")},className:"px-4 rounded-xl border-2 border-dark-layer2 hover:border-green-500 hover:text-green-500 text-white transition-colors flex items-center justify-center",title:"Share & Earn",children:[o.jsx("dollarSign",{size:24})," ",o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-share-2",children:[o.jsx("circle",{cx:"18",cy:"5",r:"3"}),o.jsx("circle",{cx:"6",cy:"12",r:"3"}),o.jsx("circle",{cx:"18",cy:"19",r:"3"}),o.jsx("line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49"}),o.jsx("line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49"})]})]})]}),o.jsxs("p",{className:"mt-4 text-xs text-dark-muted flex items-center justify-center gap-1",children:[o.jsx(a_,{size:14})," 30-Day Money-Back Guarantee"]})]})})}),o.jsx("div",{className:"hidden md:block h-1 bg-dark-layer2 hover:bg-brand-primary cursor-row-resize transition-colors w-full z-10",onMouseDown:le}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:g?o.jsx(o.Fragment,{children:o.jsx("div",{className:"flex flex-col lg:flex-row gap-8",children:o.jsxs("div",{className:"flex-1 space-y-6",children:[s&&o.jsx(AH,{video:s,course:t,currentTime:u}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"text-white font-bold",children:"Course Progress"}),o.jsxs("span",{className:"text-brand-primary font-bold",children:[Math.round(Object.values(A).filter(J=>J.completed).length/t.videos.length*100),"%"]})]}),o.jsx("div",{className:"w-full bg-dark-layer2 rounded-full h-3",children:o.jsx("div",{className:"bg-brand-primary h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${Object.values(A).filter(J=>J.completed).length/t.videos.length*100}%`}})}),o.jsxs("p",{className:"text-dark-muted text-sm mt-2",children:[Object.values(A).filter(J=>J.completed).length," of ",t.videos.length," lessons completed"]})]}),t.instructorId&&o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Course Provider"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-xl font-bold flex-shrink-0",children:t.instructorId.avatar?o.jsx("img",{src:t.instructorId.avatar,alt:t.instructorId.name,className:"w-full h-full rounded-full object-cover"}):(Y=t.instructorId.name)==null?void 0:Y.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-lg font-bold text-white",children:t.instructorId.name}),((se=t.instructorId.instructorProfile)==null?void 0:se.headline)&&o.jsx("p",{className:"text-brand-primary text-sm mb-2",children:t.instructorId.instructorProfile.headline}),o.jsx("p",{className:"text-dark-muted text-sm line-clamp-2 mb-3",children:t.instructorId.bio||"No bio available."}),o.jsx("button",{onClick:()=>e(`/instructor/profile/${t.instructorId._id}`),className:"text-white text-sm font-medium hover:text-brand-primary transition-colors",children:"View Full Profile"})]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(cH,{courseId:r})})]})})}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Course Content Locked"}),o.jsx("p",{className:"text-dark-muted",children:"Purchase the course to view details and resources."})]})})]}),f&&o.jsx("div",{className:"w-1 bg-dark-layer2 hover:bg-brand-primary cursor-col-resize transition-colors z-50 hidden md:block",onMouseDown:ce}),o.jsxs("div",{className:`fixed inset-y-0 right-0 z-40 transform ${f?"translate-x-0":"translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out bg-dark-layer1 border-l border-dark-layer2 flex flex-col`,style:{width:f?window.innerWidth>=768?P:"100%":0},children:[o.jsxs("div",{className:"p-4 border-b border-dark-layer2 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-white",children:"Course Content"}),o.jsx("button",{onClick:()=>d(!1),className:"md:hidden text-dark-muted",children:o.jsx(hs,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:t.videos.map((J,ie)=>{var de,ae;return o.jsxs("div",{onClick:()=>I(J),className:`p-4 border-b border-dark-layer2 cursor-pointer transition-colors flex gap-3 ${(s==null?void 0:s._id)===J._id?"bg-brand-primary/10 border-l-4 border-l-brand-primary":"hover:bg-dark-layer2"} ${g?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx("div",{className:"mt-1 flex-shrink-0",children:g?(s==null?void 0:s._id)===J._id?o.jsx(au,{size:16,className:"text-brand-primary"}):(de=A[J._id])!=null&&de.completed?o.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(na,{size:12,className:"text-white",strokeWidth:4})}):o.jsx("div",{className:"w-4 h-4 rounded-full border border-dark-muted"}):o.jsx(wf,{size:16,className:"text-dark-muted"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:`text-sm font-medium ${(s==null?void 0:s._id)===J._id?"text-brand-primary":"text-white"}`,children:[ie+1,". ",J.title]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("p",{className:"text-[10px] text-dark-muted",children:J.duration||"10:00"}),((ae=A[J._id])==null?void 0:ae.completed)&&o.jsx("span",{className:"text-[10px] text-green-500 font-bold uppercase tracking-widest",children:"Completed"})]})]})]},J._id)})})]}),o.jsx("button",{onClick:()=>d(!f),className:"md:hidden absolute top-4 right-4 z-50 bg-dark-layer1 text-white p-2 rounded-lg border border-dark-layer2 shadow-lg",children:f?o.jsx(hs,{size:20}):o.jsx(JR,{size:20})})]}):o.jsx("div",{className:"text-center mt-10 text-white",children:"Course not found"})},uH=()=>{var h,g;const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState([]),[a,l]=S.useState("all"),[A,c]=S.useState(!0),f=S.useRef(null);S.useEffect(()=>{u()},[]),S.useEffect(()=>{n(a==="all"?r:r.filter(m=>m.courseId._id===a))},[a,r]),S.useEffect(()=>{d()},[t]);const d=()=>{var m;(m=f.current)==null||m.scrollIntoView({behavior:"smooth"})},u=async()=>{try{const{data:m}=await Ce.get("/announcements/student"),y=m.sort((v,C)=>new Date(v.createdAt)-new Date(C.createdAt));e(y);const x=[],w=new Map;m.forEach(v=>{v.courseId&&!w.has(v.courseId._id)&&(w.set(v.courseId._id,!0),x.push(v.courseId))}),i(x)}catch(m){console.error("Error fetching announcements:",m)}finally{c(!1)}};return A?o.jsx("div",{className:"p-8 text-center text-white",children:"Loading..."}):o.jsxs("div",{className:"flex h-[calc(100vh-2rem)] bg-dark-bg overflow-hidden rounded-xl border border-dark-layer2 shadow-2xl",children:[o.jsxs("div",{className:"w-80 bg-dark-layer1 border-r border-dark-layer2 flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-dark-layer2",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search chats...",className:"w-full bg-dark-layer2 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary"}),o.jsx(ys,{className:"absolute left-3 top-2.5 text-dark-muted",size:18})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx("div",{onClick:()=>l("all"),className:`p-4 cursor-pointer hover:bg-dark-layer2 transition-colors border-b border-dark-layer2/50 ${a==="all"?"bg-dark-layer2 border-l-4 border-l-brand-primary":""}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-primary flex items-center justify-center text-white",children:o.jsx(ko,{size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium",children:"All Chats"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Combined feed"})]})]})}),s.map(m=>o.jsx("div",{onClick:()=>l(m._id),className:`p-4 cursor-pointer hover:bg-dark-layer2 transition-colors border-b border-dark-layer2/50 ${a===m._id?"bg-dark-layer2 border-l-4 border-l-brand-primary":""}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold",children:m.title.charAt(0)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-white font-medium truncate",children:m.title}),o.jsx("p",{className:"text-sm text-dark-muted truncate",children:"Instructor Update"})]})]})},m._id))]})]}),o.jsxs("div",{className:"flex-1 flex flex-col bg-[#0e1621] relative",children:[o.jsxs("div",{className:"p-4 bg-dark-layer1 border-b border-dark-layer2 flex justify-between items-center shadow-md z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a!=="all"&&o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold",children:(h=s.find(m=>m._id===a))==null?void 0:h.title.charAt(0)}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-white font-bold text-lg",children:a==="all"?"All Chats":(g=s.find(m=>m._id===a))==null?void 0:g.title}),o.jsx("p",{className:"text-sm text-dark-muted",children:a==="all"?"Updates from all your instructors":"Official Course Channel"})]})]}),o.jsx("button",{className:"text-dark-muted hover:text-white",children:o.jsx(ZR,{size:24})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-opacity-50",style:{backgroundImage:'url("https://web.telegram.org/img/bg_0.png")',backgroundBlendMode:"overlay",backgroundColor:"#0e1621"},children:[t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-dark-muted opacity-70",children:[o.jsx("div",{className:"bg-dark-layer1/50 p-4 rounded-full mb-4",children:o.jsx(ko,{size:48})}),o.jsx("p",{children:"No announcements yet."})]}):t.map(m=>{var y,x;return o.jsxs("div",{className:"flex flex-col items-start max-w-[80%]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1 ml-2",children:[o.jsx("span",{className:"text-brand-primary font-bold text-sm",children:((y=m.createdBy)==null?void 0:y.name)||"Instructor"}),o.jsxs("span",{className:"text-dark-muted text-xs",children:["via ",(x=m.courseId)==null?void 0:x.title]})]}),o.jsxs("div",{className:"bg-[#182533] text-white rounded-tr-2xl rounded-br-2xl rounded-bl-2xl p-3 shadow-sm relative hover:shadow-md transition-shadow",children:[o.jsx("p",{className:"whitespace-pre-wrap text-[15px] leading-relaxed",children:m.message}),o.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:o.jsx("span",{className:"text-[11px] text-gray-400",children:new Date(m.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]})]},m._id)}),o.jsx("div",{ref:f})]}),o.jsx("div",{className:"p-4 bg-dark-layer1 border-t border-dark-layer2 text-center text-dark-muted text-sm",children:"Only instructors can send messages in this channel."})]})]})},hH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:i}=await Ce.get("/live");e(i)}catch(i){console.error("Error fetching sessions:",i)}finally{n(!1)}};return o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[o.jsxs("header",{className:"text-center md:text-left",children:[o.jsxs("h1",{className:"text-4xl font-black text-white tracking-tight flex items-center gap-3 justify-center md:justify-start",children:[o.jsx(Cf,{size:40,className:"text-red-500"}),"Live ",o.jsx("span",{className:"text-brand-primary",children:"Sessions"})]}),o.jsx("p",{className:"text-dark-muted mt-2 text-lg",children:"Join interactive webinars and classes from your instructors."})]}),t?o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading schedule..."}):r.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(Fa,{size:64,className:"mx-auto text-dark-muted opacity-30 mb-6"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Live Sessions Scheduled"}),o.jsx("p",{className:"text-dark-muted",children:"Your instructors haven't scheduled any live classes yet. Check back later!"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(i=>{var a,l,A,c;return o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-[2rem] overflow-hidden hover:border-brand-primary/40 transition-all duration-300 group shadow-2xl relative",children:[o.jsx("div",{className:"absolute top-6 right-6 z-10",children:new Date(i.scheduledAt)<=new Date&&new Date(i.scheduledAt).getTime()+i.duration*6e4>new Date().getTime()?o.jsx("span",{className:"px-4 py-1.5 bg-red-500 text-white text-xs font-black uppercase tracking-widest rounded-full animate-pulse shadow-[0_0_15px_rgba(239,68,68,0.6)]",children:"Live Now"}):o.jsx("span",{className:"px-4 py-1.5 bg-blue-500/10 text-blue-400 border border-blue-500/20 text-xs font-black uppercase tracking-widest rounded-full backdrop-blur-sm",children:"Upcoming"})}),o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[(a=i.instructorId)!=null&&a.avatar?o.jsx("img",{src:i.instructorId.avatar,className:"w-10 h-10 rounded-xl",alt:"Instructor"}):o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center font-bold text-white",children:((A=(l=i.instructorId)==null?void 0:l.name)==null?void 0:A[0])||"I"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-white",children:(c=i.instructorId)==null?void 0:c.name}),o.jsx("p",{className:"text-xs text-dark-muted",children:"Instructor"})]})]}),o.jsx("h3",{className:"text-2xl font-black text-white group-hover:text-brand-primary transition-colors leading-tight",children:i.title}),i.courseId&&o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-dark-muted text-sm font-medium",children:[o.jsx(EA,{size:14,className:"text-brand-primary"}),i.courseId.title]})]}),o.jsxs("div",{className:"space-y-3 pt-6 border-t border-white/5",children:[o.jsxs("div",{className:"flex items-center gap-3 text-dark-muted",children:[o.jsx(Fa,{size:18,className:"text-brand-primary"}),o.jsx("span",{className:"font-medium",children:new Date(i.scheduledAt).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-3 text-dark-muted",children:[o.jsx(jn,{size:18,className:"text-brand-primary"}),o.jsxs("span",{className:"font-medium",children:[new Date(i.scheduledAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"  ",i.duration," mins"]})]})]})]}),o.jsx("div",{className:"p-4 bg-white/5 border-t border-white/5",children:o.jsxs("a",{href:i.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-4 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-2xl transition-all shadow-lg shadow-brand-primary/20 hover:scale-[1.02] active:scale-95",children:[o.jsx(Gk,{size:18}),new Date(i.scheduledAt)<=new Date?"Join Now":"Join Session"]})})]},i._id)})})]})},gH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:a}=await Ce.get("/notes");e(a||[])}catch(a){console.error("Error fetching notes:",a)}finally{n(!1)}},i=a=>{const l=Math.floor(a/60),A=Math.floor(a%60);return`${l}:${A.toString().padStart(2,"0")}`};return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[o.jsxs("header",{children:[o.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight flex items-center gap-3",children:[o.jsx(Hb,{size:32,className:"text-brand-primary"}),"My Notes"]}),o.jsx("p",{className:"text-dark-muted mt-2",children:"All your study notes in one place"})]}),t?o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading notes..."}):r.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(Qn,{size:48,className:"mx-auto text-dark-muted opacity-50 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"No Notes Yet"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Take notes while watching videos to see them here."}),o.jsx(kt,{to:"/my-learning",className:"inline-block mt-6 px-6 py-3 bg-brand-primary text-dark-bg font-black rounded-xl hover:bg-brand-hover transition-colors",children:"Go to My Courses"})]}):o.jsx("div",{className:"grid gap-6",children:r.map(a=>{var l,A,c,f,d,u;return o.jsx("div",{className:"bg-dark-layer1 border border-white/10 rounded-2xl p-6 hover:border-brand-primary/30 transition-all",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"w-full md:w-64 flex-shrink-0",children:[o.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-dark-layer2 mb-3 group",children:[o.jsx("img",{src:((l=a.courseId)==null?void 0:l.thumbnail)||"https://via.placeholder.com/300x200",alt:(A=a.courseId)==null?void 0:A.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(EA,{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-lg",size:40,fill:"currentColor"})})]}),o.jsx("h4",{className:"font-bold text-white text-sm line-clamp-2",children:(c=a.videoId)==null?void 0:c.title}),o.jsx("p",{className:"text-xs text-dark-muted mt-1",children:(f=a.courseId)==null?void 0:f.title})]}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-brand-primary font-mono text-xs bg-brand-primary/10 px-2 py-1 rounded w-fit",children:[o.jsx(jn,{size:12}),i(a.timestamp)]}),o.jsx("div",{className:"prose prose-invert max-w-none",children:o.jsx("p",{className:"text-dark-text whitespace-pre-wrap",children:a.content})}),o.jsx("div",{className:"pt-4 flex justify-end",children:o.jsxs(kt,{to:`/course/${(d=a.courseId)==null?void 0:d._id}/learn/${(u=a.videoId)==null?void 0:u._id}?t=${Math.floor(a.timestamp)}`,className:"flex items-center gap-2 text-sm font-bold text-white hover:text-brand-primary transition-colors",children:["Review Video ",o.jsx(RA,{size:16})]})})]})]})},a._id)})})]})},mH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:a}=await Ce.get("/payment/my-history");e(a||[])}catch(a){console.error("Error fetching history:",a)}finally{n(!1)}},i=a=>{switch(a){case"completed":return"text-green-400 bg-green-500/10 border-green-500/20";case"pending":return"text-yellow-400 bg-yellow-500/10 border-yellow-500/20";case"failed":return"text-red-400 bg-red-500/10 border-red-500/20";default:return"text-gray-400 bg-gray-500/10 border-gray-500/20"}};return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[o.jsxs("header",{children:[o.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight flex items-center gap-3",children:[o.jsx(Pu,{size:32,className:"text-brand-primary"}),"Purchase History"]}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Track your orders and invoices"})]}),t?o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading history..."}):r.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(Pu,{size:48,className:"mx-auto text-dark-muted opacity-50 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"No Purchases Yet"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Your course purchases will appear here."})]}):o.jsx("div",{className:"bg-dark-layer1 border border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-white/5 text-dark-muted uppercase text-xs font-black tracking-wider",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-6",children:"Course"}),o.jsx("th",{className:"p-6",children:"Date"}),o.jsx("th",{className:"p-6",children:"Order ID"}),o.jsx("th",{className:"p-6",children:"Amount"}),o.jsx("th",{className:"p-6",children:"Status"}),o.jsx("th",{className:"p-6 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-white/5",children:r.map(a=>{var l,A;return o.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[o.jsx("td",{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-dark-layer2 rounded-lg overflow-hidden flex-shrink-0",children:((l=a.courseId)==null?void 0:l.thumbnail)&&o.jsx("img",{src:a.courseId.thumbnail,alt:"",className:"w-full h-full object-cover"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-white",children:((A=a.courseId)==null?void 0:A.title)||"Unknown Course"}),o.jsx("p",{className:"text-xs text-dark-muted",children:a.paymentMethod})]})]})}),o.jsx("td",{className:"p-6 text-sm text-dark-muted whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fa,{size:14}),new Date(a.createdAt).toLocaleDateString()]})}),o.jsx("td",{className:"p-6 text-sm font-mono text-dark-muted",children:a.transactionId||a._id.slice(-8).toUpperCase()}),o.jsxs("td",{className:"p-6 font-black text-white",children:["$",a.amount.toFixed(2)]}),o.jsx("td",{className:"p-6",children:o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider border flex items-center w-fit gap-1.5 ${i(a.status)}`,children:[a.status==="completed"&&o.jsx(jo,{size:12}),a.status==="pending"&&o.jsx(jn,{size:12}),a.status==="failed"&&o.jsx(Vb,{size:12}),a.status]})}),o.jsx("td",{className:"p-6 text-right",children:o.jsx("button",{className:"p-2 text-dark-muted hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Download Invoice",children:o.jsx(xf,{size:18})})})]},a._id)})})]})})})]})},pH=()=>{var l;const{studentKey:r}=dh(),[e,t]=S.useState(null),[n,s]=S.useState(!0);S.useEffect(()=>{if(r)i();else{const A=JSON.parse(localStorage.getItem("user"));A!=null&&A._id&&i(A._id)}},[r]);const i=async(A=r)=>{try{const{data:c}=await Ce.get(`/users/${A}/public-profile`);t(c)}catch(c){console.error("Error fetching profile:",c)}finally{s(!1)}};if(n)return o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading profile..."});if(!e)return o.jsx("div",{className:"text-center py-20 text-red-500",children:"Profile not found."});const{gamification:a}=e;return o.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[o.jsxs("div",{className:"relative bg-dark-layer1 border border-white/10 rounded-[2.5rem] overflow-hidden shadow-2xl",children:[o.jsx("div",{className:"h-48 bg-gradient-to-r from-brand-primary to-purple-600 opacity-20 relative overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"})}),o.jsxs("div",{className:"px-8 pb-8 relative -mt-16 flex flex-col md:flex-row items-end md:items-center gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-32 h-32 rounded-3xl bg-dark-layer1 p-1.5 shadow-2xl",children:e.avatar?o.jsx("img",{src:e.avatar,className:"w-full h-full rounded-2xl object-cover",alt:e.name}):o.jsx("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center",children:o.jsx(ji,{size:40,className:"text-white/50"})})}),(a==null?void 0:a.level)>=5&&o.jsx("div",{className:"absolute -top-3 -right-3 bg-yellow-400 text-dark-bg p-2 rounded-xl shadow-lg transform rotate-12",children:o.jsx(vo,{size:20,fill:"currentColor"})})]}),o.jsxs("div",{className:"flex-1 space-y-2 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h1",{className:"text-3xl font-black text-white",children:e.name}),o.jsx("span",{className:"px-3 py-1 bg-white/5 text-white border border-white/10 rounded-full text-xs font-bold uppercase tracking-wider",children:e.role})]}),o.jsx("p",{className:"text-dark-muted max-w-xl",children:e.bio||"This student hasn't written a bio yet."}),o.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-dark-muted pt-2",children:[o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Fa,{size:14,className:"text-brand-primary"})," Joined ",new Date(e.createdAt).toLocaleDateString()]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Kt,{size:14,className:"text-brand-primary"})," ",a==null?void 0:a.coursesCompleted," Completed courses"]})]})]}),o.jsxs("div",{className:"flex flex-col items-center md:items-end gap-1",children:[o.jsx("div",{className:"text-xs font-bold text-dark-muted uppercase tracking-widest",children:"Orbit Level"}),o.jsx("div",{className:"text-5xl font-black text-white",children:(a==null?void 0:a.level)||1}),o.jsxs("div",{className:"text-sm font-bold text-brand-primary",children:[a==null?void 0:a.xp," XP"]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:((l=a==null?void 0:a.badges)==null?void 0:l.length)>0?a.badges.map((A,c)=>{const f=A.icon==="Rocket"?Fl:A.icon==="Crown"?vo:A.icon==="BookOpen"?Kt:Yk,d=A.color==="blue"?"text-blue-400 bg-blue-500/10 border-blue-500/20":A.color==="purple"?"text-purple-400 bg-purple-500/10 border-purple-500/20":A.color==="green"?"text-green-400 bg-green-500/10 border-green-500/20":"text-yellow-400 bg-yellow-500/10 border-yellow-500/20";return o.jsxs("div",{className:`p-6 rounded-3xl border flex flex-col items-center justify-center text-center gap-4 transition-all hover:scale-105 ${d}`,children:[o.jsx("div",{className:"p-4 bg-dark-bg/30 rounded-2xl",children:o.jsx(f,{size:32})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-lg",children:A.name}),o.jsx("p",{className:"text-xs opacity-70 mt-1 uppercase tracking-wider",children:"Badge Unlocked"})]})]},c)}):o.jsx("div",{className:"col-span-full p-8 border border-white/5 bg-white/5 rounded-3xl text-center text-dark-muted",children:"No badges earned yet. Keep learning!"})}),e.certificates&&e.certificates.length>0&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-3",children:[o.jsx(ps,{size:24,className:"text-brand-primary"}),"Certificates"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.certificates.map(A=>o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 p-6 rounded-3xl flex items-center gap-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center text-dark-bg shadow-lg shadow-orange-500/20",children:o.jsx(ps,{size:32})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white text-lg",children:A.courseTitle||"Course Certificate"}),o.jsxs("p",{className:"text-sm text-dark-muted mb-2",children:["Issued ",new Date(A.issuedAt).toLocaleDateString()]}),o.jsxs("span",{className:"text-xs font-mono text-white/30 truncate block max-w-[200px]",children:["ID: ",A.certificateId]})]})]},A._id))})]})]})},xH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:i}=await Ce.get("/reviews/my/all");e(i)}catch(i){console.error("Error fetching reviews:",i)}finally{n(!1)}};return t?o.jsx("div",{className:"text-center text-white mt-10",children:"Loading your reviews..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(is,{className:"text-brand-primary",size:32}),o.jsx("h1",{className:"text-3xl font-black text-white",children:"My Reviews & Ratings"})]}),r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center p-6 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mb-6",children:o.jsx(qs,{size:40,className:"text-brand-primary"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"No Reviews Yet"}),o.jsx("p",{className:"text-dark-muted max-w-md mb-6",children:"You haven't rated any courses yet. Go to your courses and share your feedback!"}),o.jsx(kt,{to:"/my-learning",className:"bg-brand-primary hover:bg-brand-hover text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Go to My Learning"})]}):o.jsx("div",{className:"grid gap-6",children:r.map(i=>{var a,l,A;return o.jsxs("div",{className:"bg-dark-layer1 border border-white/5 rounded-2xl p-6 hover:border-brand-primary/30 transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-dark-layer2",children:(a=i.course)!=null&&a.thumbnail?o.jsx("img",{src:i.course.thumbnail,alt:i.course.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-dark-muted",children:o.jsx(is,{size:24})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:((l=i.course)==null?void 0:l.title)||"Unknown Course"}),o.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((c,f)=>o.jsx(is,{size:14,className:f<i.rating?"text-yellow-400 fill-yellow-400":"text-dark-muted"},f)),o.jsx("span",{className:"text-sm text-dark-muted ml-2",children:new Date(i.createdAt).toLocaleDateString()})]})]})]}),o.jsx("div",{className:"flex gap-2",children:o.jsx(kt,{to:`/course/${(A=i.course)==null?void 0:A._id}`,className:"p-2 hover:bg-dark-layer2 rounded-lg text-dark-muted hover:text-white transition-colors",title:"View Course",children:o.jsx(zb,{size:18})})})]}),o.jsx("div",{className:"bg-dark-layer2/50 rounded-xl p-4 text-dark-text text-sm leading-relaxed",children:i.comment||o.jsx("span",{className:"italic text-dark-muted",children:"No written comment provided."})})]},i._id)})})]})},yH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(null),[s,i]=S.useState([]),[a,l]=S.useState(!0);S.useEffect(()=>{A()},[]),S.useEffect(()=>{t&&c(t._id)},[t]);const A=async()=>{try{const{data:f}=await Ce.get("/courses/my-learning");e(f),f.length>0&&n(f[0])}catch(f){console.error("Error fetching courses:",f)}finally{l(!1)}},c=async f=>{try{const{data:d}=await Ce.get(`/practice/course/${f}`);i(d)}catch(d){console.error("Error fetching problems:",d)}};return a?o.jsx("div",{className:"p-8 text-white",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-white shadow-lg",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Daily Practice"}),o.jsx("p",{className:"opacity-90 text-lg",children:"Sharpen your skills with daily challenges from your instructors."})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 space-y-2",children:[o.jsx("h3",{className:"text-dark-muted font-medium px-2 mb-2",children:"Your Courses"}),r.map(f=>o.jsx("button",{onClick:()=>n(f),className:`w-full text-left px-4 py-3 rounded-lg transition-colors border border-transparent ${(t==null?void 0:t._id)===f._id?"bg-brand-primary text-white shadow-md":"bg-dark-layer1 text-dark-muted hover:bg-dark-layer2 hover:text-white border-dark-layer2"}`,children:o.jsx("span",{className:"line-clamp-1",children:f.title})},f._id)),r.length===0&&o.jsx("div",{className:"text-dark-muted px-4 text-sm",children:"No active courses found."})]}),o.jsxs("div",{className:"flex-1 space-y-4",children:[s.map(f=>o.jsxs("div",{className:"bg-dark-layer1 rounded-xl border border-dark-layer2 p-6 hover:border-brand-primary/30 transition-all shadow-sm",children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:f.title}),o.jsxs("div",{className:"flex items-center gap-2 text-dark-muted text-sm",children:[o.jsx(jn,{size:14}),o.jsxs("span",{children:["Posted ",new Date(f.createdAt).toLocaleDateString()]})]})]})}),o.jsx("p",{className:"text-gray-300 whitespace-pre-wrap mb-6 leading-relaxed bg-[#151f2e] p-4 rounded-lg border border-dark-layer2/50",children:f.description}),f.attachments&&f.attachments.length>0&&o.jsxs("div",{className:"border-t border-dark-layer2 pt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-dark-muted mb-3 uppercase tracking-wider",children:"Resources"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:f.attachments.map((d,u)=>o.jsxs("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-dark-layer2 hover:bg-[#2a3b55] px-4 py-2 rounded-lg text-brand-primary transition-colors border border-dark-layer2 hover:border-brand-primary/50 group",children:[o.jsx("div",{className:"bg-brand-primary/10 p-2 rounded group-hover:bg-brand-primary/20",children:o.jsx(Qn,{size:18})}),o.jsx("span",{className:"font-medium",children:d.name||"Attachment"})]},u))})]})]},f._id)),s.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-dark-layer1 rounded-xl border border-dashed border-dark-layer2 text-dark-muted",children:[o.jsx(jo,{size:48,className:"mb-4 text-dark-muted/50"}),o.jsx("p",{className:"text-lg",children:"No practice problems available yet."}),o.jsx("p",{className:"text-sm",children:"Check back later for new challenges!"})]})]})]})]})},wH=({onClose:r,onUpload:e})=>{const[t,n]=S.useState(null),[s,i]=S.useState(null),[a,l]=S.useState(""),[A,c]=S.useState("General"),[f,d]=S.useState(""),[u,h]=S.useState(!1),g=y=>{const x=y.target.files[0];x&&(n(x),i(URL.createObjectURL(x)))},m=async y=>{if(y.preventDefault(),!(!t||!a)){h(!0);try{const x=new FormData;x.append("file",t);const w=await Ce.post("/upload",x,{headers:{"Content-Type":"multipart/form-data"}});await Ce.post("/reels/upload",{title:a,videoUrl:w.data.filePath,category:A,tags:f.split(",").map(v=>v.trim()).filter(Boolean),duration:60}),e()}catch(x){console.error("Upload failed",x),alert("Failed to upload reel.")}finally{h(!1)}}};return o.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-2xl w-full max-w-lg p-6 relative shadow-2xl",children:[o.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white/50 hover:text-white",children:o.jsx(hs,{size:24})}),o.jsx("h2",{className:"text-2xl font-black text-white mb-6",children:"Upload Reel"}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsx("div",{className:"relative group",children:o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-white/20 rounded-xl cursor-pointer hover:border-brand-primary hover:bg-white/5 transition-all",children:[s?o.jsx("video",{src:s,className:"h-full object-contain rounded-lg",controls:!0}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 rounded-full bg-white/5 text-brand-primary mb-2 group-hover:scale-110 transition-transform",children:o.jsx(Tp,{size:32})}),o.jsx("p",{className:"text-sm font-bold text-white",children:"Click to upload video"}),o.jsx("p",{className:"text-xs text-white/50 mt-1",children:"MP4, WebM (Vertical 9:16 recommended)"})]}),o.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:g})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-white/60 mb-1 uppercase tracking-wider",children:"Caption / Title"}),o.jsx("input",{type:"text",value:a,onChange:y=>l(y.target.value),placeholder:"Describe your reel...",className:"w-full bg-dark-layer2 border-none rounded-xl p-3 text-white focus:ring-2 focus:ring-brand-primary",maxLength:100})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-white/60 mb-1 uppercase tracking-wider",children:"Category"}),o.jsxs("select",{value:A,onChange:y=>c(y.target.value),className:"w-full bg-dark-layer2 border-none rounded-xl p-3 text-white focus:ring-2 focus:ring-brand-primary",children:[o.jsx("option",{children:"General"}),o.jsx("option",{children:"Coding"}),o.jsx("option",{children:"Design"}),o.jsx("option",{children:"Business"}),o.jsx("option",{children:"Tips"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-white/60 mb-1 uppercase tracking-wider",children:"Tags"}),o.jsx("input",{type:"text",value:f,onChange:y=>d(y.target.value),placeholder:"react, js, web",className:"w-full bg-dark-layer2 border-none rounded-xl p-3 text-white focus:ring-2 focus:ring-brand-primary"})]})]})]}),o.jsx("button",{type:"submit",disabled:u||!t||!a,className:"w-full py-4 bg-brand-primary hover:bg-brand-hover text-black font-black rounded-xl text-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?o.jsx(Gb,{className:"animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(Cf,{size:20})," Post Reel"]})})]})]})})},bH=()=>{const r=ii();_a();const[e,t]=S.useState([]),[n,s]=S.useState(!0),[i,a]=S.useState(null),[l,A]=S.useState(!1),[c,f]=S.useState(!1),[d,u]=S.useState(null),[h,g]=S.useState("All"),m=S.useRef();S.useEffect(()=>{const C=JSON.parse(localStorage.getItem("user"));u(C),y()},[h]);const y=async()=>{s(!0);try{const{data:C}=await Ce.get("/reels/feed",{params:{category:h}});t(C),C.length>0&&a(C[0]._id)}catch(C){console.error("Error fetching reels:",C)}finally{s(!1)}},x=async C=>{try{const{data:N}=await Ce.post(`/reels/${C}/like`);t(e.map(B=>B._id===C?{...B,likes:N}:B))}catch(N){console.error("Error liking reel:",N)}},w=async C=>{try{await Ce.post(`/reels/${C}/view`)}catch(N){console.error("Error viewing reel:",N)}},v=S.useCallback(C=>{if(n)return;m.current&&m.current.disconnect();const N={root:null,rootMargin:"0px",threshold:.6},B=j=>{j.forEach(M=>{if(M.isIntersecting){const I=M.target.getAttribute("data-id");a(I),w(I)}})};m.current=new IntersectionObserver(B,N),document.querySelectorAll(".reel-container").forEach(j=>m.current.observe(j))},[n,e]);return o.jsxs("div",{className:"bg-black min-h-screen text-white overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 flex justify-between items-center p-4 bg-gradient-to-b from-black/80 to-transparent",children:[o.jsx("button",{onClick:()=>r(-1),className:"p-2 rounded-full bg-white/10 backdrop-blur-md",children:o.jsx(Pk,{size:24})}),o.jsxs("div",{className:"flex gap-4 font-bold text-shadow",children:[o.jsx("button",{onClick:()=>g("All"),className:`text-lg transition-all ${h==="All"?"text-white border-b-2 border-brand-primary":"text-white/60"}`,children:"For You"}),o.jsx("button",{onClick:()=>g("Following"),className:`text-lg transition-all ${h==="Following"?"text-white border-b-2 border-brand-primary":"text-white/60"}`,children:"Following"})]}),(d==null?void 0:d.role)==="instructor"?o.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-full bg-brand-primary text-black font-bold",children:o.jsx(xs,{size:24})}):o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-scroll snap-y snap-mandatory h-screen no-scrollbar",children:[e.map((C,N)=>o.jsx(vH,{reel:C,isActive:i===C._id,isMuted:l,toggleMute:()=>A(!l),onLike:()=>x(C._id),currentUser:d,ref:N===e.length-1?v:null},C._id)),e.length===0&&!n&&o.jsxs("div",{className:"h-screen flex flex-col items-center justify-center snap-center",children:[o.jsx("p",{className:"text-xl font-bold text-gray-400",children:"No reels found in this category."}),o.jsx("button",{onClick:()=>g("All"),className:"mt-4 px-6 py-2 bg-brand-primary text-black rounded-full font-bold",children:"Browse All"})]})]}),c&&o.jsx(wH,{onClose:()=>f(!1),onUpload:()=>{y(),f(!1)}})]})},vH=wo.forwardRef(({reel:r,isActive:e,isMuted:t,toggleMute:n,onLike:s,currentUser:i},a)=>{var d,u,h,g,m;const l=S.useRef(null),[A,c]=S.useState(!1);S.useEffect(()=>{e?(l.current.currentTime=0,l.current.play().then(()=>c(!0)).catch(y=>console.log("Autoplay blocked",y))):(l.current.pause(),c(!1))},[e]);const f=()=>{l.current.paused?(l.current.play(),c(!0)):(l.current.pause(),c(!1))};return o.jsxs("div",{ref:a,"data-id":r._id,className:"reel-container w-full h-screen snap-center relative flex items-center justify-center bg-dark-bg",children:[o.jsx("video",{ref:l,src:`/${r.videoUrl}`,className:"w-full h-full object-cover md:max-w-[450px]",loop:!0,muted:t,playsInline:!0,onClick:f}),o.jsxs("div",{className:"absolute inset-0 md:max-w-[450px] mx-auto pointer-events-none flex flex-col justify-end pb-20 p-4 bg-gradient-to-t from-black/80 via-transparent to-transparent",children:[o.jsxs("div",{className:"absolute right-4 bottom-24 flex flex-col items-center gap-6 pointer-events-auto",children:[o.jsxs("button",{onClick:s,className:"flex flex-col items-center gap-1 group",children:[o.jsx("div",{className:`p-3 rounded-full bg-white/10 backdrop-blur-md transition-all group-active:scale-90 ${r.likes.includes(i==null?void 0:i.id)?"bg-red-500/20":""}`,children:o.jsx(Dl,{size:28,className:r.likes.includes(i==null?void 0:i.id)?"fill-red-500 text-red-500":"text-white"})}),o.jsx("span",{className:"text-xs font-bold",children:r.likes.length})]}),o.jsxs("button",{className:"flex flex-col items-center gap-1 group",children:[o.jsx("div",{className:"p-3 rounded-full bg-white/10 backdrop-blur-md transition-all group-active:scale-90",children:o.jsx(Ou,{size:28,className:"text-white"})}),o.jsx("span",{className:"text-xs font-bold",children:"0"})]}),o.jsxs("button",{className:"flex flex-col items-center gap-1 group",children:[o.jsx("div",{className:"p-3 rounded-full bg-white/10 backdrop-blur-md transition-all group-active:scale-90",children:o.jsx(Jk,{size:28,className:"text-white"})}),o.jsx("span",{className:"text-xs font-bold",children:"Share"})]}),o.jsx("button",{onClick:n,className:"p-3 rounded-full bg-white/10 backdrop-blur-md",children:t?o.jsx(e5,{size:24}):o.jsx(Xk,{size:24})})]}),o.jsxs("div",{className:"pr-16 pointer-events-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full border border-white overflow-hidden",children:(d=r.instructorId)!=null&&d.avatar?o.jsx("img",{src:r.instructorId.avatar,alt:"avatar",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-brand-primary flex items-center justify-center font-bold text-black",children:((h=(u=r.instructorId)==null?void 0:u.name)==null?void 0:h[0])||"I"})}),o.jsx("h3",{className:"font-bold text-base text-white",children:(g=r.instructorId)==null?void 0:g.name}),o.jsx("button",{className:"px-3 py-1 rounded-full border border-white/30 text-xs font-bold backdrop-blur-sm hover:bg-white/20",children:"Follow"})]}),o.jsx("p",{className:"text-sm text-white/90 mb-2 line-clamp-2",children:r.title}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("span",{className:"px-2 py-0.5 rounded bg-white/20 text-xs font-medium backdrop-blur-sm",children:["#",r.category]}),(m=r.tags)==null?void 0:m.map((y,x)=>o.jsxs("span",{className:"px-2 py-0.5 rounded bg-white/10 text-xs text-brand-primary font-medium backdrop-blur-sm",children:["#",y]},x))]})]})]}),!A&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"bg-black/30 p-4 rounded-full backdrop-blur-sm",children:o.jsx(EA,{size:48,className:"fill-white text-white ml-2"})})})]})}),CH=()=>{var c,f,d,u;const[r,e]=S.useState(null),[t,n]=S.useState(null),[s,i]=S.useState(!0);S.useEffect(()=>{a()},[]);const a=async()=>{try{const[h,g]=await Promise.all([Ce.get("/instructor/dashboard"),Ce.get("/instructor/analytics")]);e(h.data),n(g.data)}catch(h){console.error("Error fetching dashboard:",h)}finally{i(!1)}};if(s)return o.jsx("div",{className:"text-white text-center mt-10",children:"Loading..."});const l=()=>{var h;return(h=t==null?void 0:t.revenueTrend)!=null&&h.length?Math.max(...t.revenueTrend.map(g=>g.revenue))*1.2:100},A=()=>{var h;return(h=t==null?void 0:t.enrollmentTrend)!=null&&h.length?Math.max(...t.enrollmentTrend.map(g=>g.enrollments))*1.2:10};return o.jsxs("div",{className:"space-y-8 pb-12",children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-white shadow-2xl relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Instructor Dashboard"}),o.jsx("p",{className:"text-lg opacity-90",children:"Manage your courses, track revenue, and grow your audience."})]}),o.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-y-1/4 translate-x-1/4",children:o.jsx(sa,{size:300})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-blue-500 transition-colors group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-dark-muted font-medium",children:"Total Courses"}),o.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:o.jsx(Kt,{size:24})})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:(r==null?void 0:r.totalCourses)||0})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-green-500 transition-colors group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-dark-muted font-medium",children:"Total Students"}),o.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg text-green-400 group-hover:bg-green-500 group-hover:text-white transition-colors",children:o.jsx(Zt,{size:24})})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:(r==null?void 0:r.totalStudents)||0})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-yellow-500 transition-colors group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-dark-muted font-medium",children:"Total Revenue"}),o.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg text-yellow-400 group-hover:bg-yellow-500 group-hover:text-white transition-colors",children:o.jsx(Cn,{size:24})})]}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",((c=r==null?void 0:r.totalRevenue)==null?void 0:c.toFixed(2))||0]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6 hover:border-purple-500 transition-colors group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-dark-muted font-medium",children:"Avg Rating"}),o.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400 group-hover:bg-purple-500 group-hover:text-white transition-colors",children:o.jsx(sa,{size:24})})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:"4.8"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(UR,{className:"text-brand-primary"})," Revenue Trend"]}),o.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:((f=t==null?void 0:t.revenueTrend)==null?void 0:f.length)>0?t.revenueTrend.map((h,g)=>{const m=h.revenue/l()*100;return o.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-full bg-dark-layer2 rounded-t-lg relative h-full flex items-end overflow-hidden",children:o.jsx("div",{className:"w-full bg-brand-primary opacity-80 group-hover:opacity-100 transition-all duration-500 rounded-t-lg",style:{height:`${m}%`}})}),o.jsx("span",{className:"text-xs text-dark-muted",children:h.month.split("-")[1]}),o.jsxs("div",{className:"absolute bottom-full mb-2 bg-black/80 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:["$",h.revenue]})]},g)}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-dark-muted",children:"No revenue data yet"})})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx(Zt,{className:"text-green-400"})," Enrollment Trend"]}),o.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:((d=t==null?void 0:t.enrollmentTrend)==null?void 0:d.length)>0?t.enrollmentTrend.map((h,g)=>{const m=h.enrollments/A()*100;return o.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-full bg-dark-layer2 rounded-t-lg relative h-full flex items-end overflow-hidden",children:o.jsx("div",{className:"w-full bg-green-500 opacity-80 group-hover:opacity-100 transition-all duration-500 rounded-t-lg",style:{height:`${m}%`}})}),o.jsx("span",{className:"text-xs text-dark-muted",children:h.month.split("-")[1]}),o.jsxs("div",{className:"absolute bottom-full mb-2 bg-black/80 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[h.enrollments," Students"]})]},g)}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-dark-muted",children:"No enrollment data yet"})})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(kt,{to:"/instructor/courses",className:"bg-brand-primary text-white px-6 py-3 rounded-lg font-bold hover:bg-opacity-90 flex items-center gap-2 shadow-lg shadow-brand-primary/20",children:[o.jsx(xs,{size:20}),"Create New Course"]}),o.jsxs(kt,{to:"/instructor/upload",className:"bg-dark-layer1 border border-dark-layer2 text-white px-6 py-3 rounded-lg font-bold hover:bg-dark-layer2 flex items-center gap-2",children:[o.jsx(Tp,{size:20}),"Upload Content"]}),o.jsxs(kt,{to:"/instructor/live",className:"bg-dark-layer1 border border-dark-layer2 text-white px-6 py-3 rounded-lg font-bold hover:bg-dark-layer2 flex items-center gap-2",children:[o.jsx(Cf,{size:20}),"Live Session"]}),o.jsxs(kt,{to:"/instructor/practice",className:"bg-dark-layer1 border border-dark-layer2 text-white px-6 py-3 rounded-lg font-bold hover:bg-dark-layer2 flex items-center gap-2",children:[o.jsx(Qn,{size:20}),"Daily Practice"]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Top Performing Courses"}),o.jsx(kt,{to:"/instructor/courses",className:"text-brand-primary hover:underline",children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(u=r==null?void 0:r.courses)==null?void 0:u.slice(0,3).map(h=>{var g;return o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl overflow-hidden hover:border-brand-primary transition-colors group",children:[o.jsxs("div",{className:"aspect-video bg-dark-layer2 relative",children:[o.jsx("img",{src:h.thumbnail||"/placeholder.jpg",alt:"",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold backdrop-blur-md ${h.approvalStatus==="approved"?"bg-green-500/20 text-green-400":h.approvalStatus==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:h.approvalStatus})})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"font-bold text-white mb-3 line-clamp-2 group-hover:text-brand-primary transition-colors",children:h.title}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm pt-4 border-t border-dark-layer2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-xs uppercase tracking-wider",children:"Students"}),o.jsx("p",{className:"text-white font-bold text-lg",children:h.enrollmentCount})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-dark-muted text-xs uppercase tracking-wider",children:"Revenue"}),o.jsxs("p",{className:"text-white font-bold text-lg",children:["$",((g=h.revenue)==null?void 0:g.toFixed(2))||0]})]})]})]})]},h._id)})})]}),(r==null?void 0:r.recentEnrollments)&&r.recentEnrollments.length>0&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Recent Enrollments"}),o.jsx("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-dark-layer2",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-dark-muted font-semibold",children:"Student"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-semibold",children:"Course"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-semibold",children:"Date"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-semibold",children:"Action"})]})}),o.jsx("tbody",{children:r.recentEnrollments.slice(0,5).map((h,g)=>{var m,y,x,w;return o.jsxs("tr",{className:"border-t border-dark-layer2 hover:bg-dark-layer2/50 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((y=(m=h.userId)==null?void 0:m.name)==null?void 0:y.charAt(0))||"U"}),o.jsx("span",{className:"text-white font-medium",children:(x=h.userId)==null?void 0:x.name})]})}),o.jsx("td",{className:"p-4 text-white",children:((w=h.courseId)==null?void 0:w.title)||"Unknown Course"}),o.jsx("td",{className:"p-4 text-dark-muted",children:new Date(h.enrolledAt).toLocaleDateString()}),o.jsx("td",{className:"p-4",children:o.jsx("button",{className:"text-brand-primary hover:text-brand-hover text-sm font-medium",children:"View Details"})})]},g)})})]})})]})]})},LH=()=>{var h;const[r,e]=S.useState(null),[t,n]=S.useState(null),[s,i]=S.useState({}),[a,l]=S.useState(!0),[A,c]=S.useState("overview");S.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:g}=await Ce.get("/instructor-admin/dashboard");e(g)}catch(g){console.error("Error fetching dashboard:",g)}finally{l(!1)}},d=async g=>{try{await Ce.put(`/instructor-admin/courses/${g}/settings`,s[g]),alert("Course settings updated successfully!")}catch(m){console.error("Error updating settings:",m),alert("Failed to update settings")}},u=(g,m,y)=>{i(x=>({...x,[g]:{...x[g]||{},[m]:y}}))};return a?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading admin dashboard..."}):r?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Course Launcher Admin Panel"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:o.jsx(Kt,{size:24,className:"text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Courses"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalCourses})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:o.jsx(Zt,{size:24,className:"text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Students"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalStudents})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:o.jsx(Cn,{size:24,className:"text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Revenue"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",r.totalRevenue]})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-orange-500/20 rounded-full",children:o.jsx(Qn,{size:24,className:"text-orange-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Videos"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalVideos})]})]})})]}),o.jsxs("div",{className:"flex border-b border-dark-layer2",children:[o.jsx("button",{onClick:()=>c("overview"),className:`px-6 py-3 font-medium transition-colors ${A==="overview"?"text-brand-primary border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:"Overview"}),o.jsx("button",{onClick:()=>c("courses"),className:`px-6 py-3 font-medium transition-colors ${A==="courses"?"text-brand-primary border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:"Course Management"}),o.jsx("button",{onClick:()=>c("students"),className:`px-6 py-3 font-medium transition-colors ${A==="students"?"text-brand-primary border-b-2 border-brand-primary":"text-dark-muted hover:text-white"}`,children:"Students"})]}),A==="overview"&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.courses.map(g=>o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:g.title}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-dark-muted",children:"Enrollments:"}),o.jsx("span",{className:"text-white font-semibold",children:g.enrollmentCount})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-dark-muted",children:"Revenue:"}),o.jsxs("span",{className:"text-white font-semibold",children:["$",g.revenue]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-dark-muted",children:"Rating:"}),o.jsxs("span",{className:"text-white font-semibold",children:[g.rating.toFixed(1)," "]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-dark-muted",children:"Videos:"}),o.jsx("span",{className:"text-white font-semibold",children:g.videoCount})]})]})]},g._id))}),A==="courses"&&o.jsx("div",{className:"space-y-6",children:r.courses.map(g=>{const m=s[g._id]||g.instructorAdminSettings||{};return o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:g.title}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-md font-semibold text-white",children:"Video Player Tab Controls"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Enable or disable tabs in the video player for this course:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:m.enableOverview!==!1,onChange:y=>u(g._id,"enableOverview",y.target.checked),className:"w-5 h-5"}),o.jsx("span",{className:"text-white",children:"Overview Tab"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:m.enableQA!==!1,onChange:y=>u(g._id,"enableQA",y.target.checked),className:"w-5 h-5"}),o.jsx("span",{className:"text-white",children:"Q&A Tab"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:m.enableSummary!==!1,onChange:y=>u(g._id,"enableSummary",y.target.checked),className:"w-5 h-5"}),o.jsx("span",{className:"text-white",children:"Summary Tab"})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:m.enableNotes!==!1,onChange:y=>u(g._id,"enableNotes",y.target.checked),className:"w-5 h-5"}),o.jsx("span",{className:"text-white",children:"Notes Tab"})]})]}),o.jsx("button",{onClick:()=>d(g._id),className:"bg-brand-primary hover:bg-brand-hover text-white px-4 py-2 rounded transition-colors",children:"Save Settings"})]})]},g._id)})}),A==="students"&&o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Enrollments"}),o.jsx("div",{className:"space-y-3",children:(h=r.recentEnrollments)==null?void 0:h.slice(0,10).map(g=>{var m,y,x,w;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-layer2 rounded",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:(y=(m=g.userId)==null?void 0:m.name)==null?void 0:y.charAt(0)})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:(x=g.userId)==null?void 0:x.name}),o.jsx("p",{className:"text-sm text-dark-muted",children:(w=g.userId)==null?void 0:w.email})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-sm text-dark-muted",children:new Date(g.enrolledAt).toLocaleDateString()})})]},g._id)})})]})]}):o.jsx("div",{className:"flex flex-col items-center justify-center mt-20 text-white",children:o.jsxs("div",{className:"bg-red-500/10 p-6 rounded-lg border border-red-500/20 text-center max-w-md",children:[o.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"Dashboard Unavailable"}),o.jsx("p",{className:"text-dark-muted mb-4",children:"We couldn't load your instructor stats. This might be because your account is pending approval or there's a connection issue."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-dark-layer2 hover:bg-dark-layer1 px-4 py-2 rounded text-sm transition-colors",children:"Retry Connection"}),o.jsx("p",{className:"text-xs text-dark-muted mt-4",children:"If this persists, please contact support."})]})})},SH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),s=ii();S.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:m}=await Ce.get("/instructor-admin/courses");e(m)}catch(m){console.error("Error fetching courses:",m)}finally{n(!1)}},a=async m=>{if(window.confirm("Are you sure you want to delete this course?"))try{await Ce.delete(`/admin/courses/${m}`),await i(),alert("Course deleted successfully!")}catch(y){console.error("Error deleting course:",y),alert("Failed to delete course")}},[l,A]=S.useState(!1),[c,f]=S.useState(null),[d,u]=S.useState(""),h=m=>{f(m),u(""),A(!0)},g=async()=>{try{await Ce.post(`/courses/${c._id}/sponsor-request`,{sponsorshipReason:d}),await i(),A(!1),alert("Sponsorship requested successfully!")}catch(m){console.error("Error requesting sponsorship:",m),alert("Failed to request sponsorship")}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading your courses..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Courses"}),o.jsxs("button",{onClick:()=>s("/instructor/upload"),className:"flex items-center gap-2 px-4 py-2 bg-brand-primary hover:bg-brand-hover text-white rounded transition-colors",children:[o.jsx(xs,{size:18}),"Create New Course"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(m=>{var y,x,w,v,C,N;return o.jsxs("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 overflow-hidden hover:border-brand-primary transition-colors",children:[o.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-purple-500 to-pink-500",children:[m.thumbnail?o.jsx("img",{src:m.thumbnail,alt:m.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(Kt,{size:48,className:"text-white/50"})}),o.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 items-end",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.approvalStatus==="approved"?"bg-green-500/20 text-green-400":m.approvalStatus==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:m.approvalStatus}),((y=m.sponsorship)==null?void 0:y.isSponsored)&&o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-500/20 text-purple-400",children:"Sponsored"})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-1",children:m.title}),o.jsx("p",{className:"text-sm text-dark-muted mb-4 line-clamp-2",children:m.description}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1 text-dark-muted",children:[o.jsx(Zt,{size:14}),o.jsx("span",{children:m.enrollmentCount||0})]}),o.jsxs("div",{className:"flex items-center gap-1 text-dark-muted",children:[o.jsx(is,{size:14}),o.jsx("span",{children:m.rating?m.rating.toFixed(1):"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-1 text-dark-muted",children:[o.jsx(Kt,{size:14}),o.jsxs("span",{children:[((x=m.videos)==null?void 0:x.length)||0," videos"]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>s(`/course/${m._id}`),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-brand-primary hover:bg-brand-hover text-white rounded transition-colors",children:[o.jsx(Im,{size:16}),"View"]}),o.jsx("button",{onClick:()=>s(`/instructor/edit-course/${m._id}`),className:"p-2 bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/30 transition-colors",children:o.jsx(Wk,{size:16})}),o.jsx("button",{onClick:()=>a(m._id),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",children:o.jsx(os,{size:16})})]}),!((w=m.sponsorship)!=null&&w.isSponsored)&&o.jsx("button",{onClick:()=>h(m),disabled:((v=m.sponsorship)==null?void 0:v.requestStatus)==="pending",className:`w-full py-2 rounded text-sm font-medium transition-colors ${((C=m.sponsorship)==null?void 0:C.requestStatus)==="pending"?"bg-yellow-500/10 text-yellow-500 cursor-not-allowed":"bg-dark-layer2 hover:bg-dark-layer1 text-white border border-dark-layer2"}`,children:((N=m.sponsorship)==null?void 0:N.requestStatus)==="pending"?"Sponsorship Pending":"Request Sponsorship"})]})]})]},m._id)})}),r.length===0&&o.jsxs("div",{className:"text-center py-20",children:[o.jsx(Kt,{size:64,className:"mx-auto text-dark-muted mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No courses yet"}),o.jsx("p",{className:"text-dark-muted mb-6",children:"Create your first course to start teaching!"}),o.jsx("button",{onClick:()=>s("/instructor/upload"),className:"px-6 py-3 bg-brand-primary hover:bg-brand-hover text-white rounded transition-colors",children:"Create Your First Course"})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 p-6 max-w-md w-full",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Request Sponsorship"}),o.jsxs("p",{className:"text-dark-muted mb-4",children:["Course: ",c==null?void 0:c.title]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Reason for Sponsorship"}),o.jsx("textarea",{value:d,onChange:m=>u(m.target.value),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded-lg p-3 text-white focus:border-brand-primary focus:outline-none",rows:4,placeholder:"Why should this course be sponsored? (e.g., High quality content, popular topic)"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:g,className:"flex-1 bg-brand-primary hover:bg-brand-hover text-white py-2 rounded transition-colors",children:"Submit Request"}),o.jsx("button",{onClick:()=>A(!1),className:"flex-1 bg-dark-layer2 hover:bg-dark-layer1 text-white py-2 rounded transition-colors",children:"Cancel"})]})]})})]})},EH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(""),[a,l]=S.useState("all"),[A,c]=S.useState([]);S.useEffect(()=>{f(),d()},[]);const f=async()=>{try{const{data:h}=await Ce.get("/instructor-admin/students");e(h)}catch(h){console.error("Error fetching students:",h)}finally{n(!1)}},d=async()=>{try{const{data:h}=await Ce.get("/instructor-admin/courses");c(h)}catch(h){console.error("Error fetching courses:",h)}},u=r.filter(h=>{var x,w,v;const g=h.studentId||h.userId,m=((x=g==null?void 0:g.name)==null?void 0:x.toLowerCase().includes(s.toLowerCase()))||((w=g==null?void 0:g.email)==null?void 0:w.toLowerCase().includes(s.toLowerCase())),y=a==="all"||((v=h.courseId)==null?void 0:v._id)===a;return m&&y});return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading students..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Students"}),o.jsxs("div",{className:"flex items-center gap-2 text-dark-muted",children:[o.jsx(Zt,{size:20}),o.jsxs("span",{children:[u.length," students"]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-muted",size:20}),o.jsx("input",{type:"text",placeholder:"Search students...",value:s,onChange:h=>i(h.target.value),className:"w-full bg-dark-layer1 border border-dark-layer2 rounded-lg py-3 pl-10 pr-4 text-white focus:border-brand-primary focus:outline-none"})]}),o.jsxs("select",{value:a,onChange:h=>l(h.target.value),className:"bg-dark-layer1 border border-dark-layer2 rounded-lg px-4 py-3 text-white focus:border-brand-primary focus:outline-none",children:[o.jsx("option",{value:"all",children:"All Courses"}),A.map(h=>o.jsx("option",{value:h._id,children:h.title},h._id))]})]}),o.jsx("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-dark-layer2",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Student"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Course"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Progress"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Enrolled Date"})]})}),o.jsx("tbody",{children:u.map(h=>{var g,m,y,x,w;return o.jsxs("tr",{className:"border-t border-dark-layer2 hover:bg-dark-layer2 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:((m=(g=h.studentId||h.userId)==null?void 0:g.name)==null?void 0:m.charAt(0).toUpperCase())||"?"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:((y=h.studentId||h.userId)==null?void 0:y.name)||"Unknown"}),o.jsx("p",{className:"text-sm text-dark-muted",children:((x=h.studentId||h.userId)==null?void 0:x.email)||"N/A"})]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-white",children:((w=h.courseId)==null?void 0:w.title)||"N/A"})}),o.jsx("td",{className:"p-4",children:o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"flex-1 h-2 bg-dark-layer2 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-primary",style:{width:`${h.progress||0}%`}})}),o.jsxs("span",{className:"text-xs text-dark-muted",children:[h.progress||0,"%"]})]})})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-white text-sm",children:new Date(h.enrolledAt).toLocaleDateString()})})]},h._id)})})]})}),u.length===0&&o.jsx("div",{className:"text-center text-dark-muted py-10",children:"No students found matching your criteria."})]})},NH=()=>{var i,a,l,A,c;const[r,e]=S.useState(null),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:f}=await Ce.get("/instructor-admin/earnings");e(f)}catch(f){console.error("Error fetching earnings:",f)}finally{n(!1)}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading earnings..."}):r?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Earnings"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:o.jsx(Cn,{size:24,className:"text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Earnings"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",((i=r.total)==null?void 0:i.toFixed(2))||"0.00"]})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:o.jsx(Pu,{size:24,className:"text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Available"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",((a=r.available)==null?void 0:a.toFixed(2))||"0.00"]})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-full",children:o.jsx(sa,{size:24,className:"text-yellow-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Pending"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",((l=r.pending)==null?void 0:l.toFixed(2))||"0.00"]})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:o.jsx(xf,{size:24,className:"text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Withdrawn"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",((A=r.withdrawn)==null?void 0:A.toFixed(2))||"0.00"]})]})]})})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Kt,{size:20,className:"text-brand-primary"}),"Earnings by Course"]}),o.jsx("div",{className:"space-y-3",children:(c=r.courseBreakdown)==null?void 0:c.map(f=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-layer2 rounded",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:f.courseTitle}),o.jsxs("p",{className:"text-sm text-dark-muted",children:[f.enrollments," enrollments"]})]}),o.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",f.revenue.toFixed(2)]})]},f.courseId))}),(!r.courseBreakdown||r.courseBreakdown.length===0)&&o.jsx("div",{className:"text-center text-dark-muted py-10",children:"No earnings yet. Create and publish courses to start earning!"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{disabled:!r.available||r.available<=0,className:`flex items-center gap-2 px-6 py-3 rounded transition-colors ${r.available&&r.available>0?"bg-brand-primary hover:bg-brand-hover text-white":"bg-dark-layer2 text-dark-muted cursor-not-allowed"}`,children:[o.jsx(xf,{size:18}),"Withdraw Earnings"]})})]}):o.jsx("div",{className:"text-center mt-10 text-white",children:"Error loading earnings"})},BH=()=>{var i;const[r,e]=S.useState(null),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:a}=await Ce.get("/instructor-admin/analytics");e(a)}catch(a){console.error("Error fetching analytics:",a)}finally{n(!1)}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading analytics..."}):r?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Analytics"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:o.jsx(Zt,{size:24,className:"text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Enrollments"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalEnrollments||0})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:o.jsx(sa,{size:24,className:"text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Avg. Rating"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[r.averageRating?r.averageRating.toFixed(1):"N/A"," "]})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:o.jsx(Kt,{size:24,className:"text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Active Courses"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.activeCourses||0})]})]})})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(sa,{size:20,className:"text-brand-primary"}),"Enrollment Trend"]}),r.enrollmentTrend&&r.enrollmentTrend.length>0?o.jsx("div",{className:"space-y-2",children:r.enrollmentTrend.map((a,l)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-layer2 rounded",children:[o.jsx("span",{className:"text-dark-muted",children:a.month}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-32 h-2 bg-dark-layer1 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-primary",style:{width:`${a.enrollments/Math.max(...r.enrollmentTrend.map(A=>A.enrollments))*100}%`}})}),o.jsx("span",{className:"text-white font-semibold w-8 text-right",children:a.enrollments})]})]},l))}):o.jsx("p",{className:"text-dark-muted text-center py-4",children:"No data available yet"})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Kt,{size:20,className:"text-brand-primary"}),"Top Performing Courses"]}),o.jsx("div",{className:"grid gap-3",children:(i=r.topCourses)==null?void 0:i.map((a,l)=>{var A,c;return o.jsxs("div",{className:"p-4 bg-dark-layer2 rounded",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"text-white font-medium",children:a.title}),o.jsxs("span",{className:"px-2 py-1 bg-brand-primary/20 text-brand-primary text-xs rounded",children:["#",l+1]})]}),o.jsxs("div",{className:"flex items-center gap-6 text-sm text-dark-muted",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zt,{size:14}),o.jsxs("span",{children:[a.enrollments," students"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Cn,{size:14}),o.jsxs("span",{children:["$",((A=a.revenue)==null?void 0:A.toFixed(2))||"0.00"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:((c=a.rating)==null?void 0:c.toFixed(1))||"N/A"})]})]})]},l)})}),(!r.topCourses||r.topCourses.length===0)&&o.jsx("p",{className:"text-dark-muted text-center py-4",children:"No courses yet"})]})]}):o.jsx("div",{className:"text-center mt-10 text-white",children:"Error loading analytics"})},kH=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState("all"),[a,l]=S.useState("all"),[A,c]=S.useState([]);S.useEffect(()=>{f(),d()},[]);const f=async()=>{try{const{data:g}=await Ce.get("/instructor-admin/courses"),m=[];g.forEach(y=>{y.reviews&&y.reviews.length>0&&y.reviews.forEach(x=>{m.push({...x,courseTitle:y.title,courseId:y._id})})}),e(m)}catch(g){console.error("Error fetching reviews:",g)}finally{n(!1)}},d=async()=>{try{const{data:g}=await Ce.get("/instructor-admin/courses");c(g)}catch(g){console.error("Error fetching courses:",g)}},u=r.filter(g=>{const m=s==="all"||g.courseId===s,y=a==="all"||g.rating===parseInt(a);return m&&y}),h=r.length>0?(r.reduce((g,m)=>g+m.rating,0)/r.length).toFixed(1):0;return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading reviews..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Course Reviews"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(is,{size:24,className:"text-yellow-500",fill:"currentColor"}),o.jsx("span",{className:"text-2xl font-bold text-white",children:h}),o.jsxs("span",{className:"text-dark-muted",children:["(",r.length," reviews)"]})]})]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:[5,4,3,2,1].map(g=>{const m=r.filter(x=>x.rating===g).length,y=r.length>0?m/r.length*100:0;return o.jsxs("div",{className:"bg-dark-layer1 p-4 rounded-lg border border-dark-layer2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(is,{size:16,className:"text-yellow-500",fill:"currentColor"}),o.jsx("span",{className:"text-white font-bold",children:g})]}),o.jsx("div",{className:"w-full h-2 bg-dark-layer2 rounded-full overflow-hidden mb-1",children:o.jsx("div",{className:"h-full bg-yellow-500",style:{width:`${y}%`}})}),o.jsxs("p",{className:"text-xs text-dark-muted",children:[m," reviews"]})]},g)})}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("select",{value:s,onChange:g=>i(g.target.value),className:"bg-dark-layer1 border border-dark-layer2 rounded-lg px-4 py-2 text-white focus:border-brand-primary focus:outline-none",children:[o.jsx("option",{value:"all",children:"All Courses"}),A.map(g=>o.jsx("option",{value:g._id,children:g.title},g._id))]}),o.jsxs("select",{value:a,onChange:g=>l(g.target.value),className:"bg-dark-layer1 border border-dark-layer2 rounded-lg px-4 py-2 text-white focus:border-brand-primary focus:outline-none",children:[o.jsx("option",{value:"all",children:"All Ratings"}),o.jsx("option",{value:"5",children:"5 Stars"}),o.jsx("option",{value:"4",children:"4 Stars"}),o.jsx("option",{value:"3",children:"3 Stars"}),o.jsx("option",{value:"2",children:"2 Stars"}),o.jsx("option",{value:"1",children:"1 Star"})]})]}),o.jsx("div",{className:"space-y-4",children:u.map((g,m)=>{var y;return o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:o.jsx(ji,{size:24,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-bold",children:((y=g.user)==null?void 0:y.name)||"Anonymous"}),o.jsx("p",{className:"text-sm text-dark-muted",children:g.courseTitle}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((x,w)=>o.jsx(is,{size:16,className:w<g.rating?"text-yellow-500":"text-dark-muted",fill:w<g.rating?"currentColor":"none"},w))}),o.jsxs("span",{className:"text-xs text-dark-muted flex items-center gap-1",children:[o.jsx(jn,{size:12}),new Date(g.createdAt).toLocaleDateString()]})]})]})]})}),o.jsx("p",{className:"text-white mb-3",children:g.comment}),g.helpful&&o.jsxs("div",{className:"flex items-center gap-4 text-sm text-dark-muted",children:[o.jsxs("button",{className:"flex items-center gap-1 hover:text-white transition-colors",children:[o.jsx(qk,{size:16}),o.jsxs("span",{children:["Helpful (",g.helpful,")"]})]}),o.jsxs("button",{className:"flex items-center gap-1 hover:text-white transition-colors",children:[o.jsx(Ou,{size:16}),o.jsx("span",{children:"Reply"})]})]})]},m)})}),u.length===0&&o.jsx("div",{className:"text-center text-dark-muted py-10",children:"No reviews found matching your criteria."})]})},jH=()=>{const[r,e]=S.useState({name:"",email:"",headline:"",bio:"",website:"",notifications:{emailOnEnrollment:!0,emailOnReview:!0,emailOnQuestion:!0,weeklyReport:!0},privacy:{showEmail:!1,showProfileToStudents:!0}}),[t,n]=S.useState(!1),s=()=>{n(!0),alert("Settings saved successfully!"),setTimeout(()=>n(!1),3e3)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Instructor Settings"}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(ji,{size:20,className:"text-brand-primary"}),"Profile Settings"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Display Name"}),o.jsx("input",{type:"text",value:r.name,onChange:i=>e({...r,name:i.target.value}),placeholder:"Your name",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Email"}),o.jsx("input",{type:"email",value:r.email,onChange:i=>e({...r,email:i.target.value}),placeholder:"your.email@example.com",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Professional Headline"}),o.jsx("input",{type:"text",value:r.headline,onChange:i=>e({...r,headline:i.target.value}),placeholder:"e.g., Web Development Expert | 10+ Years Experience",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Bio"}),o.jsx("textarea",{value:r.bio,onChange:i=>e({...r,bio:i.target.value}),rows:4,placeholder:"Tell students about yourself...",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Website"}),o.jsx("input",{type:"url",value:r.website,onChange:i=>e({...r,website:i.target.value}),placeholder:"https://yourwebsite.com",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(ko,{size:20,className:"text-brand-primary"}),"Notification Preferences"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"New Enrollments"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Get notified when students enroll in your courses"})]}),o.jsx("input",{type:"checkbox",checked:r.notifications.emailOnEnrollment,onChange:i=>e({...r,notifications:{...r.notifications,emailOnEnrollment:i.target.checked}}),className:"w-5 h-5"})]}),o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"New Reviews"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Get notified when students review your courses"})]}),o.jsx("input",{type:"checkbox",checked:r.notifications.emailOnReview,onChange:i=>e({...r,notifications:{...r.notifications,emailOnReview:i.target.checked}}),className:"w-5 h-5"})]}),o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Q&A Questions"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Get notified when students ask questions"})]}),o.jsx("input",{type:"checkbox",checked:r.notifications.emailOnQuestion,onChange:i=>e({...r,notifications:{...r.notifications,emailOnQuestion:i.target.checked}}),className:"w-5 h-5"})]}),o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Weekly Performance Report"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Receive weekly summary of your course performance"})]}),o.jsx("input",{type:"checkbox",checked:r.notifications.weeklyReport,onChange:i=>e({...r,notifications:{...r.notifications,weeklyReport:i.target.checked}}),className:"w-5 h-5"})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(wf,{size:20,className:"text-brand-primary"}),"Privacy Settings"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Show Email to Students"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Allow students to see your email address"})]}),o.jsx("input",{type:"checkbox",checked:r.privacy.showEmail,onChange:i=>e({...r,privacy:{...r.privacy,showEmail:i.target.checked}}),className:"w-5 h-5"})]}),o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Public Profile"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Make your instructor profile visible to all students"})]}),o.jsx("input",{type:"checkbox",checked:r.privacy.showProfileToStudents,onChange:i=>e({...r,privacy:{...r.privacy,showProfileToStudents:i.target.checked}}),className:"w-5 h-5"})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-6 py-3 rounded transition-colors ${t?"bg-green-500 text-white":"bg-brand-primary hover:bg-brand-hover text-white"}`,children:[o.jsx(Ip,{size:18}),t?"Saved!":"Save Settings"]})})]})},IH=()=>{const{id:r}=dh(),e=ii(),[t,n]=S.useState(!0),[s,i]=S.useState(!1),[a,l]=S.useState({title:"",description:"",category:"",level:"beginner",price:0,thumbnail:null,isPublished:!1}),[A,c]=S.useState([]),[f,d]=S.useState("");S.useEffect(()=>{u()},[r]);const u=async()=>{try{const{data:y}=await Ce.get(`/courses/${r}`);l({title:y.title,description:y.description,category:y.category,level:y.level,price:y.price,thumbnail:null,isPublished:y.isPublished}),d(y.thumbnail),c(y.videos.map(x=>({...x,file:null,notePdf:null}))),n(!1)}catch(y){console.error("Error fetching course:",y),alert("Failed to load course details"),e("/instructor/courses")}},h=y=>{const{name:x,value:w,type:v,checked:C}=y.target;l(N=>({...N,[x]:v==="checkbox"?C:w}))},g=y=>{l(x=>({...x,thumbnail:y.target.files[0]}))},m=async y=>{y.preventDefault(),i(!0);try{const x=new FormData;x.append("title",a.title),x.append("description",a.description),x.append("category",a.category),x.append("level",a.level),x.append("price",a.price),x.append("isPublished",a.isPublished),a.thumbnail&&x.append("thumbnail",a.thumbnail);const{data:w}=await Ce.put(`/courses/${r}`,x,{headers:{"Content-Type":"multipart/form-data"}});alert("Course updated successfully!"),e("/instructor/courses")}catch(x){console.error("Error updating course:",x),alert("Failed to update course")}finally{i(!1)}};return t?o.jsx("div",{className:"text-white text-center mt-10",children:"Loading..."}):o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Edit Course"}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Course Settings"}),o.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-dark-layer2 p-4 rounded-lg border border-dark-layer2",children:[o.jsx("input",{type:"checkbox",name:"isPublished",id:"isPublished",checked:a.isPublished,onChange:h,className:"w-5 h-5 rounded border-dark-muted text-brand-primary focus:ring-brand-primary"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"isPublished",className:"font-bold text-white",children:"Publish Course"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Check this to make the course visible to students (pending approval)."})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Course Title"}),o.jsx("input",{type:"text",name:"title",value:a.title,onChange:h,required:!0,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Description"}),o.jsx("textarea",{name:"description",value:a.description,onChange:h,required:!0,rows:4,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-3 text-white"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Category"}),o.jsx("input",{type:"text",name:"category",value:a.category,onChange:h,required:!0,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Level"}),o.jsxs("select",{name:"level",value:a.level,onChange:h,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-3 text-white",children:[o.jsx("option",{value:"beginner",children:"Beginner"}),o.jsx("option",{value:"intermediate",children:"Intermediate"}),o.jsx("option",{value:"advanced",children:"Advanced"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Price ($)"}),o.jsx("input",{type:"number",name:"price",value:a.price,onChange:h,required:!0,min:"0",className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-3 text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Thumbnail"}),f&&o.jsx("div",{className:"mb-2 w-32 h-20 bg-dark-layer2 rounded overflow-hidden",children:o.jsx("img",{src:f,alt:"Current",className:"w-full h-full object-cover"})}),o.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-3 text-white"}),o.jsx("p",{className:"text-xs text-dark-muted mt-1",children:"Leave empty to keep current thumbnail"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{type:"button",onClick:()=>e("/instructor/courses"),className:"px-6 py-3 bg-dark-layer2 text-white rounded hover:bg-dark-layer1 transition-colors",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:s,className:`flex items-center gap-2 px-6 py-3 rounded transition-colors ${s?"bg-dark-layer2 text-dark-muted cursor-not-allowed":"bg-brand-primary hover:bg-brand-hover text-white"}`,children:[o.jsx(Ip,{size:18}),s?"Saving...":"Save Changes"]})]})]})]})};function sw(r){return[].concat(r)}function Cv(r){return r.startsWith(":")}function rI(r){return Hp(r)&&(r==="*"||r.length>1&&":>~.+*".includes(r.slice(0,1))||aI(r))}function nI(r,e){return(Hp(e)||typeof e=="number")&&!iI(r)&&!Cv(r)&&!sI(r)}function sI(r){return r.startsWith("@media")}function TH(r){return r==="."}function iI(r){return r==="--"}function Hp(r){return r+""===r}function aI(r){return Hp(r)&&(r.startsWith("&")||Cv(r))}function $m(r,e=""){return r.filter(Boolean).join(e)}function oI(r,e){let t=0;if(e.length===0)return t.toString();for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);t=(t<<5)-t+s,t=t&t}return`${r??"cl"}_${t.toString(36)}`}function MH(r,e){return r==="content"?`"${e}"`:e}function DH(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function R3(r,e){return`${r}:${e}`}function FH(r){return r?`.${r}`:""}function UH(r,e){return r?`${r}
${e}`:e}var lI=class AI{constructor(e,t,n,s){this.sheet=e,this.property=t,this.value=n,this.selector=s,this.property=t,this.value=n,this.joined=R3(t,n);const i=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:oI(this.sheet.name,this.joined),this.key=$m([this.joined,i,this.hash])}toString(){let e=iw(this.selector.preconditions,{right:this.hash});return e=iw(this.selector.postconditions,{left:e}),`${e} {${AI.genRule(this.property,this.value)}}`}static genRule(e,t){const n=DH(e);return R3(n,MH(e,t))+";"}};function iw(r,{left:e="",right:t=""}={}){const n=r.reduce((s,i)=>Cv(i)?s+i:aI(i)?s+i.slice(1):$m([s,i]," "),e);return $m([n,FH(t)]," ")}var RH=class $g{constructor(e,t=null,{preconditions:n,postconditions:s}={}){this.sheet=e,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=n?sw(n):[],this.postconditions=s?sw(s):[],this.setScope(t)}setScope(e){return e?(this.scopeClassName||(this.scopeName=e,this.scopeClassName=oI(this.sheet.name,e+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(e){return new $g(this.sheet,e,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(e){return new $g(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(e)})}addPostcondition(e){return new $g(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(e)})}createRule(e,t){return new lI(this.sheet,e,t,this)}},_H=class{constructor(r,e){this.name=r,this.rootNode=e,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${r}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(r){this.style=UH(this.style,r)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){if(typeof document>"u"||this.isApplied()||this.rootNode===null)return this.styleTag;const r=document.createElement("style");return r.type="text/css",r.id=this.id,(this.rootNode??document.head).appendChild(r),r}addRule(r){const e=this.storedClasses[r.key];return Hp(e)?e:(this.storedClasses[r.key]=r.hash,this.storedStyles[r.hash]=[r.property,r.value],this.append(r.toString()),r.hash)}};function Lv(r,e){for(const t in r)e(t.trim(),r[t])}function zt(...r){const e=r.reduce((t,n)=>(n instanceof Set?t.push(...n):typeof n=="string"?t.push(n):Array.isArray(n)?t.push(zt(...n)):typeof n=="object"&&Object.entries(n).forEach(([s,i])=>{i&&t.push(s)}),t),[]);return $m(e," ").trim()}function PH(r,e){const t=new _H(r,e);return{create:n,getStyle:t.getStyle.bind(t),isApplied:t.isApplied.bind(t)};function n(s){const i={};return cI(t,s,new RH(t)).forEach(([l,A,c])=>{zp(t,A,c).forEach(f=>{a(l,f)})}),t.apply(),i;function a(l,A){i[l]=i[l]??new Set,i[l].add(A)}}}function cI(r,e,t){const n=[];return Lv(e,(s,i)=>{if(rI(s))return cI(r,i,t.addPrecondition(s)).forEach(a=>n.push(a));n.push([s,e[s],t.addScope(s)])}),n}function zp(r,e,t){const n=new Set;return Lv(e,(s,i)=>{let a=[];if(rI(s))a=zp(r,i,t.addPostcondition(s));else if(TH(s))a=sw(i);else if(sI(s))a=OH(r,i,s,t);else if(iI(s))a=QH(r,i,t);else if(nI(s,i)){const l=t.createRule(s,i);r.addRule(l),n.add(l.hash)}return fI(a,n)}),n}function fI(r,e){return r.forEach(t=>e.add(t)),e}function QH(r,e,t){const n=new Set,s=[];if(Lv(e,(i,a)=>{if(nI(i,a)){s.push(lI.genRule(i,a));return}const l=zp(r,a??{},t);fI(l,n)}),!t.scopeClassName)return n;if(s.length){const i=s.join(" ");r.append(`${iw(t.preconditions,{right:t.scopeClassName})} {${i}}`)}return n.add(t.scopeClassName),n}function OH(r,e,t,n){r.append(t+" {");const s=zp(r,e,n);return r.append("}"),s}function Sr(){return Sr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Sr.apply(this,arguments)}function HH(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,aw(r,e)}function aw(r,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aw(r,e)}function dI(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function zH(r,e){if(r){if(typeof r=="string")return _3(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _3(r,e)}}function _3(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function GH(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=zH(r))||e){t&&(r=t);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt;(function(r){r.hiddenOnSearch="epr-hidden-on-search",r.searchActive="epr-search-active",r.hidden="epr-hidden",r.visible="epr-visible",r.active="epr-active",r.emoji="epr-emoji",r.category="epr-emoji-category",r.label="epr-emoji-category-label",r.categoryContent="epr-emoji-category-content",r.emojiHasVariations="epr-emoji-has-variations",r.scrollBody="epr-body",r.emojiList="epr-emoji-list",r.external="__EmojiPicker__",r.emojiPicker="EmojiPickerReact",r.open="epr-open",r.vertical="epr-vertical",r.horizontal="epr-horizontal",r.variationPicker="epr-emoji-variation-picker",r.darkTheme="epr-dark-theme",r.autoTheme="epr-auto-theme"})(Vt||(Vt={}));function Ti(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.map(function(n){return"."+n}).join("")}var Ir=PH("epr",null),Vg={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},Sv=Ir.create({hidden:Sr({".":Vt.hidden},Vg)}),KH=S.memo(function(){return S.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:Ir.getStyle()}})}),GA=Ir.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:Sr({".":Vt.hiddenOnSearch},Vg)},":has(input:placeholder-shown)":{visibleOnSearchOnly:Vg}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:Sr({".":"epr-visible-on-search-only"},Vg)}});function _l(r,e){var t,n;return{".epr-dark-theme":(t={},t[r]=e,t),".epr-auto-theme":(n={},n[r]={"@media (prefers-color-scheme: dark)":e},n)}}function uI(r,e){var t,n,s=(t=r.customEmojis)!=null?t:[],i=(n=e.customEmojis)!=null?n:[];return r.open===e.open&&r.emojiVersion===e.emojiVersion&&r.reactionsDefaultOpen===e.reactionsDefaultOpen&&r.searchPlaceHolder===e.searchPlaceHolder&&r.searchPlaceholder===e.searchPlaceholder&&r.searchClearButtonLabel===e.searchClearButtonLabel&&r.defaultSkinTone===e.defaultSkinTone&&r.skinTonesDisabled===e.skinTonesDisabled&&r.autoFocusSearch===e.autoFocusSearch&&r.emojiStyle===e.emojiStyle&&r.theme===e.theme&&r.suggestedEmojisMode===e.suggestedEmojisMode&&r.lazyLoadEmojis===e.lazyLoadEmojis&&r.className===e.className&&r.height===e.height&&r.width===e.width&&r.style===e.style&&r.searchDisabled===e.searchDisabled&&r.skinTonePickerLocation===e.skinTonePickerLocation&&s.length===i.length}var $H=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"],fu={};setTimeout(function(){Vp.reduce(function(r,e){return hI(e),r},fu)});function hI(r){var e=xh(r).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("");e.forEach(function(t){var n;fu[t]=(n=fu[t])!=null?n:{},fu[t][Kn(r)]=r})}function P3(r,e){e===void 0&&(e=0);var t=S.useState(r),n=t[0],s=t[1],i=S.useRef(null);function a(l){return new Promise(function(A){var c;i.current&&clearTimeout(i.current),i.current=(c=window)==null?void 0:c.setTimeout(function(){s(l),A(l)},e)})}return[n,a]}function VH(){var r=Vz();return function(e){return r.has(e)}}function gI(){var r=S.useRef({}),e=$z();return S.useMemo(function(){var t=parseFloat(""+e);return!e||Number.isNaN(t)?r.current:Vp.reduce(function(n,s){return WH(s,t)&&(n[Kn(s)]=!0),n},r.current)},[e])}function YH(){var r=gI(),e=VH();return function(n){var s=kv(Kn(n));return!!(r[s]||e(s))}}function WH(r,e){return yz(r)>e}function JH(r){S.useEffect(function(){r(!0)},[r])}var Wu;(function(r){r.RECENT="recent",r.FREQUENT="frequent"})(Wu||(Wu={}));var Zs;(function(r){r.NATIVE="native",r.APPLE="apple",r.TWITTER="twitter",r.GOOGLE="google",r.FACEBOOK="facebook"})(Zs||(Zs={}));var Ju;(function(r){r.DARK="dark",r.LIGHT="light",r.AUTO="auto"})(Ju||(Ju={}));var qi;(function(r){r.NEUTRAL="neutral",r.LIGHT="1f3fb",r.MEDIUM_LIGHT="1f3fc",r.MEDIUM="1f3fd",r.MEDIUM_DARK="1f3fe",r.DARK="1f3ff"})(qi||(qi={}));var Qt;(function(r){r.SUGGESTED="suggested",r.CUSTOM="custom",r.SMILEYS_PEOPLE="smileys_people",r.ANIMALS_NATURE="animals_nature",r.FOOD_DRINK="food_drink",r.TRAVEL_PLACES="travel_places",r.ACTIVITIES="activities",r.OBJECTS="objects",r.SYMBOLS="symbols",r.FLAGS="flags"})(Qt||(Qt={}));var Nf;(function(r){r.SEARCH="SEARCH",r.PREVIEW="PREVIEW"})(Nf||(Nf={}));function qH(r){var e=r.children,t=gI(),n=Fz(),s=Kz(),i=S.useRef(fu),a=S.useRef(!1),l=S.useRef(!1),A=S.useRef(t),c=P3(Date.now(),200),f=P3("",100),d=S.useState(!1),u=S.useState(n),h=S.useState(null),g=S.useState(new Set),m=S.useState(null),y=S.useState(s),x=S.useState(!1),w=x[0],v=x[1],C=S.useState([]),N=S.useState(null);return JH(v),S.createElement(ai.Provider,{value:{activeCategoryState:h,activeSkinTone:u,disallowClickRef:a,disallowMouseRef:l,disallowedEmojisRef:A,emojiVariationPickerState:m,emojisThatFailedToLoadState:g,filterRef:i,isPastInitialLoad:w,searchTerm:f,skinToneFanOpenState:d,suggestedUpdateState:c,reactionsModeState:y,visibleCategoriesState:C,emojiSizeState:N}},e)}var ai=S.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[qi.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise(function(){})}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}],visibleCategoriesState:[[],function(){return[]}],emojiSizeState:[null,function(){}]});function Ev(){var r=S.useContext(ai),e=r.filterRef;return e}function ZH(){var r=S.useContext(ai),e=r.disallowClickRef;return e}function Nv(){var r=S.useContext(ai),e=r.disallowMouseRef;return e}function KA(){var r=S.useContext(ai),e=r.reactionsModeState;return e}function Gp(){var r=S.useContext(ai),e=r.searchTerm;return e}function Kp(){var r=S.useContext(ai),e=r.activeSkinTone;return e}function mI(){var r=S.useContext(ai),e=r.emojisThatFailedToLoadState;return e}function _f(){var r=S.useContext(ai),e=r.emojiVariationPickerState;return e}function ph(){var r=S.useContext(ai),e=r.skinToneFanOpenState;return e}function Bv(){var r=S.useContext(ai),e=r.visibleCategoriesState;return e}function pI(){var r=S.useContext(ai),e=r.emojiSizeState;return e}function xI(){var r=S.useContext(ai),e=r.suggestedUpdateState,t=e[0],n=e[1];return[t,function(){n(Date.now())}]}var xi,XH=[Qt.SUGGESTED,Qt.CUSTOM,Qt.SMILEYS_PEOPLE,Qt.ANIMALS_NATURE,Qt.FOOD_DRINK,Qt.TRAVEL_PLACES,Qt.ACTIVITIES,Qt.OBJECTS,Qt.SYMBOLS,Qt.FLAGS],ez={name:"Recently Used",category:Qt.SUGGESTED},yI=(xi={},xi[Qt.SUGGESTED]={category:Qt.SUGGESTED,name:"Frequently Used"},xi[Qt.CUSTOM]={category:Qt.CUSTOM,name:"Custom Emojis"},xi[Qt.SMILEYS_PEOPLE]={category:Qt.SMILEYS_PEOPLE,name:"Smileys & People"},xi[Qt.ANIMALS_NATURE]={category:Qt.ANIMALS_NATURE,name:"Animals & Nature"},xi[Qt.FOOD_DRINK]={category:Qt.FOOD_DRINK,name:"Food & Drink"},xi[Qt.TRAVEL_PLACES]={category:Qt.TRAVEL_PLACES,name:"Travel & Places"},xi[Qt.ACTIVITIES]={category:Qt.ACTIVITIES,name:"Activities"},xi[Qt.OBJECTS]={category:Qt.OBJECTS,name:"Objects"},xi[Qt.SYMBOLS]={category:Qt.SYMBOLS,name:"Symbols"},xi[Qt.FLAGS]={category:Qt.FLAGS,name:"Flags"},xi);function wI(r){return XH.map(function(e){return Sr({},yI[e],r&&r[e]&&r[e])})}function $p(r){return r.category}function bI(r){return r.name}function tz(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e={});var n={};e.suggestionMode===Wu.RECENT&&(n[Qt.SUGGESTED]=ez);var s=wI(n);return(t=r)!=null&&t.length?r.map(function(i){return typeof i=="string"?Q3(i,n[i]):Sr({},Q3(i.category,n[i.category]),i)}):s}function Q3(r,e){return e===void 0&&(e={}),Object.assign(yI[r],e)}var rz="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",nz="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",sz="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",iz="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";function az(r){switch(r){case Zs.TWITTER:return sz;case Zs.GOOGLE:return iz;case Zs.FACEBOOK:return nz;case Zs.APPLE:default:return rz}}var oz=[],lz=[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["shaking face"],u:"1fae8",a:"15.0"},{n:["head shaking horizontally"],u:"1f642-200d-2194-fe0f",a:"15.1"},{n:["head shaking vertically"],u:"1f642-200d-2195-fe0f",a:"15.1"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["pink heart"],u:"1fa77",a:"15.0"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["light blue heart"],u:"1fa75",a:"15.0"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["grey heart"],u:"1fa76",a:"15.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["leftwards pushing hand"],u:"1faf7",v:["1faf7-1f3fb","1faf7-1f3fc","1faf7-1f3fd","1faf7-1f3fe","1faf7-1f3ff"],a:"15.0"},{n:["rightwards pushing hand"],u:"1faf8",v:["1faf8-1f3fb","1faf8-1f3fc","1faf8-1f3fd","1faf8-1f3fe","1faf8-1f3ff"],a:"15.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person walking facing right"],u:"1f6b6-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-27a1-fe0f","1f6b6-1f3fc-200d-27a1-fe0f","1f6b6-1f3fd-200d-27a1-fe0f","1f6b6-1f3fe-200d-27a1-fe0f","1f6b6-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman walking facing right"],u:"1f6b6-200d-2640-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man walking facing right"],u:"1f6b6-200d-2642-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person kneeling facing right"],u:"1f9ce-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-27a1-fe0f","1f9ce-1f3fc-200d-27a1-fe0f","1f9ce-1f3fd-200d-27a1-fe0f","1f9ce-1f3fe-200d-27a1-fe0f","1f9ce-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman kneeling facing right"],u:"1f9ce-200d-2640-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man kneeling facing right"],u:"1f9ce-200d-2642-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["person with white cane facing right"],u:"1f9d1-200d-1f9af-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["man with white cane facing right"],u:"1f468-200d-1f9af-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9af-200d-27a1-fe0f","1f468-1f3fc-200d-1f9af-200d-27a1-fe0f","1f468-1f3fd-200d-1f9af-200d-27a1-fe0f","1f468-1f3fe-200d-1f9af-200d-27a1-fe0f","1f468-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane facing right"],u:"1f469-200d-1f9af-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9af-200d-27a1-fe0f","1f469-1f3fc-200d-1f9af-200d-27a1-fe0f","1f469-1f3fd-200d-1f9af-200d-27a1-fe0f","1f469-1f3fe-200d-1f9af-200d-27a1-fe0f","1f469-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["person in motorized wheelchair facing right"],u:"1f9d1-200d-1f9bc-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["man in motorized wheelchair facing right"],u:"1f468-200d-1f9bc-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair facing right"],u:"1f469-200d-1f9bc-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["person in manual wheelchair facing right"],u:"1f9d1-200d-1f9bd-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["man in manual wheelchair facing right"],u:"1f468-200d-1f9bd-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair facing right"],u:"1f469-200d-1f9bd-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person running facing right"],u:"1f3c3-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-27a1-fe0f","1f3c3-1f3fc-200d-27a1-fe0f","1f3c3-1f3fd-200d-27a1-fe0f","1f3c3-1f3fe-200d-27a1-fe0f","1f3c3-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman running facing right"],u:"1f3c3-200d-2640-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man running facing right"],u:"1f3c3-200d-2642-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["family adult adult child","family: adult, adult, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult adult child child","family: adult, adult, child, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["family adult child","family: adult, child"],u:"1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult child child","family: adult, child, child"],u:"1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["footprints"],u:"1f463",a:"0.6"}],Az=[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["moose"],u:"1face",a:"15.0"},{n:["donkey"],u:"1facf",a:"15.0"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["wing"],u:"1fabd",a:"15.0"},{n:["black bird"],u:"1f426-200d-2b1b",a:"15.0"},{n:["goose"],u:"1fabf",a:"15.0"},{n:["phoenix"],u:"1f426-200d-1f525",a:"15.1"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["jellyfish"],u:"1fabc",a:"15.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["hyacinth"],u:"1fabb",a:"15.0"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"},{n:["mushroom"],u:"1f344",a:"0.6"}],cz=[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["lime"],u:"1f34b-200d-1f7e9",a:"15.1"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["ginger root"],u:"1fada",a:"15.0"},{n:["pea pod"],u:"1fadb",a:"15.0"},{n:["brown mushroom"],u:"1f344-200d-1f7eb",a:"15.1"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],fz=[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],dz=[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],uz=[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["folding hand fan"],u:"1faad",a:"15.0"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["hair pick"],u:"1faae",a:"15.0"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue workers helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["maracas"],u:"1fa87",a:"15.0"},{n:["flute"],u:"1fa88",a:"15.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["broken chain"],u:"26d3-fe0f-200d-1f4a5",a:"15.1"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],hz=[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["khanda"],u:"1faaf",a:"15.0"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["wireless"],u:"1f6dc",a:"15.0"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],gz=[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthlemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","cte divoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","runion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","so tom & prncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","trkiye flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}],Vm={custom:oz,smileys_people:lz,animals_nature:Az,food_drink:cz,travel_places:fz,activities:dz,objects:uz,symbols:hz,flags:gz},Ym=[qi.NEUTRAL,qi.LIGHT,qi.MEDIUM_LIGHT,qi.MEDIUM,qi.MEDIUM_DARK,qi.DARK],mz=Object.entries(qi).reduce(function(r,e){var t=e[0],n=e[1];return r[n]=t,r},{}),pz=Ym.reduce(function(r,e){var t;return Object.assign(r,(t={},t[e]=e,t))},{}),Li;(function(r){r.name="n",r.unified="u",r.variations="v",r.added_in="a",r.imgUrl="imgUrl"})(Li||(Li={}));var vI="epr_suggested";function CI(r){try{var e,t,n;if(!((e=window)!=null&&e.localStorage))return[];var s=JSON.parse((t=(n=window)==null?void 0:n.localStorage.getItem(vI))!=null?t:"[]");return r===Wu.FREQUENT?s.sort(function(i,a){return a.count-i.count}):s}catch{return[]}}function xz(r,e){var t=CI(),n=Kn(r,e),s=Kn(r),i=t.find(function(A){var c=A.unified;return c===n}),a;i?a=[i].concat(t.filter(function(A){return A!==i})):(i={unified:n,original:s,count:0},a=[i].concat(t)),i.count++,a.length=Math.min(a.length,14);try{var l;(l=window)==null||l.localStorage.setItem(vI,JSON.stringify(a))}catch{}}function xh(r){var e;return(e=r[Li.name])!=null?e:[]}function yz(r){return parseFloat(r[Li.added_in])}function ow(r){return r?xh(r)[0]:""}function kv(r){var e=r.split("-"),t=e.splice(1,1),n=t[0];return pz[n]?e.join("-"):r}function Kn(r,e){var t,n=r[Li.unified];return!e||!Pf(r)?n:(t=wz(r,e))!=null?t:n}function LI(){var r=Hz(),e=xI(),t=e[0],n=wo.useMemo(function(){var s,i=(s=CI(r))!=null?s:[];return i.map(function(a){return Bf(a.unified)}).filter(Boolean)},[t,r]);return function(i){var a;return i===Qt.SUGGESTED?n:(a=Vm[i])!=null?a:[]}}function SI(r,e){return""+az(e)+r+".png"}function yh(r){var e;return(e=r[Li.variations])!=null?e:[]}function Pf(r){return yh(r).length>0}function wz(r,e){return e?yh(r).find(function(t){return t.includes(e)}):Kn(r)}function Bf(r){if(r){if(rf[r])return rf[r];var e=kv(r);return rf[e]}}var Vp=Object.values(Vm).flat();function bz(r){Vm[Qt.CUSTOM].length=0,r.forEach(function(e){var t=vz(e);Vm[Qt.CUSTOM].push(t),!rf[t[Li.unified]]&&(Vp.push(t),rf[t[Li.unified]]=t,hI(t))})}function vz(r){var e;return e={},e[Li.name]=r.names.map(function(t){return t.toLowerCase()}),e[Li.unified]=r.id.toLowerCase(),e[Li.added_in]="0",e[Li.imgUrl]=r.imgUrl,e}var rf={};setTimeout(function(){Vp.reduce(function(r,e){return r[Kn(e)]=e,Pf(e)&&yh(e).forEach(function(t){r[t]=e}),r},rf)});function Cz(r){var e=r.split("-"),t=e[1];return Ym.includes(t)?t:null}var Lz=["2640-fe0f","2642-fe0f","2695-fe0f"],Wm="Search",EI="Clear",Sz="No results found",NI=" found. Use up and down arrow keys to navigate.",Ez="1 result"+NI,Nz="%n results"+NI;function O3(r){var e,t;r===void 0&&(r={});var n=BI(),s=Object.assign(n.previewConfig,(e=r.previewConfig)!=null?e:{}),i=Object.assign(n,r),a=tz(r.categories,{suggestionMode:i.suggestedEmojisMode});i.hiddenEmojis.forEach(function(A){i.unicodeToHide.add(A)}),bz((t=i.customEmojis)!=null?t:[]);var l=i.searchDisabled?Nf.PREVIEW:i.skinTonePickerLocation;return Sr({},i,{categories:a,previewConfig:s,skinTonePickerLocation:l})}function BI(){return{autoFocusSearch:!0,categories:wI(),className:"",customEmojis:[],defaultSkinTone:qi.NEUTRAL,emojiStyle:Zs.APPLE,emojiVersion:null,getEmojiUrl:SI,height:450,lazyLoadEmojis:!1,previewConfig:Sr({},Bz),searchDisabled:!1,searchPlaceHolder:Wm,searchPlaceholder:Wm,searchClearButtonLabel:EI,skinTonePickerLocation:Nf.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:Wu.FREQUENT,theme:Ju.LIGHT,unicodeToHide:new Set(Lz),width:350,reactionsDefaultOpen:!1,reactions:$H,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var Bz={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},kz=["children"],kI=S.createContext(BI());function jz(r){var e=r.children,t=dI(r,kz),n=Iz(t);return S.createElement(kI.Provider,{value:n},e)}function Iz(r){var e,t=S.useState(function(){return O3(r)}),n=t[0],s=t[1];return S.useEffect(function(){uI(n,r)||s(O3(r))},[(e=r.customEmojis)==null?void 0:e.length,r.open,r.emojiVersion,r.reactionsDefaultOpen,r.searchPlaceHolder,r.searchPlaceholder,r.searchClearButtonLabel,r.defaultSkinTone,r.skinTonesDisabled,r.autoFocusSearch,r.emojiStyle,r.theme,r.suggestedEmojisMode,r.lazyLoadEmojis,r.className,r.height,r.width,r.searchDisabled,r.skinTonePickerLocation,r.allowExpandReactions]),n}function Pr(){return S.useContext(kI)}var jI=wo.createContext({});function II(){var r=wo.useContext(jI);return r}function Tz(r){var e=wo.useRef({onEmojiClick:r.onEmojiClick||Q0,onReactionClick:r.onReactionClick||r.onEmojiClick,onSkinToneChange:r.onSkinToneChange||Q0});return wo.useEffect(function(){e.current.onEmojiClick=r.onEmojiClick||Q0,e.current.onReactionClick=r.onReactionClick||r.onEmojiClick},[r.onEmojiClick,r.onReactionClick]),wo.useEffect(function(){e.current.onSkinToneChange=r.onSkinToneChange||Q0},[r.onSkinToneChange]),e}function Q0(){}var qu;(function(r){r.REACTIONS="reactions",r.PICKER="picker"})(qu||(qu={}));function Mz(){var r,e=Pr(),t=e.searchPlaceHolder,n=e.searchPlaceholder;return(r=[t,n].find(function(s){return s!==Wm}))!=null?r:Wm}function Dz(){var r=Pr(),e=r.searchClearButtonLabel;return e??EI}function Fz(){var r=Pr(),e=r.defaultSkinTone;return e}function TI(){var r=Pr(),e=r.allowExpandReactions;return e}function MI(){var r=Pr(),e=r.skinTonesDisabled;return e}function $A(){var r=Pr(),e=r.emojiStyle;return e}function Uz(){var r=Pr(),e=r.autoFocusSearch;return e}function jv(){var r=Pr(),e=r.categories;return e}function Rz(){var r=Pr(),e=r.customEmojis;return e}function _z(){var r=Pr(),e=r.open;return e}function Pz(r){var e=II(),t=e.current,n=KA(),s=n[1],i=t.onEmojiClick||function(){},a=t.onReactionClick;return r===qu.REACTIONS&&a?function(){for(var l=arguments.length,A=new Array(l),c=0;c<l;c++)A[c]=arguments[c];return a.apply(void 0,A.concat([{collapseToReactions:function(){s(function(d){return d})}}]))}:function(){for(var l=arguments.length,A=new Array(l),c=0;c<l;c++)A[c]=arguments[c];i.apply(void 0,A.concat([{collapseToReactions:function(){s(!0)}}]))}}function Qz(){var r=II(),e=r.current;return e.onSkinToneChange||function(){}}function DI(){var r=Pr(),e=r.previewConfig;return e}function Oz(){var r=Pr(),e=r.theme;return e}function Hz(){var r=Pr(),e=r.suggestedEmojisMode;return e}function FI(){var r=Pr(),e=r.lazyLoadEmojis;return e}function zz(){var r=Pr(),e=r.className;return e}function Gz(){var r=Pr(),e=r.height,t=r.width,n=r.style;return Sr({height:H3(e),width:H3(t)},n)}function Kz(){var r=Pr(),e=r.reactionsDefaultOpen;return e}function $z(){var r=Pr(),e=r.emojiVersion;return e}function UI(){var r=Pr(),e=r.searchDisabled;return e}function RI(){var r=Pr(),e=r.skinTonePickerLocation;return e}function Vz(){var r=Pr(),e=r.unicodeToHide;return e}function Yz(){var r=Pr(),e=r.reactions;return e}function VA(){var r=Pr(),e=r.getEmojiUrl;return e}function H3(r){return typeof r=="number"?r+"px":r}function Wz(r){var e=r>0,t=r>1;return e?t?Nz.replace("%n",r.toString()):Ez:Sz}function Yp(){var r=Gp(),e=r[0];return!!e}function oi(r){r&&requestAnimationFrame(function(){r.focus()})}function _I(r){if(r){var e=r.previousElementSibling;oi(e)}}function PI(r){if(r){var e=r.nextElementSibling;oi(e)}}function QI(r){if(r){var e=r.firstElementChild;oi(e)}}function Zu(){return document.activeElement}function Jz(r){var e=r.children,t=S.useRef(null),n=S.useRef(null),s=S.useRef(null),i=S.useRef(null),a=S.useRef(null),l=S.useRef(null),A=S.useRef(null),c=S.useRef(null),f=S.useRef(null);return S.createElement(OI.Provider,{value:{AnchoredEmojiRef:n,BodyRef:s,EmojiListRef:i,CategoryNavigationRef:A,PickerMainRef:t,SearchInputRef:a,SkinTonePickerRef:l,VariationPickerRef:c,ReactionsRef:f}},e)}var OI=S.createContext({AnchoredEmojiRef:S.createRef(),BodyRef:S.createRef(),CategoryNavigationRef:S.createRef(),EmojiListRef:S.createRef(),PickerMainRef:S.createRef(),SearchInputRef:S.createRef(),SkinTonePickerRef:S.createRef(),VariationPickerRef:S.createRef(),ReactionsRef:S.createRef()});function Uo(){return S.useContext(OI)}function HI(){return Uo().EmojiListRef}function Qf(){return Uo().PickerMainRef}function Wp(){return Uo().AnchoredEmojiRef}function zI(){var r=Wp();return function(e){e===null&&r.current!==null&&oi(r.current),r.current=e}}function li(){return Uo().BodyRef}function qz(){return Uo().ReactionsRef}function Gl(){return Uo().SearchInputRef}function Iv(){return Uo().SkinTonePickerRef}function Tv(){return Uo().CategoryNavigationRef}function Zz(){return Uo().VariationPickerRef}function GI(r,e){e===void 0&&(e=0);var t=nT(r);t&&requestAnimationFrame(function(){t.scrollTop=e})}function Xz(r,e){var t=nT(r);t&&requestAnimationFrame(function(){t.scrollTop=t.scrollTop+e})}function eG(){var r=li();return S.useCallback(function(e){requestAnimationFrame(function(){r.current&&(r.current.scrollTop=e)})},[r])}function Jp(r){if(!(!r||!PG(r))&&!r.closest(Ti(Vt.variationPicker))){var e=iT(r),t=sT(r);Xz(e,-(Rv(Kl(r))-t))}}function qp(r){var e=Ov(r);oi(e),Jp(e)}function tG(r){var e=Ov(r);oi(e),e==null||e.click()}function rG(r){oi(AT(r))}function nG(r){if(r){var e=cT(r);if(!e)return qp(Xp(r));oi(e),Jp(e)}}function sG(r){if(r){var e=Qv(r);if(!e)return rG(Zp(r));oi(e),Jp(e)}}function iG(r,e){if(r){var t=oG(r);if(!t)return e();oi(t),Jp(t)}}function aG(r){if(r){var e=lG(r);return oi(e)}}function oG(r){if(!r)return null;var e=fT(r),t=Kl(e),n=eT(e,r),s=kf(t),i=s.indexOf(r),a=i%n;if(i===-1)return null;if(s[i-n])return s[i-n];var l=Zp(t);if(!l)return null;var A=kf(l),c=A.length%n-1;if(a>c)return A.at(-1);for(var f=A.length-1;f>=0;f--)if(f%n===a)return A[f];return A.at(-1)}function lG(r){var e;if(!r)return null;var t=fT(r),n=Kl(t),s=eT(t,r),i=kf(n),a=i.indexOf(r);if(a===-1)return null;var l=s-a%s-1,A=a+l+1;if(i[A]){for(var c=a+s;c%s>=0;c--)if(i[c])return i[c]}var f=a%s,d=Xp(n),u=kf(d);return u[f]?u[f]:(e=u.at(0))!=null?e:null}function YA(){var r=_f(),e=r[0],t=r[1],n=ph(),s=n[0],i=n[1],a=S.useCallback(function(){e&&t(null),s&&i(!1)},[e,s,t,i]);return a}function KI(){var r=_f(),e=r[0],t=ph(),n=t[0];return function(){return!!e||n}}function AG(){var r=Nv();return function(){r.current=!0}}function $I(){var r=Nv();return function(){r.current=!1}}function VI(){var r=Nv();return function(){return r.current}}function cG(){var r=li(),e=$I(),t=VI();S.useEffect(function(){var n=r.current;n==null||n.addEventListener("mousemove",s,{passive:!0});function s(){t()&&e()}return function(){n==null||n.removeEventListener("mousemove",s)}},[r,e,t])}function WA(){var r=Gl();return S.useCallback(function(){oi(r.current)},[r])}function fG(){var r=Iv();return S.useCallback(function(){r.current&&QI(r.current)},[r])}function YI(){var r=Tv();return S.useCallback(function(){r.current&&QI(r.current)},[r])}function dG(){var r=Ev();return function e(t){if(typeof t=="function")return e(t(r.current));r.current=t}}function WI(){var r=Mv(),e=Gl(),t=WA();return function(){e.current&&(e.current.value=""),r(""),t()}}function uG(){var r=Gl(),e=Mv();return function(n){r.current?(r.current.value=""+r.current.value+n,e(z3(r.current.value))):e(z3(n))}}function hG(){var r=Gl(),e=Ev(),t=dG(),n=Mv(),s=Gp(),i=s[0],a=wG(e.current,i);return{onChange:l,searchTerm:i,SearchInputRef:r,statusSearchResults:a};function l(A){var c=e.current,f=A.toLowerCase();if(c!=null&&c[f]||f.length<=1)return n(f);var d=yG(f,c);if(!d)return n(f);t(function(u){var h;return Object.assign(u,(h={},h[f]=gG(d,f),h))}),n(f)}}function Mv(){var r=Gp(),e=r[1],t=Qf();return function(s){requestAnimationFrame(function(){e(s&&(s==null?void 0:s.toLowerCase())).then(function(){GI(t.current,0)})})}}function gG(r,e){var t={};for(var n in r){var s=r[n];mG(s,e)&&(t[n]=s)}return t}function mG(r,e){return xh(r).some(function(t){return t.includes(e)})}function pG(){var r=Ev(),e=r.current,t=Gp(),n=t[0];return function(s){return xG(s,e,n)}}function xG(r,e,t){var n;return!e||!t?!1:!((n=e[t])!=null&&n[r])}function yG(r,e){if(!e)return null;if(e[r])return e[r];var t=Object.keys(e).sort(function(n,s){return s.length-n.length}).find(function(n){return r.includes(n)});return t?e[t]:null}function z3(r){return!r||typeof r!="string"?"":r.trim().toLowerCase()}function wG(r,e){var t;if(!(r!=null&&r[e]))return"";var n=((t=Object.entries(r==null?void 0:r[e]))==null?void 0:t.length)||0;return Wz(n)}function JI(){var r=zI(),e=_f(),t=e[1];return function(s){var i=Uv(s),a=i[0];a&&(r(s),t(a))}}function Dv(){var r=RI();return r===Nf.SEARCH}function qI(){var r=RI();return r===Nf.PREVIEW}var fn;(function(r){r.ArrowDown="ArrowDown",r.ArrowUp="ArrowUp",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.Escape="Escape",r.Enter="Enter",r.Space=" "})(fn||(fn={}));function bG(){vG(),CG(),LG(),SG(),EG()}function vG(){var r=Qf(),e=WI(),t=eG(),n=Gl(),s=WA(),i=KI(),a=AG(),l=YA(),A=S.useMemo(function(){return function(f){var d=f.key;switch(a(),d){case fn.Escape:if(f.preventDefault(),i()){l();return}e(),t(0),s();break}}},[t,e,l,s,i,a]);S.useEffect(function(){var c=r.current;if(c)return c.addEventListener("keydown",A),function(){c.removeEventListener("keydown",A)}},[r,n,t,A])}function CG(){var r=fG(),e=Qf(),t=li(),n=Gl(),s=ph(),i=s[1],a=ZI(),l=Dv(),A=S.useMemo(function(){return function(f){var d=f.key;switch(d){case fn.ArrowRight:if(!l)return;f.preventDefault(),i(!0),r();break;case fn.ArrowDown:f.preventDefault(),a();break;case fn.Enter:f.preventDefault(),tG(t.current);break}}},[r,a,i,t,l]);S.useEffect(function(){var c=n.current;if(c)return c.addEventListener("keydown",A),function(){c.removeEventListener("keydown",A)}},[e,n,A])}function LG(){var r=Iv(),e=WA(),t=Gl(),n=ZI(),s=ph(),i=s[0],a=s[1],l=qI(),A=Dv(),c=Fv(),f=S.useMemo(function(){return function(u){var h=u.key;if(A)switch(h){case fn.ArrowLeft:if(u.preventDefault(),!i)return e();G3(e);break;case fn.ArrowRight:if(u.preventDefault(),!i)return e();K3();break;case fn.ArrowDown:u.preventDefault(),i&&a(!1),n();break;default:c(u);break}if(l)switch(h){case fn.ArrowUp:if(u.preventDefault(),!i)return e();G3(e);break;case fn.ArrowDown:if(u.preventDefault(),!i)return e();K3();break;default:c(u);break}}},[i,e,a,n,c,l,A]);S.useEffect(function(){var d=r.current;if(d)return d.addEventListener("keydown",f),function(){d.removeEventListener("keydown",f)}},[r,t,i,f])}function SG(){var r=WA(),e=Tv(),t=li(),n=Fv(),s=S.useMemo(function(){return function(a){var l=a.key;switch(l){case fn.ArrowUp:a.preventDefault(),r();break;case fn.ArrowRight:a.preventDefault(),PI(Zu());break;case fn.ArrowLeft:a.preventDefault(),_I(Zu());break;case fn.ArrowDown:a.preventDefault(),qp(t.current);break;default:n(a);break}}},[t,r,n]);S.useEffect(function(){var i=e.current;if(i)return i.addEventListener("keydown",s),function(){i.removeEventListener("keydown",s)}},[e,t,s])}function EG(){var r=li(),e=NG(),t=JI(),n=KI(),s=YA(),i=Fv(),a=S.useMemo(function(){return function(A){var c=A.key,f=ta(Zu());switch(c){case fn.ArrowRight:A.preventDefault(),nG(f);break;case fn.ArrowLeft:A.preventDefault(),sG(f);break;case fn.ArrowDown:if(A.preventDefault(),n()){s();break}aG(f);break;case fn.ArrowUp:if(A.preventDefault(),n()){s();break}iG(f,e);break;case fn.Space:A.preventDefault(),t(A.target);break;default:i(A);break}}},[e,i,t,n,s]);S.useEffect(function(){var l=r.current;if(l)return l.addEventListener("keydown",a),function(){l.removeEventListener("keydown",a)}},[r,a])}function ZI(){var r=YI(),e=Yp(),t=li();return S.useCallback(function(){return e?qp(t.current):r()},[t,r,e])}function NG(){var r=WA(),e=YI(),t=Yp();return S.useCallback(function(){return t?r():e()},[r,t,e])}function G3(r){var e=Zu();e&&(UG(e)||r(),PI(e))}function K3(){var r=Zu();r&&_I(r)}function Fv(){var r=uG(),e=WA(),t=UI(),n=YA();return function(i){var a=i.key;BG(i)||t||a.match(/(^[a-zA-Z0-9]$){1}/)&&(i.preventDefault(),n(),e(),r(a))}}function BG(r){var e=r.metaKey,t=r.ctrlKey,n=r.altKey;return e||t||n}function kG(r,e,t,n,s,i,a,l){if(r&&e!==Zs.NATIVE){var A=Kn(r);lw.has(A)||!i||!a||setTimeout(function(){var c=s+i.top,f=t+n,d=c>=f&&c<f+a.emojiSize*2;d&&XI(l,r,e)})}}function XI(r,e,t){if(e){var n=Kn(e);lw.has(n)||(lw.add(n),yh(e).concat(n).forEach(function(s){var i=r(s,t);jG(i)}))}}var lw=new Set;function jG(r){var e=new Image;e.src=r}function IG(){var r=li(),e=$A(),t=VA();S.useEffect(function(){if(e===Zs.NATIVE)return;var n=r.current;return n==null||n.addEventListener("focusin",s),function(){n==null||n.removeEventListener("focusin",s)};function s(i){var a=ta(i.target);if(a){var l=Uv(a),A=l[0];A&&Pf(A)&&XI(t,A,e)}}},[r,e,t])}var TG=["width","height"],Aw=40;function MG(r){var e=r.children;return S.createElement(qH,null,S.createElement(DG,null,e))}function DG(r){var e,t=r.children,n=KA(),s=n[0],i=Oz(),a=Yp(),l=Qf(),A=zz(),c=Gz();bG(),IG();var f=c||{},d=f.width,u=f.height,h=dI(f,TG);return S.createElement("aside",{className:zt(Nd.main,Nd.baseVariables,i===Ju.DARK&&Nd.darkTheme,i===Ju.AUTO&&Nd.autoThemeDark,(e={},e[Vt.searchActive]=a,e),s&&Nd.reactionsMenu,A),ref:l,style:Sr({},h,!s&&{height:u,width:d})},t)}var $3={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},Nd=Ir.create({main:{".":["epr-main",Vt.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"height 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-search-border-color":"var(--epr-search-input-bg-color)","--epr-search-border-color-active":"var(--epr-highlight-color)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":Aw+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#00000000"}},autoThemeDark:{".":Vt.autoTheme,"@media (prefers-color-scheme: dark)":{"--":$3}},darkTheme:{".":Vt.darkTheme,"--":$3},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function eT(r,e){if(!r||!e)return 0;var t=r.getBoundingClientRect().width,n=e.getBoundingClientRect().width;return Math.floor(t/n)}function FG(r,e,t){if(!r||!e.length)return null;var n=r.getBoundingClientRect().top,s=r.getBoundingClientRect().bottom,i=n+tT(r),a=e.find(function(l){var A=l.getBoundingClientRect().top,c=l.getBoundingClientRect().bottom,f=l.clientHeight*t,d=A+f,u=c-f;return d<i?!1:d>=n&&d<=s||u>=n&&u<=s});return a||null}function UG(r){return!!r.nextElementSibling}function tT(r){if(!r)return Aw;var e=r.querySelector(Ti(Vt.label));if(e){var t=e.getBoundingClientRect().height;if(t>0)return t}return Aw}var Xu="button"+Ti(Vt.emoji),RG=[Xu,Ti(Vt.visible),":not("+Ti(Vt.hidden)+")"].join("");function ta(r){var e;return(e=r==null?void 0:r.closest(Xu))!=null?e:null}function Uv(r){var e=aT(r),t=_v(r);if(!e)return[];var n=Bf(t??e);return n?[n,t]:[]}function _G(r){var e;return!!(r!=null&&r.matches(Xu)||!(r==null||(e=r.parentElement)==null)&&e.matches(Xu))}function V3(r){var e;return(e=r==null?void 0:r.clientHeight)!=null?e:0}function rT(r){if(!r)return 0;var e=ta(r),t=Kl(e),n=Rv(t);return Y3(e)+Y3(t)+n}function Rv(r){var e,t;if(!r)return 0;var n=r.querySelector(Ti(Vt.categoryContent));return((e=r==null?void 0:r.clientHeight)!=null?e:0)-((t=n==null?void 0:n.clientHeight)!=null?t:0)}function PG(r){return r?sT(r)<Rv(Kl(r)):!1}function nT(r){return r?r.matches(Ti(Vt.scrollBody))?r:r.querySelector(Ti(Vt.scrollBody)):null}function sT(r){var e,t;return r?rT(r)-((e=(t=iT(r))==null?void 0:t.scrollTop)!=null?e:0):0}function iT(r){var e;return r&&(e=r.closest(Ti(Vt.scrollBody)))!=null?e:null}function QG(r){var e=ta(r),t=Kl(e);return W3(e)+W3(t)}function Y3(r){var e;return(e=r==null?void 0:r.offsetTop)!=null?e:0}function W3(r){var e;return(e=r==null?void 0:r.offsetLeft)!=null?e:0}function _v(r){var e;return(e=OG(ta(r),"unified"))!=null?e:null}function aT(r){var e=_v(r);return e?kv(e):null}function oT(r){return r?{unified:_v(r),originalUnified:aT(r)}:{unified:null,originalUnified:null}}function OG(r,e){var t;return(t=HG(r)[e])!=null?t:null}function HG(r){var e;return(e=r==null?void 0:r.dataset)!=null?e:{}}function Pv(r){return r.classList.contains(Vt.visible)}function lT(r){return r?r.classList.contains(Vt.hidden):!0}function kf(r){return r?Array.from(r.querySelectorAll(RG)):[]}function AT(r){if(!r)return null;var e=kf(r),t=e.slice(-1),n=t[0];return n?Pv(n)?n:Qv(n):null}function cT(r){var e=r.nextElementSibling;return e?Pv(e)?e:cT(e):Ov(Xp(r))}function Qv(r){var e=r.previousElementSibling;return e?Pv(e)?e:Qv(e):AT(Zp(r))}function Ov(r){if(!r)return null;var e=kf(r);return FG(r,e,.1)}function Zp(r){var e=Kl(r);if(!e)return null;var t=e.previousElementSibling;return t?lT(t)?Zp(t):t:null}function Xp(r){var e=Kl(r);if(!e)return null;var t=e.nextElementSibling;return t?lT(t)?Xp(t):t:null}function Kl(r){return r?r.closest(Ti(Vt.category)):null}function fT(r){return r?r.closest(Ti(Vt.categoryContent)):null}function dT(r){return r.split("-").map(function(e){return String.fromCodePoint(parseInt(e,16))}).join("")}function zG(r){return r.category===Qt.CUSTOM}function uT(r){return r.imgUrl!==void 0}function hT(r,e){var t=S.useRef(),n=JI(),s=ZH(),i=_f(),a=i[1],l=YA(),A=Kp(),c=A[0],f=Pz(e),d=xI(),u=d[1],h=VA(),g=$A(),m=S.useCallback(function(v){if(!s.current){l();var C=J3(v),N=C[0],B=C[1];if(!(!N||!B)){var j=Cz(B)||c;u(),xz(N,j),f(GG(N,j,g,h),v)}}},[c,l,s,f,u,h,g]),y=S.useCallback(function(v){var C;t.current&&clearTimeout(t.current);var N=J3(v),B=N[0];!B||!Pf(B)||(t.current=(C=window)==null?void 0:C.setTimeout(function(){s.current=!0,t.current=void 0,l(),n(v.target),a(B)},500))},[s,l,n,a]),x=S.useCallback(function(){t.current?(clearTimeout(t.current),t.current=void 0):s.current&&requestAnimationFrame(function(){s.current=!1})},[s]);S.useEffect(function(){if(r.current){var w=r.current;return w.addEventListener("click",m,{passive:!0}),w.addEventListener("mousedown",y,{passive:!0}),w.addEventListener("mouseup",x,{passive:!0}),function(){w==null||w.removeEventListener("click",m),w==null||w.removeEventListener("mousedown",y),w==null||w.removeEventListener("mouseup",x)}}},[r,m,y,x])}function J3(r){var e=r==null?void 0:r.target;return _G(e)?Uv(e):[]}function GG(r,e,t,n){var s=xh(r);if(uT(r)){var i=Kn(r);return{activeSkinTone:e,emoji:i,getImageUrl:function(){return r.imgUrl},imageUrl:r.imgUrl,isCustom:!0,names:s,unified:i,unifiedWithoutSkinTone:i}}var a=Kn(r,e);return{activeSkinTone:e,emoji:dT(a),getImageUrl:function(A){return A===void 0&&(A=t??Zs.APPLE),n(a,A)},imageUrl:n(a,t??Zs.APPLE),isCustom:!1,names:s,unified:a,unifiedWithoutSkinTone:Kn(r)}}function wh(r){return S.createElement("button",Object.assign({type:"button"},r,{className:zt(KG.button,r.className)}),r.children)}var KG=Ir.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function $G(r){var e,t=r.emojiNames,n=r.unified,s=r.hidden,i=r.hiddenOnSearch,a=r.showVariations,l=a===void 0?!0:a,A=r.hasVariations,c=r.children,f=r.className,d=r.noBackground,u=d===void 0?!1:d,h=r.style;return S.createElement(wh,{className:zt($x.emoji,s&&Sv.hidden,i&&GA.hiddenOnSearch,(e={},e[Vt.visible]=!s&&!i,e),!!(A&&l)&&$x.hasVariations,u&&$x.noBackground,f),"data-unified":n,"aria-label":VG(t),"data-full-name":t,style:h},c)}function VG(r){var e;return r[0].match("flag-")&&(e=r[1])!=null?e:r[0]}var $x=Ir.create({emoji:{".":Vt.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":Vt.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),Jm=Ir.create({external:{".":Vt.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function q3(r){var e=r.emojiName,t=r.style,n=r.lazyLoad,s=n===void 0?!1:n,i=r.imgUrl,a=r.onError,l=r.className;return S.createElement("img",{src:i,alt:e,className:zt(YG.emojiImag,Jm.external,Jm.common,l),loading:s?"lazy":"eager",onError:a,style:t})}var YG=Ir.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function WG(r){var e=r.unified,t=r.style,n=r.className;return S.createElement("span",{className:zt(JG.nativeEmoji,Jm.common,Jm.external,n),"data-unified":e,style:t},dT(e))}var JG=Ir.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function cw(r){var e=r.emoji,t=r.unified,n=r.emojiStyle,s=r.size,i=r.lazyLoad,a=r.getEmojiUrl,l=a===void 0?SI:a,A=r.className,c=mI(),f=c[1],d={};s&&(d.width=d.height=d.fontSize=s+"px");var u=e||Bf(t);if(!u)return null;if(uT(u))return S.createElement(q3,{style:d,emojiName:t,emojiStyle:Zs.NATIVE,lazyLoad:i,imgUrl:u.imgUrl,onError:h,className:A});return S.createElement(S.Fragment,null,n===Zs.NATIVE?S.createElement(WG,{unified:t,style:d,className:A}):S.createElement(q3,{style:d,emojiName:ow(u),emojiStyle:n,lazyLoad:i,imgUrl:l(t,n),onError:h,className:A}));function h(){f(function(g){return new Set(g).add(t)})}}function e1(r){var e=r.emoji,t=r.unified,n=r.hidden,s=r.hiddenOnSearch,i=r.emojiStyle,a=r.showVariations,l=a===void 0?!0:a,A=r.size,c=r.lazyLoad,f=r.getEmojiUrl,d=r.className,u=r.noBackground,h=u===void 0?!1:u,g=r.style,m=Pf(e);return S.createElement($G,{hasVariations:m,showVariations:l,hidden:n,hiddenOnSearch:s,emojiNames:xh(e),unified:t,noBackground:h,style:g},S.createElement(cw,{unified:t,emoji:e,size:A,emojiStyle:i,lazyLoad:c,getEmojiUrl:f,className:d}))}var qG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=";function ZG(){var r=KA(),e=r[1];return S.createElement(wh,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:zt(XG.plusSign),onClick:function(){return e(!1)}})}var XG=Ir.create(Sr({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url("+qG+")",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},_l("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function eK(){var r=KA(),e=r[0],t=qz(),n=Yz();hT(t,qu.REACTIONS);var s=$A(),i=TI(),a=VA();return e?S.createElement("ul",{className:zt(Z3.list,!e&&Sv.hidden),ref:t},n.map(function(l){return S.createElement("li",{key:l},S.createElement(e1,{emoji:Bf(l),emojiStyle:s,unified:l,showVariations:!1,className:zt(Z3.emojiButton),noBackground:!0,getEmojiUrl:a}))}),i?S.createElement("li",null,S.createElement(ZG,null)):null):null}var Z3=Ir.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function tK(r){var e=YA(),t=S.useState(0),n=t[0],s=t[1];return S.useEffect(function(){var i=r.current;if(!i)return;i.addEventListener("scroll",a,{passive:!0});function a(){var l;s((l=i==null?void 0:i.scrollTop)!=null?l:0),e()}return function(){i==null||i.removeEventListener("scroll",a)}},[r,e]),n}function rK(r){var e=r.scrollTop,t=r.clientHeight,n=r.topOffset,s=r.style,i=r.dimensions;if(!s||!i)return!1;var a=n+s.top,l=a+i.emojiSize,A=l+i.emojiSize*2>=e&&a<=e+t+i.emojiSize;return!A}function nK(r,e){return r?{top:Math.floor(e/r.emojisPerRow)*r.emojiSize,left:e%r.emojisPerRow*r.emojiSize}:void 0}var sK=40;function iK(r){var e=HI(),t=KA(),n=t[0],s=Qf(),i=S.useRef(),a=Bv(),l=a[0],A=pI(),c=A[0],f=S.useState(),d=f[0],u=f[1],h=S.useCallback(function(){var g=e.current;if(g){var m=g.querySelector(Xu),y=m==null?void 0:m.clientHeight;y&&(i.current=y);var x=c||y||i.current||sK,w=g.clientWidth;if(!(w===0||x===0)){var v=Math.max(1,Math.floor(w/x)),C=Math.ceil(r/v),N=C*x;u({categoryHeight:N,emojisPerRow:v,emojiSize:x})}}},[e,r,c]);return S.useEffect(function(){h()},[r,n,h,l.length]),S.useEffect(function(){var g=s.current;if(g){var m=function(x){var w=x,v=w.propertyName;(v==="width"||v==="max-width"||v==="min-width"||v==="height"||v==="max-height"||v==="min-height")&&(typeof queueMicrotask=="function"?queueMicrotask(function(){return h()}):requestAnimationFrame(function(){return h()}))};return g.addEventListener("transitionend",m,{passive:!0}),function(){g.removeEventListener("transitionend",m)}}},[s,h]),d}function aK(){var r=mI(),e=r[0],t=pG();return function(n){var s=Kn(n),i=e.has(s),a=t(s);return{failedToLoad:i,filteredOut:a,hidden:i||a}}}function oK(r){var e=r.categoryEmojis,t=r.topOffset,n=r.onHeightReady,s=r.scrollTop,i=r.isCategoryVisible,a=aK(),l=FI(),A=$A(),c=Kp(),f=c[0],d=YH(),u=VA(),h=!MI(),g=li(),m=0,y=e.filter(function(C){var N=d(C),B=a(C),j=B.failedToLoad,M=B.filteredOut,I=B.hidden;return!j&&!M&&!I&&!N}),x=iK(y.length);S.useEffect(function(){x&&n(x.categoryHeight)},[x,n,y.length]);var w=function(N){var B,j;return x&&g.current&&rK({scrollTop:s,clientHeight:(B=(j=g.current)==null?void 0:j.clientHeight)!=null?B:0,topOffset:t,style:N,dimensions:x})},v=y.reduce(function(C,N,B){var j=Kn(N,f),M=nK(x,B);if(w(M)){var I,U;return m++,kG(N,A,s,(I=(U=g.current)==null?void 0:U.clientHeight)!=null?I:0,t,M,x,u),C}return i?(C.push(S.createElement(e1,{showVariations:h,key:j,emoji:N,unified:j,emojiStyle:A,lazyLoad:l,getEmojiUrl:u,style:Sr({},M,{position:"absolute"})})),C):(m++,C)},[]);return{virtualizedCounter:m,emojis:v,dimensions:x}}function lK(r){var e=r.categoryConfig,t=r.children,n=r.hidden,s=r.hiddenOnSearch,i=r.height,a=$p(e),l=bI(e);return S.createElement("li",{className:zt(Vx.category,n&&Sv.hidden,s&&GA.hiddenOnSearch),"data-name":a,"aria-label":l},S.createElement("h2",{className:zt(Vx.label)},l),S.createElement("div",{className:zt(Vx.categoryContent),style:{height:i}},t))}var Vx=Ir.create({category:{".":Vt.category,minHeight:"calc(var(--epr-emoji-fullsize) + var(--epr-category-label-height))",position:"relative"},categoryContent:{".":Vt.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":Vt.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}});function AK(){var r=jv(),e=LI(),t=$A(),n=VA(),s=FI(),i=Kp(),a=i[0],l=pI(),A=l[0],c=l[1],f=S.useRef(null);if(S.useLayoutEffect(function(){f.current&&c(f.current.clientHeight)}),A)return null;var d=r[0],u=e($p(d))[0],h=u?Kn(u,a):"";return u?S.createElement("div",{ref:f},S.createElement(e1,{emoji:u,unified:h,emojiStyle:t,getEmojiUrl:n,lazyLoad:s,showVariations:!1,hidden:!1,style:{opacity:0,pointerEvents:"none",position:"absolute",top:0,left:0,zIndex:-1,height:"var(--epr-emoji-fullsize)",width:"var(--epr-emoji-fullsize)"}})):null}function cK(r){var e=r.scrollTop,t=jv(),n=S.useState({}),s=n[0],i=n[1],a=HI(),l=LI(),A=tT(a.current),c=0;return S.createElement("ul",{className:zt(dK.emojiList),ref:a},S.createElement(AK,null),t.map(function(f){var d=$p(f),u=c,h=s[d];return h&&(c+=h+A),S.createElement(S.Suspense,{key:d},S.createElement(fK,{categoryEmojis:l(d),categoryConfig:f,topOffset:u,onHeightReady:function(m){s[d]!==m&&i(function(y){var x;return Sr({},y,(x={},x[d]=m,x))})},scrollTop:e}))}))}function fK(r){var e=r.categoryEmojis,t=r.categoryConfig,n=r.topOffset,s=r.onHeightReady,i=r.scrollTop,a=Bv(),l=a[0],A=oK({categoryEmojis:e,topOffset:n,onHeightReady:s,scrollTop:i,isCategoryVisible:l.includes(t.category)}),c=A.virtualizedCounter,f=A.emojis,d=A.dimensions;return S.createElement(lK,{categoryConfig:t,height:d==null?void 0:d.categoryHeight,hidden:!f.length&&c===0},f)}var dK=Ir.create({emojiList:{".":Vt.emojiList,listStyle:"none",margin:"0",padding:"0"}}),uK="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=",nf;(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"})(nf||(nf={}));function hK(){var r=Wp(),e=Zz(),t=_f(),n=t[0],s=$A(),i=mK(e),a=i.getTop,l=i.getMenuDirection,A=zI(),c=gK(e),f=VA(),d=ta(r.current),u=!!(n&&d&&Pf(n)&&d.classList.contains(Vt.emojiHasVariations));S.useEffect(function(){u&&qp(e.current)},[e,u,r]);var h,g;return!u&&r.current?A(null):(h=a(),g=c()),S.createElement("div",{ref:e,className:zt(O0.variationPicker,l()===nf.Down&&O0.pointingUp,u&&O0.visible),style:{top:h}},u&&n?[Kn(n)].concat(yh(n)).slice(0,6).map(function(m){return S.createElement(e1,{key:m,emoji:n,unified:m,emojiStyle:s,showVariations:!1,getEmojiUrl:f})}):null,S.createElement("div",{className:zt(O0.pointer),style:g}))}function gK(r){var e=Wp();return function(){var n={};if(!r.current)return n;if(e.current){var s=ta(e.current),i=QG(s);if(!s)return n;n.left=i+(s==null?void 0:s.clientWidth)/2}return n}}function mK(r){var e=Wp(),t=li(),n=nf.Up;return{getMenuDirection:s,getTop:i};function s(){return n}function i(){n=nf.Up;var a=0;if(!r.current)return 0;var l=V3(r.current);if(e.current){var A,c=t.current,f=ta(e.current),d=V3(f);a=rT(f);var u=(A=c==null?void 0:c.scrollTop)!=null?A:0;u>a-l&&(n=nf.Down,a+=d+l)}return a-l}}var O0=Ir.create(Sr({variationPicker:{".":Vt.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url("+uK+")"}},_l("pointer",{backgroundPosition:"-25px 0"})));function pK(){var r=li(),e=tK(r);return hT(r,qu.PICKER),cG(),S.createElement("div",{className:zt(xK.body,GA.hiddenOnReactions),ref:r},S.createElement(hK,null),S.createElement(cK,{scrollTop:e}))}var xK=Ir.create({body:{".":Vt.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function yK(r,e){if(!r||!e)return 0;var t=r.getBoundingClientRect(),n=e.getBoundingClientRect();return n.height-(t.y-n.y)}function wK(r,e){var t=li(),n=VI(),s=$I();S.useEffect(function(){if(!r)return;var i=t.current;i==null||i.addEventListener("keydown",A,{passive:!0}),i==null||i.addEventListener("mouseover",c,!0),i==null||i.addEventListener("focus",a,!0),i==null||i.addEventListener("mouseout",l,{passive:!0}),i==null||i.addEventListener("blur",l,!0);function a(f){var d=ta(f.target);if(!d)return l();var u=oT(d),h=u.unified,g=u.originalUnified;if(!h||!g)return l();e({unified:h,originalUnified:g})}function l(f){if(f){var d=f.relatedTarget;if(!ta(d))return e(null)}e(null)}function A(f){f.key==="Escape"&&e(null)}function c(f){if(!n()){var d=ta(f.target);if(d){var u=yK(d,i),h=d.getBoundingClientRect().height;if(u<h)return bK(d,e);oi(d)}}}return function(){i==null||i.removeEventListener("mouseover",c),i==null||i.removeEventListener("mouseout",l),i==null||i.removeEventListener("focus",a,!0),i==null||i.removeEventListener("blur",l,!0),i==null||i.removeEventListener("keydown",A)}},[t,r,e,n,s])}function bK(r,e){var t,n=oT(r),s=n.unified,i=n.originalUnified;!s||!i||((t=document.activeElement)==null||t.blur==null||t.blur(),e({unified:s,originalUnified:i}))}var H0,eh;(function(r){r.ROW="FlexRow",r.COLUMN="FlexColumn"})(eh||(eh={}));function gT(r){var e=r.children,t=r.className,n=r.style,s=n===void 0?{}:n,i=r.direction,a=i===void 0?eh.ROW:i;return S.createElement("div",{style:Sr({},s),className:zt(X3.flex,t,X3[a])},e)}var X3=Ir.create((H0={flex:{display:"flex"}},H0[eh.ROW]={flexDirection:"row"},H0[eh.COLUMN]={flexDirection:"column"},H0));function vK(r){var e=r.className,t=r.style,n=t===void 0?{}:t;return S.createElement("div",{style:Sr({flex:1},n),className:zt(e)})}function CK(r){var e=r.children,t=r.className,n=r.style;return S.createElement("div",{style:Sr({},n,{position:"absolute"}),className:t},e)}function t1(r){var e=r.children,t=r.className,n=r.style;return S.createElement("div",{style:Sr({},n,{position:"relative"}),className:t},e)}function LK(r){var e=r.isOpen,t=r.onClick,n=r.isActive,s=r.skinToneVariation,i=r.style;return S.createElement(wh,{style:i,onClick:t,className:zt("epr-tone-"+s,Yx.tone,!e&&Yx.closedTone,n&&Yx.active),"aria-pressed":n,"aria-label":"Skin tone "+mz[s]})}var Yx=Ir.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),Od=28;function SK(){return S.createElement(t1,{style:{height:Od}},S.createElement(CK,{style:{bottom:0,right:0}},S.createElement(mT,{direction:th.VERTICAL})))}function mT(r){var e=r.direction,t=e===void 0?th.HORIZONTAL:e,n=Iv(),s=MI(),i=ph(),a=i[0],l=i[1],A=Kp(),c=A[0],f=A[1],d=Qz(),u=YA(),h=WA();if(s)return null;var g=Od*Ym.length+"px",m=a?g:Od+"px",y=t===th.VERTICAL;return S.createElement(t1,{className:zt(Bd.skinTones,y&&Bd.vertical,a&&Bd.open,y&&a&&Bd.verticalShadow),style:y?{flexBasis:m,height:m}:{flexBasis:m}},S.createElement("div",{className:zt(Bd.select),ref:n},Ym.map(function(x,w){var v=x===c;return S.createElement(LK,{key:x,skinToneVariation:x,isOpen:a,style:{transform:zt(y?"translateY(-"+w*(a?Od:0)+"px)":"translateX(-"+w*(a?Od:0)+"px)",a&&v&&"scale(1.3)")},isActive:v,onClick:function(){a?(f(x),d(x),h()):l(!0),u()}})})))}var th;(function(r){r.VERTICAL="epr-vertical",r.HORIZONTAL="epr-horizontal"})(th||(th={}));var Bd=Ir.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function EK(){var r=DI(),e=qI(),t=KA(),n=t[0];return r.showPreview?S.createElement(gT,{className:zt(du.preview,GA.hiddenOnReactions,n&&du.hideOnReactions)},S.createElement(NK,null),S.createElement(vK,null),e?S.createElement(SK,null):null):null}function NK(){var r,e=DI(),t=S.useState(null),n=t[0],s=t[1],i=$A(),a=_f(),l=a[0],A=VA();wK(e.showPreview,s);var c=Bf((r=n==null?void 0:n.unified)!=null?r:n==null?void 0:n.originalUnified),f=c!=null&&n!=null;return S.createElement(d,null);function d(){var u=l??Bf(e.defaultEmoji);if(!u)return null;var h=l?ow(l):e.defaultCaption;return S.createElement(S.Fragment,null,S.createElement("div",null,f?S.createElement(cw,{unified:n==null?void 0:n.unified,emoji:c,emojiStyle:i,size:45,getEmojiUrl:A,className:zt(du.emoji)}):u?S.createElement(cw,{unified:Kn(u),emoji:u,emojiStyle:i,size:45,getEmojiUrl:A,className:zt(du.emoji)}):null),S.createElement("div",{className:zt(du.label)},f?ow(c):h))}}var du=Ir.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"},hideOnReactions:{opacity:"0",transition:"opacity 0.5s ease-in-out"}});function BK(r){var e;return(e=r==null?void 0:r.getAttribute("data-name"))!=null?e:null}function kK(r){var e=r.setActiveCategory,t=r.setVisibleCategories,n=li();S.useEffect(function(){var s=new Map,i=new Map,a=n.current,l=new IntersectionObserver(function(A){if(a){for(var c=GH(A),f;!(f=c()).done;){var d=f.value,u=BK(d.target);u&&(s.set(u,d.intersectionRatio),i.set(u,d.isIntersecting))}var h=Array.from(s),g=h.filter(function(N){var B=N[0],j=N[1];return j>0||i.get(B)}).map(function(N){var B=N[0];return B});t(g);var m=h[h.length-1];if((m==null?void 0:m[1])==1)return e(m[0]);for(var y=0,x=h;y<x.length;y++){var w=x[y],v=w[0],C=w[1];if(C){e(v);break}}}},{root:a,threshold:[0,1]});return a==null||a.querySelectorAll(Ti(Vt.category)).forEach(function(A){l.observe(A)}),function(){l.disconnect()}},[n,e,t])}function jK(){var r=li(),e=Qf();return function(n){var s;if(r.current){var i=(s=r.current)==null?void 0:s.querySelector('[data-name="'+n+'"]');if(i){var a=i.offsetTop||0;GI(e.current,a)}}}}function IK(){var r=Rz();return r?r.length===0:!1}var TK="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+";function MK(r){var e,t=r.isActiveCategory,n=r.category,s=r.allowNavigation,i=r.categoryConfig,a=r.onClick;return S.createElement(wh,{tabIndex:s?0:-1,className:zt(FK.catBtn,GA.categoryBtn,"epr-icn-"+n,(e={},e[Vt.active]=t,e)),onClick:a,"aria-label":bI(i),"aria-selected":t,role:"tab","aria-controls":"epr-category-nav-id"})}var eS={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},DK={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},tS={":not(.epr-search-active)":{catBtn:{":hover":eS,"&.epr-active":eS}}},FK=Ir.create(Sr({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url("+TK+")",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},_l("catBtn",DK),{".epr-dark-theme":Sr({},tS),".epr-auto-theme":Sr({},tS)}));function UK(){var r=S.useState(null),e=r[0],t=r[1],n=Bv(),s=n[1],i=jK();kK({setActiveCategory:t,setVisibleCategories:s});var a=Yp(),l=jv(),A=Tv(),c=IK();return S.createElement("div",{className:zt(RK.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:A},l.map(function(f){var d=$p(f),u=d===e;if(zG(f)&&c)return null;var h=!a&&!u;return S.createElement(MK,{key:d,category:d,isActiveCategory:u,allowNavigation:h,categoryConfig:f,onClick:function(){i(d),setTimeout(function(){t(d)},10)}})}))}var RK=Ir.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),pT="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function _K(){var r=WI(),e=Dz();return S.createElement(wh,{className:zt(rS.btnClearSearch,GA.visibleOnSearchOnly),onClick:r,"aria-label":e,title:e},S.createElement("div",{className:zt(rS.icnClearnSearch)}))}var PK={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},rS=Ir.create(Sr({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+pT+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},_l("icnClearnSearch",{backgroundPositionY:"-40px"}),_l("btnClearSearch",PK))),QK="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+";function OK(){return S.createElement("div",{className:zt(HK.icnSearch)})}var HK=Ir.create(Sr({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url("+QK+")"}},_l("icnSearch",{backgroundPositionY:"-20px"})));function zK(){var r=UI(),e=Dv();return r?null:S.createElement(gT,{className:zt(Yg.overlay)},S.createElement(GK,null),e?S.createElement(mT,null):null)}function GK(){var r=YA(),e=Gl(),t=Mz(),n=Uz(),s=hG(),i=s.statusSearchResults,a=s.searchTerm,l=s.onChange,A=e==null?void 0:e.current,c=A==null?void 0:A.value;return S.createElement(t1,{className:zt(Yg.searchContainer)},S.createElement("input",{autoFocus:n,"aria-label":"Type to search for an emoji",onFocus:r,className:zt(Yg.search),type:"text","aria-controls":"epr-search-id",placeholder:t,onChange:function(d){var u,h;l((u=d==null||(h=d.target)==null?void 0:h.value)!=null?u:c)},ref:e}),a?S.createElement("div",{role:"status",className:zt("epr-status-search-results",Yg.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},i):null,S.createElement(OK,null),S.createElement(_K,null))}var Yg=Ir.create(Sr({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-border-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color-active)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+pT+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},_l("icnClearnSearch",{backgroundPositionY:"-40px"}),_l("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function KK(){return S.createElement(t1,{className:zt("epr-header",GA.hiddenOnReactions)},S.createElement(zK,null),S.createElement(UK,null))}function $K(r){return S.createElement(Jz,null,S.createElement(KH,null),S.createElement(jz,Object.assign({},r),S.createElement(VK,null)))}function VK(){var r=KA(),e=r[0],t=TI(),n=S.useState(!e),s=n[0],i=n[1],a=_z();return S.useEffect(function(){e&&!t||s||i(!0)},[s,t,e]),a?S.createElement(MG,null,S.createElement(eK,null),S.createElement(YK,{renderAll:s})):null}function YK(r){var e=r.renderAll;return e?S.createElement(S.Fragment,null,S.createElement(KK,null),S.createElement(pK,null),S.createElement(EK,null)):null}var WK=S.memo($K,uI),JK=function(r){HH(e,r);function e(n){var s;return s=r.call(this,n)||this,s.state={hasError:!1},s}e.getDerivedStateFromError=function(){return{hasError:!0}};var t=e.prototype;return t.componentDidCatch=function(s,i){console.error("Emoji Picker React failed to render:",s,i)},t.render=function(){return this.state.hasError?null:this.props.children},e}(S.Component);function qK(r){var e=Tz({onEmojiClick:r.onEmojiClick,onReactionClick:r.onReactionClick,onSkinToneChange:r.onSkinToneChange});return S.createElement(JK,null,S.createElement(jI.Provider,{value:e},S.createElement(WK,Object.assign({},r))))}const ZK=()=>{var I;const[r,e]=S.useState([]),[t,n]=S.useState(null),[s,i]=S.useState([]),[a,l]=S.useState(""),[A,c]=S.useState(!0),[f,d]=S.useState(!1),[u,h]=S.useState(!1),[g,m]=S.useState(null),y=S.useRef(null),x=S.useRef(null);S.useEffect(()=>{v()},[]),S.useEffect(()=>{t&&C(t._id)},[t]),S.useEffect(()=>{w()},[s]);const w=()=>{var U;(U=y.current)==null||U.scrollIntoView({behavior:"smooth"})},v=async()=>{try{const{data:U}=await Ce.get("/instructor/courses");e(U),U.length>0&&n(U[0])}catch(U){console.error("Error fetching courses:",U)}finally{c(!1)}},C=async U=>{try{const{data:T}=await Ce.get(`/announcements/course/${U}`);i(T.sort((P,G)=>new Date(P.createdAt)-new Date(G.createdAt)))}catch(T){console.error("Error fetching announcements:",T)}},N=U=>{l(T=>T+U.emoji),h(!1)},B=async U=>{const T=U.target.files[0];if(!T)return;const P=new FormData;P.append("file",T);try{const{data:G}=await Ce.post("/upload",P,{headers:{"Content-Type":"multipart/form-data"}});m({url:G.url,name:G.filename,type:G.type})}catch(G){console.error("File upload error:",G),alert("Error uploading file")}},j=async U=>{if(U.preventDefault(),!(!a.trim()&&!g||!t)){d(!0);try{const T=JSON.parse(localStorage.getItem("user")),P={courseId:t._id,title:"Chat Message",message:a,priority:"medium",createdBy:T.id,attachments:g?[g.url]:[]},{data:G}=await Ce.post("/announcements",P);i([...s,G]),l(""),m(null),h(!1)}catch(T){console.error("Error sending announcement:",T),alert("Failed to send announcement")}finally{d(!1)}}},M=async U=>{if(window.confirm("Delete this announcement?"))try{await Ce.delete(`/announcements/${U}`),i(s.filter(T=>T._id!==U))}catch(T){console.error("Error deleting announcement:",T)}};return A?o.jsx("div",{className:"p-8 text-center text-white",children:"Loading..."}):o.jsxs("div",{className:"flex h-[calc(100vh-2rem)] bg-dark-bg overflow-hidden rounded-xl border border-dark-layer2 shadow-2xl",children:[o.jsxs("div",{className:"hidden lg:flex w-80 bg-dark-layer1 border-r border-dark-layer2 flex-col",children:[o.jsx("div",{className:"p-4 border-b border-dark-layer2",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search courses...",className:"w-full bg-dark-layer2 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary"}),o.jsx(ys,{className:"absolute left-3 top-2.5 text-dark-muted",size:18})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:r.map(U=>o.jsxs("div",{onClick:()=>n(U),className:`p-4 cursor-pointer hover:bg-dark-layer2 transition-colors border-b border-dark-layer2/50 ${(t==null?void 0:t._id)===U._id?"bg-dark-layer2 border-l-4 border-l-brand-primary":""}`,children:[o.jsx("h3",{className:"text-white font-medium truncate",children:U.title}),o.jsxs("p",{className:"text-sm text-dark-muted truncate",children:[U.enrollmentCount||0," subscribers"]})]},U._id))})]}),o.jsxs("div",{className:"flex-1 flex flex-col bg-[#0e1621] relative",children:[o.jsx("div",{className:"p-4 bg-dark-layer1 border-b border-dark-layer2 flex justify-between items-center shadow-md z-10",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-white font-bold text-lg",children:t==null?void 0:t.title}),o.jsxs("p",{className:"text-sm text-brand-primary",children:[((I=r.find(U=>U._id===(t==null?void 0:t._id)))==null?void 0:I.enrollmentCount)||0," subscribers"]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-opacity-50",style:{backgroundImage:'url("https://web.telegram.org/img/bg_0.png")',backgroundBlendMode:"overlay",backgroundColor:"#0e1621"},children:[s.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-dark-muted opacity-70",children:[o.jsx("div",{className:"bg-dark-layer1/50 p-4 rounded-full mb-4",children:o.jsx(vf,{size:48})}),o.jsx("p",{children:"No announcements yet."}),o.jsx("p",{className:"text-sm",children:"Send your first message to subscribers!"})]}):s.map(U=>o.jsx("div",{className:"flex flex-col items-end group",children:o.jsxs("div",{className:"max-w-[70%] bg-[#2b5278] text-white rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl p-3 shadow-sm relative group-hover:shadow-md transition-shadow",children:[o.jsx("p",{className:"whitespace-pre-wrap text-[15px] leading-relaxed",children:U.message}),U.attachments&&U.attachments.map((T,P)=>o.jsxs("div",{className:"mt-2 bg-black/20 p-2 rounded flex items-center gap-2",children:[o.jsx(eL,{size:16,className:"text-blue-300"}),o.jsx("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-300 hover:underline truncate max-w-[200px]",children:"View Attachment"})]},P)),o.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[o.jsx("span",{className:"text-[11px] text-blue-200/70",children:new Date(U.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.jsx(PR,{size:14,className:"text-brand-primary"})]}),o.jsx("button",{onClick:()=>M(U._id),className:"absolute -left-8 top-2 text-red-400 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-dark-layer1 rounded",title:"Delete for everyone",children:o.jsx(os,{size:16})})]})},U._id)),o.jsx("div",{ref:y})]}),o.jsxs("div",{className:"p-4 bg-dark-layer1 border-t border-dark-layer2 relative",children:[u&&o.jsx("div",{className:"absolute bottom-20 right-4 z-50",children:o.jsx(qK,{onEmojiClick:N,theme:"dark"})}),g&&o.jsxs("div",{className:"absolute bottom-20 left-4 bg-dark-layer2 border border-white/10 p-2 rounded-lg flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:[o.jsx(eL,{size:16,className:"text-brand-primary"}),o.jsx("span",{className:"text-xs text-white truncate max-w-[200px]",children:g.name}),o.jsx("button",{onClick:()=>m(null),className:"text-red-400 hover:text-red-300",children:o.jsx(hs,{size:14})})]}),o.jsxs("form",{onSubmit:j,className:"flex items-end gap-3 max-w-4xl mx-auto",children:[o.jsx("input",{type:"file",ref:x,className:"hidden",onChange:B}),o.jsx("button",{type:"button",onClick:()=>{var U;return(U=x.current)==null?void 0:U.click()},className:"p-3 text-dark-muted hover:text-white transition-colors",children:o.jsx(XR,{size:24})}),o.jsxs("div",{className:"flex-1 bg-dark-layer2 rounded-2xl flex items-center",children:[o.jsx("textarea",{value:a,onChange:U=>l(U.target.value),placeholder:"Broadcast a message...",className:"w-full bg-transparent text-white p-3 max-h-32 focus:outline-none resize-none",rows:1,onKeyDown:U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),j(U))}}),o.jsx("button",{type:"button",onClick:()=>h(!u),className:"p-3 text-dark-muted hover:text-white transition-colors",children:o.jsx(o_,{size:24})})]}),o.jsx("button",{type:"submit",disabled:!a.trim()&&!g||f,className:`p-3 rounded-full transition-all transform hover:scale-105 ${a.trim()||g?"bg-brand-primary text-white shadow-lg shadow-brand-primary/30":"bg-dark-layer2 text-dark-muted"}`,children:o.jsx(vf,{size:24,className:a.trim()?"ml-1":""})})]})]})]})]})},XK=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(!1),[a,l]=S.useState({code:"",discountType:"percentage",discountValue:"",validFrom:new Date().toISOString().split("T")[0],validUntil:"",usageLimit:"0",minPurchase:"0"});S.useEffect(()=>{A()},[]);const A=async()=>{try{const d=await Ce.get("/mega/coupons");e(d.data)}catch(d){console.error("Error fetching coupons:",d)}finally{n(!1)}},c=async d=>{var u,h;d.preventDefault();try{await Ce.post("/mega/coupons",{...a,discountValue:Number(a.discountValue),usageLimit:Number(a.usageLimit),minPurchase:Number(a.minPurchase)}),A(),i(!1),f()}catch(g){alert("Error creating coupon: "+((h=(u=g.response)==null?void 0:u.data)==null?void 0:h.message)||g.message)}},f=()=>{l({code:"",discountType:"percentage",discountValue:"",validFrom:new Date().toISOString().split("T")[0],validUntil:"",usageLimit:"0",minPurchase:"0"})};return t?o.jsxs("div",{className:"flex items-center justify-center h-96 text-white",children:[o.jsx(Co,{className:"animate-spin mr-2"})," Loading Promotions..."]}):o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("header",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white",children:"Promotion Hub"}),o.jsx("p",{className:"text-dark-muted",children:"Drive sales with custom discount codes and seasonal offers"})]}),o.jsxs("button",{onClick:()=>{f(),i(!0)},className:"flex items-center gap-2 px-6 py-3 bg-brand-primary text-dark-bg font-bold rounded-xl hover:bg-brand-hover transition-all shadow-lg shadow-brand-primary/20",children:[o.jsx(xs,{size:20})," Create New Coupon"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(d=>o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-[2rem] p-8 space-y-6 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 -rotate-12 group-hover:scale-110 transition-transform",children:o.jsx(nL,{size:120,className:"text-white"})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"bg-brand-primary/10 text-brand-primary px-4 py-1.5 rounded-full text-sm font-black tracking-widest uppercase border border-brand-primary/20",children:d.code}),o.jsx("button",{className:"p-2 hover:bg-red-500/10 rounded-xl text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:o.jsx(os,{size:18})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-4xl font-black text-white",children:[d.discountType==="percentage"?`${d.discountValue}%`:`$${d.discountValue}`,o.jsx("span",{className:"text-sm text-dark-muted font-bold ml-2",children:"OFF"})]}),o.jsx("p",{className:"text-xs text-dark-muted font-medium",children:"Applied to All Courses"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/5",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-[10px] font-black text-dark-muted uppercase tracking-widest flex items-center gap-2",children:[o.jsx(Zt,{size:12})," Usage"]}),o.jsxs("p",{className:"text-sm font-bold text-white",children:[d.usedCount," / ",d.usageLimit>0?d.usageLimit:""]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-[10px] font-black text-dark-muted uppercase tracking-widest flex items-center gap-2",children:[o.jsx(Fa,{size:12})," Expires"]}),o.jsx("p",{className:"text-sm font-bold text-white",children:new Date(d.validUntil).toLocaleDateString()})]})]})]},d._id)),r.length===0&&o.jsxs("div",{className:"col-span-3 py-32 bg-dark-layer1/30 border-2 border-dashed border-white/5 rounded-[3rem] flex flex-col items-center justify-center space-y-6",children:[o.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-[2rem] flex items-center justify-center text-dark-muted",children:o.jsx(nL,{size:40})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white font-black text-xl",children:"Boost Your Course Growth"}),o.jsx("p",{className:"text-dark-muted text-sm mt-1",children:"Create your first discount code to attract new students"})]})]})]}),s&&o.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>i(!1)}),o.jsxs("div",{className:"relative bg-dark-layer1 border border-white/10 w-full max-w-lg rounded-[3rem] p-12 overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-10",children:[o.jsx("h2",{className:"text-3xl font-black text-white",children:"New Promotion"}),o.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/5 rounded-full text-dark-muted",children:o.jsx(hs,{size:24})})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Coupon Code"}),o.jsx("input",{type:"text",required:!0,value:a.code,onChange:d=>l({...a,code:d.target.value.toUpperCase()}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white font-black tracking-widest focus:outline-none focus:border-brand-primary uppercase",placeholder:"e.g. ORBITFLOW50"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Type"}),o.jsxs("div",{className:"flex bg-dark-layer2 p-1.5 rounded-2xl border border-white/5",children:[o.jsxs("button",{type:"button",onClick:()=>l({...a,discountType:"percentage"}),className:`flex-1 py-3 rounded-xl flex items-center justify-center gap-2 transition-all ${a.discountType==="percentage"?"bg-brand-primary text-dark-bg":"text-dark-muted hover:text-white"}`,children:[o.jsx(t_,{size:18})," ",o.jsx("span",{className:"text-xs font-black",children:"PERCENT"})]}),o.jsxs("button",{type:"button",onClick:()=>l({...a,discountType:"fixed"}),className:`flex-1 py-3 rounded-xl flex items-center justify-center gap-2 transition-all ${a.discountType==="fixed"?"bg-brand-primary text-dark-bg":"text-dark-muted hover:text-white"}`,children:[o.jsx(Cn,{size:18})," ",o.jsx("span",{className:"text-xs font-black",children:"FIXED"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Value"}),o.jsx("input",{type:"number",required:!0,value:a.discountValue,onChange:d=>l({...a,discountValue:d.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none",placeholder:a.discountType==="percentage"?"50%":"$50"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Valid Until"}),o.jsx("input",{type:"date",required:!0,value:a.validUntil,onChange:d=>l({...a,validUntil:d.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Usage Limit"}),o.jsx("input",{type:"number",value:a.usageLimit,onChange:d=>l({...a,usageLimit:d.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none",placeholder:"0 for unlimited"})]})]}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"w-full py-5 bg-brand-primary text-dark-bg font-black rounded-2xl hover:bg-brand-hover shadow-xl shadow-brand-primary/20 transition-all uppercase tracking-[0.2em]",children:"Activate Promotion"})})]})]})]})]})},e$=()=>{const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState(!0),[a,l]=S.useState(!1),[A,c]=S.useState([]),[f,d]=S.useState({title:"",description:"",price:"",discountPercentage:"10",tag:"NEW BUNDLE",bg:"from-brand-primary to-orange-600"});S.useEffect(()=>{u()},[]);const u=async()=>{try{const[y,x]=await Promise.all([Ce.get("/mega/bundles"),Ce.get("/instructor/courses")]);e(y.data),n(x.data)}catch(y){console.error("Error fetching data:",y)}finally{i(!1)}},h=y=>{A.includes(y)?c(A.filter(x=>x!==y)):c([...A,y])},g=async y=>{var w,v;if(y.preventDefault(),A.length<2)return alert("Select at least 2 courses to create a bundle");const x={...f,courses:A,price:Number(f.price),discountPercentage:Number(f.discountPercentage)};try{await Ce.post("/mega/bundles",x),u(),l(!1),m()}catch(C){console.error("Bundle creation error:",C),alert(((v=(w=C.response)==null?void 0:w.data)==null?void 0:v.message)||"Error creating bundle: "+C.message)}},m=()=>{d({title:"",description:"",price:"",discountPercentage:"10",tag:"NEW BUNDLE",bg:"from-brand-primary to-orange-600"}),c([])};return s?o.jsxs("div",{className:"flex items-center justify-center h-96 text-white",children:[o.jsx(Co,{className:"animate-spin mr-2"})," Loading Bundles..."]}):o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("header",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white",children:"Bundle Creator"}),o.jsx("p",{className:"text-dark-muted",children:"Package your courses together and offer exclusive deals"})]}),o.jsxs("button",{onClick:()=>{m(),l(!0)},className:"flex items-center gap-2 px-6 py-3 bg-brand-primary text-dark-bg font-bold rounded-xl hover:bg-brand-hover transition-all",children:[o.jsx(xs,{size:20})," Create New Bundle"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.map(y=>o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-[2.5rem] p-8 flex flex-col group hover:border-brand-primary/30 transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsx("div",{className:`p-4 rounded-3xl bg-gradient-to-br ${y.bg} text-white shadow-lg`,children:o.jsx(bf,{size:32})}),o.jsx("button",{className:"p-2 hover:bg-red-500/10 rounded-xl text-red-400 transition-colors",children:o.jsx(os,{size:20})})]}),o.jsxs("div",{className:"space-y-4 flex-1",children:[o.jsx("h3",{className:"text-2xl font-black text-white leading-tight",children:y.title}),o.jsx("div",{className:"flex flex-wrap gap-2",children:y.courses.map(x=>o.jsx("span",{className:"text-[10px] font-bold bg-dark-layer2 px-2 py-1 rounded-lg text-dark-muted border border-white/5",children:x.title},x._id))}),o.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[o.jsxs("span",{className:"text-3xl font-black text-white",children:["$",y.price]}),o.jsxs("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-black rounded-lg",children:["-",y.discountPercentage,"%"]})]})]})]},y._id)),r.length===0&&o.jsxs("div",{className:"col-span-2 py-20 bg-dark-layer2/10 border-2 border-dashed border-white/5 rounded-[3rem] flex flex-col items-center justify-center space-y-4",children:[o.jsx("div",{className:"p-6 bg-white/5 rounded-full text-dark-muted",children:o.jsx(bf,{size:48})}),o.jsx("p",{className:"text-dark-muted font-black uppercase tracking-widest text-sm",children:"No Bundles Created Yet"})]})]}),a&&o.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>l(!1)}),o.jsxs("div",{className:"relative bg-dark-layer1 border border-white/10 w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-[3rem] flex flex-col",children:[o.jsxs("div",{className:"p-10 pb-0 flex justify-between items-center",children:[o.jsx("h2",{className:"text-3xl font-black text-white",children:"Create Mastery Bundle"}),o.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/5 rounded-full text-dark-muted",children:o.jsx(X,{size:24})})]}),o.jsx("div",{className:"p-10 flex-1 overflow-y-auto",children:o.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Bundle Title"}),o.jsx("input",{type:"text",required:!0,value:f.title,onChange:y=>d({...f,title:y.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-brand-primary",placeholder:"e.g. Full-Stack Web Mastery"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Description"}),o.jsx("textarea",{required:!0,value:f.description,onChange:y=>d({...f,description:y.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none h-32"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Bundle Price ($)"}),o.jsx("input",{type:"number",required:!0,value:f.price,onChange:y=>d({...f,price:y.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:"Discount (%)"}),o.jsx("input",{type:"number",required:!0,value:f.discountPercentage,onChange:y=>d({...f,discountPercentage:y.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:["Select Courses (",A.length,")"]}),o.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:t.map(y=>o.jsxs("div",{onClick:()=>h(y._id),className:`p-4 border-2 rounded-2xl flex items-center gap-4 cursor-pointer transition-all ${A.includes(y._id)?"border-brand-primary bg-brand-primary/5":"border-white/5 bg-white/5 hover:border-white/10"}`,children:[o.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${A.includes(y._id)?"bg-brand-primary text-dark-bg":"bg-dark-layer1 text-dark-muted"}`,children:A.includes(y._id)?o.jsx(na,{size:18,strokeWidth:4}):o.jsx(xs,{size:18})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-bold text-white line-clamp-1",children:y.title}),o.jsxs("p",{className:"text-[10px] text-dark-muted",children:["$",y.price]})]})]},y._id))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"w-full py-5 bg-brand-primary text-dark-bg font-black rounded-2xl hover:bg-brand-hover shadow-xl shadow-brand-primary/20 transition-all uppercase tracking-[0.2em]",children:"Publish Bundle"})})]})]})})]})]})]})},t$=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(null),[a,l]=S.useState(null),[A,c]=S.useState(!1);S.useEffect(()=>{f()},[]);const f=async()=>{try{const x=await Ce.get("/instructor/courses");e(x.data),x.data.length>0&&d(x.data[0])}catch(x){console.error("Error fetching courses:",x)}finally{n(!1)}},d=async x=>{i(x),l(null);try{const w=await Ce.get(`/mega/assessments/${x._id}`);w.data?l(w.data):l({title:`Mastery Test: ${x.title}`,courseId:x._id,questions:[{questionText:"",options:["","","",""],correctAnswerIndex:0,points:1}],passingScore:70,durationLimit:30})}catch{console.error("Error fetching assessment")}},u=()=>{l({...a,questions:[...a.questions,{questionText:"",options:["","","",""],correctAnswerIndex:0,points:1}]})},h=(x,w,v)=>{const C=[...a.questions];C[x][w]=v,l({...a,questions:C})},g=(x,w,v)=>{const C=[...a.questions];C[x].options[w]=v,l({...a,questions:C})},m=x=>{const w=a.questions.filter((v,C)=>C!==x);l({...a,questions:w})},y=async()=>{var x,w;c(!0);try{await Ce.post("/mega/assessments",a),alert("Assessment saved successfully!")}catch(v){console.error(v),alert(((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Error saving assessment")}finally{c(!1)}};return t?o.jsxs("div",{className:"flex items-center justify-center h-96 text-white",children:[o.jsx(Co,{className:"animate-spin mr-2"})," Loading Courses..."]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 p-6 min-h-[85vh]",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-white",children:"Select Course"}),o.jsx("p",{className:"text-xs text-dark-muted mt-1",children:"Build quizzes for your modules"})]}),o.jsx("div",{className:"space-y-3 bg-dark-layer1 border border-white/5 rounded-[2rem] p-4 overflow-y-auto max-h-[70vh] custom-scrollbar",children:r.map(x=>o.jsxs("div",{onClick:()=>d(x),className:`p-4 rounded-2xl cursor-pointer transition-all border flex items-center justify-between group ${(s==null?void 0:s._id)===x._id?"bg-brand-primary border-brand-primary":"bg-white/5 border-transparent hover:bg-white/10"}`,children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-sm font-black truncate ${(s==null?void 0:s._id)===x._id?"text-dark-bg":"text-white"}`,children:x.title}),o.jsxs("p",{className:`text-[10px] uppercase tracking-widest font-bold ${(s==null?void 0:s._id)===x._id?"text-dark-bg/60":"text-dark-muted"}`,children:["$",x.price]})]}),o.jsx(jp,{size:18,className:(s==null?void 0:s._id)===x._id?"text-dark-bg":"text-dark-muted group-hover:text-white"})]},x._id))})]}),o.jsx("div",{className:"lg:col-span-3 space-y-8 bg-dark-layer1 border border-white/10 rounded-[3rem] p-10 relative overflow-hidden",children:s?a?o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 border-b border-white/5 pb-10",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white",children:a.title}),o.jsxs("p",{className:"text-dark-muted flex items-center gap-2 mt-1",children:[o.jsx(Io,{size:14})," Powering learning validation for ",o.jsx("span",{className:"text-white font-bold",children:s.title})]})]}),o.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[o.jsxs("div",{className:"bg-dark-layer2 border border-white/5 rounded-2xl p-3 flex items-center gap-4 px-6 text-white font-bold text-sm",children:[o.jsx(jn,{size:18,className:"text-brand-primary"})," ",a.durationLimit," min"]}),o.jsxs("button",{onClick:y,disabled:A,className:"px-8 py-3 bg-brand-primary text-dark-bg font-black rounded-2xl hover:bg-brand-hover shadow-xl shadow-brand-primary/20 transition-all flex items-center gap-2",children:[A?o.jsx(Co,{className:"animate-spin",size:20}):o.jsx(na,{size:20})," Save Assessment"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black text-dark-muted uppercase tracking-[0.2em]",children:"Passing Score (%)"}),o.jsx("input",{type:"number",value:a.passingScore,onChange:x=>l({...a,passingScore:x.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-brand-primary"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black text-dark-muted uppercase tracking-[0.2em]",children:"Time Limit (Minutes)"}),o.jsx("input",{type:"number",value:a.durationLimit,onChange:x=>l({...a,durationLimit:x.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-brand-primary"})]})]}),o.jsxs("div",{className:"space-y-10 pt-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:["Questions ",o.jsx("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs font-bold text-dark-muted",children:a.questions.length})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-brand-primary font-black text-xs uppercase tracking-widest hover:text-white transition-colors",children:[o.jsx(xs,{size:16})," Add Multiple Choice Question"]})]}),o.jsx("div",{className:"space-y-8 pb-10",children:a.questions.map((x,w)=>o.jsxs("div",{className:"bg-dark-layer2/30 border border-white/5 rounded-[2rem] p-8 space-y-6 relative group",children:[o.jsx("button",{onClick:()=>m(w),className:"absolute top-8 right-8 text-red-400 opacity-0 group-hover:opacity-100 transition-all hover:scale-110",children:o.jsx(os,{size:18})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.2em]",children:["Question ",w+1]}),o.jsx("textarea",{value:x.questionText,onChange:v=>h(w,"questionText",v.target.value),className:"w-full bg-dark-layer2 border border-white/5 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-brand-primary h-24 placeholder-dark-muted",placeholder:"Ask your question here..."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.options.map((v,C)=>o.jsxs("div",{className:`flex items-center gap-4 bg-dark-layer1 border px-4 py-2 rounded-2xl transition-all ${x.correctAnswerIndex===C?"border-brand-primary bg-brand-primary/10":"border-white/5"}`,children:[o.jsx("button",{onClick:()=>h(w,"correctAnswerIndex",C),className:`w-6 h-6 rounded-lg flex items-center justify-center transition-all ${x.correctAnswerIndex===C?"bg-brand-primary text-dark-bg":"bg-dark-layer2 text-dark-muted"}`,children:x.correctAnswerIndex===C?o.jsx(na,{size:14,strokeWidth:4}):C+1}),o.jsx("input",{type:"text",value:v,onChange:N=>g(w,C,N.target.value),className:"flex-1 bg-transparent border-none text-sm text-white focus:outline-none",placeholder:`Option ${C+1}`})]},C))})]},w))})]})]}):o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(Co,{className:"animate-spin text-brand-primary"})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-32 space-y-6 text-center",children:[o.jsx(ps,{size:80,className:"text-dark-muted opacity-20"}),o.jsx("h3",{className:"text-2xl font-black text-white",children:"Start Building Knowledge Tests"}),o.jsx("p",{className:"text-dark-muted max-w-sm",children:"Select a course from the left panel to create or edit its assessment and quizzes."})]})})]})},r$=()=>{const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState(!0),[a,l]=S.useState(!1),[A,c]=S.useState({title:"",description:"",scheduledAt:"",duration:60,meetingLink:"",courseId:"",isPublic:!1});S.useEffect(()=>{f(),d()},[]);const f=async()=>{try{const{data:g}=await Ce.get("/live");e(g)}catch(g){console.error("Error fetching sessions:",g)}finally{i(!1)}},d=async()=>{try{const{data:g}=await Ce.get("/instructor/courses");n(g.courses||[])}catch(g){console.error("Error fetching courses:",g)}},u=async g=>{var m,y;g.preventDefault();try{const x={...A,courseId:A.courseId||null};await Ce.post("/live",x),f(),l(!1),c({title:"",description:"",scheduledAt:"",duration:60,meetingLink:"",courseId:"",isPublic:!1})}catch(x){console.error("Session creation error:",x),alert(((y=(m=x.response)==null?void 0:m.data)==null?void 0:y.message)||"Error creating session")}},h=async g=>{if(window.confirm("Delete this session?"))try{await Ce.delete(`/live/${g}`),e(r.filter(m=>m._id!==g))}catch{alert("Error deleting session")}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("header",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"Live Sessions"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Schedule and manage your webinars"})]}),o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-6 py-3 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-xl transition-all",children:[o.jsx(xs,{size:20})," Schedule Session"]})]}),s?o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading..."}):r.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(Cf,{size:48,className:"mx-auto text-dark-muted opacity-50 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"No Upcoming Sessions"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Schedule your first live class now!"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(g=>o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-2xl p-6 hover:border-brand-primary/30 transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider ${g.isPublic?"bg-green-500/10 text-green-400":"bg-blue-500/10 text-blue-400"}`,children:g.isPublic?"Public":"Course Only"}),o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{onClick:()=>h(g._id),className:"p-2 hover:bg-white/5 rounded-lg text-red-400 transition-colors",children:o.jsx(os,{size:16})})})]}),o.jsx("h3",{className:"text-xl font-black text-white mb-2",children:g.title}),o.jsxs("div",{className:"space-y-2 text-sm text-dark-muted mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fa,{size:14,className:"text-brand-primary"}),new Date(g.scheduledAt).toLocaleString()]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jn,{size:14,className:"text-brand-primary"}),g.duration," minutes"]}),g.courseId&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(EA,{size:14,className:"text-brand-primary"}),g.courseId.title]})]}),o.jsxs("a",{href:g.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-white/5 hover:bg-brand-primary hover:text-dark-bg text-white font-bold rounded-xl border border-white/10 transition-all",children:[o.jsx(Gk,{size:16})," Join Meeting"]})]},g._id))}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-3xl border border-white/10 p-8 max-w-xl w-full",children:[o.jsx("h2",{className:"text-2xl font-black text-white mb-6",children:"Schedule Session"}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Title"}),o.jsx("input",{required:!0,className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",value:A.title,onChange:g=>c({...A,title:g.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Date & Time"}),o.jsx("input",{required:!0,type:"datetime-local",className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",value:A.scheduledAt,onChange:g=>c({...A,scheduledAt:g.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Duration (min)"}),o.jsx("input",{required:!0,type:"number",className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",value:A.duration,onChange:g=>c({...A,duration:Number(g.target.value)})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Meeting Link (Zoom/Jitsi)"}),o.jsx("input",{required:!0,type:"url",className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",value:A.meetingLink,onChange:g=>c({...A,meetingLink:g.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Linked Course (Optional)"}),o.jsxs("select",{className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",value:A.courseId,onChange:g=>c({...A,courseId:g.target.value}),children:[o.jsx("option",{value:"",children:"None (Public Event)"}),t.map(g=>o.jsx("option",{value:g._id,children:g.title},g._id))]})]}),o.jsxs("div",{className:"flex items-center gap-3 py-2",children:[o.jsx("input",{type:"checkbox",id:"isPublic",className:"w-5 h-5 rounded border-white/10 bg-dark-layer2",checked:A.isPublic,onChange:g=>c({...A,isPublic:g.target.checked})}),o.jsx("label",{htmlFor:"isPublic",className:"text-white font-bold",children:"Make Public (Visible to all students)"})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-brand-primary text-dark-bg font-black py-3 rounded-xl",children:"Schedule"}),o.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 bg-white/5 text-white font-black py-3 rounded-xl border border-white/10",children:"Cancel"})]})]})]})})]})},n$=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(!1),[a,l]=S.useState({title:"",content:"",category:"general",tags:"",coverImage:"",isPublished:!0});S.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:f}=await Ce.get("/articles"),d=JSON.parse(localStorage.getItem("user")),u=f.filter(h=>{var g;return((g=h.authorId)==null?void 0:g._id)===d._id||h.authorId===d._id});e(u)}catch(f){console.error("Error fetching articles:",f)}finally{n(!1)}},c=async f=>{var d,u;f.preventDefault();try{const h={...a,tags:a.tags.split(",").map(g=>g.trim())};await Ce.post("/articles",h),A(),i(!1),l({title:"",content:"",category:"general",tags:"",coverImage:"",isPublished:!0})}catch(h){console.error("Article creation error:",h),alert(((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.message)||"Error creating article")}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("header",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"Blog Articles"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Share your knowledge with the community"})]}),o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-6 py-3 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-xl transition-all",children:[o.jsx(xs,{size:20})," Write Article"]})]}),t?o.jsx("div",{className:"text-center py-20 text-dark-muted",children:"Loading articles..."}):r.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(iu,{size:48,className:"mx-auto text-dark-muted opacity-50 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"No Articles Yet"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Start writing to build your personal brand!"})]}):o.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(f=>o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-2xl p-6 flex flex-col md:flex-row items-start md:items-center gap-6 group hover:border-brand-primary/30 transition-all",children:[o.jsx("div",{className:"w-full md:w-48 aspect-video bg-dark-layer2 rounded-xl overflow-hidden flex-shrink-0",children:f.coverImage?o.jsx("img",{src:f.coverImage,alt:"",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-dark-muted",children:o.jsx(Hk,{size:24})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-white/5 text-xs font-bold text-dark-muted uppercase tracking-wider border border-white/5",children:f.category}),f.isPublished?o.jsxs("span",{className:"text-green-400 text-xs font-bold flex items-center gap-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Published"]}):o.jsxs("span",{className:"text-yellow-400 text-xs font-bold flex items-center gap-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"})," Draft"]})]}),o.jsx("h3",{className:"text-xl font-bold text-white truncate",children:f.title}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-dark-muted",children:[o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(Im,{size:14})," ",f.views," views"]}),o.jsx("span",{children:new Date(f.createdAt).toLocaleDateString()})]})]}),o.jsxs("div",{className:"flex items-center gap-2 self-end md:self-center",children:[o.jsx(kt,{to:`/blog/${f.slug}`,className:"p-2 hover:bg-white/5 rounded-lg text-brand-primary transition-colors",title:"View",children:o.jsx(Im,{size:18})}),o.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg text-red-400 transition-colors",title:"Delete (Only Admin for now)",children:o.jsx(os,{size:18})})]})]},f._id))}),s&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-3xl border border-white/10 p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-2xl font-black text-white mb-6",children:"Write Article"}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Title"}),o.jsx("input",{required:!0,className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white text-lg font-bold focus:border-brand-primary outline-none transition-colors",placeholder:"Enter a catchy title...",value:a.title,onChange:f=>l({...a,title:f.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Category"}),o.jsxs("select",{className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white focus:border-brand-primary outline-none",value:a.category,onChange:f=>l({...a,category:f.target.value}),children:[o.jsx("option",{value:"general",children:"General"}),o.jsx("option",{value:"tutorial",children:"Tutorial"}),o.jsx("option",{value:"news",children:"News"}),o.jsx("option",{value:"career",children:"Career"}),o.jsx("option",{value:"tech",children:"Tech"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Cover Image URL"}),o.jsx("input",{type:"url",className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white focus:border-brand-primary outline-none",placeholder:"https://...",value:a.coverImage,onChange:f=>l({...a,coverImage:f.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Content"}),o.jsx("textarea",{required:!0,className:"w-full h-64 bg-dark-layer2 border border-white/10 rounded-xl p-4 text-white font-mono text-sm focus:border-brand-primary outline-none resize-none",placeholder:"Write your article content here...",value:a.content,onChange:f=>l({...a,content:f.target.value})}),o.jsx("p",{className:"text-xs text-dark-muted mt-2 text-right",children:"Markdown supported"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Tags (comma separated)"}),o.jsx("input",{className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white focus:border-brand-primary outline-none",placeholder:"react, javascript, webdev",value:a.tags,onChange:f=>l({...a,tags:f.target.value})})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-brand-primary text-dark-bg font-black py-4 rounded-xl hover:bg-brand-hover transition-colors",children:"Publish Article"}),o.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 bg-white/5 text-white font-black py-4 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})})]})},s$="modulepreload",i$=function(r){return"/"+r},nS={},Wx=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(A=>{if(A=i$(A),A in nS)return;nS[A]=!0;const c=A.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":s$,c||(d.as="script"),d.crossOrigin="",d.href=A,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${A}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function ar(r){"@babel/helpers - typeof";return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(r)}var ia=Uint8Array,Xs=Uint16Array,Hv=Int32Array,zv=new ia([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gv=new ia([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sS=new ia([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xT=function(r,e){for(var t=new Xs(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new Hv(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)s[i]=i-t[n]<<5|n;return{b:t,r:s}},yT=xT(zv,2),a$=yT.b,fw=yT.r;a$[28]=258,fw[258]=28;var o$=xT(Gv,0),iS=o$.r,dw=new Xs(32768);for(var Cr=0;Cr<32768;++Cr){var rl=(Cr&43690)>>1|(Cr&21845)<<1;rl=(rl&52428)>>2|(rl&13107)<<2,rl=(rl&61680)>>4|(rl&3855)<<4,dw[Cr]=((rl&65280)>>8|(rl&255)<<8)>>1}var uu=function(r,e,t){for(var n=r.length,s=0,i=new Xs(e);s<n;++s)r[s]&&++i[r[s]-1];var a=new Xs(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(t){l=new Xs(1<<e);var A=15-e;for(s=0;s<n;++s)if(r[s])for(var c=s<<4|r[s],f=e-r[s],d=a[r[s]-1]++<<f,u=d|(1<<f)-1;d<=u;++d)l[dw[d]>>A]=c}else for(l=new Xs(n),s=0;s<n;++s)r[s]&&(l[s]=dw[a[r[s]-1]++]>>15-r[s]);return l},QA=new ia(288);for(var Cr=0;Cr<144;++Cr)QA[Cr]=8;for(var Cr=144;Cr<256;++Cr)QA[Cr]=9;for(var Cr=256;Cr<280;++Cr)QA[Cr]=7;for(var Cr=280;Cr<288;++Cr)QA[Cr]=8;var qm=new ia(32);for(var Cr=0;Cr<32;++Cr)qm[Cr]=5;var l$=uu(QA,9,0),A$=uu(qm,5,0),wT=function(r){return(r+7)/8|0},c$=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new ia(r.subarray(e,t))},lo=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},kd=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Jx=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,i=t.slice();if(!s)return{t:vT,l:0};if(s==1){var a=new ia(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(N,B){return N.f-B.f}),t.push({s:-1,f:25001});var l=t[0],A=t[1],c=0,f=1,d=2;for(t[0]={s:-1,f:l.f+A.f,l,r:A};f!=s-1;)l=t[t[c].f<t[d].f?c++:d++],A=t[c!=f&&t[c].f<t[d].f?c++:d++],t[f++]={s:-1,f:l.f+A.f,l,r:A};for(var u=i[0].s,n=1;n<s;++n)i[n].s>u&&(u=i[n].s);var h=new Xs(u+1),g=uw(t[f-1],h,0);if(g>e){var n=0,m=0,y=g-e,x=1<<y;for(i.sort(function(B,j){return h[j.s]-h[B.s]||B.f-j.f});n<s;++n){var w=i[n].s;if(h[w]>e)m+=x-(1<<g-h[w]),h[w]=e;else break}for(m>>=y;m>0;){var v=i[n].s;h[v]<e?m-=1<<e-h[v]++-1:++n}for(;n>=0&&m;--n){var C=i[n].s;h[C]==e&&(--h[C],++m)}g=e}return{t:new ia(h),l:g}},uw=function(r,e,t){return r.s==-1?Math.max(uw(r.l,e,t+1),uw(r.r,e,t+1)):e[r.s]=t},aS=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Xs(++e),n=0,s=r[0],i=1,a=function(A){t[n++]=A},l=1;l<=e;++l)if(r[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=r[l]}return{c:t.subarray(0,n),n:e}},jd=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},bT=function(r,e,t){var n=t.length,s=wT(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var i=0;i<n;++i)r[s+i+4]=t[i];return(s+4+n)*8},oS=function(r,e,t,n,s,i,a,l,A,c,f){lo(e,f++,t),++s[256];for(var d=Jx(s,15),u=d.t,h=d.l,g=Jx(i,15),m=g.t,y=g.l,x=aS(u),w=x.c,v=x.n,C=aS(m),N=C.c,B=C.n,j=new Xs(19),M=0;M<w.length;++M)++j[w[M]&31];for(var M=0;M<N.length;++M)++j[N[M]&31];for(var I=Jx(j,7),U=I.t,T=I.l,P=19;P>4&&!U[sS[P-1]];--P);var G=c+5<<3,R=jd(s,QA)+jd(i,qm)+a,q=jd(s,u)+jd(i,m)+a+14+3*P+jd(j,U)+2*j[16]+3*j[17]+7*j[18];if(A>=0&&G<=R&&G<=q)return bT(e,f,r.subarray(A,A+c));var Z,oe,H,re;if(lo(e,f,1+(q<R)),f+=2,q<R){Z=uu(u,h,0),oe=u,H=uu(m,y,0),re=m;var ce=uu(U,T,0);lo(e,f,v-257),lo(e,f+5,B-1),lo(e,f+10,P-4),f+=14;for(var M=0;M<P;++M)lo(e,f+3*M,U[sS[M]]);f+=3*P;for(var le=[w,N],D=0;D<2;++D)for(var K=le[D],M=0;M<K.length;++M){var Y=K[M]&31;lo(e,f,ce[Y]),f+=U[Y],Y>15&&(lo(e,f,K[M]>>5&127),f+=K[M]>>12)}}else Z=l$,oe=QA,H=A$,re=qm;for(var M=0;M<l;++M){var se=n[M];if(se>255){var Y=se>>18&31;kd(e,f,Z[Y+257]),f+=oe[Y+257],Y>7&&(lo(e,f,se>>23&31),f+=zv[Y]);var J=se&31;kd(e,f,H[J]),f+=re[J],J>3&&(kd(e,f,se>>5&8191),f+=Gv[J])}else kd(e,f,Z[se]),f+=oe[se]}return kd(e,f,Z[256]),f+oe[256]},f$=new Hv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vT=new ia(0),d$=function(r,e,t,n,s,i){var a=i.z||r.length,l=new ia(n+a+5*(1+Math.ceil(a/7e3))+s),A=l.subarray(n,l.length-s),c=i.l,f=(i.r||0)&7;if(e){f&&(A[0]=i.r>>3);for(var d=f$[e-1],u=d>>13,h=d&8191,g=(1<<t)-1,m=i.p||new Xs(32768),y=i.h||new Xs(g+1),x=Math.ceil(t/3),w=2*x,v=function(We){return(r[We]^r[We+1]<<x^r[We+2]<<w)&g},C=new Hv(25e3),N=new Xs(288),B=new Xs(32),j=0,M=0,I=i.i||0,U=0,T=i.w||0,P=0;I+2<a;++I){var G=v(I),R=I&32767,q=y[G];if(m[R]=q,y[G]=R,T<=I){var Z=a-I;if((j>7e3||U>24576)&&(Z>423||!c)){f=oS(r,A,0,C,N,B,M,U,P,I-P,f),U=j=M=0,P=I;for(var oe=0;oe<286;++oe)N[oe]=0;for(var oe=0;oe<30;++oe)B[oe]=0}var H=2,re=0,ce=h,le=R-q&32767;if(Z>2&&G==v(I-le))for(var D=Math.min(u,Z)-1,K=Math.min(32767,I),Y=Math.min(258,Z);le<=K&&--ce&&R!=q;){if(r[I+H]==r[I+H-le]){for(var se=0;se<Y&&r[I+se]==r[I+se-le];++se);if(se>H){if(H=se,re=le,se>D)break;for(var J=Math.min(le,se-2),ie=0,oe=0;oe<J;++oe){var de=I-le+oe&32767,ae=m[de],he=de-ae&32767;he>ie&&(ie=he,q=de)}}}R=q,q=m[R],le+=R-q&32767}if(re){C[U++]=268435456|fw[H]<<18|iS[re];var Ee=fw[H]&31,_e=iS[re]&31;M+=zv[Ee]+Gv[_e],++N[257+Ee],++B[_e],T=I+H,++j}else C[U++]=r[I],++N[r[I]]}}for(I=Math.max(I,T);I<a;++I)C[U++]=r[I],++N[r[I]];f=oS(r,A,c,C,N,B,M,U,P,I-P,f),c||(i.r=f&7|A[f/8|0]<<3,f-=7,i.h=y,i.p=m,i.i=I,i.w=T)}else{for(var I=i.w||0;I<a+c;I+=65535){var Pe=I+65535;Pe>=a&&(A[f/8|0]=c,Pe=a),f=bT(A,f+1,r.subarray(I,Pe))}i.i=a}return c$(l,0,n+wT(f)+s)},CT=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,i=t.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=t[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},u$=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new ia(i.length+r.length);a.set(i),a.set(r,i.length),r=a,s.w=i.length}return d$(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},LT=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},h$=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=CT();s.p(e.dictionary),LT(r,2,s.d())}};function hw(r,e){e||(e={});var t=CT();t.p(r);var n=u$(r,e,e.dictionary?6:2,4);return h$(n,e),LT(n,n.length-4,t.d()),n}var g$=typeof TextDecoder<"u"&&new TextDecoder,m$=0;try{g$.decode(vT,{stream:!0}),m$=1}catch{}function p$(r){if(Array.isArray(r))return r}function x$(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,s,i,a,l=[],A=!0,c=!1;try{if(i=(t=t.call(r)).next,e!==0)for(;!(A=(n=i.call(t)).done)&&(l.push(n.value),l.length!==e);A=!0);}catch(f){c=!0,s=f}finally{try{if(!A&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw s}}return l}}function lS(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function y$(r,e){if(r){if(typeof r=="string")return lS(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?lS(r,e):void 0}}function w$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AS(r,e){return p$(r)||x$(r,e)||y$(r,e)||w$()}function cS(r,e="utf8"){return new TextDecoder(e).decode(r)}const b$=new TextEncoder;function v$(r){return b$.encode(r)}const C$=1024*8,L$=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),qx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Kv{constructor(e=C$,t={}){sr(this,"buffer");sr(this,"byteLength");sr(this,"byteOffset");sr(this,"length");sr(this,"offset");sr(this,"lastWrittenByte");sr(this,"littleEndian");sr(this,"_data");sr(this,"_mark");sr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof Kv)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=qx[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===L$&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const A=new qx[t](l.buffer);return this.offset+=n,A.reverse(),A}const a=new qx[t](i);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return cS(this.readBytes(e))}decodeText(e=1,t="utf8"){return cS(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(v$(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Of(r){let e=r.length;for(;--e>=0;)r[e]=0}const S$=3,E$=258,ST=29,N$=256,B$=N$+1+ST,ET=30,k$=512,j$=new Array((B$+2)*2);Of(j$);const I$=new Array(ET*2);Of(I$);const T$=new Array(k$);Of(T$);const M$=new Array(E$-S$+1);Of(M$);const D$=new Array(ST);Of(D$);const F$=new Array(ET);Of(F$);const U$=(r,e,t,n)=>{let s=r&65535|0,i=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do s=s+e[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var gw=U$;const R$=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},_$=new Uint32Array(R$()),P$=(r,e,t,n)=>{const s=_$,i=n+t;r^=-1;for(let a=n;a<i;a++)r=r>>>8^s[(r^e[a])&255];return r^-1};var Ca=P$,mw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},NT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Q$=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var O$=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)Q$(t,n)&&(r[n]=t[n])}}return r},H$=r=>{let e=0;for(let n=0,s=r.length;n<s;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,s=0,i=r.length;n<i;n++){let a=r[n];t.set(a,s),s+=a.length}return t},BT={assign:O$,flattenChunks:H$};let kT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{kT=!1}const rh=new Uint8Array(256);for(let r=0;r<256;r++)rh[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;rh[254]=rh[254]=1;var z$=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,s,i,a=r.length,l=0;for(s=0;s<a;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<a&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),i=0,s=0;i<l;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<a&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const G$=(r,e)=>{if(e<65534&&r.subarray&&kT)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var K$=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,s;const i=new Array(t*2);for(s=0,n=0;n<t;){let a=r[n++];if(a<128){i[s++]=a;continue}let l=rh[a];if(l>4){i[s++]=65533,n+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&n<t;)a=a<<6|r[n++]&63,l--;if(l>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return G$(i,s)},$$=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+rh[r[t]]>e?t:e},pw={string2buf:z$,buf2string:K$,utf8border:$$};function V$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Y$=V$;const z0=16209,W$=16191;var J$=function(e,t){let n,s,i,a,l,A,c,f,d,u,h,g,m,y,x,w,v,C,N,B,j,M,I,U;const T=e.state;n=e.next_in,I=e.input,s=n+(e.avail_in-5),i=e.next_out,U=e.output,a=i-(t-e.avail_out),l=i+(e.avail_out-257),A=T.dmax,c=T.wsize,f=T.whave,d=T.wnext,u=T.window,h=T.hold,g=T.bits,m=T.lencode,y=T.distcode,x=(1<<T.lenbits)-1,w=(1<<T.distbits)-1;e:do{g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),v=m[h&x];t:for(;;){if(C=v>>>24,h>>>=C,g-=C,C=v>>>16&255,C===0)U[i++]=v&65535;else if(C&16){N=v&65535,C&=15,C&&(g<C&&(h+=I[n++]<<g,g+=8),N+=h&(1<<C)-1,h>>>=C,g-=C),g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),v=y[h&w];r:for(;;){if(C=v>>>24,h>>>=C,g-=C,C=v>>>16&255,C&16){if(B=v&65535,C&=15,g<C&&(h+=I[n++]<<g,g+=8,g<C&&(h+=I[n++]<<g,g+=8)),B+=h&(1<<C)-1,B>A){e.msg="invalid distance too far back",T.mode=z0;break e}if(h>>>=C,g-=C,C=i-a,B>C){if(C=B-C,C>f&&T.sane){e.msg="invalid distance too far back",T.mode=z0;break e}if(j=0,M=u,d===0){if(j+=c-C,C<N){N-=C;do U[i++]=u[j++];while(--C);j=i-B,M=U}}else if(d<C){if(j+=c+d-C,C-=d,C<N){N-=C;do U[i++]=u[j++];while(--C);if(j=0,d<N){C=d,N-=C;do U[i++]=u[j++];while(--C);j=i-B,M=U}}}else if(j+=d-C,C<N){N-=C;do U[i++]=u[j++];while(--C);j=i-B,M=U}for(;N>2;)U[i++]=M[j++],U[i++]=M[j++],U[i++]=M[j++],N-=3;N&&(U[i++]=M[j++],N>1&&(U[i++]=M[j++]))}else{j=i-B;do U[i++]=U[j++],U[i++]=U[j++],U[i++]=U[j++],N-=3;while(N>2);N&&(U[i++]=U[j++],N>1&&(U[i++]=U[j++]))}}else if(C&64){e.msg="invalid distance code",T.mode=z0;break e}else{v=y[(v&65535)+(h&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){T.mode=W$;break e}else{e.msg="invalid literal/length code",T.mode=z0;break e}else{v=m[(v&65535)+(h&(1<<C)-1)];continue t}break}}while(n<s&&i<l);N=g>>3,n-=N,g-=N<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<l?257+(l-i):257-(i-l),T.hold=h,T.bits=g};const pc=15,fS=852,dS=592,uS=0,Zx=1,hS=2,q$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Z$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),X$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eV=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tV=(r,e,t,n,s,i,a,l)=>{const A=l.bits;let c=0,f=0,d=0,u=0,h=0,g=0,m=0,y=0,x=0,w=0,v,C,N,B,j,M=null,I;const U=new Uint16Array(pc+1),T=new Uint16Array(pc+1);let P=null,G,R,q;for(c=0;c<=pc;c++)U[c]=0;for(f=0;f<n;f++)U[e[t+f]]++;for(h=A,u=pc;u>=1&&U[u]===0;u--);if(h>u&&(h=u),u===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(d=1;d<u&&U[d]===0;d++);for(h<d&&(h=d),y=1,c=1;c<=pc;c++)if(y<<=1,y-=U[c],y<0)return-1;if(y>0&&(r===uS||u!==1))return-1;for(T[1]=0,c=1;c<pc;c++)T[c+1]=T[c]+U[c];for(f=0;f<n;f++)e[t+f]!==0&&(a[T[e[t+f]]++]=f);if(r===uS?(M=P=a,I=20):r===Zx?(M=q$,P=Z$,I=257):(M=X$,P=eV,I=0),w=0,f=0,c=d,j=i,g=h,m=0,N=-1,x=1<<h,B=x-1,r===Zx&&x>fS||r===hS&&x>dS)return 1;for(;;){G=c-m,a[f]+1<I?(R=0,q=a[f]):a[f]>=I?(R=P[a[f]-I],q=M[a[f]-I]):(R=96,q=0),v=1<<c-m,C=1<<g,d=C;do C-=v,s[j+(w>>m)+C]=G<<24|R<<16|q|0;while(C!==0);for(v=1<<c-1;w&v;)v>>=1;if(v!==0?(w&=v-1,w+=v):w=0,f++,--U[c]===0){if(c===u)break;c=e[t+a[f]]}if(c>h&&(w&B)!==N){for(m===0&&(m=h),j+=d,g=c-m,y=1<<g;g+m<u&&(y-=U[g+m],!(y<=0));)g++,y<<=1;if(x+=1<<g,r===Zx&&x>fS||r===hS&&x>dS)return 1;N=w&B,s[N]=h<<24|g<<16|j-i|0}}return w!==0&&(s[j+w]=c-m<<24|64<<16|0),l.bits=h,0};var hu=tV;const rV=0,jT=1,IT=2,{Z_FINISH:gS,Z_BLOCK:nV,Z_TREES:G0,Z_OK:OA,Z_STREAM_END:sV,Z_NEED_DICT:iV,Z_STREAM_ERROR:Mi,Z_DATA_ERROR:TT,Z_MEM_ERROR:MT,Z_BUF_ERROR:aV,Z_DEFLATED:mS}=NT,r1=16180,pS=16181,xS=16182,yS=16183,wS=16184,bS=16185,vS=16186,CS=16187,LS=16188,SS=16189,Zm=16190,Ao=16191,Xx=16192,ES=16193,e2=16194,NS=16195,BS=16196,kS=16197,jS=16198,K0=16199,$0=16200,IS=16201,TS=16202,MS=16203,DS=16204,FS=16205,t2=16206,US=16207,RS=16208,Br=16209,DT=16210,FT=16211,oV=852,lV=592,AV=15,cV=AV,_S=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function fV(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const JA=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<r1||e.mode>FT?1:0},UT=r=>{if(JA(r))return Mi;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=r1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(oV),e.distcode=e.distdyn=new Int32Array(lV),e.sane=1,e.back=-1,OA},RT=r=>{if(JA(r))return Mi;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,UT(r)},_T=(r,e)=>{let t;if(JA(r))return Mi;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Mi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,RT(r))},PT=(r,e)=>{if(!r)return Mi;const t=new fV;r.state=t,t.strm=r,t.window=null,t.mode=r1;const n=_T(r,e);return n!==OA&&(r.state=null),n},dV=r=>PT(r,cV);let PS=!0,r2,n2;const uV=r=>{if(PS){r2=new Int32Array(512),n2=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(hu(jT,r.lens,0,288,r2,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;hu(IT,r.lens,0,32,n2,0,r.work,{bits:5}),PS=!1}r.lencode=r2,r.lenbits=9,r.distcode=n2,r.distbits=5},QT=(r,e,t,n)=>{let s;const i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(t-n,t-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(t-n,t),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},hV=(r,e)=>{let t,n,s,i,a,l,A,c,f,d,u,h,g,m,y=0,x,w,v,C,N,B,j,M;const I=new Uint8Array(4);let U,T;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(JA(r)||!r.output||!r.input&&r.avail_in!==0)return Mi;t=r.state,t.mode===Ao&&(t.mode=Xx),a=r.next_out,s=r.output,A=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,c=t.hold,f=t.bits,d=l,u=A,M=OA;e:for(;;)switch(t.mode){case r1:if(t.wrap===0){t.mode=Xx;break}for(;f<16;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=c&255,I[1]=c>>>8&255,t.check=Ca(t.check,I,2,0),c=0,f=0,t.mode=pS;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){r.msg="incorrect header check",t.mode=Br;break}if((c&15)!==mS){r.msg="unknown compression method",t.mode=Br;break}if(c>>>=4,f-=4,j=(c&15)+8,t.wbits===0&&(t.wbits=j),j>15||j>t.wbits){r.msg="invalid window size",t.mode=Br;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=c&512?SS:Ao,c=0,f=0;break;case pS:for(;f<16;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(t.flags=c,(t.flags&255)!==mS){r.msg="unknown compression method",t.mode=Br;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Br;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=Ca(t.check,I,2,0)),c=0,f=0,t.mode=xS;case xS:for(;f<32;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,t.check=Ca(t.check,I,4,0)),c=0,f=0,t.mode=yS;case yS:for(;f<16;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=Ca(t.check,I,2,0)),c=0,f=0,t.mode=wS;case wS:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,t.check=Ca(t.check,I,2,0)),c=0,f=0}else t.head&&(t.head.extra=null);t.mode=bS;case bS:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(j=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(i,i+h),j)),t.flags&512&&t.wrap&4&&(t.check=Ca(t.check,n,h,i)),l-=h,i+=h,t.length-=h),t.length))break e;t.length=0,t.mode=vS;case vS:if(t.flags&2048){if(l===0)break e;h=0;do j=n[i+h++],t.head&&j&&t.length<65536&&(t.head.name+=String.fromCharCode(j));while(j&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=Ca(t.check,n,h,i)),l-=h,i+=h,j)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=CS;case CS:if(t.flags&4096){if(l===0)break e;h=0;do j=n[i+h++],t.head&&j&&t.length<65536&&(t.head.comment+=String.fromCharCode(j));while(j&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=Ca(t.check,n,h,i)),l-=h,i+=h,j)break e}else t.head&&(t.head.comment=null);t.mode=LS;case LS:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(t.wrap&4&&c!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Br;break}c=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Ao;break;case SS:for(;f<32;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}r.adler=t.check=_S(c),c=0,f=0,t.mode=Zm;case Zm:if(t.havedict===0)return r.next_out=a,r.avail_out=A,r.next_in=i,r.avail_in=l,t.hold=c,t.bits=f,iV;r.adler=t.check=1,t.mode=Ao;case Ao:if(e===nV||e===G0)break e;case Xx:if(t.last){c>>>=f&7,f-=f&7,t.mode=t2;break}for(;f<3;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}switch(t.last=c&1,c>>>=1,f-=1,c&3){case 0:t.mode=ES;break;case 1:if(uV(t),t.mode=K0,e===G0){c>>>=2,f-=2;break e}break;case 2:t.mode=BS;break;case 3:r.msg="invalid block type",t.mode=Br}c>>>=2,f-=2;break;case ES:for(c>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Br;break}if(t.length=c&65535,c=0,f=0,t.mode=e2,e===G0)break e;case e2:t.mode=NS;case NS:if(h=t.length,h){if(h>l&&(h=l),h>A&&(h=A),h===0)break e;s.set(n.subarray(i,i+h),a),l-=h,i+=h,A-=h,a+=h,t.length-=h;break}t.mode=Ao;break;case BS:for(;f<14;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(t.nlen=(c&31)+257,c>>>=5,f-=5,t.ndist=(c&31)+1,c>>>=5,f-=5,t.ncode=(c&15)+4,c>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Br;break}t.have=0,t.mode=kS;case kS:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}t.lens[P[t.have++]]=c&7,c>>>=3,f-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},M=hu(rV,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,M){r.msg="invalid code lengths set",t.mode=Br;break}t.have=0,t.mode=jS;case jS:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[c&(1<<t.lenbits)-1],x=y>>>24,w=y>>>16&255,v=y&65535,!(x<=f);){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(v<16)c>>>=x,f-=x,t.lens[t.have++]=v;else{if(v===16){for(T=x+2;f<T;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(c>>>=x,f-=x,t.have===0){r.msg="invalid bit length repeat",t.mode=Br;break}j=t.lens[t.have-1],h=3+(c&3),c>>>=2,f-=2}else if(v===17){for(T=x+3;f<T;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}c>>>=x,f-=x,j=0,h=3+(c&7),c>>>=3,f-=3}else{for(T=x+7;f<T;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}c>>>=x,f-=x,j=0,h=11+(c&127),c>>>=7,f-=7}if(t.have+h>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Br;break}for(;h--;)t.lens[t.have++]=j}}if(t.mode===Br)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Br;break}if(t.lenbits=9,U={bits:t.lenbits},M=hu(jT,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,M){r.msg="invalid literal/lengths set",t.mode=Br;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},M=hu(IT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,M){r.msg="invalid distances set",t.mode=Br;break}if(t.mode=K0,e===G0)break e;case K0:t.mode=$0;case $0:if(l>=6&&A>=258){r.next_out=a,r.avail_out=A,r.next_in=i,r.avail_in=l,t.hold=c,t.bits=f,J$(r,u),a=r.next_out,s=r.output,A=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,c=t.hold,f=t.bits,t.mode===Ao&&(t.back=-1);break}for(t.back=0;y=t.lencode[c&(1<<t.lenbits)-1],x=y>>>24,w=y>>>16&255,v=y&65535,!(x<=f);){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(w&&!(w&240)){for(C=x,N=w,B=v;y=t.lencode[B+((c&(1<<C+N)-1)>>C)],x=y>>>24,w=y>>>16&255,v=y&65535,!(C+x<=f);){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}c>>>=C,f-=C,t.back+=C}if(c>>>=x,f-=x,t.back+=x,t.length=v,w===0){t.mode=FS;break}if(w&32){t.back=-1,t.mode=Ao;break}if(w&64){r.msg="invalid literal/length code",t.mode=Br;break}t.extra=w&15,t.mode=IS;case IS:if(t.extra){for(T=t.extra;f<T;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=TS;case TS:for(;y=t.distcode[c&(1<<t.distbits)-1],x=y>>>24,w=y>>>16&255,v=y&65535,!(x<=f);){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(!(w&240)){for(C=x,N=w,B=v;y=t.distcode[B+((c&(1<<C+N)-1)>>C)],x=y>>>24,w=y>>>16&255,v=y&65535,!(C+x<=f);){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}c>>>=C,f-=C,t.back+=C}if(c>>>=x,f-=x,t.back+=x,w&64){r.msg="invalid distance code",t.mode=Br;break}t.offset=v,t.extra=w&15,t.mode=MS;case MS:if(t.extra){for(T=t.extra;f<T;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Br;break}t.mode=DS;case DS:if(A===0)break e;if(h=u-A,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Br;break}h>t.wnext?(h-=t.wnext,g=t.wsize-h):g=t.wnext-h,h>t.length&&(h=t.length),m=t.window}else m=s,g=a-t.offset,h=t.length;h>A&&(h=A),A-=h,t.length-=h;do s[a++]=m[g++];while(--h);t.length===0&&(t.mode=$0);break;case FS:if(A===0)break e;s[a++]=t.length,A--,t.mode=$0;break;case t2:if(t.wrap){for(;f<32;){if(l===0)break e;l--,c|=n[i++]<<f,f+=8}if(u-=A,r.total_out+=u,t.total+=u,t.wrap&4&&u&&(r.adler=t.check=t.flags?Ca(t.check,s,u,a-u):gw(t.check,s,u,a-u)),u=A,t.wrap&4&&(t.flags?c:_S(c))!==t.check){r.msg="incorrect data check",t.mode=Br;break}c=0,f=0}t.mode=US;case US:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,c+=n[i++]<<f,f+=8}if(t.wrap&4&&c!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Br;break}c=0,f=0}t.mode=RS;case RS:M=sV;break e;case Br:M=TT;break e;case DT:return MT;case FT:default:return Mi}return r.next_out=a,r.avail_out=A,r.next_in=i,r.avail_in=l,t.hold=c,t.bits=f,(t.wsize||u!==r.avail_out&&t.mode<Br&&(t.mode<t2||e!==gS))&&QT(r,r.output,r.next_out,u-r.avail_out),d-=r.avail_in,u-=r.avail_out,r.total_in+=d,r.total_out+=u,t.total+=u,t.wrap&4&&u&&(r.adler=t.check=t.flags?Ca(t.check,s,u,r.next_out-u):gw(t.check,s,u,r.next_out-u)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Ao?128:0)+(t.mode===K0||t.mode===e2?256:0),(d===0&&u===0||e===gS)&&M===OA&&(M=aV),M},gV=r=>{if(JA(r))return Mi;let e=r.state;return e.window&&(e.window=null),r.state=null,OA},mV=(r,e)=>{if(JA(r))return Mi;const t=r.state;return t.wrap&2?(t.head=e,e.done=!1,OA):Mi},pV=(r,e)=>{const t=e.length;let n,s,i;return JA(r)||(n=r.state,n.wrap!==0&&n.mode!==Zm)?Mi:n.mode===Zm&&(s=1,s=gw(s,e,t,0),s!==n.check)?TT:(i=QT(r,e,t,t),i?(n.mode=DT,MT):(n.havedict=1,OA))};var xV=RT,yV=_T,wV=UT,bV=dV,vV=PT,CV=hV,LV=gV,SV=mV,EV=pV,NV="pako inflate (from Nodeca project)",po={inflateReset:xV,inflateReset2:yV,inflateResetKeep:wV,inflateInit:bV,inflateInit2:vV,inflate:CV,inflateEnd:LV,inflateGetHeader:SV,inflateSetDictionary:EV,inflateInfo:NV};function BV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var kV=BV;const OT=Object.prototype.toString,{Z_NO_FLUSH:jV,Z_FINISH:IV,Z_OK:nh,Z_STREAM_END:s2,Z_NEED_DICT:i2,Z_STREAM_ERROR:TV,Z_DATA_ERROR:QS,Z_MEM_ERROR:MV}=NT;function bh(r){this.options=BT.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y$,this.strm.avail_out=0;let t=po.inflateInit2(this.strm,e.windowBits);if(t!==nh)throw new Error(mw[t]);if(this.header=new kV,po.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=pw.string2buf(e.dictionary):OT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=po.inflateSetDictionary(this.strm,e.dictionary),t!==nh)))throw new Error(mw[t])}bh.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?IV:jV,OT.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),i=po.inflate(t,a),i===i2&&s&&(i=po.inflateSetDictionary(t,s),i===nh?i=po.inflate(t,a):i===QS&&(i=i2));t.avail_in>0&&i===s2&&t.state.wrap>0&&r[t.next_in]!==0;)po.inflateReset(t),i=po.inflate(t,a);switch(i){case TV:case QS:case i2:case MV:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===s2))if(this.options.to==="string"){let A=pw.utf8border(t.output,t.next_out),c=t.next_out-A,f=pw.buf2string(t.output,A);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(A,A+c),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===nh&&l===0)){if(i===s2)return i=po.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};bh.prototype.onData=function(r){this.chunks.push(r)};bh.prototype.onEnd=function(r){r===nh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=BT.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function DV(r,e){const t=new bh(e);if(t.push(r),t.err)throw t.msg||mw[t.err];return t.result}var FV=bh,UV=DV,RV={Inflate:FV,inflate:UV};const{Inflate:_V,inflate:PV}=RV;var OS=_V,QV=PV;const HT=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;HT[r]=e}const HS=4294967295;function OV(r,e,t){let n=r;for(let s=0;s<t;s++)n=HT[(n^e[s])&255]^n>>>8;return n}function HV(r,e){return(OV(HS,r,e)^HS)>>>0}function zS(r,e,t){const n=r.readUint32(),s=HV(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${s}`)}function zT(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function GT(r,e,t,n){let s=0;for(;s<n;s++)e[s]=r[s];for(;s<t;s++)e[s]=r[s]+e[s-n]&255}function KT(r,e,t,n){let s=0;if(t.length===0)for(;s<n;s++)e[s]=r[s];else for(;s<n;s++)e[s]=r[s]+t[s]&255}function $T(r,e,t,n,s){let i=0;if(t.length===0){for(;i<s;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=r[i]+(t[i]>>1)&255;for(;i<n;i++)e[i]=r[i]+(e[i-s]+t[i]>>1)&255}}function VT(r,e,t,n,s){let i=0;if(t.length===0){for(;i<s;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=r[i]+t[i]&255;for(;i<n;i++)e[i]=r[i]+zV(e[i-s],t[i],t[i-s])&255}}function zV(r,e,t){const n=r+e-t,s=Math.abs(n-r),i=Math.abs(n-e),a=Math.abs(n-t);return s<=i&&s<=a?r:i<=a?e:t}function GV(r,e,t,n,s,i){switch(r){case 0:zT(e,t,s);break;case 1:GT(e,t,s,i);break;case 2:KT(e,t,n,s);break;case 3:$T(e,t,n,s,i);break;case 4:VT(e,t,n,s,i);break;default:throw new Error(`Unsupported filter: ${r}`)}}const KV=new Uint16Array([255]),$V=new Uint8Array(KV.buffer),VV=$V[0]===255;function YV(r){const{data:e,width:t,height:n,channels:s,depth:i}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(n*t*l);let c=0;for(let f=0;f<7;f++){const d=a[f],u=Math.ceil((t-d.x)/d.xStep),h=Math.ceil((n-d.y)/d.yStep);if(u<=0||h<=0)continue;const g=u*l,m=new Uint8Array(g);for(let y=0;y<h;y++){const x=e[c++],w=e.subarray(c,c+g);c+=g;const v=new Uint8Array(g);GV(x,w,v,m,g,l),m.set(v);for(let C=0;C<u;C++){const N=d.x+C*d.xStep,B=d.y+y*d.yStep;if(!(N>=t||B>=n))for(let j=0;j<l;j++)A[(B*t+N)*l+j]=v[C*l+j]}}}if(i===16){const f=new Uint16Array(A.buffer);if(VV)for(let d=0;d<f.length;d++)f[d]=WV(f[d]);return f}else return A}function WV(r){return(r&255)<<8|r>>8&255}const JV=new Uint16Array([255]),qV=new Uint8Array(JV.buffer),ZV=qV[0]===255,XV=new Uint8Array(0);function GS(r){const{data:e,width:t,height:n,channels:s,depth:i}=r,a=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*t),A=new Uint8Array(n*l);let c=XV,f=0,d,u;for(let h=0;h<n;h++){switch(d=e.subarray(f+1,f+1+l),u=A.subarray(h*l,(h+1)*l),e[f]){case 0:zT(d,u,l);break;case 1:GT(d,u,l,a);break;case 2:KT(d,u,c,l);break;case 3:$T(d,u,c,l,a);break;case 4:VT(d,u,c,l,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}c=u,f+=l+1}if(i===16){const h=new Uint16Array(A.buffer);if(ZV)for(let g=0;g<h.length;g++)h[g]=eY(h[g]);return h}else return A}function eY(r){return(r&255)<<8|r>>8&255}const Wg=Uint8Array.of(137,80,78,71,13,10,26,10);function KS(r){if(!tY(r.readBytes(Wg.length)))throw new Error("wrong PNG signature")}function tY(r){if(r.length<Wg.length)return!1;for(let e=0;e<Wg.length;e++)if(r[e]!==Wg[e])return!1;return!0}const rY="tEXt",nY=0,YT=new TextDecoder("latin1");function sY(r){if(aY(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const iY=/^[\u0000-\u00FF]*$/;function aY(r){if(!iY.test(r))throw new Error("invalid latin1 text")}function oY(r,e,t){const n=WT(e);r[n]=lY(e,t-n.length-1)}function WT(r){for(r.mark();r.readByte()!==nY;);const e=r.offset;r.reset();const t=YT.decode(r.readBytes(e-r.offset-1));return r.skip(1),sY(t),t}function lY(r,e){return YT.decode(r.readBytes(e))}const zs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},a2={UNKNOWN:-1,DEFLATE:0},$S={UNKNOWN:-1,ADAPTIVE:0},o2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},V0={NONE:0,BACKGROUND:1,PREVIOUS:2},l2={SOURCE:0,OVER:1};class AY extends Kv{constructor(t,n={}){super(t);sr(this,"_checkCrc");sr(this,"_inflator");sr(this,"_png");sr(this,"_apng");sr(this,"_end");sr(this,"_hasPalette");sr(this,"_palette");sr(this,"_hasTransparency");sr(this,"_transparency");sr(this,"_compressionMethod");sr(this,"_filterMethod");sr(this,"_interlaceMethod");sr(this,"_colorType");sr(this,"_isAnimated");sr(this,"_numberOfFrames");sr(this,"_numberOfPlays");sr(this,"_frames");sr(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new OS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=a2.UNKNOWN,this._filterMethod=$S.UNKNOWN,this._interlaceMethod=o2.UNKNOWN,this._colorType=zs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(KS(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(KS(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case rY:oY(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zS(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zS(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=cY(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case zs.GREYSCALE:s=1;break;case zs.TRUECOLOUR:s=3;break;case zs.INDEXED_COLOUR:s=1;break;case zs.GREYSCALE_ALPHA:s=2;break;case zs.TRUECOLOUR_ALPHA:s=4;break;case zs.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==a2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case zs.GREYSCALE:case zs.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case zs.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case zs.UNKNOWN:case zs.GREYSCALE_ALPHA:case zs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=WT(this),s=this.readUint8();if(s!==a2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:QV(i)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=GS({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,s){switch(t.disposeOp){case V0.NONE:break;case V0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*t.width+a)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case V0.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const s=1<<this._png.depth,i=(a,l)=>{const A=((a+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,c=(a*n.width+l)*this._png.channels;return{index:A,frameIndex:c}};switch(n.blendOp){case l2.SOURCE:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:A,frameIndex:c}=i(a,l);for(let f=0;f<this._png.channels;f++)t.data[A+f]=n.data[c+f]}break;case l2.OVER:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:A,frameIndex:c}=i(a,l);for(let f=0;f<this._png.channels;f++){const d=n.data[c+this._png.channels-1]/s,u=f%(this._png.channels-1)===0?1:n.data[c+f],h=Math.floor(d*u+(1-d)*t.data[A+f]);t.data[A+f]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==$S.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===o2.NO_INTERLACE)this._png.data=GS({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===o2.ADAM7)this._png.data=YV({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:V0.NONE,blendOp:l2.SOURCE,data:t}),this._inflator=new OS,this._writingDataChunks=!1}}function cY(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var VS;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(VS||(VS={}));function fY(r,e){return new AY(r,e).decode()}var xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function A2(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var ur={log:A2,warn:function(r){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):A2.call(null,arguments))},error:function(r){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):A2(r))}};function c2(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){mA(n.response,e,t)},n.onerror=function(){ur.error("could not download file")},n.send()}function YS(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Y0(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var mA=xt.saveAs||((typeof window>"u"?"undefined":ar(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=xt.URL||xt.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?YS(s.href)?c2(r,e,t):Y0(s,s.target="_blank"):Y0(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Y0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(YS(r))c2(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Y0(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:ar(i)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return c2(r,e,t);var s=r.type==="application/octet-stream",i=/constructor/i.test(xt.HTMLElement)||xt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":ar(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(r)}else{var A=xt.URL||xt.webkitURL,c=A.createObjectURL(r);n?n.location=c:location.href=c,n=null,setTimeout(function(){A.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function JT(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,i=t[n].process,a=s.exec(r);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),c.length==1&&(c="0"+c),"#"+l+A+c}}var Jg=xt.atob.bind(xt),WS=xt.btoa.bind(xt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function f2(r,e){var t=r[0],n=r[1],s=r[2],i=r[3];t=qn(t,n,s,i,e[0],7,-680876936),i=qn(i,t,n,s,e[1],12,-389564586),s=qn(s,i,t,n,e[2],17,606105819),n=qn(n,s,i,t,e[3],22,-1044525330),t=qn(t,n,s,i,e[4],7,-176418897),i=qn(i,t,n,s,e[5],12,1200080426),s=qn(s,i,t,n,e[6],17,-1473231341),n=qn(n,s,i,t,e[7],22,-45705983),t=qn(t,n,s,i,e[8],7,1770035416),i=qn(i,t,n,s,e[9],12,-1958414417),s=qn(s,i,t,n,e[10],17,-42063),n=qn(n,s,i,t,e[11],22,-1990404162),t=qn(t,n,s,i,e[12],7,1804603682),i=qn(i,t,n,s,e[13],12,-40341101),s=qn(s,i,t,n,e[14],17,-1502002290),t=Zn(t,n=qn(n,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Zn(i,t,n,s,e[6],9,-1069501632),s=Zn(s,i,t,n,e[11],14,643717713),n=Zn(n,s,i,t,e[0],20,-373897302),t=Zn(t,n,s,i,e[5],5,-701558691),i=Zn(i,t,n,s,e[10],9,38016083),s=Zn(s,i,t,n,e[15],14,-660478335),n=Zn(n,s,i,t,e[4],20,-405537848),t=Zn(t,n,s,i,e[9],5,568446438),i=Zn(i,t,n,s,e[14],9,-1019803690),s=Zn(s,i,t,n,e[3],14,-187363961),n=Zn(n,s,i,t,e[8],20,1163531501),t=Zn(t,n,s,i,e[13],5,-1444681467),i=Zn(i,t,n,s,e[2],9,-51403784),s=Zn(s,i,t,n,e[7],14,1735328473),t=Xn(t,n=Zn(n,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Xn(i,t,n,s,e[8],11,-2022574463),s=Xn(s,i,t,n,e[11],16,1839030562),n=Xn(n,s,i,t,e[14],23,-35309556),t=Xn(t,n,s,i,e[1],4,-1530992060),i=Xn(i,t,n,s,e[4],11,1272893353),s=Xn(s,i,t,n,e[7],16,-155497632),n=Xn(n,s,i,t,e[10],23,-1094730640),t=Xn(t,n,s,i,e[13],4,681279174),i=Xn(i,t,n,s,e[0],11,-358537222),s=Xn(s,i,t,n,e[3],16,-722521979),n=Xn(n,s,i,t,e[6],23,76029189),t=Xn(t,n,s,i,e[9],4,-640364487),i=Xn(i,t,n,s,e[12],11,-421815835),s=Xn(s,i,t,n,e[15],16,530742520),t=es(t,n=Xn(n,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=es(i,t,n,s,e[7],10,1126891415),s=es(s,i,t,n,e[14],15,-1416354905),n=es(n,s,i,t,e[5],21,-57434055),t=es(t,n,s,i,e[12],6,1700485571),i=es(i,t,n,s,e[3],10,-1894986606),s=es(s,i,t,n,e[10],15,-1051523),n=es(n,s,i,t,e[1],21,-2054922799),t=es(t,n,s,i,e[8],6,1873313359),i=es(i,t,n,s,e[15],10,-30611744),s=es(s,i,t,n,e[6],15,-1560198380),n=es(n,s,i,t,e[13],21,1309151649),t=es(t,n,s,i,e[4],6,-145523070),i=es(i,t,n,s,e[11],10,-1120210379),s=es(s,i,t,n,e[2],15,718787259),n=es(n,s,i,t,e[9],21,-343485551),r[0]=ml(t,r[0]),r[1]=ml(n,r[1]),r[2]=ml(s,r[2]),r[3]=ml(i,r[3])}function n1(r,e,t,n,s,i){return e=ml(ml(e,r),ml(n,i)),ml(e<<s|e>>>32-s,t)}function qn(r,e,t,n,s,i,a){return n1(e&t|~e&n,r,e,s,i,a)}function Zn(r,e,t,n,s,i,a){return n1(e&n|t&~n,r,e,s,i,a)}function Xn(r,e,t,n,s,i,a){return n1(e^t^n,r,e,s,i,a)}function es(r,e,t,n,s,i,a){return n1(t^(e|~n),r,e,s,i,a)}function qT(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)f2(n,dY(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(f2(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,f2(n,s),n}function dY(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var JS="0123456789abcdef".split("");function uY(r){for(var e="",t=0;t<4;t++)e+=JS[r>>8*t+4&15]+JS[r>>8*t&15];return e}function hY(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function xw(r){return qT(r).map(hY).join("")}var gY=function(r){for(var e=0;e<r.length;e++)r[e]=uY(r[e]);return r.join("")}(qT("hello"))!="5d41402abc4b2a76b9719d911017c592";function ml(r,e){if(gY){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yw(r,e){var t,n,s,i;if(r!==t){for(var a=(s=r,i=1+(256/r.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var c=0;for(A=0;A<256;A++){var f=l[A];c=(c+f+a.charCodeAt(A))%256,l[A]=l[c],l[c]=f}t=r,n=l}else l=n;var d=e.length,u=0,h=0,g="";for(A=0;A<d;A++)h=(h+(f=l[u=(u+1)%256]))%256,l[u]=l[h],l[h]=f,a=l[(l[u]+l[h])%256],g+=String.fromCharCode(e.charCodeAt(A)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qS={print:4,modify:8,copy:16,"annot-forms":32};function Nc(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(l){if(qS.perm!==void 0)throw new Error("Invalid permission: "+l);s+=qS[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=xw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yw(this.encryptionKey,this.padding)}function Bc(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[n]}return e}function ZS(r){if(ar(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!s],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var a=e[t][i];try{a[0].apply(r,n)}catch(l){xt.console&&ur.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Xm(r){if(!(this instanceof Xm))return new Xm(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function ZT(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function pA(r,e,t,n,s){if(!(this instanceof pA))return new pA(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,ZT.call(this,n,s)}function Gc(r,e,t,n,s){if(!(this instanceof Gc))return new Gc(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ZT.call(this,n,s)}function ct(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,A=16,c="S",f=null;ar(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,i=r.compress||r.compressPdf||i,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(A=r.floatPrecision),c=r.defaultPathOperation||"S"),a=r.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,u={},h={internal:{},__private__:{}};h.__private__.PubSub=ZS;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(L){g=L};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var x=h.__private__.getPageFormat=function(L){return y[L]};s=s||"a4";var w="compat",v="advanced",C=w;function N(){this.saveGraphicsState(),W(new gt(mt,0,0,-mt,0,eA()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),c="n",C=v}function B(){this.restoreGraphicsState(),c="S",C=w}var j=h.__private__.combineFontStyleAndFontWeight=function(L,_){if(L=="bold"&&_=="normal"||L=="bold"&&_==400||L=="normal"&&_=="italic"||L=="bold"&&_=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return _&&(L=_==400||_==="normal"?L==="italic"?"italic":"normal":_!=700&&_!=="bold"||L!=="normal"?(_==700?"bold":_)+""+L:"bold"),L};h.advancedAPI=function(L){var _=C===w;return _&&N.call(this),typeof L!="function"||(L(this),_&&B.call(this)),this},h.compatAPI=function(L){var _=C===v;return _&&B.call(this),typeof L!="function"||(L(this),_&&N.call(this)),this},h.isAdvancedAPI=function(){return C===v};var M,I=function(L){if(C!==v)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=h.roundToPrecision=h.__private__.roundToPrecision=function(L,_){var ne=e||_;if(isNaN(L)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(ne).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf=typeof A=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return U(L,A)}:A==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return U(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return U(L,16)};var T=h.f2=h.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return U(L,2)},P=h.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return U(L,3)},G=h.scale=h.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return C===w?L*mt:C===v?L:void 0},R=function(L){return G(function(_){return C===w?eA()-_:C===v?_:void 0}(L))};h.__private__.setPrecision=h.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var q,Z="00000000000000000000000000000000",oe=h.__private__.getFileId=function(){return Z},H=h.__private__.setFileId=function(L){return Z=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(dn=new Nc(f.userPermissions,f.userPassword,f.ownerPassword,Z)),Z};h.setFileId=function(L){return H(L),this},h.getFileId=function(){return oe()};var re=h.__private__.convertDateToPDFDate=function(L){var _=L.getTimezoneOffset(),ne=_<0?"+":"-",Ae=Math.floor(Math.abs(_/60)),ge=Math.abs(_%60),Be=[ne,Y(Ae),"'",Y(ge),"'"].join("");return["D:",L.getFullYear(),Y(L.getMonth()+1),Y(L.getDate()),Y(L.getHours()),Y(L.getMinutes()),Y(L.getSeconds()),Be].join("")},ce=h.__private__.convertPDFDateToDate=function(L){var _=parseInt(L.substr(2,4),10),ne=parseInt(L.substr(6,2),10)-1,Ae=parseInt(L.substr(8,2),10),ge=parseInt(L.substr(10,2),10),Be=parseInt(L.substr(12,2),10),Te=parseInt(L.substr(14,2),10);return new Date(_,ne,Ae,ge,Be,Te,0)},le=h.__private__.setCreationDate=function(L){var _;if(L===void 0&&(L=new Date),L instanceof Date)_=re(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");_=L}return q=_},D=h.__private__.getCreationDate=function(L){var _=q;return L==="jsDate"&&(_=ce(q)),_};h.setCreationDate=function(L){return le(L),this},h.getCreationDate=function(L){return D(L)};var K,Y=h.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},se=h.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},J=0,ie=[],de=[],ae=0,he=[],Ee=[],_e=!1,Pe=de;h.__private__.setCustomOutputDestination=function(L){_e=!0,Pe=L};var We=function(L){_e||(Pe=L)};h.__private__.resetCustomOutputDestination=function(){_e=!1,Pe=de};var W=h.__private__.out=function(L){return L=L.toString(),ae+=L.length+1,Pe.push(L),Pe},Ie=h.__private__.write=function(L){return W(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ke=h.__private__.getArrayBuffer=function(L){for(var _=L.length,ne=new ArrayBuffer(_),Ae=new Uint8Array(ne);_--;)Ae[_]=L.charCodeAt(_);return ne},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return $e};var je=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(L){return je=C===v?L/mt:L,this};var Je,Oe=h.__private__.getFontSize=h.getFontSize=function(){return C===w?je:je*mt},be=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(L){return be=L,this},h.__private__.getR2L=h.getR2L=function(){return be};var Fe,rt=h.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Je=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Je=L}else Je=parseInt(L,10)};h.__private__.getZoomMode=function(){return Je};var ot,dt=h.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Fe=L};h.__private__.getPageMode=function(){return Fe};var Et=h.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');ot=L};h.__private__.getLayoutMode=function(){return ot},h.__private__.setDisplayMode=h.setDisplayMode=function(L,_,ne){return rt(L),Et(_),dt(ne),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(L){if(Object.keys(wt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[L]},h.__private__.getDocumentProperties=function(){return wt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(L){for(var _ in wt)wt.hasOwnProperty(_)&&L[_]&&(wt[_]=L[_]);return this},h.__private__.setDocumentProperty=function(L,_){if(Object.keys(wt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[L]=_};var Ve,mt,et,$r,Yt,Ft={},Ut={},Er=[],ut={},mr={},pt={},Nt={},Nr=null,_t=0,ht=[],Xt=new ZS(h),$l=r.hotfixes||[],Vn={},Ha={},ca=[],gt=function L(_,ne,Ae,ge,Be,Te){if(!(this instanceof L))return new L(_,ne,Ae,ge,Be,Te);isNaN(_)&&(_=1),isNaN(ne)&&(ne=0),isNaN(Ae)&&(Ae=0),isNaN(ge)&&(ge=1),isNaN(Be)&&(Be=0),isNaN(Te)&&(Te=0),this._matrix=[_,ne,Ae,ge,Be,Te]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(L)},gt.prototype.multiply=function(L){var _=L.sx*this.sx+L.shy*this.shx,ne=L.sx*this.shy+L.shy*this.sy,Ae=L.shx*this.sx+L.sy*this.shx,ge=L.shx*this.shy+L.sy*this.sy,Be=L.tx*this.sx+L.ty*this.shx+this.tx,Te=L.tx*this.shy+L.ty*this.sy+this.ty;return new gt(_,ne,Ae,ge,Be,Te)},gt.prototype.decompose=function(){var L=this.sx,_=this.shy,ne=this.shx,Ae=this.sy,ge=this.tx,Be=this.ty,Te=Math.sqrt(L*L+_*_),tt=(L/=Te)*ne+(_/=Te)*Ae;ne-=L*tt,Ae-=_*tt;var lt=Math.sqrt(ne*ne+Ae*Ae);return tt/=lt,L*(Ae/=lt)<_*(ne/=lt)&&(L=-L,_=-_,tt=-tt,Te=-Te),{scale:new gt(Te,0,0,lt,0,0),translate:new gt(1,0,0,1,ge,Be),rotate:new gt(L,_,-_,L,0,0),skew:new gt(1,0,tt,1,0,0)}},gt.prototype.toString=function(L){return this.join(" ")},gt.prototype.inversed=function(){var L=this.sx,_=this.shy,ne=this.shx,Ae=this.sy,ge=this.tx,Be=this.ty,Te=1/(L*Ae-_*ne),tt=Ae*Te,lt=-_*Te,bt=-ne*Te,jt=L*Te;return new gt(tt,lt,bt,jt,-tt*ge-bt*Be,-lt*ge-jt*Be)},gt.prototype.applyToPoint=function(L){var _=L.x*this.sx+L.y*this.shx+this.tx,ne=L.x*this.shy+L.y*this.sy+this.ty;return new Wa(_,ne)},gt.prototype.applyToRectangle=function(L){var _=this.applyToPoint(L),ne=this.applyToPoint(new Wa(L.x+L.w,L.y+L.h));return new qf(_.x,_.y,ne.x-_.x,ne.y-_.y)},gt.prototype.clone=function(){var L=this.sx,_=this.shy,ne=this.shx,Ae=this.sy,ge=this.tx,Be=this.ty;return new gt(L,_,ne,Ae,ge,Be)},h.Matrix=gt;var za=h.matrixMult=function(L,_){return _.multiply(L)},Ga=new gt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ga;var Ai=function(L,_){if(!mr[L]){var ne=(_ instanceof pA?"Sh":"P")+(Object.keys(ut).length+1).toString(10);_.id=ne,mr[L]=ne,ut[ne]=_,Xt.publish("addPattern",_)}};h.ShadingPattern=pA,h.TilingPattern=Gc,h.addShadingPattern=function(L,_){return I("addShadingPattern()"),Ai(L,_),this},h.beginTilingPattern=function(L){I("beginTilingPattern()"),Zf(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},h.endTilingPattern=function(L,_){I("endTilingPattern()"),_.stream=Ee[K].join(`
`),Ai(L,_),Xt.publish("endTilingPattern",_),ca.pop().restore()};var ci,Qr=h.__private__.newObject=function(){var L=Ln();return In(L,!0),L},Ln=h.__private__.newObjectDeferred=function(){return J++,ie[J]=function(){return ae},J},In=function(L,_){return _=typeof _=="boolean"&&_,ie[L]=ae,_&&W(L+" 0 obj"),L},Vl=h.__private__.newAdditionalObject=function(){var L={objId:Ln(),content:""};return he.push(L),L},Ro=Ln(),Fi=Ln(),fa=h.__private__.decodeColorString=function(L){var _=L.split(" ");if(_.length!==2||_[1]!=="g"&&_[1]!=="G")_.length!==5||_[4]!=="k"&&_[4]!=="K"||(_=[(1-_[0])*(1-_[3]),(1-_[1])*(1-_[3]),(1-_[2])*(1-_[3]),"r"]);else{var ne=parseFloat(_[0]);_=[ne,ne,ne,"r"]}for(var Ae="#",ge=0;ge<3;ge++)Ae+=("0"+Math.floor(255*parseFloat(_[ge])).toString(16)).slice(-2);return Ae},Ui=h.__private__.encodeColorString=function(L){var _;typeof L=="string"&&(L={ch1:L});var ne=L.ch1,Ae=L.ch2,ge=L.ch3,Be=L.ch4,Te=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var tt=new JT(ne);if(tt.ok)ne=tt.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var lt=parseInt(ne.substr(1),16);ne=lt>>16&255,Ae=lt>>8&255,ge=255&lt}if(Ae===void 0||Be===void 0&&ne===Ae&&Ae===ge)_=typeof ne=="string"?ne+" "+Te[0]:L.precision===2?T(ne/255)+" "+Te[0]:P(ne/255)+" "+Te[0];else if(Be===void 0||ar(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Te[1]].join(" ");_=typeof ne=="string"?[ne,Ae,ge,Te[1]].join(" "):L.precision===2?[T(ne/255),T(Ae/255),T(ge/255),Te[1]].join(" "):[P(ne/255),P(Ae/255),P(ge/255),Te[1]].join(" ")}else _=typeof ne=="string"?[ne,Ae,ge,Be,Te[2]].join(" "):L.precision===2?[T(ne),T(Ae),T(ge),T(Be),Te[2]].join(" "):[P(ne),P(Ae),P(ge),P(Be),Te[2]].join(" ");return _},Ri=h.__private__.getFilters=function(){return a},fi=h.__private__.putStream=function(L){var _=(L=L||{}).data||"",ne=L.filters||Ri(),Ae=L.alreadyAppliedFilters||[],ge=L.addLength1||!1,Be=_.length,Te=L.objectId,tt=function(un){return un};if(f!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(tt=dn.encryptor(Te,0));var lt={};ne===!0&&(ne=["FlateEncode"]);var bt=L.additionalKeyValues||[],jt=(lt=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(_,ne):{data:_,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(lt.data.length!==0&&(bt.push({key:"Length",value:lt.data.length}),ge===!0&&bt.push({key:"Length1",value:Be})),jt.length!=0)if(jt.split("/").length-1==1)bt.push({key:"Filter",value:jt});else{bt.push({key:"Filter",value:"["+jt+"]"});for(var Wt=0;Wt<bt.length;Wt+=1)if(bt[Wt].key==="DecodeParms"){for(var Tr=[],on=0;on<lt.reverseChain.split("/").length-1;on+=1)Tr.push("null");Tr.push(bt[Wt].value),bt[Wt].value="["+Tr.join(" ")+"]"}}W("<<");for(var pr=0;pr<bt.length;pr++)W("/"+bt[pr].key+" "+bt[pr].value);W(">>"),lt.data.length!==0&&(W("stream"),W(tt(lt.data)),W("endstream"))},Yl=h.__private__.putPage=function(L){var _=L.number,ne=L.data,Ae=L.objId,ge=L.contentsObjId;In(Ae,!0),W("<</Type /Page"),W("/Parent "+L.rootDictionaryObjId+" 0 R"),W("/Resources "+L.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(M(L.mediaBox.bottomLeftX))+" "+parseFloat(M(L.mediaBox.bottomLeftY))+" "+M(L.mediaBox.topRightX)+" "+M(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&W("/CropBox ["+M(L.cropBox.bottomLeftX)+" "+M(L.cropBox.bottomLeftY)+" "+M(L.cropBox.topRightX)+" "+M(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&W("/BleedBox ["+M(L.bleedBox.bottomLeftX)+" "+M(L.bleedBox.bottomLeftY)+" "+M(L.bleedBox.topRightX)+" "+M(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&W("/TrimBox ["+M(L.trimBox.bottomLeftX)+" "+M(L.trimBox.bottomLeftY)+" "+M(L.trimBox.topRightX)+" "+M(L.trimBox.topRightY)+"]"),L.artBox!==null&&W("/ArtBox ["+M(L.artBox.bottomLeftX)+" "+M(L.artBox.bottomLeftY)+" "+M(L.artBox.topRightX)+" "+M(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&W("/UserUnit "+L.userUnit),Xt.publish("putPage",{objId:Ae,pageContext:ht[_],pageNumber:_,page:ne}),W("/Contents "+ge+" 0 R"),W(">>"),W("endobj");var Be=ne.join(`
`);return C===v&&(Be+=`
Q`),In(ge,!0),fi({data:Be,filters:Ri(),objectId:ge}),W("endobj"),Ae},da=h.__private__.putPages=function(){var L,_,ne=[];for(L=1;L<=_t;L++)ht[L].objId=Ln(),ht[L].contentsObjId=Ln();for(L=1;L<=_t;L++)ne.push(Yl({number:L,data:Ee[L],objId:ht[L].objId,contentsObjId:ht[L].contentsObjId,mediaBox:ht[L].mediaBox,cropBox:ht[L].cropBox,bleedBox:ht[L].bleedBox,trimBox:ht[L].trimBox,artBox:ht[L].artBox,userUnit:ht[L].userUnit,rootDictionaryObjId:Ro,resourceDictionaryObjId:Fi}));In(Ro,!0),W("<</Type /Pages");var Ae="/Kids [";for(_=0;_<_t;_++)Ae+=ne[_]+" 0 R ";W(Ae+"]"),W("/Count "+_t),W(">>"),W("endobj"),Xt.publish("postPutPages")},Wl=function(L){Xt.publish("putFont",{font:L,out:W,newObject:Qr,putStream:fi}),L.isAlreadyPutted!==!0&&(L.objectNumber=Qr(),W("<<"),W("/Type /Font"),W("/BaseFont /"+Bc(L.postScriptName)),W("/Subtype /Type1"),typeof L.encoding=="string"&&W("/Encoding /"+L.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},ZA=function(L){L.objectNumber=Qr();var _=[];_.push({key:"Type",value:"/XObject"}),_.push({key:"Subtype",value:"/Form"}),_.push({key:"BBox",value:"["+[M(L.x),M(L.y),M(L.x+L.width),M(L.y+L.height)].join(" ")+"]"}),_.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var ne=L.pages[1].join(`
`);fi({data:ne,additionalKeyValues:_,objectId:L.objectNumber}),W("endobj")},XA=function(L,_){_||(_=21);var ne=Qr(),Ae=function(Te,tt){var lt,bt=[],jt=1/(tt-1);for(lt=0;lt<1;lt+=jt)bt.push(lt);if(bt.push(1),Te[0].offset!=0){var Wt={offset:0,color:Te[0].color};Te.unshift(Wt)}if(Te[Te.length-1].offset!=1){var Tr={offset:1,color:Te[Te.length-1].color};Te.push(Tr)}for(var on="",pr=0,un=0;un<bt.length;un++){for(lt=bt[un];lt>Te[pr+1].offset;)pr++;var ln=Te[pr].offset,Tn=(lt-ln)/(Te[pr+1].offset-ln),Za=Te[pr].color,Pi=Te[pr+1].color;on+=se(Math.round((1-Tn)*Za[0]+Tn*Pi[0]).toString(16))+se(Math.round((1-Tn)*Za[1]+Tn*Pi[1]).toString(16))+se(Math.round((1-Tn)*Za[2]+Tn*Pi[2]).toString(16))}return on.trim()}(L.colors,_),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+_+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fi({data:Ae,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),W("endobj"),L.objectNumber=Qr(),W("<< /ShadingType "+L.type),W("/ColorSpace /DeviceRGB");var Be="/Coords ["+M(parseFloat(L.coords[0]))+" "+M(parseFloat(L.coords[1]))+" ";L.type===2?Be+=M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3])):Be+=M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3]))+" "+M(parseFloat(L.coords[4]))+" "+M(parseFloat(L.coords[5])),W(Be+="]"),L.matrix&&W("/Matrix ["+L.matrix.toString()+"]"),W("/Function "+ne+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},ec=function(L,_){var ne=Ln(),Ae=Qr();_.push({resourcesOid:ne,objectOid:Ae}),L.objectNumber=Ae;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+L.boundingBox.map(M).join(" ")+"]"}),ge.push({key:"XStep",value:M(L.xStep)}),ge.push({key:"YStep",value:M(L.yStep)}),ge.push({key:"Resources",value:ne+" 0 R"}),L.matrix&&ge.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),fi({data:L.stream,additionalKeyValues:ge,objectId:L.objectNumber}),W("endobj")},h1=function(L){for(var _ in L.objectNumber=Qr(),W("<<"),L)switch(_){case"opacity":W("/ca "+T(L[_]));break;case"stroke-opacity":W("/CA "+T(L[_]))}W(">>"),W("endobj")},zf=function(L){In(L.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var _ in W("/Font <<"),Ft)Ft.hasOwnProperty(_)&&(d===!1||d===!0&&u.hasOwnProperty(_))&&W("/"+_+" "+Ft[_].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(ut).length>0){for(var _ in W("/Shading <<"),ut)ut.hasOwnProperty(_)&&ut[_]instanceof pA&&ut[_].objectNumber>=0&&W("/"+_+" "+ut[_].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),W(">>")}}(),function(_){if(Object.keys(ut).length>0){for(var ne in W("/Pattern <<"),ut)ut.hasOwnProperty(ne)&&ut[ne]instanceof h.TilingPattern&&ut[ne].objectNumber>=0&&ut[ne].objectNumber<_&&W("/"+ne+" "+ut[ne].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),W(">>")}}(L.objectOid),function(){if(Object.keys(pt).length>0){var _;for(_ in W("/ExtGState <<"),pt)pt.hasOwnProperty(_)&&pt[_].objectNumber>=0&&W("/"+_+" "+pt[_].objectNumber+" 0 R");Xt.publish("putGStateDict"),W(">>")}}(),function(){for(var _ in W("/XObject <<"),Vn)Vn.hasOwnProperty(_)&&Vn[_].objectNumber>=0&&W("/"+_+" "+Vn[_].objectNumber+" 0 R");Xt.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},Lh=function(L){Ut[L.fontName]=Ut[L.fontName]||{},Ut[L.fontName][L.fontStyle]=L.id},Sh=function(L,_,ne,Ae,ge){var Be={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:L,fontName:_,fontStyle:ne,encoding:Ae,isStandardFont:ge||!1,metadata:{}};return Xt.publish("addFont",{font:Be,instance:this}),Ft[Be.id]=Be,Lh(Be),Be.id},di=h.__private__.pdfEscape=h.pdfEscape=function(L,_){return function(ne,Ae){var ge,Be,Te,tt,lt,bt,jt,Wt,Tr;if(Te=(Ae=Ae||{}).sourceEncoding||"Unicode",lt=Ae.outputEncoding,(Ae.autoencode||lt)&&Ft[Ve].metadata&&Ft[Ve].metadata[Te]&&Ft[Ve].metadata[Te].encoding&&(tt=Ft[Ve].metadata[Te].encoding,!lt&&Ft[Ve].encoding&&(lt=Ft[Ve].encoding),!lt&&tt.codePages&&(lt=tt.codePages[0]),typeof lt=="string"&&(lt=tt[lt]),lt)){for(jt=!1,bt=[],ge=0,Be=ne.length;ge<Be;ge++)(Wt=lt[ne.charCodeAt(ge)])?bt.push(String.fromCharCode(Wt)):bt.push(ne[ge]),bt[ge].charCodeAt(0)>>8&&(jt=!0);ne=bt.join("")}for(ge=ne.length;jt===void 0&&ge!==0;)ne.charCodeAt(ge-1)>>8&&(jt=!0),ge--;if(!jt)return ne;for(bt=Ae.noBOM?[]:[254,255],ge=0,Be=ne.length;ge<Be;ge++){if((Tr=(Wt=ne.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(Tr),bt.push(Wt-(Tr<<8))}return String.fromCharCode.apply(void 0,bt)}(L,_).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gf=h.__private__.beginPage=function(L){Ee[++_t]=[],ht[_t]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Nh(_t),We(Ee[K])},Eh=function(L,_){var ne,Ae,ge;switch(t=_||t,typeof L=="string"&&(ne=x(L.toLowerCase()),Array.isArray(ne)&&(Ae=ne[0],ge=ne[1])),Array.isArray(L)&&(Ae=L[0]*mt,ge=L[1]*mt),isNaN(Ae)&&(Ae=s[0],ge=s[1]),(Ae>14400||ge>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),ge=Math.min(14400,ge)),s=[Ae,ge],t.substr(0,1)){case"l":ge>Ae&&(s=[ge,Ae]);break;case"p":Ae>ge&&(s=[ge,Ae])}Gf(s),vt(Vf),W(sc),Wf!==0&&W(Wf+" J"),Jf!==0&&W(Jf+" j"),Xt.publish("addPage",{pageNumber:_t})},Kf=function(L){L>0&&L<=_t&&(Ee.splice(L,1),ht.splice(L,1),_t--,K>_t&&(K=_t),this.setPage(K))},Nh=function(L){L>0&&L<=_t&&(K=L)},Bh=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ee.length-1},kh=function(L,_,ne){var Ae,ge=void 0;return ne=ne||{},L=L!==void 0?L:Ft[Ve].fontName,_=_!==void 0?_:Ft[Ve].fontStyle,Ae=L.toLowerCase(),Ut[Ae]!==void 0&&Ut[Ae][_]!==void 0?ge=Ut[Ae][_]:Ut[L]!==void 0&&Ut[L][_]!==void 0?ge=Ut[L][_]:ne.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+L+"', '"+_+"'. Refer to getFontList() for available fonts."),ge||ne.noFallback||(ge=Ut.times[_])==null&&(ge=Ut.times.normal),ge},ua=h.__private__.putInfo=function(){var L=Qr(),_=function(Ae){return Ae};for(var ne in f!==null&&(_=dn.encryptor(L,0)),W("<<"),W("/Producer ("+di(_("jsPDF "+ct.version))+")"),wt)wt.hasOwnProperty(ne)&&wt[ne]&&W("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+di(_(wt[ne]))+")");W("/CreationDate ("+di(_(q))+")"),W(">>"),W("endobj")},tc=h.__private__.putCatalog=function(L){var _=(L=L||{}).rootDictionaryObjId||Ro;switch(Qr(),W("<<"),W("/Type /Catalog"),W("/Pages "+_+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Je;ne.substr(ne.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&W("/OpenAction [3 0 R /XYZ null null "+T(Je)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}Fe&&W("/PageMode /"+Fe),Xt.publish("putCatalog"),W(">>"),W("endobj")},g1=h.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(J+1)),W("/Root "+J+" 0 R"),W("/Info "+(J-1)+" 0 R"),f!==null&&W("/Encrypt "+dn.oid+" 0 R"),W("/ID [ <"+Z+"> <"+Z+"> ]"),W(">>")},an=h.__private__.putHeader=function(){W("%PDF-"+g),W("%")},jh=h.__private__.putXRef=function(){var L="0000000000";W("xref"),W("0 "+(J+1)),W("0000000000 65535 f ");for(var _=1;_<=J;_++)typeof ie[_]=="function"?W((L+ie[_]()).slice(-10)+" 00000 n "):ie[_]!==void 0?W((L+ie[_]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},ha=h.__private__.buildDocument=function(){var L;J=0,ae=0,de=[],ie=[],he=[],Ro=Ln(),Fi=Ln(),We(de),Xt.publish("buildDocument"),an(),da(),function(){Xt.publish("putAdditionalObjects");for(var ne=0;ne<he.length;ne++){var Ae=he[ne];In(Ae.objId,!0),W(Ae.content),W("endobj")}Xt.publish("postPutAdditionalObjects")}(),L=[],function(){for(var ne in Ft)Ft.hasOwnProperty(ne)&&(d===!1||d===!0&&u.hasOwnProperty(ne))&&Wl(Ft[ne])}(),function(){var ne;for(ne in pt)pt.hasOwnProperty(ne)&&h1(pt[ne])}(),function(){for(var ne in Vn)Vn.hasOwnProperty(ne)&&ZA(Vn[ne])}(),function(ne){var Ae;for(Ae in ut)ut.hasOwnProperty(Ae)&&(ut[Ae]instanceof pA?XA(ut[Ae]):ut[Ae]instanceof Gc&&ec(ut[Ae],ne))}(L),Xt.publish("putResources"),L.forEach(zf),zf({resourcesOid:Fi,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources"),f!==null&&(dn.oid=Qr(),W("<<"),W("/Filter /Standard"),W("/V "+dn.v),W("/R "+dn.r),W("/U <"+dn.toHexString(dn.U)+">"),W("/O <"+dn.toHexString(dn.O)+">"),W("/P "+dn.P),W(">>"),W("endobj")),ua(),tc();var _=ae;return jh(),g1(),W("startxref"),W(""+_),W("%%EOF"),We(Ee[K]),de.join(`
`)},rc=h.__private__.getBlob=function(L){return new Blob([Ke(L)],{type:"application/pdf"})},Ih=h.output=h.__private__.output=(ci=function(L,_){switch(typeof(_=_||{})=="string"?_={filename:_}:_.filename=_.filename||"generated.pdf",L){case void 0:return ha();case"save":h.save(_.filename);break;case"arraybuffer":return Ke(ha());case"blob":return rc(ha());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(rc(ha()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",Ae=ha();try{ne=WS(Ae)}catch{ne=WS(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+_.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';_.pdfObjectUrl&&(ge=_.pdfObjectUrl,Be="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(_)+");<\/script></body></html>",tt=xt.open();return tt!==null&&tt.document.write(Te),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(_.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+_.filename+'" width="500px" height="400px" /></body></html>',bt=xt.open();if(bt!==null){bt.document.write(lt);var jt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=_.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",_)+'"></iframe></body></html>',Tr=xt.open();if(Tr!==null&&(Tr.document.write(Wt),Tr.document.title=_.filename),Tr||typeof safari>"u")return Tr;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",_);default:return null}},ci.foo=function(){try{return ci.apply(this,arguments)}catch(ne){var L=ne.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var _="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ne.message;if(!xt.console)throw new Error(_);xt.console.error(_,ne),xt.alert&&alert(_)}},ci.foo.bar=ci,ci.foo),ui=function(L){return Array.isArray($l)===!0&&$l.indexOf(L)>-1};switch(n){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=ui("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);mt=n}var dn=null;le(),H();var Ka=h.__private__.getPageInfo=h.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[L].objId,pageNumber:L,pageContext:ht[L]}},Th=h.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var _ in ht)if(ht[_].objId===L)break;return Ka(_)},m1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ht[K].objId,pageNumber:K,pageContext:ht[K]}};h.addPage=function(){return Eh.apply(this,arguments),this},h.setPage=function(){return Nh.apply(this,arguments),We.call(this,Ee[K]),this},h.insertPage=function(L){return this.addPage(),this.movePage(K,L),this},h.movePage=function(L,_){var ne,Ae;if(L>_){ne=Ee[L],Ae=ht[L];for(var ge=L;ge>_;ge--)Ee[ge]=Ee[ge-1],ht[ge]=ht[ge-1];Ee[_]=ne,ht[_]=Ae,this.setPage(_)}else if(L<_){ne=Ee[L],Ae=ht[L];for(var Be=L;Be<_;Be++)Ee[Be]=Ee[Be+1],ht[Be]=ht[Be+1];Ee[_]=ne,ht[_]=Ae,this.setPage(_)}return this},h.deletePage=function(){return Kf.apply(this,arguments),this},h.__private__.text=h.text=function(L,_,ne,Ae,ge){var Be,Te,tt,lt,bt,jt,Wt,Tr,on,pr=(Ae=Ae||{}).scope||this;if(typeof L=="number"&&typeof _=="number"&&(typeof ne=="string"||Array.isArray(ne))){var un=ne;ne=_,_=L,L=un}if(arguments[3]instanceof gt==0?(tt=arguments[4],lt=arguments[5],ar(Wt=arguments[3])==="object"&&Wt!==null||(typeof tt=="string"&&(lt=tt,tt=null),typeof Wt=="string"&&(lt=Wt,Wt=null),typeof Wt=="number"&&(tt=Wt,Wt=null),Ae={flags:Wt,angle:tt,align:lt})):(I("The transform parameter of text() with a Matrix value"),on=ge),isNaN(_)||isNaN(ne)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return pr;var ln,Tn="",Za=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:ql,Pi=pr.internal.scaleFactor;function Xa(er){return er=er.split("	").join(Array(Ae.TabLen||9).join(" ")),di(er,Wt)}function ed(er){for(var fr,Yr=er.concat(),hn=[],ro=Yr.length;ro--;)typeof(fr=Yr.shift())=="string"?hn.push(fr):Array.isArray(er)&&(fr.length===1||fr[1]===void 0&&fr[2]===void 0)?hn.push(fr[0]):hn.push([fr[0],fr[1],fr[2]]);return hn}function ac(er,fr){var Yr;if(typeof er=="string")Yr=fr(er)[0];else if(Array.isArray(er)){for(var hn,ro,cd=er.concat(),Ac=[],zh=cd.length;zh--;)typeof(hn=cd.shift())=="string"?Ac.push(fr(hn)[0]):Array.isArray(hn)&&typeof hn[0]=="string"&&(ro=fr(hn[0],hn[1],hn[2]),Ac.push([ro[0],ro[1],ro[2]]));Yr=Ac}return Yr}var _o=!1,tA=!0;if(typeof L=="string")_o=!0;else if(Array.isArray(L)){var rA=L.concat();Te=[];for(var Po,Mn=rA.length;Mn--;)(typeof(Po=rA.shift())!="string"||Array.isArray(Po)&&typeof Po[0]!="string")&&(tA=!1);_o=tA}if(_o===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var nA=je/pr.internal.scaleFactor,sA=nA*(Za-1);switch(Ae.baseline){case"bottom":ne-=sA;break;case"top":ne+=nA-sA;break;case"hanging":ne+=nA-2*sA;break;case"middle":ne+=nA/2-sA}if((jt=Ae.maxWidth||0)>0&&(typeof L=="string"?L=pr.splitTextToSize(L,jt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(er,fr){return er.concat(pr.splitTextToSize(fr,jt))},[]))),Be={text:L,x:_,y:ne,options:Ae,mutex:{pdfEscape:di,activeFontKey:Ve,fonts:Ft,activeFontSize:je}},Xt.publish("preProcessText",Be),L=Be.text,tt=(Ae=Be.options).angle,on instanceof gt==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,Ae.rotationDirection===0&&(tt=-tt),C===v&&(tt=-tt);var td=Math.cos(tt),rd=Math.sin(tt);on=new gt(td,rd,-rd,td,0,0)}else tt&&tt instanceof gt&&(on=tt);C!==v||on||(on=Ga),(bt=Ae.charSpace||Ya)!==void 0&&(Tn+=M(G(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tr=Ae.horizontalScale)!==void 0&&(Tn+=M(100*Tr)+` Tz
`),Ae.lang;var ls=-1,eo=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,oc=pr.internal.getCurrentPageInfo().pageContext;switch(eo){case 0:case!1:case"fill":ls=0;break;case 1:case!0:case"stroke":ls=1;break;case 2:case"fillThenStroke":ls=2;break;case 3:case"invisible":ls=3;break;case 4:case"fillAndAddForClipping":ls=4;break;case 5:case"strokeAndAddPathForClipping":ls=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ls=6;break;case 7:case"addToPathForClipping":ls=7}var Oh=oc.usedRenderingMode!==void 0?oc.usedRenderingMode:-1;ls!==-1?Tn+=ls+` Tr
`:Oh!==-1&&(Tn+=`0 Tr
`),ls!==-1&&(oc.usedRenderingMode=ls),lt=Ae.align||"left";var hi,iA=je*Za,nd=pr.internal.pageSize.getWidth(),sd=Ft[Ve];bt=Ae.charSpace||Ya,jt=Ae.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Qo=[],aA=function(er){return pr.getStringUnitWidth(er,{font:sd,charSpace:bt,fontSize:je,doKerning:!1})*je/Pi};if(Object.prototype.toString.call(L)==="[object Array]"){var Fs;Te=ed(L),lt!=="left"&&(hi=Te.map(aA));var Us,Oo=0;if(lt==="right"){_-=hi[0],L=[],Mn=Te.length;for(var to=0;to<Mn;to++)to===0?(Us=$a(_),Fs=Va(ne)):(Us=G(Oo-hi[to]),Fs=-iA),L.push([Te[to],Us,Fs]),Oo=hi[to]}else if(lt==="center"){_-=hi[0]/2,L=[],Mn=Te.length;for(var Ho=0;Ho<Mn;Ho++)Ho===0?(Us=$a(_),Fs=Va(ne)):(Us=G((Oo-hi[Ho])/2),Fs=-iA),L.push([Te[Ho],Us,Fs]),Oo=hi[Ho]}else if(lt==="left"){L=[],Mn=Te.length;for(var id=0;id<Mn;id++)L.push(Te[id])}else if(lt==="justify"&&sd.encoding==="Identity-H"){L=[],Mn=Te.length,jt=jt!==0?jt:nd;for(var lc=0,Vr=0;Vr<Mn;Vr++)if(Fs=Vr===0?Va(ne):-iA,Us=Vr===0?$a(_):lc,Vr<Mn-1){var Hh=G((jt-hi[Vr])/(Te[Vr].split(" ").length-1)),ma=Te[Vr].split(" ");L.push([ma[0]+" ",Us,Fs]),lc=0;for(var pa=1;pa<ma.length;pa++){var ad=(aA(ma[pa-1]+" "+ma[pa])-aA(ma[pa]))*Pi+Hh;pa==ma.length-1?L.push([ma[pa],ad,0]):L.push([ma[pa]+" ",ad,0]),lc-=ad}}else L.push([Te[Vr],Us,Fs]);L.push(["",lc,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Mn=Te.length,jt=jt!==0?jt:nd,Vr=0;Vr<Mn;Vr++){Fs=Vr===0?Va(ne):-iA,Us=Vr===0?$a(_):0;var od=Te[Vr].split(" ").length-1,ld=od>0?(jt-hi[Vr])/od:0;Vr<Mn-1?Qo.push(M(G(ld))):Qo.push(0),L.push([Te[Vr],Us,Fs])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:be)===!0&&(L=ac(L,function(er,fr,Yr){return[er.split("").reverse().join(""),fr,Yr]})),Be={text:L,x:_,y:ne,options:Ae,mutex:{pdfEscape:di,activeFontKey:Ve,fonts:Ft,activeFontSize:je}},Xt.publish("postProcessText",Be),L=Be.text,ln=Be.mutex.isHex||!1;var Ad=Ft[Ve].encoding;Ad!=="WinAnsiEncoding"&&Ad!=="StandardEncoding"||(L=ac(L,function(er,fr,Yr){return[Xa(er),fr,Yr]})),Te=ed(L),L=[];for(var zo,Go,Ko,oA=Array.isArray(Te[0])?1:0,$o="",lA=function(er,fr,Yr){var hn="";return Yr instanceof gt?(Yr=typeof Ae.angle=="number"?za(Yr,new gt(1,0,0,1,er,fr)):za(new gt(1,0,0,1,er,fr),Yr),C===v&&(Yr=za(new gt(1,0,0,-1,0,0),Yr)),hn=Yr.join(" ")+` Tm
`):hn=M(er)+" "+M(fr)+` Td
`,hn},gi=0;gi<Te.length;gi++){switch($o="",oA){case 1:Ko=(ln?"<":"(")+Te[gi][0]+(ln?">":")"),zo=parseFloat(Te[gi][1]),Go=parseFloat(Te[gi][2]);break;case 0:Ko=(ln?"<":"(")+Te[gi]+(ln?">":")"),zo=$a(_),Go=Va(ne)}Qo!==void 0&&Qo[gi]!==void 0&&($o=Qo[gi]+` Tw
`),gi===0?L.push($o+lA(zo,Go,on)+Ko):oA===0?L.push($o+Ko):oA===1&&L.push($o+lA(zo,Go,on)+Ko)}L=oA===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var xa=`BT
/`;return xa+=Ve+" "+je+` Tf
`,xa+=M(je*Za)+` TL
`,xa+=Zl+`
`,xa+=Tn,xa+=L,W(xa+="ET"),u[Ve]=!0,pr};var p1=h.__private__.clip=h.clip=function(L){return W(L==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return p1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return W("n"),this};var ga=h.__private__.isValidStyle=function(L){var _=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(_=!0),_};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(L){return ga(L)&&(c=L),this};var Mh=h.__private__.getStyle=h.getStyle=function(L){var _=c;switch(L){case"D":case"S":_="S";break;case"F":_="f";break;case"FD":case"DF":_="B";break;case"f":case"f*":case"B":case"B*":_=L}return _},Dh=h.close=function(){return W("h"),this};h.stroke=function(){return W("S"),this},h.fill=function(L){return nc("f",L),this},h.fillEvenOdd=function(L){return nc("f*",L),this},h.fillStroke=function(L){return nc("B",L),this},h.fillStrokeEvenOdd=function(L){return nc("B*",L),this};var nc=function(L,_){ar(_)==="object"?y1(_,L):W(L)},Jl=function(L){L===null||C===v&&L===void 0||(L=Mh(L),W(L))};function x1(L,_,ne,Ae,ge){var Be=new Gc(_||this.boundingBox,ne||this.xStep,Ae||this.yStep,this.gState,ge||this.matrix);Be.stream=this.stream;var Te=L+"$$"+this.cloneIndex+++"$$";return Ai(Te,Be),Be}var y1=function(L,_){var ne=mr[L.key],Ae=ut[ne];if(Ae instanceof pA)W("q"),W(w1(_)),Ae.gState&&h.setGState(Ae.gState),W(L.matrix.toString()+" cm"),W("/"+ne+" sh"),W("Q");else if(Ae instanceof Gc){var ge=new gt(1,0,0,-1,0,eA());L.matrix&&(ge=ge.multiply(L.matrix||Ga),ne=x1.call(Ae,L.key,L.boundingBox,L.xStep,L.yStep,ge).id),W("q"),W("/Pattern cs"),W("/"+ne+" scn"),Ae.gState&&h.setGState(Ae.gState),W(_),W("Q")}},w1=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},$f=h.moveTo=function(L,_){return W(M(G(L))+" "+M(R(_))+" m"),this},Fh=h.lineTo=function(L,_){return W(M(G(L))+" "+M(R(_))+" l"),this},_i=h.curveTo=function(L,_,ne,Ae,ge,Be){return W([M(G(L)),M(R(_)),M(G(ne)),M(R(Ae)),M(G(ge)),M(R(Be)),"c"].join(" ")),this};h.__private__.line=h.line=function(L,_,ne,Ae,ge){if(isNaN(L)||isNaN(_)||isNaN(ne)||isNaN(Ae)||!ga(ge))throw new Error("Invalid arguments passed to jsPDF.line");return C===w?this.lines([[ne-L,Ae-_]],L,_,[1,1],ge||"S"):this.lines([[ne-L,Ae-_]],L,_,[1,1]).stroke()},h.__private__.lines=h.lines=function(L,_,ne,Ae,ge,Be){var Te,tt,lt,bt,jt,Wt,Tr,on,pr,un,ln,Tn;if(typeof L=="number"&&(Tn=ne,ne=_,_=L,L=Tn),Ae=Ae||[1,1],Be=Be||!1,isNaN(_)||isNaN(ne)||!Array.isArray(L)||!Array.isArray(Ae)||!ga(ge)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($f(_,ne),Te=Ae[0],tt=Ae[1],bt=L.length,un=_,ln=ne,lt=0;lt<bt;lt++)(jt=L[lt]).length===2?(un=jt[0]*Te+un,ln=jt[1]*tt+ln,Fh(un,ln)):(Wt=jt[0]*Te+un,Tr=jt[1]*tt+ln,on=jt[2]*Te+un,pr=jt[3]*tt+ln,un=jt[4]*Te+un,ln=jt[5]*tt+ln,_i(Wt,Tr,on,pr,un,ln));return Be&&Dh(),Jl(ge),this},h.path=function(L){for(var _=0;_<L.length;_++){var ne=L[_],Ae=ne.c;switch(ne.op){case"m":$f(Ae[0],Ae[1]);break;case"l":Fh(Ae[0],Ae[1]);break;case"c":_i.apply(this,Ae);break;case"h":Dh()}}return this},h.__private__.rect=h.rect=function(L,_,ne,Ae,ge){if(isNaN(L)||isNaN(_)||isNaN(ne)||isNaN(Ae)||!ga(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return C===w&&(Ae=-Ae),W([M(G(L)),M(R(_)),M(G(ne)),M(G(Ae)),"re"].join(" ")),Jl(ge),this},h.__private__.triangle=h.triangle=function(L,_,ne,Ae,ge,Be,Te){if(isNaN(L)||isNaN(_)||isNaN(ne)||isNaN(Ae)||isNaN(ge)||isNaN(Be)||!ga(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-L,Ae-_],[ge-ne,Be-Ae],[L-ge,_-Be]],L,_,[1,1],Te,!0),this},h.__private__.roundedRect=h.roundedRect=function(L,_,ne,Ae,ge,Be,Te){if(isNaN(L)||isNaN(_)||isNaN(ne)||isNaN(Ae)||isNaN(ge)||isNaN(Be)||!ga(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*ne),Be=Math.min(Be,.5*Ae),this.lines([[ne-2*ge,0],[ge*tt,0,ge,Be-Be*tt,ge,Be],[0,Ae-2*Be],[0,Be*tt,-ge*tt,Be,-ge,Be],[2*ge-ne,0],[-ge*tt,0,-ge,-Be*tt,-ge,-Be],[0,2*Be-Ae],[0,-Be*tt,ge*tt,-Be,ge,-Be]],L+ge,_,[1,1],Te,!0),this},h.__private__.ellipse=h.ellipse=function(L,_,ne,Ae,ge){if(isNaN(L)||isNaN(_)||isNaN(ne)||isNaN(Ae)||!ga(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ne,Te=4/3*(Math.SQRT2-1)*Ae;return $f(L+ne,_),_i(L+ne,_-Te,L+Be,_-Ae,L,_-Ae),_i(L-Be,_-Ae,L-ne,_-Te,L-ne,_),_i(L-ne,_+Te,L-Be,_+Ae,L,_+Ae),_i(L+Be,_+Ae,L+ne,_+Te,L+ne,_),Jl(ge),this},h.__private__.circle=h.circle=function(L,_,ne,Ae){if(isNaN(L)||isNaN(_)||isNaN(ne)||!ga(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,_,ne,ne,Ae)},h.setFont=function(L,_,ne){return ne&&(_=j(_,ne)),Ve=kh(L,_,{disableWarning:!1}),this};var b1=h.__private__.getFont=h.getFont=function(){return Ft[kh.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var L,_,ne={};for(L in Ut)if(Ut.hasOwnProperty(L))for(_ in ne[L]=[],Ut[L])Ut[L].hasOwnProperty(_)&&ne[L].push(_);return ne},h.addFont=function(L,_,ne,Ae,ge){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ne=j(ne,Ae)),Sh.call(this,L,_,ne,ge=ge||"Identity-H")};var ql,Vf=r.lineWidth||.200025,v1=h.__private__.getLineWidth=h.getLineWidth=function(){return Vf},vt=h.__private__.setLineWidth=h.setLineWidth=function(L){return Vf=L,W(M(G(L))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(L,_){if(L=L||[],_=_||0,isNaN(_)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(ne){return M(G(ne))}).join(" "),_=M(G(_)),W("["+L+"] "+_+" d"),this};var C1=h.__private__.getLineHeight=h.getLineHeight=function(){return je*ql};h.__private__.getLineHeight=h.getLineHeight=function(){return je*ql};var L1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(ql=L),this},S1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ql};L1(r.lineHeight);var $a=h.__private__.getHorizontalCoordinate=function(L){return G(L)},Va=h.__private__.getVerticalCoordinate=function(L){return C===v?L:ht[K].mediaBox.topRightY-ht[K].mediaBox.bottomLeftY-G(L)},E1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(L){return M($a(L))},N1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(L){return M(Va(L))},sc=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return fa(sc)},h.__private__.setStrokeColor=h.setDrawColor=function(L,_,ne,Ae){return sc=Ui({ch1:L,ch2:_,ch3:ne,ch4:Ae,pdfColorType:"draw",precision:2}),W(sc),this};var Yf=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return fa(Yf)},h.__private__.setFillColor=h.setFillColor=function(L,_,ne,Ae){return Yf=Ui({ch1:L,ch2:_,ch3:ne,ch4:Ae,pdfColorType:"fill",precision:2}),W(Yf),this};var Zl=r.textColor||"0 g",B1=h.__private__.getTextColor=h.getTextColor=function(){return fa(Zl)};h.__private__.setTextColor=h.setTextColor=function(L,_,ne,Ae){return Zl=Ui({ch1:L,ch2:_,ch3:ne,ch4:Ae,pdfColorType:"text",precision:3}),this};var Ya=r.charSpace,k1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ya||0)};h.__private__.setCharSpace=h.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ya=L,this};var Wf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(L){var _=h.CapJoinStyles[L];if(_===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wf=_,W(_+" J"),this};var Jf=0;h.__private__.setLineJoin=h.setLineJoin=function(L){var _=h.CapJoinStyles[L];if(_===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jf=_,W(_+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(M(G(L))+" M"),this},h.GState=Xm,h.setGState=function(L){(L=typeof L=="string"?pt[Nt[L]]:Uh(null,L)).equals(Nr)||(W("/"+L.id+" gs"),Nr=L)};var Uh=function(L,_){if(!L||!Nt[L]){var ne=!1;for(var Ae in pt)if(pt.hasOwnProperty(Ae)&&pt[Ae].equals(_)){ne=!0;break}if(ne)_=pt[Ae];else{var ge="GS"+(Object.keys(pt).length+1).toString(10);pt[ge]=_,_.id=ge}return L&&(Nt[L]=_.id),Xt.publish("addGState",_),_}};h.addGState=function(L,_){return Uh(L,_),this},h.saveGraphicsState=function(){return W("q"),Er.push({key:Ve,size:je,color:Zl}),this},h.restoreGraphicsState=function(){W("Q");var L=Er.pop();return Ve=L.key,je=L.size,Zl=L.color,Nr=null,this},h.setCurrentTransformationMatrix=function(L){return W(L.toString()+" cm"),this},h.comment=function(L){return W("#"+L),this};var Wa=function(L,_){var ne=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Be){isNaN(Be)||(ne=parseFloat(Be))}});var Ae=_||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Be){isNaN(Be)||(Ae=parseFloat(Be))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Be){ge=Be.toString()}}),this},qf=function(L,_,ne,Ae){Wa.call(this,L,_),this.type="rect";var ge=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Te){isNaN(Te)||(ge=parseFloat(Te))}});var Be=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Te){isNaN(Te)||(Be=parseFloat(Te))}}),this},ic=function(){this.page=_t,this.currentPage=K,this.pages=Ee.slice(0),this.pagesContext=ht.slice(0),this.x=et,this.y=$r,this.matrix=Yt,this.width=Xf(K),this.height=_h(K),this.outputDestination=Pe,this.id="",this.objectNumber=-1};ic.prototype.restore=function(){_t=this.page,K=this.currentPage,ht=this.pagesContext,Ee=this.pages,et=this.x,$r=this.y,Yt=this.matrix,Rh(K,this.width),Ja(K,this.height),Pe=this.outputDestination};var Zf=function(L,_,ne,Ae,ge){ca.push(new ic),_t=K=0,Ee=[],et=L,$r=_,Yt=ge,Gf([ne,Ae])};for(var Xl in h.beginFormObject=function(L,_,ne,Ae,ge){return Zf(L,_,ne,Ae,ge),this},h.endFormObject=function(L){return function(_){if(Ha[_])ca.pop().restore();else{var ne=new ic,Ae="Xo"+(Object.keys(Vn).length+1).toString(10);ne.id=Ae,Ha[_]=Ae,Vn[Ae]=ne,Xt.publish("addFormObject",ne),ca.pop().restore()}}(L),this},h.doFormObject=function(L,_){var ne=Vn[Ha[L]];return W("q"),W(_.toString()+" cm"),W("/"+ne.id+" Do"),W("Q"),this},h.getFormObject=function(L){var _=Vn[Ha[L]];return{x:_.x,y:_.y,width:_.width,height:_.height,matrix:_.matrix}},h.save=function(L,_){return L=L||"generated.pdf",(_=_||{}).returnPromise=_.returnPromise||!1,_.returnPromise===!1?(mA(rc(ha()),L),typeof mA.unload=="function"&&xt.setTimeout&&setTimeout(mA.unload,911),this):new Promise(function(ne,Ae){try{var ge=mA(rc(ha()),L);typeof mA.unload=="function"&&xt.setTimeout&&setTimeout(mA.unload,911),ne(ge)}catch(Be){Ae(Be.message)}})},ct.API)ct.API.hasOwnProperty(Xl)&&(Xl==="events"&&ct.API.events.length?function(L,_){var ne,Ae,ge;for(ge=_.length-1;ge!==-1;ge--)ne=_[ge][0],Ae=_[ge][1],L.subscribe.apply(L,[ne].concat(typeof Ae=="function"?[Ae]:Ae))}(Xt,ct.API.events):h[Xl]=ct.API[Xl]);function Xf(L){return ht[L].mediaBox.topRightX-ht[L].mediaBox.bottomLeftX}function Rh(L,_){ht[L].mediaBox.topRightX=_+ht[L].mediaBox.bottomLeftX}function _h(L){return ht[L].mediaBox.topRightY-ht[L].mediaBox.bottomLeftY}function Ja(L,_){ht[L].mediaBox.topRightY=_+ht[L].mediaBox.bottomLeftY}var qa=h.getPageWidth=function(L){return Xf(L=L||K)/mt},Ph=h.setPageWidth=function(L,_){Rh(L,_*mt)},eA=h.getPageHeight=function(L){return _h(L=L||K)/mt},Qh=h.setPageHeight=function(L,_){Ja(L,_*mt)};return h.internal={pdfEscape:di,getStyle:Mh,getFont:b1,getFontSize:Oe,getCharSpace:k1,getTextColor:B1,getLineHeight:C1,getLineHeightFactor:S1,getLineWidth:v1,write:Ie,getHorizontalCoordinate:$a,getVerticalCoordinate:Va,getCoordinateString:E1,getVerticalCoordinateString:N1,collections:{},newObject:Qr,newAdditionalObject:Vl,newObjectDeferred:Ln,newObjectDeferredBegin:In,getFilters:Ri,putStream:fi,events:Xt,scaleFactor:mt,pageSize:{getWidth:function(){return qa(K)},setWidth:function(L){Ph(K,L)},getHeight:function(){return eA(K)},setHeight:function(L){Qh(K,L)}},encryptionOptions:f,encryption:dn,getEncryptor:function(L){return f!==null?dn.encryptor(L,0):function(_){return _}},output:Ih,getNumberOfPages:Bh,get pages(){return Ee},out:W,f2:T,f3:P,getPageInfo:Ka,getPageInfoByObjId:Th,getCurrentPageInfo:m1,getPDFVersion:m,Point:Wa,Rectangle:qf,Matrix:gt,hasHotfix:ui},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return qa(K)},set:function(L){Ph(K,L)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return eA(K)},set:function(L){Qh(K,L)},enumerable:!0,configurable:!0}),(function(L){for(var _=0,ne=$e.length;_<ne;_++){var Ae=Sh.call(this,L[_][0],L[_][1],L[_][2],$e[_][3],!0);d===!1&&(u[Ae]=!0);var ge=L[_][0].split("-");Lh({id:Ae,fontName:ge[0],fontStyle:ge[1]||""})}Xt.publish("addFonts",{fonts:Ft,dictionary:Ut})}).call(h,$e),Ve="F1",Eh(s,t),Xt.publish("initialized"),h}Nc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Nc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nc.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Nc.prototype.processOwnerPassword=function(r,e){return yw(xw(e).substr(0,5),r)},Nc.prototype.encryptor=function(r,e){var t=xw(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return yw(t,n)}},Xm.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||ar(r)!==ar(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},ct.API={events:[]},ct.version="3.0.4";var Gr=ct.API,$v=1,qA=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(r){return r.toFixed(2)},nl=function(r){return r.toFixed(5)};Gr.__acroform__={};var Ds=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},XS=function(r){return r*$v},Sa=function(r){var e=new e6,t=Xe.internal.getHeight(r)||0,n=Xe.internal.getWidth(r)||0;return e.BBox=[0,0,Number(St(n)),Number(St(t))],e},mY=Gr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},pY=Gr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},xY=Gr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},tn=Gr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xY(r,e-1)},rn=Gr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mY(r,e-1)},nn=Gr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pY(r,e-1)},yY=Gr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],i=r[1],a=r[2],l=r[3],A={};return A.lowerLeft_X=t(s)||0,A.lowerLeft_Y=n(i+l)||0,A.upperRight_X=t(s+a)||0,A.upperRight_Y=n(i)||0,[Number(St(A.lowerLeft_X)),Number(St(A.lowerLeft_Y)),Number(St(A.upperRight_X)),Number(St(A.upperRight_Y))]},wY=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=ww(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+St(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Sa(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},ww=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var i=t,a=Xe.internal.getHeight(r)||0;a=a<0?-a:a;var l=Xe.internal.getWidth(r)||0;l=l<0?-l:l;var A=function(T,P,G){if(T+1<s.length){var R=P+" "+s[T+1][0];return W0(R,r,G).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var c,f,d=W0("3",r,i).height,u=r.multiline?a-i:(a-d)/2,h=u+=2,g=0,m=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+W0(e,r,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",w=0,v=0;v<s.length;v++)if(s.hasOwnProperty(v)){var C=!1;if(s[v].length!==1&&y!==s[v].length-1){if((d+2)*(w+2)+2>a)continue e;x+=s[v][y],C=!0,m=v,v--}else{x=(x+=s[v][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var N=parseInt(v),B=A(N,x,i),j=v>=s.length-1;if(B&&!j){x+=" ",y=0;continue}if(B||j){if(j)m=N;else if(r.multiline&&(d+2)*(w+2)+2>a)continue e}else{if(!r.multiline||(d+2)*(w+2)+2>a)continue e;m=N}}for(var M="",I=g;I<=m;I++){var U=s[I];if(r.multiline){if(I===m){M+=U[y]+" ",y=(y+1)%U.length;continue}if(I===g){M+=U[U.length-1]+" ";continue}}M+=U[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=W0(M,r,i).width,r.textAlign){case"right":c=l-f-2;break;case"center":c=(l-f)/2;break;default:c=2}e+=St(c)+" "+St(h)+` Td
`,e+="("+qA(M)+`) Tj
`,e+=-St(c)+` 0 Td
`,h=-(i+2),f=0,g=C?m:m+1,w++,x=""}break}return n.text=e,n.fontSize=i,n},W0=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},bY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vY=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},CY=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(oa.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(bY)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$v=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new t6,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&vY(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],A=[],c=l.Rect;if(l.Rect&&(l.Rect=yY(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Xe.createDefaultAppearanceStream(l),ar(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=wY(l);A.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var d="";for(var u in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(u)){var h=l.appearanceStreamContent[u];if(d+="/"+u+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var g=h[a];typeof g=="function"&&(g=g.call(s,l)),d+="/"+a+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(s,l)),d+="/"+a+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);d+=">>"}A.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&function(m,y){for(var x in m)if(m.hasOwnProperty(x)){var w=x,v=m[x];y.internal.newObjectDeferredBegin(v.objId,!0),ar(v)==="object"&&typeof v.putStream=="function"&&v.putStream(),delete m[w]}}(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},XT=Gr.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var s="[",i=0;i<r.length;i++)switch(i!==0&&(s+=" "),ar(r[i])){case"boolean":case"number":case"object":s+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+qA(n(r[i].toString()))+")"):s+=r[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d2=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+qA(n(r))+")"},Ta=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ta.prototype.toString=function(){return this.objId+" 0 R"},Ta.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ta.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:XT(s,this.objId,this.scope)}):s instanceof Ta?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var e6=function(){Ta.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ds(e6,Ta);var t6=function(){Ta.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+qA(t(r))+")"}},set:function(t){r=t}})};Ds(t6,Ta);var oa=function r(){Ta.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!tn(e,3)},set:function(x){x?this.F=rn(e,3):this.F=nn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ep)return;i="FieldObject"+r.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+qA(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/$v:c},set:function(x){c=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof ep||this instanceof kA))return d2(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var u=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof Bn==0?d2(u,this.objId,this.scope):u},set:function(x){x=x.toString(),u=this instanceof Bn==0?x.substr(0,1)==="("?xc(x.substr(1,x.length-2)):xc(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?xc(u.substr(1,u.length-1)):u},set:function(x){x=x.toString(),u=this instanceof Bn==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Bn==0?d2(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof Bn==0?x.substr(0,1)==="("?xc(x.substr(1,x.length-2)):xc(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?xc(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Bn==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,1)},set:function(x){x?this.Ff=rn(this.Ff,1):this.Ff=nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,2)},set:function(x){x?this.Ff=rn(this.Ff,2):this.Ff=nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,3)},set:function(x){x?this.Ff=rn(this.Ff,3):this.Ff=nn(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Ds(oa,Ta);var sf=function(){oa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XT(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=function(i,a,l){l||(l=1);for(var A,c=[];A=a.exec(i);)c.push(A[l]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,18)},set:function(t){t?this.Ff=rn(this.Ff,18):this.Ff=nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=rn(this.Ff,19):this.Ff=nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,20)},set:function(t){t?(this.Ff=rn(this.Ff,20),e.sort()):this.Ff=nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,22)},set:function(t){t?this.Ff=rn(this.Ff,22):this.Ff=nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(t){t?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,27)},set:function(t){t?this.Ff=rn(this.Ff,27):this.Ff=nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ds(sf,oa);var af=function(){sf.call(this),this.fontName="helvetica",this.combo=!1};Ds(af,sf);var of=function(){af.call(this),this.combo=!0};Ds(of,af);var qg=function(){of.call(this),this.edit=!0};Ds(qg,of);var Bn=function(){oa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,15)},set:function(t){t?this.Ff=rn(this.Ff,15):this.Ff=nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,16)},set:function(t){t?this.Ff=rn(this.Ff,16):this.Ff=nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,17)},set:function(t){t?this.Ff=rn(this.Ff,17):this.Ff=nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(t){t?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+qA(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){ar(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ds(Bn,oa);var Zg=function(){Bn.call(this),this.pushButton=!0};Ds(Zg,Bn);var lf=function(){Bn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ds(lf,Bn);var ep=function(){var r,e;oa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+qA(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){ar(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ds(ep,oa),lf.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},lf.prototype.createOption=function(r){var e=new ep;return e.Parent=this,e.optionName=r,this.Kids.push(e),LY.call(this.scope,e),e};var Xg=function(){Bn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};Ds(Xg,Bn);var kA=function(){oa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,13)},set:function(e){e?this.Ff=rn(this.Ff,13):this.Ff=nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,21)},set:function(e){e?this.Ff=rn(this.Ff,21):this.Ff=nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(e){e?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,24)},set:function(e){e?this.Ff=rn(this.Ff,24):this.Ff=nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,25)},set:function(e){e?this.Ff=rn(this.Ff,25):this.Ff=nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(e){e?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ds(kA,oa);var em=function(){kA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,14)},set:function(r){r?this.Ff=rn(this.Ff,14):this.Ff=nn(this.Ff,14)}}),this.password=!0};Ds(em,kA);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Sa(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),i=ww(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+St(Xe.internal.getWidth(r))+" "+St(Xe.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+St(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Sa(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],i=Xe.internal.getHeight(r),a=Xe.internal.getWidth(r),l=ww(r,r.caption);return s.push("1 g"),s.push("0 0 "+St(a)+" "+St(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+St(a-1)+" "+St(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+St(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Sa(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Xe.internal.getWidth(r))+" "+St(Xe.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Xe.RadioButton.Circle.YesNormal,e.D[r]=Xe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Sa(r);e.scope=r.scope;var t=[],n=Xe.internal.getWidth(r)<=Xe.internal.getHeight(r)?Xe.internal.getWidth(r)/4:Xe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Xe.internal.Bezier_C,i=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+nl(Xe.internal.getWidth(r)/2)+" "+nl(Xe.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Sa(r);e.scope=r.scope;var t=[],n=Xe.internal.getWidth(r)<=Xe.internal.getHeight(r)?Xe.internal.getWidth(r)/4:Xe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Xe.internal.Bezier_C).toFixed(5)),a=Number((n*Xe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nl(Xe.internal.getWidth(r)/2)+" "+nl(Xe.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+nl(Xe.internal.getWidth(r)/2)+" "+nl(Xe.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Sa(r);e.scope=r.scope;var t=[],n=Xe.internal.getWidth(r)<=Xe.internal.getHeight(r)?Xe.internal.getWidth(r)/4:Xe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Xe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nl(Xe.internal.getWidth(r)/2)+" "+nl(Xe.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Xe.RadioButton.Cross.YesNormal,e.D[r]=Xe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Sa(r);e.scope=r.scope;var t=[],n=Xe.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+St(Xe.internal.getWidth(r)-2)+" "+St(Xe.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),t.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),t.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),t.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Sa(r);e.scope=r.scope;var t=Xe.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+St(Xe.internal.getWidth(r))+" "+St(Xe.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+St(Xe.internal.getWidth(r)-2)+" "+St(Xe.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(St(t.x1.x)+" "+St(t.x1.y)+" m"),n.push(St(t.x2.x)+" "+St(t.x2.y)+" l"),n.push(St(t.x4.x)+" "+St(t.x4.y)+" m"),n.push(St(t.x3.x)+" "+St(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Sa(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+St(Xe.internal.getWidth(r))+" "+St(Xe.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Xe.internal.getWidth(r),t=Xe.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Xe.internal.getWidth=function(r){var e=0;return ar(r)==="object"&&(e=XS(r.Rect[2])),e},Xe.internal.getHeight=function(r){var e=0;return ar(r)==="object"&&(e=XS(r.Rect[3])),e};var LY=Gr.addField=function(r){if(CY(this,r),!(r instanceof oa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Gr.AcroFormChoiceField=sf,Gr.AcroFormListBox=af,Gr.AcroFormComboBox=of,Gr.AcroFormEditBox=qg,Gr.AcroFormButton=Bn,Gr.AcroFormPushButton=Zg,Gr.AcroFormRadioButton=lf,Gr.AcroFormCheckBox=Xg,Gr.AcroFormTextField=kA,Gr.AcroFormPasswordField=em,Gr.AcroFormAppearance=Xe,Gr.AcroForm={ChoiceField:sf,ListBox:af,ComboBox:of,EditBox:qg,Button:Bn,PushButton:Zg,RadioButton:lf,CheckBox:Xg,TextField:kA,PasswordField:em,Appearance:Xe},ct.AcroForm={ChoiceField:sf,ListBox:af,ComboBox:of,EditBox:qg,Button:Bn,PushButton:Zg,RadioButton:lf,CheckBox:Xg,TextField:kA,PasswordField:em,Appearance:Xe};ct.AcroForm;function r6(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(T,P){var G,R,q,Z,oe,H=t;if((P=P||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(B(T))for(oe in n)for(q=n[oe],G=0;G<q.length;G+=1){for(Z=!0,R=0;R<q[G].length;R+=1)if(q[G][R]!==void 0&&q[G][R]!==T[R]){Z=!1;break}if(Z===!0){H=oe;break}}else for(oe in n)for(q=n[oe],G=0;G<q.length;G+=1){for(Z=!0,R=0;R<q[G].length;R+=1)if(q[G][R]!==void 0&&q[G][R]!==T.charCodeAt(R)){Z=!1;break}if(Z===!0){H=oe;break}}return H===t&&P!==t&&(H=P),H},i=function T(P){for(var G=this.internal.write,R=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:P.width}),Z.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var oe="",H=0,re=P.transparency.length;H<re;H++)oe+=P.transparency[H]+" "+P.transparency[H]+" ";Z.push({key:"Mask",value:"["+oe+"]"})}P.sMask!==void 0&&Z.push({key:"SMask",value:P.objectId+1+" 0 R"});var ce=P.filter!==void 0?["/"+P.filter]:void 0;if(R({data:P.data,additionalKeyValues:Z,alreadyAppliedFilters:ce,objectId:P.objectId}),G("endobj"),"sMask"in P&&P.sMask!==void 0){var le,D=(le=P.sMaskBitsPerComponent)!==null&&le!==void 0?le:P.bitsPerComponent,K={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:P.sMask};"filter"in P&&(K.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(P.width),K.filter=P.filter),T.call(this,K)}if(P.colorSpace===x.INDEXED){var Y=this.internal.newObject();R({data:M(new Uint8Array(P.palette)),objectId:Y}),G("endobj")}},a=function(){var T=this.internal.collections[e+"images"];for(var P in T)i.call(this,T[P])},l=function(){var T,P=this.internal.collections[e+"images"],G=this.internal.write;for(var R in P)G("/I"+(T=P[R]).index,T.objectId,"0","R")},A=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var T=this.internal.collections[e+"images"];return A.call(this),T},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(T){return typeof r["process"+T.toUpperCase()]=="function"},u=function(T){return ar(T)==="object"&&T.nodeType===1},h=function(T,P){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var G=""+T.getAttribute("src");if(G.indexOf("data:image/")===0)return Jg(unescape(G).split("base64,").pop());var R=r.loadFile(G,!0);if(R!==void 0)return R}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var q;switch(P){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return Jg(T.toDataURL(q,1).split("base64,").pop())}},g=function(T){var P=this.internal.collections[e+"images"];if(P){for(var G in P)if(T===P[G].alias)return P[G]}},m=function(T,P,G){return T||P||(T=-96,P=-96),T<0&&(T=-1*G.width*72/T/this.internal.scaleFactor),P<0&&(P=-1*G.height*72/P/this.internal.scaleFactor),T===0&&(T=P*G.width/G.height),P===0&&(P=T*G.height/G.width),[T,P]},y=function(T,P,G,R,q,Z){var oe=m.call(this,G,R,q),H=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,ce=c.call(this);if(G=oe[0],R=oe[1],ce[q.index]=q,Z){Z*=Math.PI/180;var le=Math.cos(Z),D=Math.sin(Z),K=function(se){return se.toFixed(4)},Y=[K(le),K(D),K(-1*D),K(le),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,H(T),re(P+R),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([H(G),"0","0",H(R),"0","0","cm"].join(" "))):this.internal.write([H(G),"0","0",H(R),H(T),re(P+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},x=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=r.__addimage__.sHashCode=function(T){var P,G,R=0;if(typeof T=="string")for(G=T.length,P=0;P<G;P++)R=(R<<5)-R+T.charCodeAt(P),R|=0;else if(B(T))for(G=T.byteLength/2,P=0;P<G;P++)R=(R<<5)-R+T[P],R|=0;return R},C=r.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var P=!0;return T.length===0&&(P=!1),T.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(P=!1),P},N=r.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var P=T.indexOf(",");return P<0?null:T.substring(0,P).trim().endsWith("base64")?T.substring(P+1):null};r.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var B=r.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},j=r.__addimage__.binaryStringToUint8Array=function(T){for(var P=T.length,G=new Uint8Array(P),R=0;R<P;R++)G[R]=T.charCodeAt(R);return G},M=r.__addimage__.arrayBufferToBinaryString=function(T){for(var P="",G=B(T)?T:new Uint8Array(T),R=0;R<G.length;R+=8192)P+=String.fromCharCode.apply(null,G.subarray(R,R+8192));return P};r.addImage=function(){var T,P,G,R,q,Z,oe,H,re;if(typeof arguments[1]=="number"?(P=t,G=arguments[1],R=arguments[2],q=arguments[3],Z=arguments[4],oe=arguments[5],H=arguments[6],re=arguments[7]):(P=arguments[1],G=arguments[2],R=arguments[3],q=arguments[4],Z=arguments[5],oe=arguments[6],H=arguments[7],re=arguments[8]),ar(T=arguments[0])==="object"&&!u(T)&&"imageData"in T){var ce=T;T=ce.imageData,P=ce.format||P||t,G=ce.x||G||0,R=ce.y||R||0,q=ce.w||ce.width||q,Z=ce.h||ce.height||Z,oe=ce.alias||oe,H=ce.compression||H,re=ce.rotation||ce.angle||re}var le=this.internal.getFilters();if(H===void 0&&le.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(G)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var D=I.call(this,T,P,oe,H);return y.call(this,G,R,q,Z,D,re),this};var I=function(T,P,G,R){var q,Z,oe;if(typeof T=="string"&&s(T)===t){T=unescape(T);var H=U(T,!1);(H!==""||(H=r.loadFile(T,!0))!==void 0)&&(T=H)}if(u(T)&&(T=h(T,P)),P=s(T,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((oe=G)==null||oe.length===0)&&(G=function(re){return typeof re=="string"||B(re)?v(re):B(re.data)?v(re.data):null}(T)),(q=g.call(this,G))||(T instanceof Uint8Array||P==="RGBA"||(Z=T,T=j(T)),q=this["process"+P.toUpperCase()](T,f.call(this),G,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in r.image_compression?re:w.NONE}(R),Z)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},U=r.__addimage__.convertBase64ToBinaryString=function(T,P){P=typeof P!="boolean"||P;var G,R="";if(typeof T=="string"){var q;G=(q=N(T))!==null&&q!==void 0?q:T;try{R=Jg(G)}catch(Z){if(P)throw C(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};r.getImageProperties=function(T){var P,G,R="";if(u(T)&&(T=h(T)),typeof T=="string"&&s(T)===t&&((R=U(T,!1))===""&&(R=r.loadFile(T)||""),T=R),G=s(T),!d(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(T instanceof Uint8Array||(T=j(T)),!(P=this["process"+G.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=G,P}})(ct.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,f=!1,d=0;d<c.length&&!f;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var u=0;u<c.length;u++){n=c[u];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+h(x(w))+") >>",m.content=i;var v=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var B=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,i,a){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(t),y:c(n),w:A(t+s),h:c(n+i)},options:a,type:"link"})},r.textWithLink=function(t,n,s,i){var a,l,A=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;a=Math.ceil(c*f)}else l=A,a=c;return this.text(t,n,s,i),s+=.2*c,i.align==="center"&&(n-=A/2),i.align==="right"&&(n-=A),this.link(n,s-c,l,a,i),A},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(ct.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=r.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},A=r.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&s.indexOf(m.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&i(m)&&e[m.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(m){var y=0,x=t,w="",v=0;for(y=0;y<m.length;y+=1)x[m.charCodeAt(y)]!==void 0?(v++,typeof(x=x[m.charCodeAt(y)])=="number"&&(w+=String.fromCharCode(x),x=t,v=0),y===m.length-1&&(x=t,w+=m.charAt(y-(v-1)),y-=v-1,v=0)):(x=t,w+=m.charAt(y-v),y-=v,v=0);return w};r.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var u=r.__arabicParser__.getCorrectForm=function(m,y,x){return a(m)?i(m)===!1?-1:!c(m)||!a(y)&&!a(x)||!a(x)&&l(y)||l(m)&&!a(y)||l(m)&&A(y)||l(m)&&l(y)?0:f(m)&&a(y)&&!l(y)&&a(x)&&c(x)?3:l(m)||!a(x)?1:2:-1},h=function(m){var y=0,x=0,w=0,v="",C="",N="",B=(m=m||"").split("\\s+"),j=[];for(y=0;y<B.length;y+=1){for(j.push(""),x=0;x<B[y].length;x+=1)v=B[y][x],C=B[y][x-1],N=B[y][x+1],a(v)?(w=u(v,C,N),j[y]+=w!==-1?String.fromCharCode(e[v.charCodeAt(0)][w]):v):j[y]+=v;j[y]=d(j[y])}return j.join(" ")},g=r.__arabicParser__.processArabic=r.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var w=0;for(x=[],w=0;w<y.length;w+=1)Array.isArray(y[w])?x.push([h(y[w][0]),y[w][1],y[w][2]]):x.push([h(y[w])]);m=x}else m=h(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};r.events.push(["preProcessText",g])}(ct.API),ct.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var u=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},r.getTextDimensions=function(A,c){n.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),u=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,y=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var x=c.maxWidth;x>0?typeof A=="string"?A=this.splitTextToSize(A,x):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(v,C){return v.concat(y.splitTextToSize(C,x))},[])):A=Array.isArray(A)?A:[A];for(var w=0;w<A.length;w++)h<(m=this.getStringUnitWidth(A[w],{font:d})*f)&&(h=m);return h!==0&&(g=A.length),{w:h/=u,h:Math.max((g*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/u,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,u=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===A.lineNumber?(A.x=(c.x||0)+(c.width||0),A.y=c.y||0):c.y+c.height+A.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=d.top,h&&u&&(this.printHeaderRow(A.lineNumber,!0),A.y+=u[0].height)):A.y=c.y+c.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-f,A.y+f,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+f,{align:"center",baseline:"top",maxWidth:A.width-f-f}):this.text(A.text,A.x+f,A.y+f,{align:"left",baseline:"top",maxWidth:A.width-f-f})),this.internal.__cell__.lastCell=A,this};r.table=function(A,c,f,d,u){if(n.call(this),!f)throw new Error("No data for PDF table.");var h,g,m,y,x=[],w=[],v=[],C={},N={},B=[],j=[],M=(u=u||{}).autoSize||!1,I=u.printHeaders!==!1,U=u.css&&u.css["font-size"]!==void 0?16*u.css["font-size"]:u.fontSize||12,T=u.margins||Object.assign({width:this.getPageWidth()},e),P=typeof u.padding=="number"?u.padding:3,G=u.headerBackgroundColor||"#c8c8c8",R=u.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=R,this.setFontSize(U),d==null)w=x=Object.keys(f[0]),v=x.map(function(){return"left"});else if(Array.isArray(d)&&ar(d[0])==="object")for(x=d.map(function(ce){return ce.name}),w=d.map(function(ce){return ce.prompt||ce.name||""}),v=d.map(function(ce){return ce.align||"left"}),h=0;h<d.length;h+=1)N[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(w=x=d,v=x.map(function(){return"left"}));if(M||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<x.length;h+=1){for(C[y=x[h]]=f.map(function(ce){return ce[y]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[y],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)B.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,B)+P+P,B=[]}if(I){var q={};for(h=0;h<x.length;h+=1)q[x[h]]={},q[x[h]].text=w[h],q[x[h]].align=v[h];var Z=l.call(this,q,N);j=x.map(function(ce){return new i(A,c,N[ce],Z,q[ce].text,void 0,q[ce].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var oe=d.reduce(function(ce,le){return ce[le.name]=le.align,ce},{});for(h=0;h<f.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:f[h]},this);var H=l.call(this,f[h],N);for(m=0;m<x.length;m+=1){var re=f[h][x[m]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:m,data:re},this),a.call(this,new i(A,c,N[x[m]],H,re,h+2,oe[x[m]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=c,this};var l=function(A,c){var f=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,u=this.internal.scaleFactor;return Object.keys(A).map(function(h){var g=A[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/u+f+f},this).reduce(function(h,g){return Math.max(h,g)},0)};r.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},r.printHeaderRow=function(A,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var u=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,u.push(f)),f.lineNumber=A;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(g)}u.length>0&&this.setTableHeaderRow(u),this.setFont(void 0,"normal"),t=!1}}(ct.API);var n6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},s6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bw=r6(s6),i6=[100,200,300,400,500,600,700,800,900],SY=r6(i6);function u2(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return n6[i=i||"normal"]?i:"normal"}(r.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(r.weight),s=function(i){return typeof bw[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function eE(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var EY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rE(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function nE(r){return r.trimLeft()}function NY(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function BY(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var J0,sE,iE,yc,q0,aE,oE,lE,h2=["times"];function AE(r,e,t,n,s){var i=4,a=fE;switch(s){case ct.API.image_compression.FAST:i=1,a=cE;break;case ct.API.image_compression.MEDIUM:i=6,a=dE;break;case ct.API.image_compression.SLOW:i=9,a=uE}r=function(A,c,f,d){for(var u,h=A.length/c,g=new Uint8Array(A.length+h),m=[kY,cE,fE,dE,uE],y=0;y<h;y+=1){var x=y*c,w=A.subarray(x,x+c);if(d)g.set(d(w,f,u),x+y);else{for(var v=m.length,C=[],N=0;N<v;N+=1)C[N]=m[N](w,f,u);var B=IY(C.concat());g.set(C[B],x+y)}u=w}return g}(r,e,Math.ceil(t*n/8),a);var l=hw(r,{level:i});return ct.API.__addimage__.arrayBufferToBinaryString(l)}function kY(r){var e=Array.apply([],r);return e.unshift(0),e}function cE(r,e){var t=r.length,n=[];n[0]=1;for(var s=0;s<t;s+=1){var i=r[s-e]||0;n[s+1]=r[s]-i+256&255}return n}function fE(r,e,t){var n=r.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=t&&t[i]||0;s[i+1]=r[i]-a+256&255}return s}function dE(r,e,t){var n=r.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=r[i-e]||0,l=t&&t[i]||0;s[i+1]=r[i]+256-(a+l>>>1)&255}return s}function uE(r,e,t){var n=r.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=jY(r[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);s[i+1]=r[i]-a+256&255}return s}function jY(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),s=Math.abs(r-t),i=Math.abs(r+e-t-t);return n<=s&&n<=i?r:s<=i?e:t}function IY(r){var e=r.map(function(t){return t.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function g2(r,e,t){var n=e*t,s=Math.floor(n/8),i=16-(n-8*s+t),a=(1<<t)-1;return a6(r,s)>>i&a}function hE(r,e,t,n){var s=t*n,i=Math.floor(s/8),a=16-(s-8*i+n),l=(1<<n)-1,A=(e&l)<<a;(function(c,f,d){if(f+1<c.byteLength)c.setUint16(f,d,!1);else{var u=d>>8&255;c.setUint8(f,u)}})(r,i,a6(r,i)&~(l<<a)&65535|A)}function a6(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function TY(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],i=s>>7,a=1<<1+(7&s);r[e++],r[e++];var l=null,A=null;i&&(l=e,A=a,e+=3*a);var c=!0,f=[],d=0,u=null,h=0,g=null;for(this.width=t,this.height=n;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,g=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=r[e++];d=r[e++]|r[e++]<<8,u=r[e++],1&m||(u=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var y=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,C=r[e++],N=C>>6&1,B=1<<1+(7&C),j=l,M=A,I=!1;C>>7&&(I=!0,j=e,M=B,e+=3*B);var U=e;for(e++;;){var T;if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}f.push({x:y,y:x,width:w,height:v,has_local_palette:I,palette_offset:j,palette_size:M,data_offset:U,data_length:e-U,transparent_index:u,interlaced:!!N,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=f.length)throw new Error("Frame index out of range.");return f[P]},this.decodeAndBlitFrameBGRA=function(P,G){var R=this.frameInfo(P),q=R.width*R.height,Z=new Uint8Array(q);gE(r,R.data_offset,Z,q);var oe=R.palette_offset,H=R.transparent_index;H===null&&(H=256);var re=R.width,ce=t-re,le=re,D=4*(R.y*t+R.x),K=4*((R.y+R.height)*t+R.x),Y=D,se=4*ce;R.interlaced===!0&&(se+=4*t*7);for(var J=8,ie=0,de=Z.length;ie<de;++ie){var ae=Z[ie];if(le===0&&(le=re,(Y+=se)>=K&&(se=4*ce+4*t*(J-1),Y=D+(re+ce)*(J<<1),J>>=1)),ae===H)Y+=4;else{var he=r[oe+3*ae],Ee=r[oe+3*ae+1],_e=r[oe+3*ae+2];G[Y++]=_e,G[Y++]=Ee,G[Y++]=he,G[Y++]=255}--le}},this.decodeAndBlitFrameRGBA=function(P,G){var R=this.frameInfo(P),q=R.width*R.height,Z=new Uint8Array(q);gE(r,R.data_offset,Z,q);var oe=R.palette_offset,H=R.transparent_index;H===null&&(H=256);var re=R.width,ce=t-re,le=re,D=4*(R.y*t+R.x),K=4*((R.y+R.height)*t+R.x),Y=D,se=4*ce;R.interlaced===!0&&(se+=4*t*7);for(var J=8,ie=0,de=Z.length;ie<de;++ie){var ae=Z[ie];if(le===0&&(le=re,(Y+=se)>=K&&(se=4*ce+4*t*(J-1),Y=D+(re+ce)*(J<<1),J>>=1)),ae===H)Y+=4;else{var he=r[oe+3*ae],Ee=r[oe+3*ae+1],_e=r[oe+3*ae+2];G[Y++]=he,G[Y++]=Ee,G[Y++]=_e,G[Y++]=255}--le}}}function gE(r,e,t,n){for(var s=r[e++],i=1<<s,a=i+1,l=a+1,A=s+1,c=(1<<A)-1,f=0,d=0,u=0,h=r[e++],g=new Int32Array(4096),m=null;;){for(;f<16&&h!==0;)d|=r[e++]<<f,f+=8,h===1?h=r[e++]:--h;if(f<A)break;var y=d&c;if(d>>=A,f-=A,y!==i){if(y===a)break;for(var x=y<l?y:m,w=0,v=x;v>i;)v=g[v]>>8,++w;var C=v;if(u+w+(x!==y?1:0)>n)return void ur.log("Warning, gif stream longer than expected.");t[u++]=C;var N=u+=w;for(x!==y&&(t[u++]=C),v=x;w--;)v=g[v],t[--N]=255&v,v>>=8;m!==null&&l<4096&&(g[l++]=m<<8|C,l>=c+1&&A<12&&(++A,c=c<<1|1)),m=y}else l=a+1,c=(1<<(A=s+1))-1,m=null}return u!==n&&ur.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function m2(r){var e,t,n,s,i,a=Math.floor,l=new Array(64),A=new Array(64),c=new Array(64),f=new Array(64),d=new Array(65535),u=new Array(65535),h=new Array(64),g=new Array(64),m=[],y=0,x=7,w=new Array(64),v=new Array(64),C=new Array(64),N=new Array(256),B=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(D,K){for(var Y=0,se=0,J=new Array,ie=1;ie<=16;ie++){for(var de=1;de<=D[ie];de++)J[K[se]]=[],J[K[se]][0]=Y,J[K[se]][1]=ie,se++,Y++;Y*=2}return J}function oe(D){for(var K=D[0],Y=D[1]-1;Y>=0;)K&1<<Y&&(y|=1<<x),Y--,--x<0&&(y==255?(H(255),H(0)):H(y),x=7,y=0)}function H(D){m.push(D)}function re(D){H(D>>8&255),H(255&D)}function ce(D,K,Y,se,J){for(var ie,de=J[0],ae=J[240],he=function(je,Je){var Oe,be,Fe,rt,ot,dt,Et,wt,Ve,mt,et=0;for(Ve=0;Ve<8;++Ve){Oe=je[et],be=je[et+1],Fe=je[et+2],rt=je[et+3],ot=je[et+4],dt=je[et+5],Et=je[et+6];var $r=Oe+(wt=je[et+7]),Yt=Oe-wt,Ft=be+Et,Ut=be-Et,Er=Fe+dt,ut=Fe-dt,mr=rt+ot,pt=rt-ot,Nt=$r+mr,Nr=$r-mr,_t=Ft+Er,ht=Ft-Er;je[et]=Nt+_t,je[et+4]=Nt-_t;var Xt=.707106781*(ht+Nr);je[et+2]=Nr+Xt,je[et+6]=Nr-Xt;var $l=.382683433*((Nt=pt+ut)-(ht=Ut+Yt)),Vn=.5411961*Nt+$l,Ha=1.306562965*ht+$l,ca=.707106781*(_t=ut+Ut),gt=Yt+ca,za=Yt-ca;je[et+5]=za+Vn,je[et+3]=za-Vn,je[et+1]=gt+Ha,je[et+7]=gt-Ha,et+=8}for(et=0,Ve=0;Ve<8;++Ve){Oe=je[et],be=je[et+8],Fe=je[et+16],rt=je[et+24],ot=je[et+32],dt=je[et+40],Et=je[et+48];var Ga=Oe+(wt=je[et+56]),Ai=Oe-wt,ci=be+Et,Qr=be-Et,Ln=Fe+dt,In=Fe-dt,Vl=rt+ot,Ro=rt-ot,Fi=Ga+Vl,fa=Ga-Vl,Ui=ci+Ln,Ri=ci-Ln;je[et]=Fi+Ui,je[et+32]=Fi-Ui;var fi=.707106781*(Ri+fa);je[et+16]=fa+fi,je[et+48]=fa-fi;var Yl=.382683433*((Fi=Ro+In)-(Ri=Qr+Ai)),da=.5411961*Fi+Yl,Wl=1.306562965*Ri+Yl,ZA=.707106781*(Ui=In+Qr),XA=Ai+ZA,ec=Ai-ZA;je[et+40]=ec+da,je[et+24]=ec-da,je[et+8]=XA+Wl,je[et+56]=XA-Wl,et++}for(Ve=0;Ve<64;++Ve)mt=je[Ve]*Je[Ve],h[Ve]=mt>0?mt+.5|0:mt-.5|0;return h}(D,K),Ee=0;Ee<64;++Ee)g[j[Ee]]=he[Ee];var _e=g[0]-Y;Y=g[0],_e==0?oe(se[0]):(oe(se[u[ie=32767+_e]]),oe(d[ie]));for(var Pe=63;Pe>0&&g[Pe]==0;)Pe--;if(Pe==0)return oe(de),Y;for(var We,W=1;W<=Pe;){for(var Ie=W;g[W]==0&&W<=Pe;)++W;var Ke=W-Ie;if(Ke>=16){We=Ke>>4;for(var $e=1;$e<=We;++$e)oe(ae);Ke&=15}ie=32767+g[W],oe(J[(Ke<<4)+u[ie]]),oe(d[ie]),W++}return Pe!=63&&oe(de),Y}function le(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(K){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var J=a((Y[se]*K+50)/100);J=Math.min(Math.max(J,1),255),l[j[se]]=J}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ae=a((ie[de]*K+50)/100);ae=Math.min(Math.max(ae,1),255),A[j[de]]=ae}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,_e=0;_e<8;_e++)for(var Pe=0;Pe<8;Pe++)c[Ee]=1/(l[j[Ee]]*he[_e]*he[Pe]*8),f[Ee]=1/(A[j[Ee]]*he[_e]*he[Pe]*8),Ee++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,K){K&&le(K),m=new Array,y=0,x=7,re(65496),re(65504),re(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),re(1),re(1),H(0),H(0),function(){re(65499),re(132),H(0);for(var be=0;be<64;be++)H(l[be]);H(1);for(var Fe=0;Fe<64;Fe++)H(A[Fe])}(),function(be,Fe){re(65472),re(17),H(8),re(Fe),re(be),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(D.width,D.height),function(){re(65476),re(418),H(0);for(var be=0;be<16;be++)H(M[be+1]);for(var Fe=0;Fe<=11;Fe++)H(I[Fe]);H(16);for(var rt=0;rt<16;rt++)H(U[rt+1]);for(var ot=0;ot<=161;ot++)H(T[ot]);H(1);for(var dt=0;dt<16;dt++)H(P[dt+1]);for(var Et=0;Et<=11;Et++)H(G[Et]);H(17);for(var wt=0;wt<16;wt++)H(R[wt+1]);for(var Ve=0;Ve<=161;Ve++)H(q[Ve])}(),re(65498),re(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var Y=0,se=0,J=0;y=0,x=7,this.encode.displayName="_encode_";for(var ie,de,ae,he,Ee,_e,Pe,We,W,Ie=D.data,Ke=D.width,$e=D.height,je=4*Ke,Je=0;Je<$e;){for(ie=0;ie<je;){for(Ee=je*Je+ie,Pe=-1,We=0,W=0;W<64;W++)_e=Ee+(We=W>>3)*je+(Pe=4*(7&W)),Je+We>=$e&&(_e-=je*(Je+1+We-$e)),ie+Pe>=je&&(_e-=ie+Pe-je+4),de=Ie[_e++],ae=Ie[_e++],he=Ie[_e++],w[W]=(B[de]+B[ae+256|0]+B[he+512|0]>>16)-128,v[W]=(B[de+768|0]+B[ae+1024|0]+B[he+1280|0]>>16)-128,C[W]=(B[de+1280|0]+B[ae+1536|0]+B[he+1792|0]>>16)-128;Y=ce(w,c,Y,e,n),se=ce(v,f,se,t,s),J=ce(C,f,J,t,s),ie+=32}Je+=8}if(x>=0){var Oe=[];Oe[1]=x+1,Oe[0]=(1<<x+1)-1,oe(Oe)}return re(65497),new Uint8Array(m)},r=r||50,function(){for(var D=String.fromCharCode,K=0;K<256;K++)N[K]=D(K)}(),e=Z(M,I),t=Z(P,G),n=Z(U,T),s=Z(R,q),function(){for(var D=1,K=2,Y=1;Y<=15;Y++){for(var se=D;se<K;se++)u[32767+se]=Y,d[32767+se]=[],d[32767+se][1]=Y,d[32767+se][0]=se;for(var J=-(K-1);J<=-D;J++)u[32767+J]=Y,d[32767+J]=[],d[32767+J][1]=Y,d[32767+J][0]=K-1+J;D<<=1,K<<=1}}(),function(){for(var D=0;D<256;D++)B[D]=19595*D,B[D+256|0]=38470*D,B[D+512|0]=7471*D+32768,B[D+768|0]=-11059*D,B[D+1024|0]=-21709*D,B[D+1280|0]=32768*D+8421375,B[D+1536|0]=-27439*D,B[D+1792|0]=-5329*D}(),le(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ki(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mE(r){function e(I){if(!I)throw Error("assert :P")}function t(I,U,T){for(var P=0;4>P;P++)if(I[U+P]!=T.charCodeAt(P))return!0;return!1}function n(I,U,T,P,G){for(var R=0;R<G;R++)I[U+R]=T[P+R]}function s(I,U,T,P){for(var G=0;G<P;G++)I[U+G]=T}function i(I){return new Int32Array(I)}function a(I,U){for(var T=[],P=0;P<I;P++)T.push(new U);return T}function l(I,U){var T=[];return function P(G,R,q){for(var Z=q[R],oe=0;oe<Z&&(G.push(q.length>R+1?[]:new U),!(q.length<R+1));oe++)P(G[oe],R+1,q)}(T,0,I),T}var A=function(){var I=this;function U(p,b){for(var E=1<<b-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function T(p,b,E,k,Q){e(!(k%E));do p[b+(k-=E)]=Q;while(0<k)}function P(p,b,E,k,Q){if(e(2328>=Q),512>=Q)var O=i(512);else if((O=i(Q))==null)return 0;return function(z,$,V,ee,fe,we){var te,ue,me=$,Le=1<<V,ye=i(16),Se=i(16);for(e(fe!=0),e(ee!=null),e(z!=null),e(0<V),ue=0;ue<fe;++ue){if(15<ee[ue])return 0;++ye[ee[ue]]}if(ye[0]==fe)return 0;for(Se[1]=0,te=1;15>te;++te){if(ye[te]>1<<te)return 0;Se[te+1]=Se[te]+ye[te]}for(ue=0;ue<fe;++ue)te=ee[ue],0<ee[ue]&&(we[Se[te]++]=ue);if(Se[15]==1)return(ee=new G).g=0,ee.value=we[0],T(z,me,1,Le,ee),Le;var ke,Ue=-1,Me=Le-1,At=0,Ze=1,Tt=1,nt=1<<V;for(ue=0,te=1,fe=2;te<=V;++te,fe<<=1){if(Ze+=Tt<<=1,0>(Tt-=ye[te]))return 0;for(;0<ye[te];--ye[te])(ee=new G).g=te,ee.value=we[ue++],T(z,me+At,fe,nt,ee),At=U(At,te)}for(te=V+1,fe=2;15>=te;++te,fe<<=1){if(Ze+=Tt<<=1,0>(Tt-=ye[te]))return 0;for(;0<ye[te];--ye[te]){if(ee=new G,(At&Me)!=Ue){for(me+=nt,ke=1<<(Ue=te)-V;15>Ue&&!(0>=(ke-=ye[Ue]));)++Ue,ke<<=1;Le+=nt=1<<(ke=Ue-V),z[$+(Ue=At&Me)].g=ke+V,z[$+Ue].value=me-$-Ue}ee.g=te-V,ee.value=we[ue++],T(z,me+(At>>V),fe,nt,ee),At=U(At,te)}}return Ze!=2*Se[15]-1?0:Le}(p,b,E,k,Q,O)}function G(){this.value=this.g=0}function R(){this.value=this.g=0}function q(){this.G=a(5,G),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(aA,R)}function Z(p,b,E,k){e(p!=null),e(b!=null),e(2147483648>k),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=E,p.Jd=b,p.Yc=E+k,p.Zc=4<=k?E+k-4+1:E,de(p)}function oe(p,b){for(var E=0;0<b--;)E|=he(p,128)<<b;return E}function H(p,b){var E=oe(p,b);return ae(p)?-E:E}function re(p,b,E,k){var Q,O=0;for(e(p!=null),e(b!=null),e(4294967288>k),p.Sb=k,p.Ra=0,p.u=0,p.h=0,4<k&&(k=4),Q=0;Q<k;++Q)O+=b[E+Q]<<8*Q;p.Ra=O,p.bb=k,p.oa=b,p.pa=E}function ce(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Oo-8>>>0,++p.bb,p.u-=8;se(p)&&(p.h=1,p.u=0)}function le(p,b){if(e(0<=b),!p.h&&b<=Us){var E=Y(p)&Fs[b];return p.u+=b,ce(p),E}return p.h=1,p.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(p){return p.Ra>>>(p.u&Oo-1)>>>0}function se(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Oo}function J(p,b){p.u=b,p.h=se(p)}function ie(p){p.u>=to&&(e(p.u>=to),ce(p))}function de(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ae(p){return oe(p,1)}function he(p,b){var E=p.Ca;0>p.b&&de(p);var k=p.b,Q=E*b>>>8,O=(p.I>>>k>Q)+0;for(O?(E-=Q,p.I-=Q+1<<k>>>0):E=Q+1,k=E,Q=0;256<=k;)Q+=8,k>>=8;return k=7^Q+Ho[k],p.b-=k,p.Ca=(E<<k)-1,O}function Ee(p,b,E){p[b+0]=E>>24&255,p[b+1]=E>>16&255,p[b+2]=E>>8&255,p[b+3]=255&E}function _e(p,b){return p[b+0]|p[b+1]<<8}function Pe(p,b){return _e(p,b)|p[b+2]<<16}function We(p,b){return _e(p,b)|_e(p,b+2)<<16}function W(p,b){var E=1<<b;return e(p!=null),e(0<b),p.X=i(E),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function Ie(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),n(b.X,0,p.X,0,1<<b.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function $e(p,b,E,k){e(E!=null),e(k!=null);var Q=E[0],O=k[0];return Q==0&&(Q=(p*O+b/2)/b),O==0&&(O=(b*Q+p/2)/p),0>=Q||0>=O?0:(E[0]=Q,k[0]=O,1)}function je(p,b){return p+(1<<b)-1>>>b}function Je(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function Oe(p,b){I[b]=function(E,k,Q,O,z,$,V){var ee;for(ee=0;ee<z;++ee){var fe=I[p]($[V+ee-1],Q,O+ee);$[V+ee]=Je(E[k+ee],fe)}}}function be(){this.ud=this.hd=this.jd=0}function Fe(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function rt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ot(p,b){return rt(p+(p-b+.5>>1))}function dt(p,b,E){return Math.abs(b-E)-Math.abs(p-E)}function Et(p,b,E,k,Q,O,z){for(k=O[z-1],E=0;E<Q;++E)O[z+E]=k=Je(p[b+E],k)}function wt(p,b,E,k,Q){var O;for(O=0;O<E;++O){var z=p[b+O],$=z>>8&255,V=16711935&(V=(V=16711935&z)+(($<<16)+$));k[Q+O]=(4278255360&z)+V>>>0}}function Ve(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function mt(p,b,E,k,Q,O){var z;for(z=0;z<k;++z){var $=b[E+z],V=$>>>8,ee=$,fe=255&(fe=(fe=$>>>16)+((p.jd<<24>>24)*(V<<24>>24)>>>5));ee=255&(ee=(ee+=(p.hd<<24>>24)*(V<<24>>24)>>>5)+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),Q[O+z]=(4278255360&$)+(fe<<16)+ee}}function et(p,b,E,k,Q){I[b]=function(O,z,$,V,ee,fe,we,te,ue){for(V=we;V<te;++V)for(we=0;we<ue;++we)ee[fe++]=Q($[k(O[z++])])},I[p]=function(O,z,$,V,ee,fe,we){var te=8>>O.b,ue=O.Ea,me=O.K[0],Le=O.w;if(8>te)for(O=(1<<O.b)-1,Le=(1<<te)-1;z<$;++z){var ye,Se=0;for(ye=0;ye<ue;++ye)ye&O||(Se=k(V[ee++])),fe[we++]=Q(me[Se&Le]),Se>>=te}else I["VP8LMapColor"+E](V,ee,me,Le,fe,we,z,$,ue)}}function $r(p,b,E,k,Q){for(E=b+E;b<E;){var O=p[b++];k[Q++]=O>>16&255,k[Q++]=O>>8&255,k[Q++]=255&O}}function Yt(p,b,E,k,Q){for(E=b+E;b<E;){var O=p[b++];k[Q++]=O>>16&255,k[Q++]=O>>8&255,k[Q++]=255&O,k[Q++]=O>>24&255}}function Ft(p,b,E,k,Q){for(E=b+E;b<E;){var O=(z=p[b++])>>16&240|z>>12&15,z=240&z|z>>28&15;k[Q++]=O,k[Q++]=z}}function Ut(p,b,E,k,Q){for(E=b+E;b<E;){var O=(z=p[b++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;k[Q++]=O,k[Q++]=z}}function Er(p,b,E,k,Q){for(E=b+E;b<E;){var O=p[b++];k[Q++]=255&O,k[Q++]=O>>8&255,k[Q++]=O>>16&255}}function ut(p,b,E,k,Q,O){if(O==0)for(E=b+E;b<E;)Ee(k,((O=p[b++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),Q+=32;else n(k,Q,p,b,E)}function mr(p,b){I[b][0]=I[p+"0"],I[b][1]=I[p+"1"],I[b][2]=I[p+"2"],I[b][3]=I[p+"3"],I[b][4]=I[p+"4"],I[b][5]=I[p+"5"],I[b][6]=I[p+"6"],I[b][7]=I[p+"7"],I[b][8]=I[p+"8"],I[b][9]=I[p+"9"],I[b][10]=I[p+"10"],I[b][11]=I[p+"11"],I[b][12]=I[p+"12"],I[b][13]=I[p+"13"],I[b][14]=I[p+"0"],I[b][15]=I[p+"0"]}function pt(p){return p==T1||p==M1||p==Wh||p==D1}function Nt(){this.eb=[],this.size=this.A=this.fb=0}function Nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nt,this.f.kb=new Nr,this.sd=null}function ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $l(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Vn(p,b){var E=p.T,k=b.ba.f.RGBA,Q=k.eb,O=k.fb+p.ka*k.A,z=pi[b.ba.S],$=p.y,V=p.O,ee=p.f,fe=p.N,we=p.ea,te=p.W,ue=b.cc,me=b.dc,Le=b.Mc,ye=b.Nc,Se=p.ka,ke=p.ka+p.T,Ue=p.U,Me=Ue+1>>1;for(Se==0?z($,V,null,null,ee,fe,we,te,ee,fe,we,te,Q,O,null,null,Ue):(z(b.ec,b.fc,$,V,ue,me,Le,ye,ee,fe,we,te,Q,O-k.A,Q,O,Ue),++E);Se+2<ke;Se+=2)ue=ee,me=fe,Le=we,ye=te,fe+=p.Rc,te+=p.Rc,O+=2*k.A,z($,(V+=2*p.fa)-p.fa,$,V,ue,me,Le,ye,ee,fe,we,te,Q,O-k.A,Q,O,Ue);return V+=p.fa,p.j+ke<p.o?(n(b.ec,b.fc,$,V,Ue),n(b.cc,b.dc,ee,fe,Me),n(b.Mc,b.Nc,we,te,Me),E--):1&ke||z($,V,null,null,ee,fe,we,te,ee,fe,we,te,Q,O+k.A,null,null,Ue),E}function Ha(p,b,E){var k=p.F,Q=[p.J];if(k!=null){var O=p.U,z=b.ba.S,$=z==Yh||z==Wh;b=b.ba.f.RGBA;var V=[0],ee=p.ka;V[0]=p.T,p.Kb&&(ee==0?--V[0]:(--ee,Q[0]-=p.width),p.j+p.ka+p.T==p.o&&(V[0]=p.o-p.j-ee));var fe=b.eb;ee=b.fb+ee*b.A,p=o4(k,Q[0],p.width,O,V,fe,ee+($?0:3),b.A),e(E==V),p&&pt(z)&&fd(fe,ee,$,O,V,b.A)}return 0}function ca(p){var b=p.ma,E=b.ba.S,k=11>E,Q=E==$h||E==Vh||E==Yh||E==I1||E==12||pt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!nd(b.Oa,p,Q?11:12))return 0;if(Q&&pt(E)&&ed(),p.da)alert("todo:use_scaling");else{if(k){if(b.Ib=$l,p.Kb){if(E=p.U+1>>1,b.memory=i(p.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Vn,ed()}}else alert("todo:EmitYUV");Q&&(b.Jb=Ha,k&&Pi())}if(k&&!C4){for(p=0;256>p;++p)IM[p]=89858*(p-128)+qh>>Jh,DM[p]=-22014*(p-128)+qh,MM[p]=-45773*(p-128),TM[p]=113618*(p-128)+qh>>Jh;for(p=ud;p<R1;++p)b=76283*(p-16)+qh>>Jh,FM[p-ud]=ua(b,255),UM[p-ud]=ua(b+8>>4,15);C4=1}return 1}function gt(p){var b=p.ma,E=p.U,k=p.T;return e(!(1&p.ka)),0>=E||0>=k?0:(E=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,E),b.Dc+=E,1)}function za(p){p.ma.memory=null}function Ga(p,b,E,k){return le(p,8)!=47?0:(b[0]=le(p,14)+1,E[0]=le(p,14)+1,k[0]=le(p,1),le(p,3)!=0?0:!p.h)}function Ai(p,b){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+le(b,E)+1}function ci(p,b){return 120<b?b-120:1<=(E=((E=pM[b-1])>>4)*p+(8-(15&E)))?E:1;var E}function Qr(p,b,E){var k=Y(E),Q=p[b+=255&k].g-8;return 0<Q&&(J(E,E.u+8),k=Y(E),b+=p[b].value,b+=k&(1<<Q)-1),J(E,E.u+p[b].g),p[b].value}function Ln(p,b,E){return E.g+=p.g,E.value+=p.value<<b>>>0,e(8>=E.g),p.g}function In(p,b,E){var k=p.xc;return e((b=k==0?0:p.vc[p.md*(E>>k)+(b>>k)])<p.Wb),p.Ya[b]}function Vl(p,b,E,k){var Q=p.ab,O=p.c*b,z=p.C;b=z+b;var $=E,V=k;for(k=p.Ta,E=p.Ua;0<Q--;){var ee=p.gc[Q],fe=z,we=b,te=$,ue=V,me=(V=k,$=E,ee.Ea);switch(e(fe<we),e(we<=ee.nc),ee.hc){case 2:Vr(te,ue,(we-fe)*me,V,$);break;case 0:var Le=fe,ye=we,Se=V,ke=$,Ue=(nt=ee).Ea;Le==0&&(id(te,ue,null,null,1,Se,ke),Et(te,ue+1,0,0,Ue-1,Se,ke+1),ue+=Ue,ke+=Ue,++Le);for(var Me=1<<nt.b,At=Me-1,Ze=je(Ue,nt.b),Tt=nt.K,nt=nt.w+(Le>>nt.b)*Ze;Le<ye;){var Gt=Tt,gn=nt,Mt=1;for(lc(te,ue,Se,ke-Ue,1,Se,ke);Mt<Ue;){var st=(Mt&~At)+Me;st>Ue&&(st=Ue),(0,od[Gt[gn++]>>8&15])(te,ue+ +Mt,Se,ke+Mt-Ue,st-Mt,Se,ke+Mt),Mt=st}ue+=Ue,ke+=Ue,++Le&At||(nt+=Ze)}we!=ee.nc&&n(V,$-me,V,$+(we-fe-1)*me,me);break;case 1:for(me=te,ye=ue,Ue=(te=ee.Ea)-(ke=te&~(Se=(ue=1<<ee.b)-1)),Le=je(te,ee.b),Me=ee.K,ee=ee.w+(fe>>ee.b)*Le;fe<we;){for(At=Me,Ze=ee,Tt=new be,nt=ye+ke,Gt=ye+te;ye<nt;)Ve(At[Ze++],Tt),ld(Tt,me,ye,ue,V,$),ye+=ue,$+=ue;ye<Gt&&(Ve(At[Ze++],Tt),ld(Tt,me,ye,Ue,V,$),ye+=Ue,$+=Ue),++fe&Se||(ee+=Le)}break;case 3:if(te==V&&ue==$&&0<ee.b){for(ye=V,te=me=$+(we-fe)*me-(ke=(we-fe)*je(ee.Ea,ee.b)),ue=V,Se=$,Le=[],ke=(Ue=ke)-1;0<=ke;--ke)Le[ke]=ue[Se+ke];for(ke=Ue-1;0<=ke;--ke)ye[te+ke]=Le[ke];Hh(ee,fe,we,V,me,V,$)}else Hh(ee,fe,we,te,ue,V,$)}$=k,V=E}V!=E&&n(k,E,$,V,O)}function Ro(p,b){var E=p.V,k=p.Ba+p.c*p.C,Q=b-p.C;if(e(b<=p.l.o),e(16>=Q),0<Q){var O=p.l,z=p.Ta,$=p.Ua,V=O.width;if(Vl(p,Q,E,k),Q=$=[$],e((E=p.C)<(k=b)),e(O.v<O.va),k>O.o&&(k=O.o),E<O.j){var ee=O.j-E;E=O.j,Q[0]+=ee*V}if(E>=k?E=0:(Q[0]+=4*O.v,O.ka=E-O.j,O.U=O.va-O.v,O.T=k-E,E=1),E){if($=$[0],11>(E=p.ca).S){var fe=E.f.RGBA,we=(k=E.S,Q=O.U,O=O.T,ee=fe.eb,fe.A),te=O;for(fe=fe.fb+p.Ma*fe.A;0<te--;){var ue=z,me=$,Le=Q,ye=ee,Se=fe;switch(k){case Kh:Ad(ue,me,Le,ye,Se);break;case $h:zo(ue,me,Le,ye,Se);break;case T1:zo(ue,me,Le,ye,Se),fd(ye,Se,0,Le,1,0);break;case h4:oA(ue,me,Le,ye,Se);break;case Vh:ut(ue,me,Le,ye,Se,1);break;case M1:ut(ue,me,Le,ye,Se,1),fd(ye,Se,0,Le,1,0);break;case Yh:ut(ue,me,Le,ye,Se,0);break;case Wh:ut(ue,me,Le,ye,Se,0),fd(ye,Se,1,Le,1,0);break;case I1:Go(ue,me,Le,ye,Se);break;case D1:Go(ue,me,Le,ye,Se),a4(ye,Se,Le,1,0);break;case g4:Ko(ue,me,Le,ye,Se);break;default:e(0)}$+=V,fe+=we}p.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=E.height)}}p.C=b,e(p.C<=p.i)}function Fi(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var E=p.Ya[b].G,k=p.Ya[b].H;if(0<E[1][k[1]+0].g||0<E[2][k[2]+0].g||0<E[3][k[3]+0].g)return 0}return 1}function fa(p,b,E,k,Q,O){if(p.Z!=0){var z=p.qd,$=p.rd;for(e(Yo[p.Z]!=null);b<E;++b)Yo[p.Z](z,$,k,Q,k,Q,O),z=k,$=Q,Q+=O;p.qd=z,p.rd=$}}function Ui(p,b){var E=p.l.ma,k=E.Z==0||E.Z==1?p.l.j:p.C;if(k=p.C<k?k:p.C,e(b<=p.l.o),b>k){var Q=p.l.width,O=E.ca,z=E.tb+Q*k,$=p.V,V=p.Ba+p.c*k,ee=p.gc;e(p.ab==1),e(ee[0].hc==3),pa(ee[0],k,b,$,V,O,z),fa(E,k,b,O,z,Q)}p.C=p.Ma=b}function Ri(p,b,E,k,Q,O,z){var $=p.$/k,V=p.$%k,ee=p.m,fe=p.s,we=E+p.$,te=we;Q=E+k*Q;var ue=E+k*O,me=280+fe.ua,Le=p.Pb?$:16777216,ye=0<fe.ua?fe.Wa:null,Se=fe.wc,ke=we<ue?In(fe,V,$):null;e(p.C<O),e(ue<=Q);var Ue=!1;e:for(;;){for(;Ue||we<ue;){var Me=0;if($>=Le){var At=we-E;e((Le=p).Pb),Le.wd=Le.m,Le.xd=At,0<Le.s.ua&&Ie(Le.s.Wa,Le.s.vb),Le=$+yM}if(V&Se||(ke=In(fe,V,$)),e(ke!=null),ke.Qb&&(b[we]=ke.qb,Ue=!0),!Ue)if(ie(ee),ke.jc){Me=ee,At=b;var Ze=we,Tt=ke.pd[Y(Me)&aA-1];e(ke.jc),256>Tt.g?(J(Me,Me.u+Tt.g),At[Ze]=Tt.value,Me=0):(J(Me,Me.u+Tt.g-256),e(256<=Tt.value),Me=Tt.value),Me==0&&(Ue=!0)}else Me=Qr(ke.G[0],ke.H[0],ee);if(ee.h)break;if(Ue||256>Me){if(!Ue)if(ke.nd)b[we]=(ke.qb|Me<<8)>>>0;else{if(ie(ee),Ue=Qr(ke.G[1],ke.H[1],ee),ie(ee),At=Qr(ke.G[2],ke.H[2],ee),Ze=Qr(ke.G[3],ke.H[3],ee),ee.h)break;b[we]=(Ze<<24|Ue<<16|Me<<8|At)>>>0}if(Ue=!1,++we,++V>=k&&(V=0,++$,z!=null&&$<=O&&!($%16)&&z(p,$),ye!=null))for(;te<we;)Me=b[te++],ye.X[(506832829*Me&4294967295)>>>ye.Mb]=Me}else if(280>Me){if(Me=Ai(Me-256,ee),At=Qr(ke.G[4],ke.H[4],ee),ie(ee),At=ci(k,At=Ai(At,ee)),ee.h)break;if(we-E<At||Q-we<Me)break e;for(Ze=0;Ze<Me;++Ze)b[we+Ze]=b[we+Ze-At];for(we+=Me,V+=Me;V>=k;)V-=k,++$,z!=null&&$<=O&&!($%16)&&z(p,$);if(e(we<=Q),V&Se&&(ke=In(fe,V,$)),ye!=null)for(;te<we;)Me=b[te++],ye.X[(506832829*Me&4294967295)>>>ye.Mb]=Me}else{if(!(Me<me))break e;for(Ue=Me-280,e(ye!=null);te<we;)Me=b[te++],ye.X[(506832829*Me&4294967295)>>>ye.Mb]=Me;Me=we,e(!(Ue>>>(At=ye).Xa)),b[Me]=At.X[Ue],Ue=!0}Ue||e(ee.h==se(ee))}if(p.Pb&&ee.h&&we<Q)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ie(p.s.vb,p.s.Wa);else{if(ee.h)break e;z!=null&&z(p,$>O?O:$),p.a=0,p.$=we-E}return 1}return p.a=3,0}function fi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function Yl(){var p=new bt;return p==null?null:(p.a=0,p.xb=x4,mr("Predictor","VP8LPredictors"),mr("Predictor","VP8LPredictors_C"),mr("PredictorAdd","VP8LPredictorsAdd"),mr("PredictorAdd","VP8LPredictorsAdd_C"),Vr=wt,ld=mt,Ad=$r,zo=Yt,Go=Ft,Ko=Ut,oA=Er,I.VP8LMapColor32b=ma,I.VP8LMapColor8b=ad,p)}function da(p,b,E,k,Q){var O=1,z=[p],$=[b],V=k.m,ee=k.s,fe=null,we=0;e:for(;;){if(E)for(;O&&le(V,1);){var te=z,ue=$,me=k,Le=1,ye=me.m,Se=me.gc[me.ab],ke=le(ye,2);if(me.Oc&1<<ke)O=0;else{switch(me.Oc|=1<<ke,Se.hc=ke,Se.Ea=te[0],Se.nc=ue[0],Se.K=[null],++me.ab,e(4>=me.ab),ke){case 0:case 1:Se.b=le(ye,3)+2,Le=da(je(Se.Ea,Se.b),je(Se.nc,Se.b),0,me,Se.K),Se.K=Se.K[0];break;case 3:var Ue,Me=le(ye,8)+1,At=16<Me?0:4<Me?1:2<Me?2:3;if(te[0]=je(Se.Ea,At),Se.b=At,Ue=Le=da(Me,1,0,me,Se.K)){var Ze,Tt=Me,nt=Se,Gt=1<<(8>>nt.b),gn=i(Gt);if(gn==null)Ue=0;else{var Mt=nt.K[0],st=nt.w;for(gn[0]=nt.K[0][0],Ze=1;Ze<1*Tt;++Ze)gn[Ze]=Je(Mt[st+Ze],gn[Ze-1]);for(;Ze<4*Gt;++Ze)gn[Ze]=0;nt.K[0]=null,nt.K[0]=gn,Ue=1}}Le=Ue;break;case 2:break;default:e(0)}O=Le}}if(z=z[0],$=$[0],O&&le(V,1)&&!(O=1<=(we=le(V,4))&&11>=we)){k.a=3;break e}var Qe;if(Qe=O)t:{var Wr,Bt,$t,br=k,Dn=z,As=$,Or=we,Yn=E,cs=br.m,mn=br.s,Jt=[null],rr=1,Hr=0,nr=xM[Or];r:for(;;){if(Yn&&le(cs,1)){var Fn=le(cs,3)+2,Oi=je(Dn,Fn),Jr=je(As,Fn),vs=Oi*Jr;if(!da(Oi,Jr,0,br,Jt))break r;for(Jt=Jt[0],mn.xc=Fn,Wr=0;Wr<vs;++Wr){var dr=Jt[Wr]>>8&65535;Jt[Wr]=dr,dr>=rr&&(rr=dr+1)}}if(cs.h)break r;for(Bt=0;5>Bt;++Bt){var pn=m4[Bt];!Bt&&0<Or&&(pn+=1<<Or),Hr<pn&&(Hr=pn)}var _s=a(rr*nr,G),fs=rr,Ps=a(fs,q);if(Ps==null)var Qs=null;else e(65536>=fs),Qs=Ps;var Cs=i(Hr);if(Qs==null||Cs==null||_s==null){br.a=1;break r}var Os=_s;for(Wr=$t=0;Wr<rr;++Wr){var xr=Qs[Wr],Hs=xr.G,Hi=xr.H,AA=0,so=1,Un=0;for(Bt=0;5>Bt;++Bt){pn=m4[Bt],Hs[Bt]=Os,Hi[Bt]=$t,!Bt&&0<Or&&(pn+=1<<Or);s:{var Xh,_1=pn,e0=br,hd=Cs,PM=Os,QM=$t,P1=0,Wo=e0.m,OM=le(Wo,1);if(s(hd,0,0,_1),OM){var HM=le(Wo,1)+1,zM=le(Wo,1),E4=le(Wo,zM==0?1:8);hd[E4]=1,HM==2&&(hd[E4=le(Wo,8)]=1);var t0=1}else{var N4=i(19),B4=le(Wo,4)+4;if(19<B4){e0.a=3;var r0=0;break s}for(Xh=0;Xh<B4;++Xh)N4[mM[Xh]]=le(Wo,3);var Q1=void 0,gd=void 0,k4=e0,GM=N4,n0=_1,j4=hd,O1=0,Jo=k4.m,I4=8,T4=a(128,G);n:for(;P(T4,0,7,GM,19);){if(le(Jo,1)){var KM=2+2*le(Jo,3);if((Q1=2+le(Jo,KM))>n0)break n}else Q1=n0;for(gd=0;gd<n0&&Q1--;){ie(Jo);var M4=T4[0+(127&Y(Jo))];J(Jo,Jo.u+M4.g);var cc=M4.value;if(16>cc)j4[gd++]=cc,cc!=0&&(I4=cc);else{var $M=cc==16,D4=cc-16,VM=hM[D4],F4=le(Jo,uM[D4])+VM;if(gd+F4>n0)break n;for(var YM=$M?I4:0;0<F4--;)j4[gd++]=YM}}O1=1;break n}O1||(k4.a=3),t0=O1}(t0=t0&&!Wo.h)&&(P1=P(PM,QM,8,hd,_1)),t0&&P1!=0?r0=P1:(e0.a=3,r0=0)}if(r0==0)break r;if(so&&gM[Bt]==1&&(so=Os[$t].g==0),AA+=Os[$t].g,$t+=r0,3>=Bt){var md,H1=Cs[0];for(md=1;md<pn;++md)Cs[md]>H1&&(H1=Cs[md]);Un+=H1}}if(xr.nd=so,xr.Qb=0,so&&(xr.qb=(Hs[3][Hi[3]+0].value<<24|Hs[1][Hi[1]+0].value<<16|Hs[2][Hi[2]+0].value)>>>0,AA==0&&256>Hs[0][Hi[0]+0].value&&(xr.Qb=1,xr.qb+=Hs[0][Hi[0]+0].value<<8)),xr.jc=!xr.Qb&&6>Un,xr.jc){var s0,io=xr;for(s0=0;s0<aA;++s0){var qo=s0,Zo=io.pd[qo],i0=io.G[0][io.H[0]+qo];256<=i0.value?(Zo.g=i0.g+256,Zo.value=i0.value):(Zo.g=0,Zo.value=0,qo>>=Ln(i0,8,Zo),qo>>=Ln(io.G[1][io.H[1]+qo],16,Zo),qo>>=Ln(io.G[2][io.H[2]+qo],0,Zo),Ln(io.G[3][io.H[3]+qo],24,Zo))}}}mn.vc=Jt,mn.Wb=rr,mn.Ya=Qs,mn.yc=_s,Qe=1;break t}Qe=0}if(!(O=Qe)){k.a=3;break e}if(0<we){if(ee.ua=1<<we,!W(ee.Wa,we)){k.a=1,O=0;break e}}else ee.ua=0;var z1=k,U4=z,WM=$,G1=z1.s,K1=G1.xc;if(z1.c=U4,z1.i=WM,G1.md=je(U4,K1),G1.wc=K1==0?-1:(1<<K1)-1,E){k.xb=EM;break e}if((fe=i(z*$))==null){k.a=1,O=0;break e}O=(O=Ri(k,fe,0,z,$,$,null))&&!V.h;break e}return O?(Q!=null?Q[0]=fe:(e(fe==null),e(E)),k.$=0,E||fi(ee)):fi(ee),O}function Wl(p,b){var E=p.c*p.i,k=E+b+16*b;return e(p.c<=b),p.V=i(k),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+b,1)}function ZA(p,b){var E=p.C,k=b-E,Q=p.V,O=p.Ba+p.c*E;for(e(b<=p.l.o);0<k;){var z=16<k?16:k,$=p.l.ma,V=p.l.width,ee=V*z,fe=$.ca,we=$.tb+V*E,te=p.Ta,ue=p.Ua;Vl(p,z,Q,O),l4(te,ue,fe,we,ee),fa($,E,E+z,fe,we,V),k-=z,Q+=z*p.c,E+=z}e(E==b),p.C=p.Ma=b}function XA(){this.ub=this.yd=this.td=this.Rb=0}function ec(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function h1(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function zf(){this.Yb=function(){var p=[];return function b(E,k,Q){for(var O=Q[k],z=0;z<O&&(E.push(Q.length>k+1?[]:0),!(Q.length<k+1));z++)b(E[z],k+1,Q)}(p,0,[3,11]),p}()}function Lh(){this.jb=i(3),this.Wc=l([4,8],zf),this.Xc=l([4,17],zf)}function Sh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function di(){this.ld=this.La=this.dd=this.tc=0}function Gf(){this.Na=this.la=0}function Eh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kf(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nh(){this.uc=this.M=this.Nb=0,this.wa=Array(new di),this.Y=0,this.ya=Array(new Kf),this.aa=0,this.l=new tc}function Bh(){this.y=i(16),this.f=i(8),this.ea=i(8)}function kh(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new XA,this.Kc=new ec,this.ed=new Sh,this.Qa=new h1,this.Ic=this.$c=this.Aa=0,this.D=new Nh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,D),this.ia=0,this.pb=a(4,Eh),this.Pa=new Lh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bh),this.Hd=0,this.rb=Array(new Gf),this.sb=0,this.wa=Array(new di),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kf),this.L=this.aa=0,this.gd=l([4,2],di),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ua(p,b){return 0>p?0:p>b?b:p}function tc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function g1(){var p=new kh;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,dd||(dd=rc)),p}function an(p,b,E){return p.a==0&&(p.a=b,p.sc=E,p.cb=0),0}function jh(p,b,E){return 3<=E&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function ha(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return an(p,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,k=b.w,Q=b.ha;if(4>Q)return an(p,7,"Truncated header.");var O=E[k+0]|E[k+1]<<8|E[k+2]<<16,z=p.Od;if(z.Rb=!(1&O),z.td=O>>1&7,z.yd=O>>4&1,z.ub=O>>5,3<z.td)return an(p,3,"Incorrect keyframe parameters.");if(!z.yd)return an(p,4,"Frame not displayable.");k+=3,Q-=3;var $=p.Kc;if(z.Rb){if(7>Q)return an(p,7,"cannot parse picture header");if(!jh(E,k,Q))return an(p,3,"Bad code word");$.c=16383&(E[k+4]<<8|E[k+3]),$.Td=E[k+4]>>6,$.i=16383&(E[k+6]<<8|E[k+5]),$.Ud=E[k+6]>>6,k+=7,Q-=7,p.za=$.c+15>>4,p.Ub=$.i+15>>4,b.width=$.c,b.height=$.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((O=p.Pa).jb,0,255,O.jb.length),e((O=p.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,s(O.Zb,0,0,O.Zb.length),s(O.Lb,0,0,O.Lb)}if(z.ub>Q)return an(p,7,"bad partition length");Z(O=p.m,E,k,z.ub),k+=z.ub,Q-=z.ub,z.Rb&&($.Ld=ae(O),$.Kd=ae(O)),$=p.Qa;var V,ee=p.Pa;if(e(O!=null),e($!=null),$.Cb=ae(O),$.Cb){if($.Bb=ae(O),ae(O)){for($.Fb=ae(O),V=0;4>V;++V)$.Zb[V]=ae(O)?H(O,7):0;for(V=0;4>V;++V)$.Lb[V]=ae(O)?H(O,6):0}if($.Bb)for(V=0;3>V;++V)ee.jb[V]=ae(O)?oe(O,8):255}else $.Bb=0;if(O.Ka)return an(p,3,"cannot parse segment header");if(($=p.ed).zd=ae(O),$.Tb=oe(O,6),$.wb=oe(O,3),$.Pc=ae(O),$.Pc&&ae(O)){for(ee=0;4>ee;++ee)ae(O)&&($.vd[ee]=H(O,6));for(ee=0;4>ee;++ee)ae(O)&&($.od[ee]=H(O,6))}if(p.L=$.Tb==0?0:$.zd?1:2,O.Ka)return an(p,3,"cannot parse filter header");var fe=Q;if(Q=V=k,k=V+fe,$=fe,p.Xb=(1<<oe(p.m,2))-1,fe<3*(ee=p.Xb))E=7;else{for(V+=3*ee,$-=3*ee,fe=0;fe<ee;++fe){var we=E[Q+0]|E[Q+1]<<8|E[Q+2]<<16;we>$&&(we=$),Z(p.Jc[+fe],E,V,we),V+=we,$-=we,Q+=3}Z(p.Jc[+ee],E,V,$),E=V<k?0:5}if(E!=0)return an(p,E,"cannot parse partitions");for(E=oe(V=p.m,7),Q=ae(V)?H(V,4):0,k=ae(V)?H(V,4):0,$=ae(V)?H(V,4):0,ee=ae(V)?H(V,4):0,V=ae(V)?H(V,4):0,fe=p.Qa,we=0;4>we;++we){if(fe.Cb){var te=fe.Zb[we];fe.Fb||(te+=E)}else{if(0<we){p.pb[we]=p.pb[0];continue}te=E}var ue=p.pb[we];ue.Sc[0]=F1[ua(te+Q,127)],ue.Sc[1]=U1[ua(te+0,127)],ue.Eb[0]=2*F1[ua(te+k,127)],ue.Eb[1]=101581*U1[ua(te+$,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=F1[ua(te+ee,117)],ue.Qc[1]=U1[ua(te+V,127)],ue.lc=te+V}if(!z.Rb)return an(p,4,"Not a key frame.");for(ae(O),z=p.Pa,E=0;4>E;++E){for(Q=0;8>Q;++Q)for(k=0;3>k;++k)for($=0;11>$;++$)ee=he(O,LM[E][Q][k][$])?oe(O,8):vM[E][Q][k][$],z.Wc[E][Q].Yb[k][$]=ee;for(Q=0;17>Q;++Q)z.Xc[E][Q]=z.Wc[E][SM[Q]]}return p.kc=ae(O),p.kc&&(p.Bd=oe(O,8)),p.cb=1}function rc(p,b,E,k,Q,O,z){var $=b[Q].Yb[E];for(E=0;16>Q;++Q){if(!he(p,$[E+0]))return Q;for(;!he(p,$[E+1]);)if($=b[++Q].Yb[0],E=0,Q==16)return 16;var V=b[Q+1].Yb;if(he(p,$[E+2])){var ee=p,fe=0;if(he(ee,(te=$)[(we=E)+3]))if(he(ee,te[we+6])){for($=0,we=2*(fe=he(ee,te[we+8]))+(te=he(ee,te[we+9+fe])),fe=0,te=wM[we];te[$];++$)fe+=fe+he(ee,te[$]);fe+=3+(8<<we)}else he(ee,te[we+7])?(fe=7+2*he(ee,165),fe+=he(ee,145)):fe=5+he(ee,159);else fe=he(ee,te[we+4])?3+he(ee,te[we+5]):2;$=V[2]}else fe=1,$=V[1];V=z+bM[Q],0>(ee=p).b&&de(ee);var we,te=ee.b,ue=(we=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=ue,ee.Ca|=1,ee.I-=(we+1&ue)<<te,O[V]=((fe^ue)-ue)*k[(0<Q)+0]}return 16}function Ih(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function ui(p,b,E,k,Q){Q=p[b+E+32*k]+(Q>>3),p[b+E+32*k]=-256&Q?0>Q?0:255:Q}function dn(p,b,E,k,Q,O){ui(p,b,0,E,k+Q),ui(p,b,1,E,k+O),ui(p,b,2,E,k-O),ui(p,b,3,E,k-Q)}function Ka(p){return(20091*p>>16)+p}function Th(p,b,E,k){var Q,O=0,z=i(16);for(Q=0;4>Q;++Q){var $=p[b+0]+p[b+8],V=p[b+0]-p[b+8],ee=(35468*p[b+4]>>16)-Ka(p[b+12]),fe=Ka(p[b+4])+(35468*p[b+12]>>16);z[O+0]=$+fe,z[O+1]=V+ee,z[O+2]=V-ee,z[O+3]=$-fe,O+=4,b++}for(Q=O=0;4>Q;++Q)$=(p=z[O+0]+4)+z[O+8],V=p-z[O+8],ee=(35468*z[O+4]>>16)-Ka(z[O+12]),ui(E,k,0,0,$+(fe=Ka(z[O+4])+(35468*z[O+12]>>16))),ui(E,k,1,0,V+ee),ui(E,k,2,0,V-ee),ui(E,k,3,0,$-fe),O++,k+=32}function m1(p,b,E,k){var Q=p[b+0]+4,O=35468*p[b+4]>>16,z=Ka(p[b+4]),$=35468*p[b+1]>>16;dn(E,k,0,Q+z,p=Ka(p[b+1]),$),dn(E,k,1,Q+O,p,$),dn(E,k,2,Q-O,p,$),dn(E,k,3,Q-z,p,$)}function p1(p,b,E,k,Q){Th(p,b,E,k),Q&&Th(p,b+16,E,k+4)}function ga(p,b,E,k){lA(p,b+0,E,k,1),lA(p,b+32,E,k+128,1)}function Mh(p,b,E,k){var Q;for(p=p[b+0]+4,Q=0;4>Q;++Q)for(b=0;4>b;++b)ui(E,k,b,Q,p)}function Dh(p,b,E,k){p[b+0]&&er(p,b+0,E,k),p[b+16]&&er(p,b+16,E,k+4),p[b+32]&&er(p,b+32,E,k+128),p[b+48]&&er(p,b+48,E,k+128+4)}function nc(p,b,E,k){var Q,O=i(16);for(Q=0;4>Q;++Q){var z=p[b+0+Q]+p[b+12+Q],$=p[b+4+Q]+p[b+8+Q],V=p[b+4+Q]-p[b+8+Q],ee=p[b+0+Q]-p[b+12+Q];O[0+Q]=z+$,O[8+Q]=z-$,O[4+Q]=ee+V,O[12+Q]=ee-V}for(Q=0;4>Q;++Q)z=(p=O[0+4*Q]+3)+O[3+4*Q],$=O[1+4*Q]+O[2+4*Q],V=O[1+4*Q]-O[2+4*Q],ee=p-O[3+4*Q],E[k+0]=z+$>>3,E[k+16]=ee+V>>3,E[k+32]=z-$>>3,E[k+48]=ee-V>>3,k+=64}function Jl(p,b,E){var k,Q=b-32,O=Rs,z=255-p[Q-1];for(k=0;k<E;++k){var $,V=O,ee=z+p[b-1];for($=0;$<E;++$)p[b+$]=V[ee+p[Q+$]];b+=32}}function x1(p,b){Jl(p,b,4)}function y1(p,b){Jl(p,b,8)}function w1(p,b){Jl(p,b,16)}function $f(p,b){var E;for(E=0;16>E;++E)n(p,b+32*E,p,b-32,16)}function Fh(p,b){var E;for(E=16;0<E;--E)s(p,b,p[b-1],16),b+=32}function _i(p,b,E){var k;for(k=0;16>k;++k)s(b,E+32*k,p,16)}function b1(p,b){var E,k=16;for(E=0;16>E;++E)k+=p[b-1+32*E]+p[b+E-32];_i(k>>5,p,b)}function ql(p,b){var E,k=8;for(E=0;16>E;++E)k+=p[b-1+32*E];_i(k>>4,p,b)}function Vf(p,b){var E,k=8;for(E=0;16>E;++E)k+=p[b+E-32];_i(k>>4,p,b)}function v1(p,b){_i(128,p,b)}function vt(p,b,E){return p+2*b+E+2>>2}function C1(p,b){var E,k=b-32;for(k=new Uint8Array([vt(p[k-1],p[k+0],p[k+1]),vt(p[k+0],p[k+1],p[k+2]),vt(p[k+1],p[k+2],p[k+3]),vt(p[k+2],p[k+3],p[k+4])]),E=0;4>E;++E)n(p,b+32*E,k,0,k.length)}function L1(p,b){var E=p[b-1],k=p[b-1+32],Q=p[b-1+64],O=p[b-1+96];Ee(p,b+0,16843009*vt(p[b-1-32],E,k)),Ee(p,b+32,16843009*vt(E,k,Q)),Ee(p,b+64,16843009*vt(k,Q,O)),Ee(p,b+96,16843009*vt(Q,O,O))}function S1(p,b){var E,k=4;for(E=0;4>E;++E)k+=p[b+E-32]+p[b-1+32*E];for(k>>=3,E=0;4>E;++E)s(p,b+32*E,k,4)}function $a(p,b){var E=p[b-1+0],k=p[b-1+32],Q=p[b-1+64],O=p[b-1-32],z=p[b+0-32],$=p[b+1-32],V=p[b+2-32],ee=p[b+3-32];p[b+0+96]=vt(k,Q,p[b-1+96]),p[b+1+96]=p[b+0+64]=vt(E,k,Q),p[b+2+96]=p[b+1+64]=p[b+0+32]=vt(O,E,k),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=vt(z,O,E),p[b+3+64]=p[b+2+32]=p[b+1+0]=vt($,z,O),p[b+3+32]=p[b+2+0]=vt(V,$,z),p[b+3+0]=vt(ee,V,$)}function Va(p,b){var E=p[b+1-32],k=p[b+2-32],Q=p[b+3-32],O=p[b+4-32],z=p[b+5-32],$=p[b+6-32],V=p[b+7-32];p[b+0+0]=vt(p[b+0-32],E,k),p[b+1+0]=p[b+0+32]=vt(E,k,Q),p[b+2+0]=p[b+1+32]=p[b+0+64]=vt(k,Q,O),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=vt(Q,O,z),p[b+3+32]=p[b+2+64]=p[b+1+96]=vt(O,z,$),p[b+3+64]=p[b+2+96]=vt(z,$,V),p[b+3+96]=vt($,V,V)}function E1(p,b){var E=p[b-1+0],k=p[b-1+32],Q=p[b-1+64],O=p[b-1-32],z=p[b+0-32],$=p[b+1-32],V=p[b+2-32],ee=p[b+3-32];p[b+0+0]=p[b+1+64]=O+z+1>>1,p[b+1+0]=p[b+2+64]=z+$+1>>1,p[b+2+0]=p[b+3+64]=$+V+1>>1,p[b+3+0]=V+ee+1>>1,p[b+0+96]=vt(Q,k,E),p[b+0+64]=vt(k,E,O),p[b+0+32]=p[b+1+96]=vt(E,O,z),p[b+1+32]=p[b+2+96]=vt(O,z,$),p[b+2+32]=p[b+3+96]=vt(z,$,V),p[b+3+32]=vt($,V,ee)}function N1(p,b){var E=p[b+0-32],k=p[b+1-32],Q=p[b+2-32],O=p[b+3-32],z=p[b+4-32],$=p[b+5-32],V=p[b+6-32],ee=p[b+7-32];p[b+0+0]=E+k+1>>1,p[b+1+0]=p[b+0+64]=k+Q+1>>1,p[b+2+0]=p[b+1+64]=Q+O+1>>1,p[b+3+0]=p[b+2+64]=O+z+1>>1,p[b+0+32]=vt(E,k,Q),p[b+1+32]=p[b+0+96]=vt(k,Q,O),p[b+2+32]=p[b+1+96]=vt(Q,O,z),p[b+3+32]=p[b+2+96]=vt(O,z,$),p[b+3+64]=vt(z,$,V),p[b+3+96]=vt($,V,ee)}function sc(p,b){var E=p[b-1+0],k=p[b-1+32],Q=p[b-1+64],O=p[b-1+96];p[b+0+0]=E+k+1>>1,p[b+2+0]=p[b+0+32]=k+Q+1>>1,p[b+2+32]=p[b+0+64]=Q+O+1>>1,p[b+1+0]=vt(E,k,Q),p[b+3+0]=p[b+1+32]=vt(k,Q,O),p[b+3+32]=p[b+1+64]=vt(Q,O,O),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=O}function Yf(p,b){var E=p[b-1+0],k=p[b-1+32],Q=p[b-1+64],O=p[b-1+96],z=p[b-1-32],$=p[b+0-32],V=p[b+1-32],ee=p[b+2-32];p[b+0+0]=p[b+2+32]=E+z+1>>1,p[b+0+32]=p[b+2+64]=k+E+1>>1,p[b+0+64]=p[b+2+96]=Q+k+1>>1,p[b+0+96]=O+Q+1>>1,p[b+3+0]=vt($,V,ee),p[b+2+0]=vt(z,$,V),p[b+1+0]=p[b+3+32]=vt(E,z,$),p[b+1+32]=p[b+3+64]=vt(k,E,z),p[b+1+64]=p[b+3+96]=vt(Q,k,E),p[b+1+96]=vt(O,Q,k)}function Zl(p,b){var E;for(E=0;8>E;++E)n(p,b+32*E,p,b-32,8)}function B1(p,b){var E;for(E=0;8>E;++E)s(p,b,p[b-1],8),b+=32}function Ya(p,b,E){var k;for(k=0;8>k;++k)s(b,E+32*k,p,8)}function k1(p,b){var E,k=8;for(E=0;8>E;++E)k+=p[b+E-32]+p[b-1+32*E];Ya(k>>4,p,b)}function Wf(p,b){var E,k=4;for(E=0;8>E;++E)k+=p[b+E-32];Ya(k>>3,p,b)}function Jf(p,b){var E,k=4;for(E=0;8>E;++E)k+=p[b-1+32*E];Ya(k>>3,p,b)}function Uh(p,b){Ya(128,p,b)}function Wa(p,b,E){var k=p[b-E],Q=p[b+0],O=3*(Q-k)+j1[1020+p[b-2*E]-p[b+E]],z=Gh[112+(O+4>>3)];p[b-E]=Rs[255+k+Gh[112+(O+3>>3)]],p[b+0]=Rs[255+Q-z]}function qf(p,b,E,k){var Q=p[b+0],O=p[b+E];return mi[255+p[b-2*E]-p[b-E]]>k||mi[255+O-Q]>k}function ic(p,b,E,k){return 4*mi[255+p[b-E]-p[b+0]]+mi[255+p[b-2*E]-p[b+E]]<=k}function Zf(p,b,E,k,Q){var O=p[b-3*E],z=p[b-2*E],$=p[b-E],V=p[b+0],ee=p[b+E],fe=p[b+2*E],we=p[b+3*E];return 4*mi[255+$-V]+mi[255+z-ee]>k?0:mi[255+p[b-4*E]-O]<=Q&&mi[255+O-z]<=Q&&mi[255+z-$]<=Q&&mi[255+we-fe]<=Q&&mi[255+fe-ee]<=Q&&mi[255+ee-V]<=Q}function Xl(p,b,E,k){var Q=2*k+1;for(k=0;16>k;++k)ic(p,b+k,E,Q)&&Wa(p,b+k,E)}function Xf(p,b,E,k){var Q=2*k+1;for(k=0;16>k;++k)ic(p,b+k*E,1,Q)&&Wa(p,b+k*E,1)}function Rh(p,b,E,k){var Q;for(Q=3;0<Q;--Q)Xl(p,b+=4*E,E,k)}function _h(p,b,E,k){var Q;for(Q=3;0<Q;--Q)Xf(p,b+=4,E,k)}function Ja(p,b,E,k,Q,O,z,$){for(O=2*O+1;0<Q--;){if(Zf(p,b,E,O,z))if(qf(p,b,E,$))Wa(p,b,E);else{var V=p,ee=b,fe=E,we=V[ee-2*fe],te=V[ee-fe],ue=V[ee+0],me=V[ee+fe],Le=V[ee+2*fe],ye=27*(ke=j1[1020+3*(ue-te)+j1[1020+we-me]])+63>>7,Se=18*ke+63>>7,ke=9*ke+63>>7;V[ee-3*fe]=Rs[255+V[ee-3*fe]+ke],V[ee-2*fe]=Rs[255+we+Se],V[ee-fe]=Rs[255+te+ye],V[ee+0]=Rs[255+ue-ye],V[ee+fe]=Rs[255+me-Se],V[ee+2*fe]=Rs[255+Le-ke]}b+=k}}function qa(p,b,E,k,Q,O,z,$){for(O=2*O+1;0<Q--;){if(Zf(p,b,E,O,z))if(qf(p,b,E,$))Wa(p,b,E);else{var V=p,ee=b,fe=E,we=V[ee-fe],te=V[ee+0],ue=V[ee+fe],me=Gh[112+(4+(Le=3*(te-we))>>3)],Le=Gh[112+(Le+3>>3)],ye=me+1>>1;V[ee-2*fe]=Rs[255+V[ee-2*fe]+ye],V[ee-fe]=Rs[255+we+Le],V[ee+0]=Rs[255+te-me],V[ee+fe]=Rs[255+ue-ye]}b+=k}}function Ph(p,b,E,k,Q,O){Ja(p,b,E,1,16,k,Q,O)}function eA(p,b,E,k,Q,O){Ja(p,b,1,E,16,k,Q,O)}function Qh(p,b,E,k,Q,O){var z;for(z=3;0<z;--z)qa(p,b+=4*E,E,1,16,k,Q,O)}function L(p,b,E,k,Q,O){var z;for(z=3;0<z;--z)qa(p,b+=4,1,E,16,k,Q,O)}function _(p,b,E,k,Q,O,z,$){Ja(p,b,Q,1,8,O,z,$),Ja(E,k,Q,1,8,O,z,$)}function ne(p,b,E,k,Q,O,z,$){Ja(p,b,1,Q,8,O,z,$),Ja(E,k,1,Q,8,O,z,$)}function Ae(p,b,E,k,Q,O,z,$){qa(p,b+4*Q,Q,1,8,O,z,$),qa(E,k+4*Q,Q,1,8,O,z,$)}function ge(p,b,E,k,Q,O,z,$){qa(p,b+4,1,Q,8,O,z,$),qa(E,k+4,1,Q,8,O,z,$)}function Be(){this.ba=new _t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Te(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lt(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new G}function bt(){this.xb=this.a=0,this.l=new tc,this.ca=new _t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lt,this.ab=0,this.gc=a(4,tt),this.Oc=0}function jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(p,b,E,k,Q,O,z){for(p=p==null?0:p[b+0],b=0;b<z;++b)Q[O+b]=p+E[k+b]&255,p=Q[O+b]}function Tr(p,b,E,k,Q,O,z){var $;if(p==null)Wt(null,null,E,k,Q,O,z);else for($=0;$<z;++$)Q[O+$]=p[b+$]+E[k+$]&255}function on(p,b,E,k,Q,O,z){if(p==null)Wt(null,null,E,k,Q,O,z);else{var $,V=p[b+0],ee=V,fe=V;for($=0;$<z;++$)ee=fe+(V=p[b+$])-ee,fe=E[k+$]+(-256&ee?0>ee?0:255:ee)&255,ee=V,Q[O+$]=fe}}function pr(p,b,E,k){var Q=b.width,O=b.o;if(e(p!=null&&b!=null),0>E||0>=k||E+k>O)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new jt,(z=p.ga==null)||(z=b.width*b.o,e(p.Gb.length==0),p.Gb=i(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var $=p.Fa,V=p.P,ee=p.qc,fe=p.mb,we=p.nb,te=V+1,ue=ee-1,me=z.l;if(e($!=null&&fe!=null&&b!=null),Yo[0]=null,Yo[1]=Wt,Yo[2]=Tr,Yo[3]=on,z.ca=fe,z.tb=we,z.c=b.width,z.i=b.height,e(0<z.c&&0<z.i),1>=ee)b=0;else if(z.$a=3&$[V+0],z.Z=$[V+0]>>2&3,z.Lc=$[V+0]>>4&3,V=$[V+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||V)b=0;else if(me.put=gt,me.ac=ca,me.bc=za,me.ma=z,me.width=b.width,me.height=b.height,me.Da=b.Da,me.v=b.v,me.va=b.va,me.j=b.j,me.o=b.o,z.$a)e:{e(z.$a==1),b=Yl();t:for(;;){if(b==null){b=0;break e}if(e(z!=null),z.mc=b,b.c=z.c,b.i=z.i,b.l=z.l,b.l.ma=z,b.l.width=z.c,b.l.height=z.i,b.a=0,re(b.m,$,te,ue),!da(z.c,z.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Fi(b.s)?(z.ic=1,$=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i($),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(z.ic=0,b=Wl(b,z.c)),!b))break t;b=1;break e}z.mc=null,b=0}else b=ue>=z.c*z.i;z=!b}if(z)return null;p.ga.Lc!=1?p.Ga=0:k=O-E}e(p.ga!=null),e(E+k<=O);e:{if(b=($=p.ga).c,O=$.l.o,$.$a==0){if(te=p.rc,ue=p.Vc,me=p.Fa,V=p.P+1+E*b,ee=p.mb,fe=p.nb+E*b,e(V<=p.P+p.qc),$.Z!=0)for(e(Yo[$.Z]!=null),z=0;z<k;++z)Yo[$.Z](te,ue,me,V,ee,fe,b),te=ee,ue=fe,fe+=b,V+=b;else for(z=0;z<k;++z)n(ee,fe,me,V,b),te=ee,ue=fe,fe+=b,V+=b;p.rc=te,p.Vc=ue}else{if(e($.mc!=null),b=E+k,e((z=$.mc)!=null),e(b<=z.i),z.C>=b)b=1;else if($.ic||Pi(),$.ic){$=z.V,te=z.Ba,ue=z.c;var Le=z.i,ye=(me=1,V=z.$/ue,ee=z.$%ue,fe=z.m,we=z.s,z.$),Se=ue*Le,ke=ue*b,Ue=we.wc,Me=ye<ke?In(we,ee,V):null;e(ye<=Se),e(b<=Le),e(Fi(we));t:for(;;){for(;!fe.h&&ye<ke;){if(ee&Ue||(Me=In(we,ee,V)),e(Me!=null),ie(fe),256>(Le=Qr(Me.G[0],Me.H[0],fe)))$[te+ye]=Le,++ye,++ee>=ue&&(ee=0,++V<=b&&!(V%16)&&Ui(z,V));else{if(!(280>Le)){me=0;break t}Le=Ai(Le-256,fe);var At,Ze=Qr(Me.G[4],Me.H[4],fe);if(ie(fe),!(ye>=(Ze=ci(ue,Ze=Ai(Ze,fe)))&&Se-ye>=Le)){me=0;break t}for(At=0;At<Le;++At)$[te+ye+At]=$[te+ye+At-Ze];for(ye+=Le,ee+=Le;ee>=ue;)ee-=ue,++V<=b&&!(V%16)&&Ui(z,V);ye<ke&&ee&Ue&&(Me=In(we,ee,V))}e(fe.h==se(fe))}Ui(z,V>b?b:V);break t}!me||fe.h&&ye<Se?(me=0,z.a=fe.h?5:3):z.$=ye,b=me}else b=Ri(z,z.V,z.Ba,z.c,z.i,b,ZA);if(!b){k=0;break e}}E+k>=O&&(p.Cc=1),k=1}if(!k)return null;if(p.Cc&&((k=p.ga)!=null&&(k.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*Q}function un(p,b,E,k,Q,O){for(;0<Q--;){var z,$=p,V=b+(E?1:0),ee=p,fe=b+(E?0:3);for(z=0;z<k;++z){var we=ee[fe+4*z];we!=255&&(we*=32897,$[V+4*z+0]=$[V+4*z+0]*we>>23,$[V+4*z+1]=$[V+4*z+1]*we>>23,$[V+4*z+2]=$[V+4*z+2]*we>>23)}b+=O}}function ln(p,b,E,k,Q){for(;0<k--;){var O;for(O=0;O<E;++O){var z=p[b+2*O+0],$=15&(ee=p[b+2*O+1]),V=4369*$,ee=(240&ee|ee>>4)*V>>16;p[b+2*O+0]=(240&z|z>>4)*V>>16&240|(15&z|z<<4)*V>>16>>4&15,p[b+2*O+1]=240&ee|$}b+=Q}}function Tn(p,b,E,k,Q,O,z,$){var V,ee,fe=255;for(ee=0;ee<Q;++ee){for(V=0;V<k;++V){var we=p[b+V];O[z+4*V]=we,fe&=we}b+=E,z+=$}return fe!=255}function Za(p,b,E,k,Q){var O;for(O=0;O<Q;++O)E[k+O]=p[b+O]>>8}function Pi(){fd=un,a4=ln,o4=Tn,l4=Za}function Xa(p,b,E){I[p]=function(k,Q,O,z,$,V,ee,fe,we,te,ue,me,Le,ye,Se,ke,Ue){var Me,At=Ue-1>>1,Ze=$[V+0]|ee[fe+0]<<16,Tt=we[te+0]|ue[me+0]<<16;e(k!=null);var nt=3*Ze+Tt+131074>>2;for(b(k[Q+0],255&nt,nt>>16,Le,ye),O!=null&&(nt=3*Tt+Ze+131074>>2,b(O[z+0],255&nt,nt>>16,Se,ke)),Me=1;Me<=At;++Me){var Gt=$[V+Me]|ee[fe+Me]<<16,gn=we[te+Me]|ue[me+Me]<<16,Mt=Ze+Gt+Tt+gn+524296,st=Mt+2*(Gt+Tt)>>3;nt=st+Ze>>1,Ze=(Mt=Mt+2*(Ze+gn)>>3)+Gt>>1,b(k[Q+2*Me-1],255&nt,nt>>16,Le,ye+(2*Me-1)*E),b(k[Q+2*Me-0],255&Ze,Ze>>16,Le,ye+(2*Me-0)*E),O!=null&&(nt=Mt+Tt>>1,Ze=st+gn>>1,b(O[z+2*Me-1],255&nt,nt>>16,Se,ke+(2*Me-1)*E),b(O[z+2*Me+0],255&Ze,Ze>>16,Se,ke+(2*Me+0)*E)),Ze=Gt,Tt=gn}1&Ue||(nt=3*Ze+Tt+131074>>2,b(k[Q+Ue-1],255&nt,nt>>16,Le,ye+(Ue-1)*E),O!=null&&(nt=3*Tt+Ze+131074>>2,b(O[z+Ue-1],255&nt,nt>>16,Se,ke+(Ue-1)*E)))}}function ed(){pi[Kh]=NM,pi[$h]=y4,pi[h4]=BM,pi[Vh]=w4,pi[Yh]=b4,pi[I1]=v4,pi[g4]=kM,pi[T1]=y4,pi[M1]=w4,pi[Wh]=b4,pi[D1]=v4}function ac(p){return p&-16384?0>p?0:255:p>>jM}function _o(p,b){return ac((19077*p>>8)+(26149*b>>8)-14234)}function tA(p,b,E){return ac((19077*p>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function rA(p,b){return ac((19077*p>>8)+(33050*b>>8)-17685)}function Po(p,b,E,k,Q){k[Q+0]=_o(p,E),k[Q+1]=tA(p,b,E),k[Q+2]=rA(p,b)}function Mn(p,b,E,k,Q){k[Q+0]=rA(p,b),k[Q+1]=tA(p,b,E),k[Q+2]=_o(p,E)}function nA(p,b,E,k,Q){var O=tA(p,b,E);b=O<<3&224|rA(p,b)>>3,k[Q+0]=248&_o(p,E)|O>>5,k[Q+1]=b}function sA(p,b,E,k,Q){var O=240&rA(p,b)|15;k[Q+0]=240&_o(p,E)|tA(p,b,E)>>4,k[Q+1]=O}function td(p,b,E,k,Q){k[Q+0]=255,Po(p,b,E,k,Q+1)}function rd(p,b,E,k,Q){Mn(p,b,E,k,Q),k[Q+3]=255}function ls(p,b,E,k,Q){Po(p,b,E,k,Q),k[Q+3]=255}function eo(p,b,E){I[p]=function(k,Q,O,z,$,V,ee,fe,we){for(var te=fe+(-2&we)*E;fe!=te;)b(k[Q+0],O[z+0],$[V+0],ee,fe),b(k[Q+1],O[z+0],$[V+0],ee,fe+E),Q+=2,++z,++V,fe+=2*E;1&we&&b(k[Q+0],O[z+0],$[V+0],ee,fe)}}function oc(p,b,E){return E==0?p==0?b==0?6:5:b==0?4:0:E}function Oh(p,b,E,k,Q){switch(p>>>30){case 3:lA(b,E,k,Q,0);break;case 2:gi(b,E,k,Q);break;case 1:er(b,E,k,Q)}}function hi(p,b){var E,k,Q=b.M,O=b.Nb,z=p.oc,$=p.pc+40,V=p.oc,ee=p.pc+584,fe=p.oc,we=p.pc+600;for(E=0;16>E;++E)z[$+32*E-1]=129;for(E=0;8>E;++E)V[ee+32*E-1]=129,fe[we+32*E-1]=129;for(0<Q?z[$-1-32]=V[ee-1-32]=fe[we-1-32]=129:(s(z,$-32-1,127,21),s(V,ee-32-1,127,9),s(fe,we-32-1,127,9)),k=0;k<p.za;++k){var te=b.ya[b.aa+k];if(0<k){for(E=-1;16>E;++E)n(z,$+32*E-4,z,$+32*E+12,4);for(E=-1;8>E;++E)n(V,ee+32*E-4,V,ee+32*E+4,4),n(fe,we+32*E-4,fe,we+32*E+4,4)}var ue=p.Gd,me=p.Hd+k,Le=te.ad,ye=te.Hc;if(0<Q&&(n(z,$-32,ue[me].y,0,16),n(V,ee-32,ue[me].f,0,8),n(fe,we-32,ue[me].ea,0,8)),te.Za){var Se=z,ke=$-32+16;for(0<Q&&(k>=p.za-1?s(Se,ke,ue[me].y[15],4):n(Se,ke,ue[me+1].y,0,4)),E=0;4>E;E++)Se[ke+128+E]=Se[ke+256+E]=Se[ke+384+E]=Se[ke+0+E];for(E=0;16>E;++E,ye<<=2)Se=z,ke=$+L4[E],Qi[te.Ob[E]](Se,ke),Oh(ye,Le,16*+E,Se,ke)}else if(Se=oc(k,Q,te.Ob[0]),Vo[Se](z,$),ye!=0)for(E=0;16>E;++E,ye<<=2)Oh(ye,Le,16*+E,z,$+L4[E]);for(E=te.Gc,Se=oc(k,Q,te.Dd),no[Se](V,ee),no[Se](fe,we),ye=Le,Se=V,ke=ee,255&(te=0|E)&&(170&te?xa(ye,256,Se,ke):fr(ye,256,Se,ke)),te=fe,ye=we,255&(E>>=8)&&(170&E?xa(Le,320,te,ye):fr(Le,320,te,ye)),Q<p.Ub-1&&(n(ue[me].y,0,z,$+480,16),n(ue[me].f,0,V,ee+224,8),n(ue[me].ea,0,fe,we+224,8)),E=8*O*p.B,ue=p.sa,me=p.ta+16*k+16*O*p.R,Le=p.qa,te=p.ra+8*k+E,ye=p.Ha,Se=p.Ia+8*k+E,E=0;16>E;++E)n(ue,me+E*p.R,z,$+32*E,16);for(E=0;8>E;++E)n(Le,te+E*p.B,V,ee+32*E,8),n(ye,Se+E*p.B,fe,we+32*E,8)}}function iA(p,b,E,k,Q,O,z,$,V){var ee=[0],fe=[0],we=0,te=V!=null?V.kd:0,ue=V??new Te;if(p==null||12>E)return 7;ue.data=p,ue.w=b,ue.ha=E,b=[b],E=[E],ue.gb=[ue.gb];e:{var me=b,Le=E,ye=ue.gb;if(e(p!=null),e(Le!=null),e(ye!=null),ye[0]=0,12<=Le[0]&&!t(p,me[0],"RIFF")){if(t(p,me[0]+8,"WEBP")){ye=3;break e}var Se=We(p,me[0]+4);if(12>Se||4294967286<Se){ye=3;break e}if(te&&Se>Le[0]-8){ye=7;break e}ye[0]=Se,me[0]+=12,Le[0]-=12}ye=0}if(ye!=0)return ye;for(Se=0<ue.gb[0],E=E[0];;){e:{var ke=p;Le=b,ye=E;var Ue=ee,Me=fe,At=me=[0];if((nt=we=[we])[0]=0,8>ye[0])ye=7;else{if(!t(ke,Le[0],"VP8X")){if(We(ke,Le[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var Ze=We(ke,Le[0]+8),Tt=1+Pe(ke,Le[0]+12);if(2147483648<=Tt*(ke=1+Pe(ke,Le[0]+15))){ye=3;break e}At!=null&&(At[0]=Ze),Ue!=null&&(Ue[0]=Tt),Me!=null&&(Me[0]=ke),Le[0]+=18,ye[0]-=18,nt[0]=1}ye=0}}if(we=we[0],me=me[0],ye!=0)return ye;if(Le=!!(2&me),!Se&&we)return 3;if(O!=null&&(O[0]=!!(16&me)),z!=null&&(z[0]=Le),$!=null&&($[0]=0),z=ee[0],me=fe[0],we&&Le&&V==null){ye=0;break}if(4>E){ye=7;break}if(Se&&we||!Se&&!we&&!t(p,b[0],"ALPH")){E=[E],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{Ze=p,ye=b,Se=E;var nt=ue.gb;Ue=ue.na,Me=ue.P,At=ue.Sa,Tt=22,e(Ze!=null),e(Se!=null),ke=ye[0];var Gt=Se[0];for(e(Ue!=null),e(At!=null),Ue[0]=null,Me[0]=null,At[0]=0;;){if(ye[0]=ke,Se[0]=Gt,8>Gt){ye=7;break e}var gn=We(Ze,ke+4);if(4294967286<gn){ye=3;break e}var Mt=8+gn+1&-2;if(Tt+=Mt,0<nt&&Tt>nt){ye=3;break e}if(!t(Ze,ke,"VP8 ")||!t(Ze,ke,"VP8L")){ye=0;break e}if(Gt[0]<Mt){ye=7;break e}t(Ze,ke,"ALPH")||(Ue[0]=Ze,Me[0]=ke+8,At[0]=gn),ke+=Mt,Gt-=Mt}}if(E=E[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],ye!=0)break}E=[E],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(nt=p,ye=b,Se=E,Ue=ue.gb[0],Me=ue.Ja,At=ue.xa,Ze=ye[0],ke=!t(nt,Ze,"VP8 "),Tt=!t(nt,Ze,"VP8L"),e(nt!=null),e(Se!=null),e(Me!=null),e(At!=null),8>Se[0])ye=7;else{if(ke||Tt){if(nt=We(nt,Ze+4),12<=Ue&&nt>Ue-12){ye=3;break e}if(te&&nt>Se[0]-8){ye=7;break e}Me[0]=nt,ye[0]+=8,Se[0]-=8,At[0]=Tt}else At[0]=5<=Se[0]&&nt[Ze+0]==47&&!(nt[Ze+4]>>5),Me[0]=Se[0];ye=0}if(E=E[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],b=b[0],ye!=0)break;if(4294967286<ue.Ja)return 3;if($==null||Le||($[0]=ue.xa?2:1),z=[z],me=[me],ue.xa){if(5>E){ye=7;break}$=z,te=me,Le=O,p==null||5>E?p=0:5<=E&&p[b+0]==47&&!(p[b+4]>>5)?(Se=[0],nt=[0],Ue=[0],re(Me=new K,p,b,E),Ga(Me,Se,nt,Ue)?($!=null&&($[0]=Se[0]),te!=null&&(te[0]=nt[0]),Le!=null&&(Le[0]=Ue[0]),p=1):p=0):p=0}else{if(10>E){ye=7;break}$=me,p==null||10>E||!jh(p,b+3,E-3)?p=0:(te=p[b+0]|p[b+1]<<8|p[b+2]<<16,Le=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=ue.Ja||!Le||!p?p=0:(z&&(z[0]=Le),$&&($[0]=p),p=1))}if(!p||(z=z[0],me=me[0],we&&(ee[0]!=z||fe[0]!=me)))return 3;V!=null&&(V[0]=ue,V.offset=b-V.w,e(4294967286>b-V.w),e(V.offset==V.ha-E));break}return ye==0||ye==7&&we&&V==null?(O!=null&&(O[0]|=ue.na!=null&&0<ue.na.length),k!=null&&(k[0]=z),Q!=null&&(Q[0]=me),0):ye}function nd(p,b,E){var k=b.width,Q=b.height,O=0,z=0,$=k,V=Q;if(b.Da=p!=null&&0<p.Da,b.Da&&($=p.cd,V=p.bd,O=p.v,z=p.j,11>E||(O&=-2,z&=-2),0>O||0>z||0>=$||0>=V||O+$>k||z+V>Q))return 0;if(b.v=O,b.j=z,b.va=O+$,b.o=z+V,b.U=$,b.T=V,b.da=p!=null&&0<p.da,b.da){if(!$e($,V,E=[p.ib],O=[p.hb]))return 0;b.ib=E[0],b.hb=O[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*k/4&&b.hb<3*Q/4,b.Kb=0),1}function sd(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function Qo(p,b,E,k){if(k==null||0>=p||0>=b)return 2;if(E!=null){if(E.Da){var Q=E.cd,O=E.bd,z=-2&E.v,$=-2&E.j;if(0>z||0>$||0>=Q||0>=O||z+Q>p||$+O>b)return 2;p=Q,b=O}if(E.da){if(!$e(p,b,Q=[E.ib],O=[E.hb]))return 2;p=Q[0],b=O[0]}}k.width=p,k.height=b;e:{var V=k.width,ee=k.height;if(p=k.S,0>=V||0>=ee||!(p>=Kh&&13>p))p=2;else{if(0>=k.Rd&&k.sd==null){z=O=Q=b=0;var fe=($=V*S4[p])*ee;if(11>p||(O=(ee+1)/2*(b=(V+1)/2),p==12&&(z=(Q=V)*ee)),(ee=i(fe+2*O+z))==null){p=1;break e}k.sd=ee,11>p?((V=k.f.RGBA).eb=ee,V.fb=0,V.A=$,V.size=fe):((V=k.f.kb).y=ee,V.O=0,V.fa=$,V.Fd=fe,V.f=ee,V.N=0+fe,V.Ab=b,V.Cd=O,V.ea=ee,V.W=0+fe+O,V.Db=b,V.Ed=O,p==12&&(V.F=ee,V.J=0+fe+2*O),V.Tc=z,V.lb=Q)}if(b=1,Q=k.S,O=k.width,z=k.height,Q>=Kh&&13>Q)if(11>Q)p=k.f.RGBA,b&=($=Math.abs(p.A))*(z-1)+O<=p.size,b&=$>=O*S4[Q],b&=p.eb!=null;else{p=k.f.kb,$=(O+1)/2,fe=(z+1)/2,V=Math.abs(p.fa),ee=Math.abs(p.Ab);var we=Math.abs(p.Db),te=Math.abs(p.lb),ue=te*(z-1)+O;b&=V*(z-1)+O<=p.Fd,b&=ee*(fe-1)+$<=p.Cd,b=(b&=we*(fe-1)+$<=p.Ed)&V>=O&ee>=$&we>=$,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,Q==12&&(b&=te>=O,b&=ue<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||E!=null&&E.fd&&(p=sd(k)),p}var aA=64,Fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Us=24,Oo=32,to=8,Ho=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(p){return p},I.Predictor2=function(p,b,E){return b[E+0]},I.Predictor3=function(p,b,E){return b[E+1]},I.Predictor4=function(p,b,E){return b[E-1]},I.Predictor5=function(p,b,E){return Fe(Fe(p,b[E+1]),b[E+0])},I.Predictor6=function(p,b,E){return Fe(p,b[E-1])},I.Predictor7=function(p,b,E){return Fe(p,b[E+0])},I.Predictor8=function(p,b,E){return Fe(b[E-1],b[E+0])},I.Predictor9=function(p,b,E){return Fe(b[E+0],b[E+1])},I.Predictor10=function(p,b,E){return Fe(Fe(p,b[E-1]),Fe(b[E+0],b[E+1]))},I.Predictor11=function(p,b,E){var k=b[E+0];return 0>=dt(k>>24&255,p>>24&255,(b=b[E-1])>>24&255)+dt(k>>16&255,p>>16&255,b>>16&255)+dt(k>>8&255,p>>8&255,b>>8&255)+dt(255&k,255&p,255&b)?k:p},I.Predictor12=function(p,b,E){var k=b[E+0];return(rt((p>>24&255)+(k>>24&255)-((b=b[E-1])>>24&255))<<24|rt((p>>16&255)+(k>>16&255)-(b>>16&255))<<16|rt((p>>8&255)+(k>>8&255)-(b>>8&255))<<8|rt((255&p)+(255&k)-(255&b)))>>>0},I.Predictor13=function(p,b,E){var k=b[E-1];return(ot((p=Fe(p,b[E+0]))>>24&255,k>>24&255)<<24|ot(p>>16&255,k>>16&255)<<16|ot(p>>8&255,k>>8&255)<<8|ot(255&p,255&k))>>>0};var id=I.PredictorAdd0;I.PredictorAdd1=Et,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var lc=I.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Vr,Hh=I.ColorIndexInverseTransform,ma=I.MapARGB,pa=I.VP8LColorIndexInverseTransformAlpha,ad=I.MapAlpha,od=I.VP8LPredictorsAdd=[];od.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var ld,Ad,zo,Go,Ko,oA,$o,lA,gi,xa,er,fr,Yr,hn,ro,cd,Ac,zh,e4,t4,r4,n4,s4,i4,fd,a4,o4,l4,A4=i(511),c4=i(2041),f4=i(225),d4=i(767),u4=0,j1=c4,Gh=f4,Rs=d4,mi=A4,Kh=0,$h=1,h4=2,Vh=3,Yh=4,I1=5,g4=6,T1=7,M1=8,Wh=9,D1=10,uM=[2,3,7],hM=[3,3,11],m4=[280,256,256,256,40],gM=[0,1,1,1,0],mM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yM=8,F1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],U1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dd=null,wM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],p4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],CM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],SM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vo=[],Qi=[],no=[],EM=1,x4=2,Yo=[],pi=[];Xa("UpsampleRgbLinePair",Po,3),Xa("UpsampleBgrLinePair",Mn,3),Xa("UpsampleRgbaLinePair",ls,4),Xa("UpsampleBgraLinePair",rd,4),Xa("UpsampleArgbLinePair",td,4),Xa("UpsampleRgba4444LinePair",sA,2),Xa("UpsampleRgb565LinePair",nA,2);var NM=I.UpsampleRgbLinePair,BM=I.UpsampleBgrLinePair,y4=I.UpsampleRgbaLinePair,w4=I.UpsampleBgraLinePair,b4=I.UpsampleArgbLinePair,v4=I.UpsampleRgba4444LinePair,kM=I.UpsampleRgb565LinePair,Jh=16,qh=1<<Jh-1,ud=-227,R1=482,jM=6,C4=0,IM=i(256),TM=i(256),MM=i(256),DM=i(256),FM=i(R1-ud),UM=i(R1-ud);eo("YuvToRgbRow",Po,3),eo("YuvToBgrRow",Mn,3),eo("YuvToRgbaRow",ls,4),eo("YuvToBgraRow",rd,4),eo("YuvToArgbRow",td,4),eo("YuvToRgba4444Row",sA,2),eo("YuvToRgb565Row",nA,2);var L4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zh=[0,2,8],RM=[8,7,6,4,4,2,2,2,1,1,1,1],_M=1;this.WebPDecodeRGBA=function(p,b,E,k,Q){var O=$h,z=new Be,$=new _t;z.ba=$,$.S=O,$.width=[$.width],$.height=[$.height];var V=$.width,ee=$.height,fe=new ht;if(fe==null||p==null)var we=2;else e(fe!=null),we=iA(p,b,E,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(we!=0?V=0:(V!=null&&(V[0]=fe.width[0]),ee!=null&&(ee[0]=fe.height[0]),V=1),V){$.width=$.width[0],$.height=$.height[0],k!=null&&(k[0]=$.width),Q!=null&&(Q[0]=$.height);e:{if(k=new tc,(Q=new Te).data=p,Q.w=b,Q.ha=E,Q.kd=1,b=[0],e(Q!=null),((p=iA(Q.data,Q.w,Q.ha,null,null,null,b,null,Q))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(z!=null),k.data=Q.data,k.w=Q.w+Q.offset,k.ha=Q.ha-Q.offset,k.put=gt,k.ac=ca,k.bc=za,k.ma=z,Q.xa){if((p=Yl())==null){z=1;break e}if(function(te,ue){var me=[0],Le=[0],ye=[0];t:for(;;){if(te==null)return 0;if(ue==null)return te.a=2,0;if(te.l=ue,te.a=0,re(te.m,ue.data,ue.w,ue.ha),!Ga(te.m,me,Le,ye)){te.a=3;break t}if(te.xb=x4,ue.width=me[0],ue.height=Le[0],!da(me[0],Le[0],1,te,null))break t;return 1}return e(te.a!=0),0}(p,k)){if(k=(b=Qo(k.width,k.height,z.Oa,z.ba))==0){t:{k=p;r:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((E=k.l)!=null),e((Q=E.ma)!=null),k.xb!=0){if(k.ca=Q.ba,k.tb=Q.tb,e(k.ca!=null),!nd(Q.Oa,E,Vh)){k.a=2;break r}if(!Wl(k,E.width)||E.da)break r;if((E.da||pt(k.ca.S))&&Pi(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Pi()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!W(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!Ri(k,k.V,k.Ba,k.c,k.i,E.o,Ro))break r;Q.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(b=p.a)}else b=p.a}else{if((p=new g1)==null){z=1;break e}if(p.Fa=Q.na,p.P=Q.P,p.qc=Q.Sa,ha(p,k)){if((b=Qo(k.width,k.height,z.Oa,z.ba))==0){if(p.Aa=0,E=z.Oa,e((Q=p)!=null),E!=null){if(0<(V=0>(V=E.Md)?0:100<V?255:255*V/100)){for(ee=fe=0;4>ee;++ee)12>(we=Q.pb[ee]).lc&&(we.ia=V*RM[0>we.lc?0:we.lc]>>3),fe|=we.ia;fe&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=E.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(te,ue){if(te==null)return 0;if(ue==null)return an(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!ha(te,ue))return 0;if(e(te.cb),ue.ac==null||ue.ac(ue)){ue.ob&&(te.L=0);var me=Zh[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=ue.v-me>>4,te.zb=ue.j-me>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=ue.o+15+me>>4,te.Hb=ue.va+15+me>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Le=te.ed;for(me=0;4>me;++me){var ye;if(te.Qa.Cb){var Se=te.Qa.Lb[me];te.Qa.Fb||(Se+=Le.Tb)}else Se=Le.Tb;for(ye=0;1>=ye;++ye){var ke=te.gd[me][ye],Ue=Se;if(Le.Pc&&(Ue+=Le.vd[0],ye&&(Ue+=Le.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var Me=Ue;0<Le.wb&&(Me=4<Le.wb?Me>>2:Me>>1)>9-Le.wb&&(Me=9-Le.wb),1>Me&&(Me=1),ke.dd=Me,ke.tc=2*Ue+Me,ke.ld=40<=Ue?2:15<=Ue?1:0}else ke.tc=0;ke.La=ye}}}me=0}else an(te,6,"Frame setup failed"),me=te.a;if(me=me==0){if(me){te.$c=0,0<te.Aa||(te.Ic=_M);t:{me=te.Ic,Le=4*(Me=te.za);var At=32*Me,Ze=Me+1,Tt=0<te.L?Me*(0<te.Aa?2:1):0,nt=(te.Aa==2?2:1)*Me;if((ke=Le+832+(ye=3*(16*me+Zh[te.L])/2*At)+(Se=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=ke)me=0;else{if(ke>te.Vb){if(te.Vb=0,te.Ec=i(ke),te.Fc=0,te.Ec==null){me=an(te,1,"no memory during frame initialization.");break t}te.Vb=ke}ke=te.Ec,Ue=te.Fc,te.Ac=ke,te.Bc=Ue,Ue+=Le,te.Gd=a(At,Bh),te.Hd=0,te.rb=a(Ze+1,Gf),te.sb=1,te.wa=Tt?a(Tt,di):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Me),e(!0),te.oc=ke,te.pc=Ue,Ue+=832,te.ya=a(nt,Kf),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Me),te.R=16*Me,te.B=8*Me,Me=(At=Zh[te.L])*te.R,At=At/2*te.B,te.sa=ke,te.ta=Ue+Me,te.qa=te.sa,te.ra=te.ta+16*me*te.R+At,te.Ha=te.qa,te.Ia=te.ra+8*me*te.B+At,te.$c=0,Ue+=ye,te.mb=Se?ke:null,te.nb=Se?Ue:null,e(Ue+Se<=te.Fc+te.Vb),Ih(te),s(te.Ac,te.Bc,0,Le),me=1}}if(me){if(ue.ka=0,ue.y=te.sa,ue.O=te.ta,ue.f=te.qa,ue.N=te.ra,ue.ea=te.Ha,ue.Vd=te.Ia,ue.fa=te.R,ue.Rc=te.B,ue.F=null,ue.J=0,!u4){for(me=-255;255>=me;++me)A4[255+me]=0>me?-me:me;for(me=-1020;1020>=me;++me)c4[1020+me]=-128>me?-128:127<me?127:me;for(me=-112;112>=me;++me)f4[112+me]=-16>me?-16:15<me?15:me;for(me=-255;510>=me;++me)d4[255+me]=0>me?0:255<me?255:me;u4=1}$o=nc,lA=p1,xa=ga,er=Mh,fr=Dh,gi=m1,Yr=Ph,hn=eA,ro=_,cd=ne,Ac=Qh,zh=L,e4=Ae,t4=ge,r4=Xl,n4=Xf,s4=Rh,i4=_h,Qi[0]=S1,Qi[1]=x1,Qi[2]=C1,Qi[3]=L1,Qi[4]=$a,Qi[5]=E1,Qi[6]=Va,Qi[7]=N1,Qi[8]=Yf,Qi[9]=sc,Vo[0]=b1,Vo[1]=w1,Vo[2]=$f,Vo[3]=Fh,Vo[4]=ql,Vo[5]=Vf,Vo[6]=v1,no[0]=k1,no[1]=y1,no[2]=Zl,no[3]=B1,no[4]=Jf,no[5]=Wf,no[6]=Uh,me=1}else me=0}me&&(me=function(Gt,gn){for(Gt.M=0;Gt.M<Gt.Va;++Gt.M){var Mt,st=Gt.Jc[Gt.M&Gt.Xb],Qe=Gt.m,Wr=Gt;for(Mt=0;Mt<Wr.za;++Mt){var Bt=Qe,$t=Wr,br=$t.Ac,Dn=$t.Bc+4*Mt,As=$t.zc,Or=$t.ya[$t.aa+Mt];if($t.Qa.Bb?Or.$b=he(Bt,$t.Pa.jb[0])?2+he(Bt,$t.Pa.jb[2]):he(Bt,$t.Pa.jb[1]):Or.$b=0,$t.kc&&(Or.Ad=he(Bt,$t.Bd)),Or.Za=!he(Bt,145)+0,Or.Za){var Yn=Or.Ob,cs=0;for($t=0;4>$t;++$t){var mn,Jt=As[0+$t];for(mn=0;4>mn;++mn){Jt=CM[br[Dn+mn]][Jt];for(var rr=p4[he(Bt,Jt[0])];0<rr;)rr=p4[2*rr+he(Bt,Jt[rr])];Jt=-rr,br[Dn+mn]=Jt}n(Yn,cs,br,Dn,4),cs+=4,As[0+$t]=Jt}}else Jt=he(Bt,156)?he(Bt,128)?1:3:he(Bt,163)?2:0,Or.Ob[0]=Jt,s(br,Dn,Jt,4),s(As,0,Jt,4);Or.Dd=he(Bt,142)?he(Bt,114)?he(Bt,183)?1:3:2:0}if(Wr.m.Ka)return an(Gt,7,"Premature end-of-partition0 encountered.");for(;Gt.ja<Gt.za;++Gt.ja){if(Wr=st,Bt=(Qe=Gt).rb[Qe.sb-1],br=Qe.rb[Qe.sb+Qe.ja],Mt=Qe.ya[Qe.aa+Qe.ja],Dn=Qe.kc?Mt.Ad:0)Bt.la=br.la=0,Mt.Za||(Bt.Na=br.Na=0),Mt.Hc=0,Mt.Gc=0,Mt.ia=0;else{var Hr,nr;if(Bt=br,br=Wr,Dn=Qe.Pa.Xc,As=Qe.ya[Qe.aa+Qe.ja],Or=Qe.pb[As.$b],$t=As.ad,Yn=0,cs=Qe.rb[Qe.sb-1],Jt=mn=0,s($t,Yn,0,384),As.Za)var Fn=0,Oi=Dn[3];else{rr=i(16);var Jr=Bt.Na+cs.Na;if(Jr=dd(br,Dn[1],Jr,Or.Eb,0,rr,0),Bt.Na=cs.Na=(0<Jr)+0,1<Jr)$o(rr,0,$t,Yn);else{var vs=rr[0]+3>>3;for(rr=0;256>rr;rr+=16)$t[Yn+rr]=vs}Fn=1,Oi=Dn[0]}var dr=15&Bt.la,pn=15&cs.la;for(rr=0;4>rr;++rr){var _s=1&pn;for(vs=nr=0;4>vs;++vs)dr=dr>>1|(_s=(Jr=dd(br,Oi,Jr=_s+(1&dr),Or.Sc,Fn,$t,Yn))>Fn)<<7,nr=nr<<2|(3<Jr?3:1<Jr?2:$t[Yn+0]!=0),Yn+=16;dr>>=4,pn=pn>>1|_s<<7,mn=(mn<<8|nr)>>>0}for(Oi=dr,Fn=pn>>4,Hr=0;4>Hr;Hr+=2){for(nr=0,dr=Bt.la>>4+Hr,pn=cs.la>>4+Hr,rr=0;2>rr;++rr){for(_s=1&pn,vs=0;2>vs;++vs)Jr=_s+(1&dr),dr=dr>>1|(_s=0<(Jr=dd(br,Dn[2],Jr,Or.Qc,0,$t,Yn)))<<3,nr=nr<<2|(3<Jr?3:1<Jr?2:$t[Yn+0]!=0),Yn+=16;dr>>=2,pn=pn>>1|_s<<5}Jt|=nr<<4*Hr,Oi|=dr<<4<<Hr,Fn|=(240&pn)<<Hr}Bt.la=Oi,cs.la=Fn,As.Hc=mn,As.Gc=Jt,As.ia=43690&Jt?0:Or.ia,Dn=!(mn|Jt)}if(0<Qe.L&&(Qe.wa[Qe.Y+Qe.ja]=Qe.gd[Mt.$b][Mt.Za],Qe.wa[Qe.Y+Qe.ja].La|=!Dn),Wr.Ka)return an(Gt,7,"Premature end-of-file encountered.")}if(Ih(Gt),Qe=gn,Wr=1,Mt=(st=Gt).D,Bt=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(Mt.M=st.M,Mt.uc=Bt,hi(st,Mt),Wr=1,Mt=(nr=st.D).Nb,Bt=(Jt=Zh[st.L])*st.R,br=Jt/2*st.B,rr=16*Mt*st.R,vs=8*Mt*st.B,Dn=st.sa,As=st.ta-Bt+rr,Or=st.qa,$t=st.ra-br+vs,Yn=st.Ha,cs=st.Ia-br+vs,pn=(dr=nr.M)==0,mn=dr>=st.Va-1,st.Aa==2&&hi(st,nr),nr.uc)for(_s=(Jr=st).D.M,e(Jr.D.uc),nr=Jr.yb;nr<Jr.Hb;++nr){Fn=nr,Oi=_s;var fs=(Ps=(Un=Jr).D).Nb;Hr=Un.R;var Ps=Ps.wa[Ps.Y+Fn],Qs=Un.sa,Cs=Un.ta+16*fs*Hr+16*Fn,Os=Ps.dd,xr=Ps.tc;if(xr!=0)if(e(3<=xr),Un.L==1)0<Fn&&n4(Qs,Cs,Hr,xr+4),Ps.La&&i4(Qs,Cs,Hr,xr),0<Oi&&r4(Qs,Cs,Hr,xr+4),Ps.La&&s4(Qs,Cs,Hr,xr);else{var Hs=Un.B,Hi=Un.qa,AA=Un.ra+8*fs*Hs+8*Fn,so=Un.Ha,Un=Un.Ia+8*fs*Hs+8*Fn;fs=Ps.ld,0<Fn&&(hn(Qs,Cs,Hr,xr+4,Os,fs),cd(Hi,AA,so,Un,Hs,xr+4,Os,fs)),Ps.La&&(zh(Qs,Cs,Hr,xr,Os,fs),t4(Hi,AA,so,Un,Hs,xr,Os,fs)),0<Oi&&(Yr(Qs,Cs,Hr,xr+4,Os,fs),ro(Hi,AA,so,Un,Hs,xr+4,Os,fs)),Ps.La&&(Ac(Qs,Cs,Hr,xr,Os,fs),e4(Hi,AA,so,Un,Hs,xr,Os,fs))}}if(st.ia&&alert("todo:DitherRow"),Qe.put!=null){if(nr=16*dr,dr=16*(dr+1),pn?(Qe.y=st.sa,Qe.O=st.ta+rr,Qe.f=st.qa,Qe.N=st.ra+vs,Qe.ea=st.Ha,Qe.W=st.Ia+vs):(nr-=Jt,Qe.y=Dn,Qe.O=As,Qe.f=Or,Qe.N=$t,Qe.ea=Yn,Qe.W=cs),mn||(dr-=Jt),dr>Qe.o&&(dr=Qe.o),Qe.F=null,Qe.J=null,st.Fa!=null&&0<st.Fa.length&&nr<dr&&(Qe.J=pr(st,Qe,nr,dr-nr),Qe.F=st.mb,Qe.F==null&&Qe.F.length==0)){Wr=an(st,3,"Could not decode alpha data.");break t}nr<Qe.j&&(Jt=Qe.j-nr,nr=Qe.j,e(!(1&Jt)),Qe.O+=st.R*Jt,Qe.N+=st.B*(Jt>>1),Qe.W+=st.B*(Jt>>1),Qe.F!=null&&(Qe.J+=Qe.width*Jt)),nr<dr&&(Qe.O+=Qe.v,Qe.N+=Qe.v>>1,Qe.W+=Qe.v>>1,Qe.F!=null&&(Qe.J+=Qe.v),Qe.ka=nr-Qe.j,Qe.U=Qe.va-Qe.v,Qe.T=dr-nr,Wr=Qe.put(Qe))}Mt+1!=st.Ic||mn||(n(st.sa,st.ta-Bt,Dn,As+16*st.R,Bt),n(st.qa,st.ra-br,Or,$t+8*st.B,br),n(st.Ha,st.Ia-br,Yn,cs+8*st.B,br))}if(!Wr)return an(Gt,6,"Output aborted.")}return 1}(te,ue)),ue.bc!=null&&ue.bc(ue),me&=1}return me?(te.cb=0,me):0})(p,k)||(b=p.a)}}else b=p.a}b==0&&z.Oa!=null&&z.Oa.fd&&(b=sd(z.ba))}z=b}O=z!=0?null:11>O?$.f.RGBA.eb:$.f.kb.y}else O=null;return O};var S4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,U){for(var T="",P=0;P<4;P++)T+=String.fromCharCode(I[U++]);return T}function f(I,U){return I[U+0]|I[U+1]<<8}function d(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16)>>>0}function u(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16|I[U+3]<<24)>>>0}new A;var h=[0],g=[0],m=[],y=new A,x=r,w=function(I,U){var T={},P=0,G=!1,R=0,q=0;if(T.frames=[],!function(D,K){for(var Y=0;Y<4;Y++)if(D[K+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(I,U)){for(u(I,U+=4),U+=8;U<I.length;){var Z=c(I,U),oe=u(I,U+=4);U+=4;var H=oe+(1&oe);switch(Z){case"VP8 ":case"VP8L":T.frames[P]===void 0&&(T.frames[P]={}),(le=T.frames[P]).src_off=G?q:U-8,le.src_size=R+oe+8,P++,G&&(G=!1,R=0,q=0);break;case"VP8X":(le=T.header={}).feature_flags=I[U];var re=U+4;le.canvas_width=1+d(I,re),re+=3,le.canvas_height=1+d(I,re),re+=3;break;case"ALPH":G=!0,R=H+8,q=U-8;break;case"ANIM":(le=T.header).bgcolor=u(I,U),re=U+4,le.loop_count=f(I,re),re+=2;break;case"ANMF":var ce,le;(le=T.frames[P]={}).offset_x=2*d(I,U),U+=3,le.offset_y=2*d(I,U),U+=3,le.width=1+d(I,U),U+=3,le.height=1+d(I,U),U+=3,le.duration=d(I,U),U+=3,ce=I[U++],le.dispose=1&ce,le.blend=ce>>1&1}Z!="ANMF"&&(U+=H)}return T}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var v=w.header?w.header:null,C=w.frames?w.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],g=[v.canvas_width];for(var N=0;N<C.length&&C[N].blend!=0;N++);}var B=C[0],j=y.WebPDecodeRGBA(x,B.src_off,B.src_size,g,h);B.rgba=j,B.imgwidth=g[0],B.imgheight=h[0];for(var M=0;M<g[0]*h[0]*4;M++)m[M]=j[M];return this.width=g,this.height=h,this.data=m,this}(function(r){var e,t,n,s,i,a,l,A,c,f=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new A,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new a,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new a,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,c=new f}]);var d=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(W){Y=!!W}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(W){se=!!W}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(W){isNaN(W)||(J=W)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(W){isNaN(W)||(ie=W)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(W){var Ie;typeof W=="number"?Ie=[W,W,W,W]:((Ie=new Array(4))[0]=W[0],Ie[1]=W.length>=2?W[1]:Ie[0],Ie[2]=W.length>=3?W[2]:Ie[0],Ie[3]=W.length>=4?W[3]:Ie[1]),c.margin=Ie}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(W){de=W}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(W){ae=W}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(W){he=W}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(W){W instanceof f&&(c=W)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(W){c.path=W}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(W){Ee=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var Ie;Ie=u(W),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=Ie.a===0,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var Ie=u(W);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=Ie.a===0,this.ctx.strokeOpacity=Ie.a,Ie.a===0?this.pdf.setDrawColor(255,255,255):(Ie.a,this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var _e=null,Pe=null,We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(W){_e=null,Pe=null,We=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var Ie;if(this.ctx.font=W,(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var Ke=Ie[1];Ie[2];var $e=Ie[3],je=Ie[4];Ie[5];var Je=Ie[6],Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Oe==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var be=function(et){var $r,Yt,Ft=[],Ut=et.trim();if(Ut==="")return h2;if(Ut in tE)return[tE[Ut]];for(;Ut!=="";){switch(Yt=null,$r=(Ut=nE(Ut)).charAt(0)){case'"':case"'":Yt=NY(Ut.substring(1),$r);break;default:Yt=BY(Ut)}if(Yt===null||(Ft.push(Yt[0]),(Ut=nE(Yt[1]))!==""&&Ut.charAt(0)!==","))return h2;Ut=Ut.replace(/^,/,"")}return Ft}(Je);if(this.fontFaces){var Fe=function(et,$r){var Yt=et.getFontList(),Ft=JSON.stringify(Yt);if(_e===null||Pe!==Ft){var Ut=function(Er){var ut=[];return Object.keys(Er).forEach(function(mr){Er[mr].forEach(function(pt){var Nt=null;switch(pt){case"bold":Nt={family:mr,weight:"bold"};break;case"italic":Nt={family:mr,style:"italic"};break;case"bolditalic":Nt={family:mr,weight:"bold",style:"italic"};break;case"":case"normal":Nt={family:mr}}Nt!==null&&(Nt.ref={name:mr,style:pt},ut.push(Nt))})}),ut}(Yt);_e=function(Er){for(var ut={},mr=0;mr<Er.length;++mr){var pt=u2(Er[mr]),Nt=pt.family,Nr=pt.stretch,_t=pt.style,ht=pt.weight;ut[Nt]=ut[Nt]||{},ut[Nt][Nr]=ut[Nt][Nr]||{},ut[Nt][Nr][_t]=ut[Nt][Nr][_t]||{},ut[Nt][Nr][_t][ht]=pt}return ut}(Ut.concat($r)),Pe=Ft}return _e}(this.pdf,this.fontFaces),rt=be.map(function(et){return{family:et,stretch:"normal",weight:$e,style:Ke}}),ot=function(et,$r,Yt){for(var Ft=(Yt=Yt||{}).defaultFontFamily||"times",Ut=Object.assign({},EY,Yt.genericFontFamilies||{}),Er=null,ut=null,mr=0;mr<$r.length;++mr)if(Ut[(Er=u2($r[mr])).family]&&(Er.family=Ut[Er.family]),et.hasOwnProperty(Er.family)){ut=et[Er.family];break}if(!(ut=ut||et[Ft]))throw new Error("Could not find a font-family for the rule '"+rE(Er)+"' and default family '"+Ft+"'.");if(ut=function(pt,Nt){if(Nt[pt])return Nt[pt];var Nr=bw[pt],_t=Nr<=bw.normal?-1:1,ht=eE(Nt,s6,Nr,_t);if(!ht)throw new Error("Could not find a matching font-stretch value for "+pt);return ht}(Er.stretch,ut),ut=function(pt,Nt){if(Nt[pt])return Nt[pt];for(var Nr=n6[pt],_t=0;_t<Nr.length;++_t)if(Nt[Nr[_t]])return Nt[Nr[_t]];throw new Error("Could not find a matching font-style for "+pt)}(Er.style,ut),!(ut=function(pt,Nt){if(Nt[pt])return Nt[pt];if(pt===400&&Nt[500])return Nt[500];if(pt===500&&Nt[400])return Nt[400];var Nr=SY[pt],_t=eE(Nt,i6,Nr,pt<400?-1:1);if(!_t)throw new Error("Could not find a matching font-weight for value "+pt);return _t}(Er.weight,ut)))throw new Error("Failed to resolve a font for the rule '"+rE(Er)+"'.");return ut}(Fe,rt);this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var dt="";($e==="bold"||parseInt($e,10)>=700||Ke==="bold")&&(dt="bold"),Ke==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var Et="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ve=0;Ve<be.length;Ve++){if(this.pdf.internal.getFont(be[Ve],dt,{noFallback:!0,disableWarning:!0})!==void 0){Et=be[Ve];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(be[Ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=be[Ve],dt="bold";else if(this.pdf.internal.getFont(be[Ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=be[Ve],dt="normal";break}}if(Et===""){for(var mt=0;mt<be.length;mt++)if(wt[be[mt]]){Et=wt[be[mt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};d.prototype.setLineDash=function(D){this.lineDash=D},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(D,K)},d.prototype.closePath=function(){var D=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&ar(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(D.x,D.y)},d.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(D,K,Y,se){if(isNaN(Y)||isNaN(se)||isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new a(Y,se)),ie=this.ctx.transform.applyToPoint(new a(D,K));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},d.prototype.bezierCurveTo=function(D,K,Y,se,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(se))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new a(J,ie)),ae=this.ctx.transform.applyToPoint(new a(D,K)),he=this.ctx.transform.applyToPoint(new a(Y,se));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},d.prototype.arc=function(D,K,Y,se,J,ie){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(se)||isNaN(J))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new a(D,K));D=de.x,K=de.y;var ae=this.ctx.transform.applyToPoint(new a(0,Y)),he=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(ae.x-he.x,2)+Math.pow(ae.y-he.y,2))}Math.abs(J-se)>=2*Math.PI&&(se=0,J=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:Y,startAngle:se,endAngle:J,counterclockwise:ie})},d.prototype.arcTo=function(D,K,Y,se,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(D,K,Y,se){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(se))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+Y,K),this.lineTo(D+Y,K+se),this.lineTo(D,K+se),this.lineTo(D,K),this.lineTo(D+Y,K),this.lineTo(D,K)},d.prototype.fillRect=function(D,K,Y,se){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(se))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,Y,se),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(D,K,Y,se){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(se))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(D,K,Y,se),this.stroke())},d.prototype.clearRect=function(D,K,Y,se){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(se))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,Y,se))},d.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},d.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(D){var K,Y,se,J;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,Y=0,se=0,J=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ie!==null)K=parseInt(ie[1]),Y=parseInt(ie[2]),se=parseInt(ie[3]),J=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(ie[1]),Y=parseInt(ie[2]),se=parseInt(ie[3]),J=parseFloat(ie[4]);else{if(J=1,typeof D=="string"&&D.charAt(0)!=="#"){var de=new JT(D);D=de.ok?de.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,Y=D.substring(2,3),Y+=Y,se=D.substring(3,4),se+=se):(K=D.substring(1,3),Y=D.substring(3,5),se=D.substring(5,7)),K=parseInt(K,16),Y=parseInt(Y,16),se=parseInt(se,16)}}return{r:K,g:Y,b:se,a:J,style:D}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(D,K,Y,se){if(isNaN(K)||isNaN(Y)||typeof D!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!h.call(this)){var J=H(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;P.call(this,{text:D,x:K,y:Y,scale:ie,angle:J,align:this.textAlign,maxWidth:se})}},d.prototype.strokeText=function(D,K,Y,se){if(isNaN(K)||isNaN(Y)||typeof D!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){se=isNaN(se)?void 0:se;var J=H(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;P.call(this,{text:D,x:K,y:Y,scale:ie,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:se})}},d.prototype.measureText=function(D){if(typeof D!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Y=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),J=K.getStringUnitWidth(D)*se/K.internal.scaleFactor;return new function(ie){var de=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:J*=Math.round(96*Y/72*1e4)/1e4})},d.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new A(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.rotate=function(D){if(isNaN(D))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new A(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new A(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.transform=function(D,K,Y,se,J,ie){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(se)||isNaN(J)||isNaN(ie))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new A(D,K,Y,se,J,ie);this.ctx.transform=this.ctx.transform.multiply(de)},d.prototype.setTransform=function(D,K,Y,se,J,ie){D=isNaN(D)?1:D,K=isNaN(K)?0:K,Y=isNaN(Y)?0:Y,se=isNaN(se)?1:se,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,this.ctx.transform=new A(D,K,Y,se,J,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(D,K,Y,se,J,ie,de,ae,he){var Ee=this.pdf.getImageProperties(D),_e=1,Pe=1,We=1,W=1;se!==void 0&&ae!==void 0&&(We=ae/se,W=he/J,_e=Ee.width/se*ae/se,Pe=Ee.height/J*he/J),ie===void 0&&(ie=K,de=Y,K=0,Y=0),se!==void 0&&ae===void 0&&(ae=se,he=J),se===void 0&&ae===void 0&&(ae=Ee.width,he=Ee.height);var Ie=this.ctx.transform.decompose(),Ke=H(Ie.rotate.shx),$e=new A,je=($e=($e=($e=$e.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new l(ie-K*We,de-Y*W,se*_e,J*Pe));if(this.autoPaging){for(var Je,Oe=y.call(this,je),be=[],Fe=0;Fe<Oe.length;Fe+=1)be.indexOf(Oe[Fe])===-1&&be.push(Oe[Fe]);v(be);for(var rt=be[0],ot=be[be.length-1],dt=rt;dt<ot+1;dt++){this.pdf.setPage(dt);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=dt===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=dt===1?0:Ve+(dt-2)*mt;if(this.ctx.clip_path.length!==0){var $r=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Je,this.posX+this.margin[3],-et+wt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=$r}var Yt=JSON.parse(JSON.stringify(je));Yt=w([Yt],this.posX+this.margin[3],-et+wt+this.ctx.prevPageLastElemOffset)[0];var Ft=(dt>rt||dt<ot)&&m.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,mt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Ke),Ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",je.x,je.y,je.w,je.h,null,null,Ke)};var y=function(D,K,Y){var se=[];K=K||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":se.push(Math.floor((D.y+J)/Y)+1);break;case"arc":se.push(Math.floor((D.y+J-D.radius)/Y)+1),se.push(Math.floor((D.y+J+D.radius)/Y)+1);break;case"qct":var ie=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);se.push(Math.floor((ie.y+J)/Y)+1),se.push(Math.floor((ie.y+ie.h+J)/Y)+1);break;case"bct":var de=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);se.push(Math.floor((de.y+J)/Y)+1),se.push(Math.floor((de.y+de.h+J)/Y)+1);break;case"rect":se.push(Math.floor((D.y+J)/Y)+1),se.push(Math.floor((D.y+D.h+J)/Y)+1)}for(var ae=0;ae<se.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<se[ae];)x.call(this);return se},x=function(){var D=this.fillStyle,K=this.strokeStyle,Y=this.font,se=this.lineCap,J=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=Y,this.lineCap=se,this.lineWidth=J,this.lineJoin=ie},w=function(D,K,Y){for(var se=0;se<D.length;se++)switch(D[se].type){case"bct":D[se].x2+=K,D[se].y2+=Y;case"qct":D[se].x1+=K,D[se].y1+=Y;default:D[se].x+=K,D[se].y+=Y}return D},v=function(D){return D.sort(function(K,Y){return K-Y})},C=function(D,K){var Y=this.fillStyle,se=this.strokeStyle,J=this.lineCap,ie=this.lineWidth,de=Math.abs(ie*this.ctx.transform.scaleX),ae=this.lineJoin;if(this.autoPaging){for(var he,Ee,_e=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),We=[],W=0;W<Pe.length;W++)if(Pe[W].x!==void 0)for(var Ie=y.call(this,Pe[W]),Ke=0;Ke<Ie.length;Ke+=1)We.indexOf(Ie[Ke])===-1&&We.push(Ie[Ke]);for(var $e=0;$e<We.length;$e++)for(;this.pdf.internal.getNumberOfPages()<We[$e];)x.call(this);v(We);for(var je=We[0],Je=We[We.length-1],Oe=je;Oe<Je+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=Y,this.strokeStyle=se,this.lineCap=J,this.lineWidth=de,this.lineJoin=ae;var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Oe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Oe===1?0:rt+(Oe-2)*ot;if(this.ctx.clip_path.length!==0){var Et=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-dt+Fe+this.ctx.prevPageLastElemOffset),N.call(this,D,!0),this.path=Et}if(Ee=JSON.parse(JSON.stringify(_e)),this.path=w(Ee,this.posX+this.margin[3],-dt+Fe+this.ctx.prevPageLastElemOffset),K===!1||Oe===0){var wt=(Oe>je||Oe<Je)&&m.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,ot,null).clip().discardPath()),N.call(this,D,K),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=_e}else this.lineWidth=de,N.call(this,D,K),this.lineWidth=ie},N=function(D,K){if((D!=="stroke"||K||!g.call(this))&&(D==="stroke"||K||!h.call(this))){for(var Y,se,J=[],ie=this.path,de=0;de<ie.length;de++){var ae=ie[de];switch(ae.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ae,deltas:[],abs:[]});break;case"lt":var he=J.length;if(ie[de-1]&&!isNaN(ie[de-1].x)&&(Y=[ae.x-ie[de-1].x,ae.y-ie[de-1].y],he>0)){for(;he>=0;he--)if(J[he-1].close!==!0&&J[he-1].begin!==!0){J[he-1].deltas.push(Y),J[he-1].abs.push(ae);break}}break;case"bct":Y=[ae.x1-ie[de-1].x,ae.y1-ie[de-1].y,ae.x2-ie[de-1].x,ae.y2-ie[de-1].y,ae.x-ie[de-1].x,ae.y-ie[de-1].y],J[J.length-1].deltas.push(Y);break;case"qct":var Ee=ie[de-1].x+2/3*(ae.x1-ie[de-1].x),_e=ie[de-1].y+2/3*(ae.y1-ie[de-1].y),Pe=ae.x+2/3*(ae.x1-ae.x),We=ae.y+2/3*(ae.y1-ae.y),W=ae.x,Ie=ae.y;Y=[Ee-ie[de-1].x,_e-ie[de-1].y,Pe-ie[de-1].x,We-ie[de-1].y,W-ie[de-1].x,Ie-ie[de-1].y],J[J.length-1].deltas.push(Y);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ae)}}se=K?null:D==="stroke"?"stroke":"fill";for(var Ke=!1,$e=0;$e<J.length;$e++)if(J[$e].arc)for(var je=J[$e].abs,Je=0;Je<je.length;Je++){var Oe=je[Je];Oe.type==="arc"?M.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,K,!Ke):G.call(this,Oe.x,Oe.y),Ke=!0}else if(J[$e].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(J[$e].begin!==!0){var be=J[$e].start.x,Fe=J[$e].start.y;R.call(this,J[$e].deltas,be,Fe),Ke=!0}se&&I.call(this,se),K&&U.call(this)}},B=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Y;case"top":return D+K-Y;case"hanging":return D+K-2*Y;case"middle":return D+K/2-Y;default:return D}},j=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,Y){this.colorStops.push([K,Y])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(D,K,Y,se,J,ie,de,ae,he){for(var Ee=Z.call(this,Y,se,J,ie),_e=0;_e<Ee.length;_e++){var Pe=Ee[_e];_e===0&&(he?T.call(this,Pe.x1+D,Pe.y1+K):G.call(this,Pe.x1+D,Pe.y1+K)),q.call(this,D,K,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ae?U.call(this):I.call(this,de)},I=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,K){this.pdf.internal.out(t(D)+" "+n(K)+" m")},P=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Y,se,J,ie=this.pdf.getTextDimensions(D.text),de=B.call(this,D.y),ae=j.call(this,de)-ie.h,he=this.ctx.transform.applyToPoint(new a(D.x,de));if(this.autoPaging){var Ee=this.ctx.transform.decompose(),_e=new A;_e=(_e=(_e=_e.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Pe=this.ctx.transform.applyToRectangle(new l(D.x,de,ie.w,ie.h)),We=_e.applyToRectangle(new l(D.x,ae,ie.w,ie.h)),W=y.call(this,We),Ie=[],Ke=0;Ke<W.length;Ke+=1)Ie.indexOf(W[Ke])===-1&&Ie.push(W[Ke]);v(Ie);for(var $e=Ie[0],je=Ie[Ie.length-1],Je=$e;Je<je+1;Je++){this.pdf.setPage(Je);var Oe=Je===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],rt=Fe-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],dt=ot-this.margin[3],Et=Je===1?0:be+(Je-2)*rt;if(this.ctx.clip_path.length!==0){var wt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Y,this.posX+this.margin[3],-1*Et+Oe),N.call(this,"fill",!0),this.path=wt}var Ve=w([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Et+Oe+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*D.scale),J=this.lineWidth,this.lineWidth=J*D.scale);var mt=this.autoPaging!=="text";if(mt||Ve.y+Ve.h<=Fe){if(mt||Ve.y>=Oe&&Ve.x<=ot){var et=mt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||ot-Ve.x)[0],$r=w([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Et+Oe+this.ctx.prevPageLastElemOffset)[0],Yt=mt&&(Je>$e||Je<je)&&m.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,rt,null).clip().discardPath()),this.pdf.text(et,$r.x,$r.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Ve.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-Ve.y);D.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=J)}}else D.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*D.scale),J=this.lineWidth,this.lineWidth=J*D.scale),this.pdf.text(D.text,he.x+this.posX,he.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=J)},G=function(D,K,Y,se){Y=Y||0,se=se||0,this.pdf.internal.out(t(D+Y)+" "+n(K+se)+" l")},R=function(D,K,Y){return this.pdf.lines(D,K,Y,null,null)},q=function(D,K,Y,se,J,ie,de,ae){this.pdf.internal.out([e(s(Y+D)),e(i(se+K)),e(s(J+D)),e(i(ie+K)),e(s(de+D)),e(i(ae+K)),"c"].join(" "))},Z=function(D,K,Y,se){for(var J=2*Math.PI,ie=Math.PI/2;K>Y;)K-=J;var de=Math.abs(Y-K);de<J&&se&&(de=J-de);for(var ae=[],he=se?-1:1,Ee=K;de>1e-5;){var _e=Ee+he*Math.min(de,ie);ae.push(oe.call(this,D,Ee,_e)),de-=Math.abs(_e-Ee),Ee=_e}return ae},oe=function(D,K,Y){var se=(Y-K)/2,J=D*Math.cos(se),ie=D*Math.sin(se),de=J,ae=-ie,he=de*de+ae*ae,Ee=he+de*J+ae*ie,_e=4/3*(Math.sqrt(2*he*Ee)-Ee)/(de*ie-ae*J),Pe=de-_e*ae,We=ae+_e*de,W=Pe,Ie=-We,Ke=se+K,$e=Math.cos(Ke),je=Math.sin(Ke);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:Pe*$e-We*je,y2:Pe*je+We*$e,x3:W*$e-Ie*je,y3:W*je+Ie*$e,x4:D*Math.cos(Y),y4:D*Math.sin(Y)}},H=function(D){return 180*D/Math.PI},re=function(D,K,Y,se,J,ie){var de=D+.5*(Y-D),ae=K+.5*(se-K),he=J+.5*(Y-J),Ee=ie+.5*(se-ie),_e=Math.min(D,J,de,he),Pe=Math.max(D,J,de,he),We=Math.min(K,ie,ae,Ee),W=Math.max(K,ie,ae,Ee);return new l(_e,We,Pe-_e,W-We)},ce=function(D,K,Y,se,J,ie,de,ae){var he,Ee,_e,Pe,We,W,Ie,Ke,$e,je,Je,Oe,be,Fe,rt=Y-D,ot=se-K,dt=J-Y,Et=ie-se,wt=de-J,Ve=ae-ie;for(Ee=0;Ee<41;Ee++)$e=(Ie=(_e=D+(he=Ee/40)*rt)+he*((We=Y+he*dt)-_e))+he*(We+he*(J+he*wt-We)-Ie),je=(Ke=(Pe=K+he*ot)+he*((W=se+he*Et)-Pe))+he*(W+he*(ie+he*Ve-W)-Ke),Ee==0?(Je=$e,Oe=je,be=$e,Fe=je):(Je=Math.min(Je,$e),Oe=Math.min(Oe,je),be=Math.max(be,$e),Fe=Math.max(Fe,je));return new l(Math.round(Je),Math.round(Oe),Math.round(be-Je),Math.round(Fe-Oe))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,Y=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ct.API),function(r){var e=function(a){var l,A,c,f,d,u,h,g,m,y;for(A=[],c=0,f=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;f>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(u=(d=((d=((d=((d=(d-(y=d%85))/85)-(m=d%85))/85)-(g=d%85))/85)-(h=d%85))/85)%85,A.push(u+33,h+33,g+33,m+33,y+33)):A.push(122);return function(x,w){for(var v=w;v>0;v--)x.pop()}(A,l.length),String.fromCharCode.apply(String,A)+"~>"},t=function(a){var l,A,c,f,d,u=String,h="length",g=255,m="charCodeAt",y="slice",x="replace";for(a[y](-2),a=a[y](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],f=0,d=(a+=l="uuuuu"[y](a[h]%5||5))[h];d>f;f+=5)A=52200625*(a[m](f)-33)+614125*(a[m](f+1)-33)+7225*(a[m](f+2)-33)+85*(a[m](f+3)-33)+(a[m](f+4)-33),c.push(g&A>>24,g&A>>16,g&A>>8,g&A);return function(w,v){for(var C=v;C>0;C--)w.pop()}(c,l[h]),u.fromCharCode.apply(u,c)},n=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var A="",c=0;c<a.length;c+=2)A+=String.fromCharCode("0x"+(a[c]+a[c+1]));return A},i=function(a){for(var l=new Uint8Array(a.length),A=a.length;A--;)l[A]=a.charCodeAt(A);return(l=hw(l)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};r.processDataByFilters=function(a,l){var A=0,c=a||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(ct.API),function(r){r.loadFile=function(e,t,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(A,c,f){var d=new XMLHttpRequest,u=0,h=function(g){var m=g.length,y=[],x=String.fromCharCode;for(u=0;u<m;u+=1)y.push(x(255&g.charCodeAt(u)));return y.join("")};if(d.open("GET",A,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?f(h(this.responseText)):f(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(s,i,a)}catch{}return l}(e,t,n)},r.loadImageFile=r.loadFile}(ct.API),function(r){function e(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):Wx(()=>Promise.resolve().then(()=>xee),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):Wx(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var A=ar(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var c=document.createElement(l);for(var f in A.className&&(c.className=A.className),A.innerHTML&&A.dompurify&&(c.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)c.style[f]=A.style[f];return c},i=function l(A,c){for(var f=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),d=A.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||f.appendChild(l(d,c));return A.nodeType===1&&(A.nodeName==="CANVAS"?(f.width=A.width,f.height=A.height,f.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(f.value=A.value),f.addEventListener("load",function(){f.scrollTop=A.scrollTop,f.scrollLeft=A.scrollLeft},!0)),f},a=function l(A){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),c);return(f=f.setProgress(1,l,1,[l])).set(A)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,A){return l.__proto__=A||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,A){return this.then(function(){switch(A=A||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),A){case"string":return this.then(t).then(function(c){return this.set({src:s("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(A){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,A(this.prop.container,c)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(A){var c=this.opt.jsPDF,f=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var h=0;h<f.length;++h){var g=f[h],m=g.src.find(function(y){return y.format==="truetype"});m&&c.addFont(m.url,g.ref.name,g.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,c.context2d.save(!0),A(this.prop.container,u)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,A,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},a.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(n(l)!=="object")return this;var A=Object.keys(l||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(A)})},a.prototype.get=function(l,A){return this.then(function(){var c=l in a.template.prop?this.prop[l]:this.opt[l];return A?A(c):c})},a.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function A(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(l=l||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,A,c,f){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,A,c,f){return this.setProgress(l?this.progress.val+l:null,A||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(l,A){var c=this;return this.thenCore(l,A,function(f,d){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(u){return c.updateProgress(null,f),u}).then(f,d).then(function(u){return c.updateProgress(1),u})})},a.prototype.thenCore=function(l,A,c){c=c||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),A&&(A=A.bind(f));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),u=c.call(d,l,A);return a.convert(u,f.__proto__)},a.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},a.prototype.thenList=function(l){var A=this;return l.forEach(function(c){A=A.thenCore(c)}),A},a.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return a.convert(A,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ct.getPageSize=function(l,A,c){if(ar(l)==="object"){var f=l;l=f.orientation,A=f.unit||A,c=f.format||c}A=A||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var d,u=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+A}var g,m=0,y=0;if(h.hasOwnProperty(u))m=h[u][1]/d,y=h[u][0]/d;else try{m=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(l==="p"||l==="portrait")l="p",y>m&&(g=y,y=m,m=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>y&&(g=y,y=m,m=g)}return{width:y,height:m,unit:A,k:d,orientation:l}},r.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(u2):null;var c=new a(A);return A.worker?c:c.from(l).doCallback()}}(ct.API),ct.API.addJS=function(r){return iE=r,this.internal.events.subscribe("postPutResources",function(){J0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(J0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){J0!==void 0&&sE!==void 0&&this.internal.out("/Names <</JavaScript "+J0+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var A=l[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(i=0;i<c;i++){var d=t.internal.newObject();f.push(d);var u=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var A=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ct.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,i,a,l){var A,c=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,A=function(d){for(var u,h=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=h,e.indexOf(d.charCodeAt(y+1))!==-1){u=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),m={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:u,numcomponents:d.charCodeAt(y+9)};break}h=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return m}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:c,index:n,alias:s}}return f}}(ct.API),ct.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,i=fY(r,{checkCrc:!0}),a=i.width,l=i.height,A=i.channels,c=i.palette,f=i.depth;s=c&&A===1?function(M){for(var I=M.width,U=M.height,T=M.data,P=M.palette,G=M.depth,R=!1,q=[],Z=[],oe=void 0,H=!1,re=0,ce=0;ce<P.length;ce++){var le=AS(P[ce],4),D=le[0],K=le[1],Y=le[2],se=le[3];q.push(D,K,Y),se!=null&&(se===0?(re++,Z.length<1&&Z.push(ce)):se<255&&(H=!0))}if(H||re>1){R=!0,Z=void 0;var J=I*U;oe=new Uint8Array(J);for(var ie=new DataView(T.buffer),de=0;de<J;de++){var ae=g2(ie,de,G),he=AS(P[ae],4)[3];oe[de]=he}}else re===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:T,alphaBytes:oe,needSMask:R,palette:q,mask:Z}}(i):A===2||A===4?function(M){for(var I=M.data,U=M.width,T=M.height,P=M.channels,G=M.depth,R=P===2?"DeviceGray":"DeviceRGB",q=P-1,Z=U*T,oe=q,H=Z*oe,re=1*Z,ce=Math.ceil(H*G/8),le=Math.ceil(re*G/8),D=new Uint8Array(ce),K=new Uint8Array(le),Y=new DataView(I.buffer),se=new DataView(D.buffer),J=new DataView(K.buffer),ie=!1,de=0;de<Z;de++){for(var ae=de*P,he=0;he<oe;he++)hE(se,g2(Y,ae+he,G),de*oe+he,G);var Ee=g2(Y,ae+oe,G);Ee<(1<<G)-1&&(ie=!0),hE(J,Ee,1*de,G)}return{colorSpace:R,colorsPerPixel:q,sMaskBitsPerComponent:ie?G:void 0,colorBytes:D,alphaBytes:K,needSMask:ie}}(i):function(M){var I=M.data,U=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(T){for(var P=T.length,G=new Uint8Array(2*P),R=new DataView(G.buffer,G.byteOffset,G.byteLength),q=0;q<P;q++)R.setUint16(2*q,T[q],!1);return G}(I):I,needSMask:!1}}(i);var d,u,h,g=s,m=g.colorSpace,y=g.colorsPerPixel,x=g.sMaskBitsPerComponent,w=g.colorBytes,v=g.alphaBytes,C=g.needSMask,N=g.palette,B=g.mask,j=null;return n!==ct.API.image_compression.NONE&&typeof hw=="function"?(j=function(M){var I;switch(M){case ct.API.image_compression.FAST:I=11;break;case ct.API.image_compression.MEDIUM:I=13;break;case ct.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),d=this.decode.FLATE_DECODE,u="/Predictor ".concat(j," /Colors ").concat(y," /BitsPerComponent ").concat(f," /Columns ").concat(a),r=AE(w,Math.ceil(a*y*f/8),y,f,n),C&&(h=AE(v,Math.ceil(a*x/8),1,x,n))):(d=void 0,u=void 0,r=w,C&&(h=v)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:t,data:r,index:e,filter:d,decodeParameters:u,transparency:B,palette:N,sMask:h,predictor:j,width:a,height:l,bitsPerComponent:f,sMaskBitsPerComponent:x,colorSpace:m}}},function(r){r.processGIF89A=function(e,t,n,s){var i=new TY(e),a=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var c={data:A,width:a,height:l},f=new m2(100).encode(c,100);return r.processJPEG.call(this,f,t,n,s)},r.processGIF87A=r.processGIF89A}(ct.API),Ki.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ki.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){ur.log("bit decode error:"+t)}},Ki.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[a+4*l]=A.blue,this.data[a+4*l+1]=A.green,this.data[a+4*l+2]=A.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Ki.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,A=15&i,c=this.palette[l];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[A],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ki.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},Ki.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,A=(i>>10&e)/e*255|0,c=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=A,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=c}this.pos+=r}},Ki.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,A=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,f=s*this.width*4+4*i;this.data[f]=c,this.data[f+1]=A,this.data[f+2]=l,this.data[f+3]=255}this.pos+=r}},Ki.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Ki.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},Ki.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,s){var i=new Ki(e,!1),a=i.width,l=i.height,A={data:i.getData(),width:a,height:l},c=new m2(100).encode(A,100);return r.processJPEG.call(this,c,t,n,s)}}(ct.API),mE.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,s){var i=new mE(e),a=i.width,l=i.height,A={data:i.getData(),width:a,height:l},c=new m2(100).encode(A,100);return r.processJPEG.call(this,c,t,n,s)}}(ct.API),ct.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,A=0,c=0;c<s;c+=4){var f=n[c],d=n[c+1],u=n[c+2],h=n[c+3];i[l++]=f,i[l++]=d,i[l++]=u,a[A++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},ct.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yc=ct.API,q0=yc.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=c.fof?c.fof:1,d=e.doKerning!==!1,u=0,h=r.length,g=0,m=l[0]||A,y=[];for(t=0;t<h;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(u=d&&ar(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/f:0,y.push((l[n]||m)/A+u)),g=n;return y},aE=yc.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return yc.processArabic&&(r=yc.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:q0.apply(this,arguments).reduce(function(i,a){return i+a},0)},oE=function(r,e,t,n){for(var s=[],i=0,a=r.length,l=0;i!==a&&l+e[i]<t;)l+=e[i],i++;s.push(r.slice(0,i));var A=i;for(l=0;i!==a;)l+e[i]>n&&(s.push(r.slice(A,i)),l=0,A=i),l+=e[i],i++;return A!==i&&s.push(r.slice(A,i)),s},lE=function(r,e,t){t||(t={});var n,s,i,a,l,A,c,f=[],d=[f],u=t.textIndent||0,h=0,g=0,m=r.split(" "),y=q0.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?m[0].length+2:t.lineIndent||0){var x=Array(A).join(" "),w=[];m.map(function(C){(C=C.split(/\s*\n/)).length>1?w=w.concat(C.map(function(N,B){return(B&&N.length?`
`:"")+N})):w.push(C[0])}),m=w,A=aE.apply(this,[x,t])}for(i=0,a=m.length;i<a;i++){var v=0;if(n=m[i],A&&n[0]==`
`&&(n=n.substr(1),v=1),u+h+(g=(s=q0.apply(this,[n,t])).reduce(function(C,N){return C+N},0))>e||v){if(g>e){for(l=oE.apply(this,[n,s,e-(u+h),e]),f.push(l.shift()),f=[l.pop()];l.length;)d.push([l.shift()]);g=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(C,N){return C+N},0)}else f=[n];d.push(f),u=g+A,h=y}else f.push(n),u+=h+g,h=y}return c=A?function(C,N){return(N?x:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(c)},yc.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var d=this.internal.getFont(f.fontName,f.fontStyle),u="Unicode";return d.metadata[u]?{widths:d.metadata[u].widths||{0:1},kerning:d.metadata[u].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,A,c=[];for(l=0,A=n.length;l<A;l++)c=c.concat(lE.apply(this,[n[l],a,i]));return c},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[t[i]]=e[i],s[e[i]]=t[i];var a=function(u){return"0x"+parseInt(u,10).toString(16)},l=r.__fontmetrics__.compress=function(u){var h,g,m,y,x=["{"];for(var w in u){if(h=u[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=a(w).slice(2)).slice(0,-1)+s[g.slice(-1)]),typeof h=="number")h<0?(m=a(h).slice(3),y="-"):(m=a(h).slice(2),y=""),m=y+m.slice(0,-1)+s[m.slice(-1)];else{if(ar(h)!=="object")throw new Error("Don't know what to do with value type "+ar(h)+".");m=l(h)}x.push(g+m)}return x.push("}"),x.join("")},A=r.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,y,x={},w=1,v=x,C=[],N="",B="",j=u.length-1,M=1;M<j;M+=1)(y=u[M])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(C.push([v,m]),v={},m=void 0):y=="}"?((g=C.pop())[0][g[1]]=v,m=void 0,v=g[0]):y=="-"?w=-1:m===void 0?n.hasOwnProperty(y)?(N+=n[y],m=parseInt(N,16)*w,w=1,N=""):N+=y:n.hasOwnProperty(y)?(B+=n[y],v[m]=parseInt(B,16)*w,w=1,m=void 0,B=""):B+=y;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(u){var h=u.font,g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=f.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(ct.API),function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=t.charCodeAt(i);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Jg(l)),a.metadata=r.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(ct),ct.API.addSvgAsImage=function(r,e,t,n,s,i,a,l){if(isNaN(e)||isNaN(t))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=n,A.height=s;var c=A.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,A.width,A.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(xt.canvg?Promise.resolve(xt.canvg):Wx(()=>import("./index.es-DpqETnHW.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load canvg: "+u))}).then(function(u){return u.default?u.default:u}).then(function(u){return u.fromString(c,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(u){return u.render(f)}).then(function(){d.addImage(A.toDataURL("image/jpeg",1),e,t,n,s,a,l)})},ct.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},ct.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),A=[],c=0,f=0,d=0;function u(g,m){var y,x=!1;for(y=0;y<g.length;y+=1)g[y]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var h=l.length;for(d=0;d<h;d+=1)t[l[d]].value=t[l[d]].defaultValue,t[l[d]].explicitSet=!1}if(ar(r)==="object"){for(s in r)if(i=r[s],u(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&u(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")A.push(String(i[c]-1));else if(i[c].length>1){for(f=0;f<i[c].length;f+=1)typeof i[c][f]!="number"&&(n=!1);n===!0&&A.push([i[c][0]-1,i[c][1]-1].join(" "))}t[s].value="["+A.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?m.push("/"+g+" /"+t[g].value):m.push("/"+g+" "+t[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(r){var e=r.API,t=e.pdfEscape16=function(i,a){for(var l,A=a.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],d=0,u=i.length;d<u;++d){if(l=a.metadata.characterToGlyph(i.charCodeAt(d)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(d),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(c[4-l.length],l)}return f.join("")},n=function(i){var a,l,A,c,f,d,u;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],d=0,u=(l=Object.keys(i).sort(function(h,g){return h-g})).length;d<u;d++)a=l[d],A.length>=100&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),A.push("<"+a+"><"+c+">"));return A.length&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var l=a.font,A=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,u=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<u.length;g++)h+=String.fromCharCode(u[g]);var m=c();f({data:h,addLength1:!0,objectId:m}),A("endobj");var y=c();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),A("endobj");var x=c();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Bc(l.fontName)),A("/FontFile2 "+m+" 0 R"),A("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var w=c();A("<<"),A("/Type /Font"),A("/BaseFont /"+Bc(l.fontName)),A("/FontDescriptor "+x+" 0 R"),A("/W "+r.API.PDFObject.convert(d)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=c(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+y+" 0 R"),A("/BaseFont /"+Bc(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+w+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var l=a.font,A=a.out,c=a.newObject,f=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,u="",h=0;h<d.length;h++)u+=String.fromCharCode(d[h]);var g=c();f({data:u,addLength1:!0,objectId:g}),A("endobj");var m=c();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),A("endobj");var y=c();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+g+" 0 R"),A("/Flags 96"),A("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+Bc(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=c();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Bc(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",A=i.x,c=i.y,f=i.options||{},d=i.mutex||{},u=d.pdfEscape,h=d.activeFontKey,g=d.fonts,m=h,y="",x=0,w="",v=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:l,x:A,y:c,options:f,mutex:d};for(w=l,m=h,Array.isArray(l)&&(w=l[0]),x=0;x<w.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(a=g[m].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),a||w[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?y+=w[x]:y+="";var C="";return parseInt(m.slice(1))<14||v==="WinAnsiEncoding"?C=u(y,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(C=t(y,g[m])),d.isHex=!0,{text:C,x:A,y:c,options:f,mutex:d}};e.events.push(["postProcessText",function(i){var a=i.text||"",l=[],A={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?l.push([s(Object.assign({},A,{text:a[c][0]})).text,a[c][1],a[c][2]]):l.push(s(Object.assign({},A,{text:a[c]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:a})).text}])}(ct),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ct.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,i,a,l,A,c,f,d=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,v=0;this.__bidiEngine__={};var C=function(T){var P=T.charCodeAt(),G=P>>8,R=m[G];return R!==void 0?d[256*R+(255&P)]:G===252||G===253?"AL":x.test(G)?"L":G===8?"R":"N"},N=function(T){for(var P,G=0;G<T.length;G++){if((P=C(T.charAt(G)))==="L")return!1;if(P==="R")return!0}return!1},B=function(T,P,G,R){var q,Z,oe,H,re=P[R];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(re="AN");break;case"AL":w=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":R<1||R+1>=P.length||(q=G[R-1])!=="EN"&&q!=="AN"||(Z=P[R+1])!=="EN"&&Z!=="AN"?re="N":w&&(Z="AN"),re=Z===q?Z:"N";break;case"ES":re=(q=R>0?G[R-1]:"B")==="EN"&&R+1<P.length&&P[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&G[R-1]==="EN"){re="EN";break}if(w){re="N";break}for(oe=R+1,H=P.length;oe<H&&P[oe]==="ET";)oe++;re=oe<H&&P[oe]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(H=P.length,oe=R+1;oe<H&&P[oe]==="NSM";)oe++;if(oe<H){var ce=T[R],le=ce>=1425&&ce<=2303||ce===64286;if(q=P[oe],le&&(q==="R"||q==="AL")){re="R";break}}}re=R<1||(q=P[R-1])==="B"?"N":G[R-1];break;case"B":w=!1,s=!0,re=v;break;case"S":i=!0,re="N"}return re},j=function(T,P,G){var R=T.split("");return G&&M(R,G,{hiLevel:v}),R.reverse(),P&&P.reverse(),R.join("")},M=function(T,P,G){var R,q,Z,oe,H,re=-1,ce=T.length,le=0,D=[],K=v?h:u,Y=[];for(w=!1,s=!1,i=!1,q=0;q<ce;q++)Y[q]=C(T[q]);for(Z=0;Z<ce;Z++){if(H=le,D[Z]=B(T,Y,D,Z),R=240&(le=K[H][g[D[Z]]]),le&=15,P[Z]=oe=K[le][5],R>0)if(R===16){for(q=re;q<Z;q++)P[q]=1;re=-1}else re=-1;if(K[le][6])re===-1&&(re=Z);else if(re>-1){for(q=re;q<Z;q++)P[q]=oe;re=-1}Y[Z]==="B"&&(P[Z]=0),G.hiLevel|=oe}i&&function(se,J,ie){for(var de=0;de<ie;de++)if(se[de]==="S"){J[de]=v;for(var ae=de-1;ae>=0&&se[ae]==="WS";ae--)J[ae]=v}}(Y,P,ce)},I=function(T,P,G,R,q){if(!(q.hiLevel<T)){if(T===1&&v===1&&!s)return P.reverse(),void(G&&G.reverse());for(var Z,oe,H,re,ce=P.length,le=0;le<ce;){if(R[le]>=T){for(H=le+1;H<ce&&R[H]>=T;)H++;for(re=le,oe=H-1;re<oe;re++,oe--)Z=P[re],P[re]=P[oe],P[oe]=Z,G&&(Z=G[re],G[re]=G[oe],G[oe]=Z);le=H}le++}}},U=function(T,P,G){var R=T.split(""),q={hiLevel:v};return G||(G=[]),M(R,G,q),function(Z,oe,H){if(H.hiLevel!==0&&f)for(var re,ce=0;ce<Z.length;ce++)oe[ce]===1&&(re=y.indexOf(Z[ce]))>=0&&(Z[ce]=y[re+1])}(R,G,q),I(2,R,P,G,q),I(1,R,P,G,q),R.join("")};return this.__bidiEngine__.doBidiReorder=function(T,P,G){if(function(q,Z){if(Z)for(var oe=0;oe<q.length;oe++)Z[oe]=oe;l===void 0&&(l=N(q)),c===void 0&&(c=N(q))}(T,P),a||!A||c)if(a&&A&&l^c)v=l?1:0,T=j(T,P,G);else if(!a&&A&&c)v=l?1:0,T=U(T,P,G),T=j(T,P);else if(!a||l||A||c){if(a&&!A&&l^c)T=j(T,P),l?(v=0,T=U(T,P,G)):(v=1,T=U(T,P,G),T=j(T,P));else if(a&&l&&!A&&c)v=1,T=U(T,P,G),T=j(T,P);else if(!a&&!A&&l^c){var R=f;l?(v=1,T=U(T,P,G),v=0,f=!1,T=U(T,P,G),f=R):(v=0,T=U(T,P,G),T=j(T,P),v=1,f=!1,T=U(T,P,G),f=R,T=j(T,P))}}else v=0,T=U(T,P,G);else v=l?1:0,T=U(T,P,G);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,A=T.isOutputVisual,l=T.isInputRtl,c=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([t.doBidiReorder(s[l])]);n.text=a}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Pl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new VY(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new MY(this.contents),this.head=new FY(this),this.name=new QY(this),this.cmap=new o6(this),this.toUnicode={},this.hhea=new UY(this),this.maxp=new OY(this),this.hmtx=new HY(this),this.post=new _Y(this),this.os2=new RY(this),this.loca=new $Y(this),this.glyf=new zY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,A,c;for(c=[],a=0,l=(A=this.bbox).length;a<l;a++)e=A[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,i,a,l;for(a=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var la,Pl=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,i,a,l,A;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^A)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+A},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)t=e[n],i.push(this.writeByte(t));return i},r}(),MY=function(){var r;function e(t){var n,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,i,a,l,A,c,f,d,u,h,g,m;for(m in h=Object.keys(t).length,A=Math.log(2),d=16*Math.floor(Math.log(h)/A),a=Math.floor(d/A),f=16*h-d,(s=new Pl).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(a),s.writeShort(f),i=16*h,c=s.pos+i,l=null,g=[],t)for(u=t[m],s.writeString(m),s.writeInt(r(u)),s.writeInt(c),s.writeInt(u.length),g=g.concat(u),m==="head"&&(l=c),c+=u.length;c%4;)g.push(0),c++;return s.write(g),n=2981146554-r(s.data),s.pos=l+8,s.writeUInt32(n),s.data},r=function(t){var n,s,i,a;for(t=l6.call(t);t.length%4;)t.push(0);for(i=new Pl(t),s=0,n=0,a=t.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),DY={}.hasOwnProperty,Pa=function(r,e){for(var t in e)DY.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};la=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var FY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Pl).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r}(),pE=function(){function r(e,t){var n,s,i,a,l,A,c,f,d,u,h,g,m,y,x,w,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,i=function(){var C,N;for(N=[],A=C=0;0<=u?C<u:C>u;A=0<=u?++C:--C)N.push(e.readUInt16());return N}(),e.pos+=2,m=function(){var C,N;for(N=[],A=C=0;0<=u?C<u:C>u;A=0<=u?++C:--C)N.push(e.readUInt16());return N}(),c=function(){var C,N;for(N=[],A=C=0;0<=u?C<u:C>u;A=0<=u?++C:--C)N.push(e.readUInt16());return N}(),f=function(){var C,N;for(N=[],A=C=0;0<=u?C<u:C>u;A=0<=u?++C:--C)N.push(e.readUInt16());return N}(),s=(this.length-e.pos+this.offset)/2,l=function(){var C,N;for(N=[],A=C=0;0<=s?C<s:C>s;A=0<=s?++C:--C)N.push(e.readUInt16());return N}(),A=x=0,v=i.length;x<v;A=++x)for(y=i[A],n=w=g=m[A];g<=y?w<=y:w>=y;n=g<=y?++w:--w)f[A]===0?a=n+c[A]:(a=l[f[A]/2+(n-g)-(u-A)]||0)!==0&&(a+=c[A]),this.codeMap[n]=65535&a}e.pos=d}return r.encode=function(e,t){var n,s,i,a,l,A,c,f,d,u,h,g,m,y,x,w,v,C,N,B,j,M,I,U,T,P,G,R,q,Z,oe,H,re,ce,le,D,K,Y,se,J,ie,de,ae,he,Ee,_e;switch(R=new Pl,a=Object.keys(e).sort(function(Pe,We){return Pe-We}),t){case"macroman":for(m=0,y=function(){var Pe=[];for(g=0;g<256;++g)Pe.push(0);return Pe}(),w={0:0},i={},q=0,re=a.length;q<re;q++)w[ae=e[s=a[q]]]==null&&(w[ae]=++m),i[s]={old:e[s],new:w[e[s]]},y[s]=w[e[s]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(y),{charMap:i,subtable:R.data,maxGlyphID:m+1};case"unicode":for(P=[],d=[],v=0,w={},n={},x=c=null,Z=0,ce=a.length;Z<ce;Z++)w[N=e[s=a[Z]]]==null&&(w[N]=++v),n[s]={old:N,new:w[N]},l=w[N]-s,x!=null&&l===c||(x&&d.push(x),P.push(s),c=l),x=s;for(x&&d.push(x),d.push(65535),P.push(65535),U=2*(I=P.length),M=2*Math.pow(Math.log(I)/Math.LN2,2),u=Math.log(M/2)/Math.LN2,j=2*I-M,A=[],B=[],h=[],g=oe=0,le=P.length;oe<le;g=++oe){if(T=P[g],f=d[g],T===65535){A.push(0),B.push(0);break}if(T-(G=n[T].new)>=32768)for(A.push(0),B.push(2*(h.length+I-g)),s=H=T;T<=f?H<=f:H>=f;s=T<=f?++H:--H)h.push(n[s].new);else A.push(G-T),B.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*I+2*h.length),R.writeUInt16(0),R.writeUInt16(U),R.writeUInt16(M),R.writeUInt16(u),R.writeUInt16(j),ie=0,D=d.length;ie<D;ie++)s=d[ie],R.writeUInt16(s);for(R.writeUInt16(0),de=0,K=P.length;de<K;de++)s=P[de],R.writeUInt16(s);for(he=0,Y=A.length;he<Y;he++)l=A[he],R.writeUInt16(l);for(Ee=0,se=B.length;Ee<se;Ee++)C=B[Ee],R.writeUInt16(C);for(_e=0,J=h.length;_e<J;_e++)m=h[_e],R.writeUInt16(m);return{charMap:n,subtable:R.data,maxGlyphID:v+1}}},r}(),o6=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)t=new pE(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,s;return t==null&&(t="macroman"),n=pE.encode(e,t),(s=new Pl).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},r}(),UY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),RY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),_Y=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,l,A;for(A=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)A.push(e.readUInt32());return A}).call(this)}},r}(),PY=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},QY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,s,i,a,l,A,c,f,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(A={},i=f=0,d=n.length;f<d;i=++f)s=n[i],e.pos=s.offset,c=e.readString(s.length),a=new PY(c,s),A[u=s.nameID]==null&&(A[u]=[]),A[s.nameID].push(a);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},r}(),OY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),HY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,s,i,a,l,A;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)f.push(e.readInt16());return f}(),this.widths=(function(){var c,f,d,u;for(u=[],c=0,f=(d=this.metrics).length;c<f;c++)i=d[c],u.push(i.advance);return u}).call(this),n=this.widths[this.widths.length-1],A=[],t=a=0;0<=s?a<s:a>s;t=0<=s?++a:--a)A.push(this.widths.push(n));return A},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),l6=[].slice,zY=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,s,i,a,l,A,c,f,d;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(l=new Pl(t.read(s))).readShort(),c=l.readShort(),d=l.readShort(),A=l.readShort(),f=l.readShort(),this.cache[e]=a===-1?new KY(l,c,d,A,f):new GY(l,a,c,d,A,f),this.cache[e]))},r.prototype.encode=function(e,t,n){var s,i,a,l,A;for(a=[],i=[],l=0,A=t.length;l<A;l++)s=e[t[l]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},r}(),GY=function(){function r(e,t,n,s,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),KY=function(){function r(e,t,n,s,i){var a,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Pl(l6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),$Y=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Pa(r,la),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<t.length&&t[i]==a){++i,n[a]=s;var l=this.offsets[a],A=this.offsets[a+1]-l;A>0&&(s+=A)}for(var c=new Array(4*n.length),f=0;f<n.length;++f)c[4*f+3]=255&n[f],c[4*f+2]=(65280&n[f])>>8,c[4*f+1]=(16711680&n[f])>>16,c[4*f]=(4278190080&n[f])>>24;return c},r}(),VY=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,i,a,l,A;for(s={},a=0,l=e.length;a<l;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(n=s[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in A=this.glyphsFor(t))n=A[i],s[i]=n;return s},r.prototype.encode=function(e,t){var n,s,i,a,l,A,c,f,d,u,h,g,m,y,x;for(s in n=o6.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},x=n.charMap)h[(A=x[s]).old]=A.new;for(g in u=n.maxGlyphID,a)g in h||(h[g]=u++);return f=function(w){var v,C;for(v in C={},w)C[w[v]]=v;return C}(h),d=Object.keys(f).sort(function(w,v){return w-v}),m=function(){var w,v,C;for(C=[],w=0,v=d.length;w<v;w++)l=d[w],C.push(f[l]);return C}(),i=this.font.glyf.encode(a,m,h),c=this.font.loca.encode(i.offsets,m),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},r}();ct.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,i,a;if(Array.isArray(t))return"["+function(){var l,A,c;for(c=[],l=0,A=t.length;l<A;l++)n=t[l],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)a=t[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+t},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vw=function(r,e){return vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},vw(r,e)};function Aa(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vw(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Cw=function(){return Cw=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Cw.apply(this,arguments)};function ds(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(f){try{c(n.next(f))}catch(d){a(d)}}function A(f){try{c(n.throw(f))}catch(d){a(d)}}function c(f){f.done?i(f.value):s(f.value).then(l,A)}c((n=n.apply(r,[])).next())})}function ts(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(f){return A([c,f])}}function A(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Z0(r,e,t){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||e)}var To=function(){function r(e,t,n,s){this.left=e,this.top=t,this.width=n,this.height=s}return r.prototype.add=function(e,t,n,s){return new r(this.left+e,this.top+t,this.width+n,this.height+s)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(s){return s.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),s1=function(r,e){return To.fromClientRect(r,e.getBoundingClientRect())},YY=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),s=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new To(0,0,n,s)},i1=function(r){for(var e=[],t=0,n=r.length;t<n;){var s=r.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){var i=r.charCodeAt(t++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},Zr=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],s=-1,i="";++s<t;){var a=r[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},xE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var X0=0;X0<xE.length;X0++)WY[xE.charCodeAt(X0)]=X0;var yE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var eg=0;eg<yE.length;eg++)Hd[yE.charCodeAt(eg)]=eg;var JY=function(r){var e=r.length*.75,t=r.length,n,s=0,i,a,l,A;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)i=Hd[r.charCodeAt(n)],a=Hd[r.charCodeAt(n+1)],l=Hd[r.charCodeAt(n+2)],A=Hd[r.charCodeAt(n+3)],f[s++]=i<<2|a>>4,f[s++]=(a&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return c},qY=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},ZY=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},jA=5,Vv=11,p2=2,XY=Vv-jA,A6=65536>>jA,eW=1<<jA,x2=eW-1,tW=1024>>jA,rW=A6+tW,nW=rW,sW=32,iW=nW+sW,aW=65536>>Vv,oW=1<<XY,lW=oW-1,wE=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},AW=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},cW=function(r,e){var t=JY(r),n=Array.isArray(t)?ZY(t):new Uint32Array(t),s=Array.isArray(t)?qY(t):new Uint16Array(t),i=24,a=wE(s,i/2,n[4]/2),l=n[5]===2?wE(s,(i+n[4])/2):AW(n,Math.ceil((i+n[4])/4));return new fW(n[0],n[1],n[2],n[3],a,l)},fW=function(){function r(e,t,n,s,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>jA],t=(t<<p2)+(e&x2),this.data[t];if(e<=65535)return t=this.index[A6+(e-55296>>jA)],t=(t<<p2)+(e&x2),this.data[t];if(e<this.highStart)return t=iW-aW+(e>>Vv),t=this.index[t],t+=e>>jA&lW,t=this.index[t],t=(t<<p2)+(e&x2),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),bE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dW=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tg=0;tg<bE.length;tg++)dW[bE.charCodeAt(tg)]=tg;var uW="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",vE=50,hW=1,c6=2,f6=3,gW=4,mW=5,CE=7,d6=8,LE=9,pl=10,Lw=11,SE=12,Sw=13,pW=14,zd=15,Ew=16,rg=17,Id=18,xW=19,EE=20,Nw=21,Td=22,y2=23,wc=24,Ks=25,Gd=26,Kd=27,bc=28,yW=29,xA=30,wW=31,ng=32,sg=33,Bw=34,kw=35,jw=36,sh=37,Iw=38,tm=39,rm=40,w2=41,u6=42,bW=43,vW=[9001,65288],h6="!",Ht="",ig="",Tw=cW(uW),co=[xA,jw],Mw=[hW,c6,f6,mW],g6=[pl,d6],NE=[Kd,Gd],CW=Mw.concat(g6),BE=[Iw,tm,rm,Bw,kw],LW=[zd,Sw],SW=function(r,e){e===void 0&&(e="strict");var t=[],n=[],s=[];return r.forEach(function(i,a){var l=Tw.get(i);if(l>vE?(s.push(!0),l-=vE):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),t.push(Ew);if(l===gW||l===Lw){if(a===0)return n.push(a),t.push(xA);var A=t[a-1];return CW.indexOf(A)===-1?(n.push(n[a-1]),t.push(A)):(n.push(a),t.push(xA))}if(n.push(a),l===wW)return t.push(e==="strict"?Nw:sh);if(l===u6||l===yW)return t.push(xA);if(l===bW)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(sh):t.push(xA);t.push(l)}),[n,t,s]},b2=function(r,e,t,n){var s=n[t];if(Array.isArray(r)?r.indexOf(s)!==-1:r===s)for(var i=t;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==pl)break}if(s===pl)for(var i=t;i>0;){i--;var l=n[i];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var A=t;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==pl)break}if(l!==pl)break}return!1},kE=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===pl)t--;else return n}return 0},EW=function(r,e,t,n,s){if(t[n]===0)return Ht;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Ht;var a=i-1,l=i+1,A=e[i],c=a>=0?e[a]:0,f=e[l];if(A===c6&&f===f6)return Ht;if(Mw.indexOf(A)!==-1)return h6;if(Mw.indexOf(f)!==-1||g6.indexOf(f)!==-1)return Ht;if(kE(i,e)===d6)return ig;if(Tw.get(r[i])===Lw||(A===ng||A===sg)&&Tw.get(r[l])===Lw||A===CE||f===CE||A===LE||[pl,Sw,zd].indexOf(A)===-1&&f===LE||[rg,Id,xW,wc,bc].indexOf(f)!==-1||kE(i,e)===Td||b2(y2,Td,i,e)||b2([rg,Id],Nw,i,e)||b2(SE,SE,i,e))return Ht;if(A===pl)return ig;if(A===y2||f===y2)return Ht;if(f===Ew||A===Ew)return ig;if([Sw,zd,Nw].indexOf(f)!==-1||A===pW||c===jw&&LW.indexOf(A)!==-1||A===bc&&f===jw||f===EE||co.indexOf(f)!==-1&&A===Ks||co.indexOf(A)!==-1&&f===Ks||A===Kd&&[sh,ng,sg].indexOf(f)!==-1||[sh,ng,sg].indexOf(A)!==-1&&f===Gd||co.indexOf(A)!==-1&&NE.indexOf(f)!==-1||NE.indexOf(A)!==-1&&co.indexOf(f)!==-1||[Kd,Gd].indexOf(A)!==-1&&(f===Ks||[Td,zd].indexOf(f)!==-1&&e[l+1]===Ks)||[Td,zd].indexOf(A)!==-1&&f===Ks||A===Ks&&[Ks,bc,wc].indexOf(f)!==-1)return Ht;if([Ks,bc,wc,rg,Id].indexOf(f)!==-1)for(var d=i;d>=0;){var u=e[d];if(u===Ks)return Ht;if([bc,wc].indexOf(u)!==-1)d--;else break}if([Kd,Gd].indexOf(f)!==-1)for(var d=[rg,Id].indexOf(A)!==-1?a:i;d>=0;){var u=e[d];if(u===Ks)return Ht;if([bc,wc].indexOf(u)!==-1)d--;else break}if(Iw===A&&[Iw,tm,Bw,kw].indexOf(f)!==-1||[tm,Bw].indexOf(A)!==-1&&[tm,rm].indexOf(f)!==-1||[rm,kw].indexOf(A)!==-1&&f===rm||BE.indexOf(A)!==-1&&[EE,Gd].indexOf(f)!==-1||BE.indexOf(f)!==-1&&A===Kd||co.indexOf(A)!==-1&&co.indexOf(f)!==-1||A===wc&&co.indexOf(f)!==-1||co.concat(Ks).indexOf(A)!==-1&&f===Td&&vW.indexOf(r[l])===-1||co.concat(Ks).indexOf(f)!==-1&&A===Id)return Ht;if(A===w2&&f===w2){for(var h=t[i],g=1;h>0&&(h--,e[h]===w2);)g++;if(g%2!==0)return Ht}return A===ng&&f===sg?Ht:ig},NW=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=SW(r,e.lineBreak),n=t[0],s=t[1],i=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(l){return[Ks,xA,u6].indexOf(l)!==-1?sh:l}));var a=e.wordBreak==="keep-all"?i.map(function(l,A){return l&&r[A]>=19968&&r[A]<=40959}):void 0;return[n,s,a]},BW=function(){function r(e,t,n,s){this.codePoints=e,this.required=t===h6,this.start=n,this.end=s}return r.prototype.slice=function(){return Zr.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),kW=function(r,e){var t=i1(r),n=NW(t,e),s=n[0],i=n[1],a=n[2],l=t.length,A=0,c=0;return{next:function(){if(c>=l)return{done:!0,value:null};for(var f=Ht;c<l&&(f=EW(t,i,s,++c,a))===Ht;);if(f!==Ht||c===l){var d=new BW(t,f,A,c);return A=c,{value:d,done:!1}}return{done:!0,value:null}}}},jW=1,IW=2,vh=4,jE=8,tp=10,IE=47,gu=92,TW=9,MW=32,ag=34,Md=61,DW=35,FW=36,UW=37,og=39,lg=40,Dd=41,RW=95,Ss=45,_W=33,PW=60,QW=62,OW=64,HW=91,zW=93,GW=61,KW=123,Ag=63,$W=125,TE=124,VW=126,YW=128,ME=65533,v2=42,CA=43,WW=44,JW=58,qW=59,ih=46,ZW=0,XW=8,eJ=11,tJ=14,rJ=31,nJ=127,La=-1,m6=48,p6=97,x6=101,sJ=102,iJ=117,aJ=122,y6=65,w6=69,b6=70,oJ=85,lJ=90,rs=function(r){return r>=m6&&r<=57},AJ=function(r){return r>=55296&&r<=57343},vc=function(r){return rs(r)||r>=y6&&r<=b6||r>=p6&&r<=sJ},cJ=function(r){return r>=p6&&r<=aJ},fJ=function(r){return r>=y6&&r<=lJ},dJ=function(r){return cJ(r)||fJ(r)},uJ=function(r){return r>=YW},cg=function(r){return r===tp||r===TW||r===MW},rp=function(r){return dJ(r)||uJ(r)||r===RW},DE=function(r){return rp(r)||rs(r)||r===Ss},hJ=function(r){return r>=ZW&&r<=XW||r===eJ||r>=tJ&&r<=rJ||r===nJ},cl=function(r,e){return r!==gu?!1:e!==tp},fg=function(r,e,t){return r===Ss?rp(e)||cl(e,t):rp(r)?!0:!!(r===gu&&cl(r,e))},C2=function(r,e,t){return r===CA||r===Ss?rs(e)?!0:e===ih&&rs(t):rs(r===ih?e:r)},gJ=function(r){var e=0,t=1;(r[e]===CA||r[e]===Ss)&&(r[e]===Ss&&(t=-1),e++);for(var n=[];rs(r[e]);)n.push(r[e++]);var s=n.length?parseInt(Zr.apply(void 0,n),10):0;r[e]===ih&&e++;for(var i=[];rs(r[e]);)i.push(r[e++]);var a=i.length,l=a?parseInt(Zr.apply(void 0,i),10):0;(r[e]===w6||r[e]===x6)&&e++;var A=1;(r[e]===CA||r[e]===Ss)&&(r[e]===Ss&&(A=-1),e++);for(var c=[];rs(r[e]);)c.push(r[e++]);var f=c.length?parseInt(Zr.apply(void 0,c),10):0;return t*(s+l*Math.pow(10,-a))*Math.pow(10,A*f)},mJ={type:2},pJ={type:3},xJ={type:4},yJ={type:13},wJ={type:8},bJ={type:21},vJ={type:9},CJ={type:10},LJ={type:11},SJ={type:12},EJ={type:14},dg={type:23},NJ={type:1},BJ={type:25},kJ={type:24},jJ={type:26},IJ={type:27},TJ={type:28},MJ={type:29},DJ={type:31},Dw={type:32},v6=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(i1(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Dw;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ag:return this.consumeStringToken(ag);case DW:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(DE(t)||cl(n,s)){var i=fg(t,n,s)?IW:jW,a=this.consumeName();return{type:5,value:a,flags:i}}break;case FW:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),yJ;break;case og:return this.consumeStringToken(og);case lg:return mJ;case Dd:return pJ;case v2:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),EJ;break;case CA:if(C2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case WW:return xJ;case Ss:var l=e,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(C2(l,A,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(fg(l,A,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Ss&&c===QW)return this.consumeCodePoint(),this.consumeCodePoint(),kJ;break;case ih:if(C2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case IE:if(this.peekCodePoint(0)===v2)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===v2&&(f=this.consumeCodePoint(),f===IE))return this.consumeToken();if(f===La)return this.consumeToken()}break;case JW:return jJ;case qW:return IJ;case PW:if(this.peekCodePoint(0)===_W&&this.peekCodePoint(1)===Ss&&this.peekCodePoint(2)===Ss)return this.consumeCodePoint(),this.consumeCodePoint(),BJ;break;case OW:var d=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(fg(d,u,h)){var a=this.consumeName();return{type:7,value:a}}break;case HW:return TJ;case gu:if(cl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case zW:return MJ;case GW:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),wJ;break;case KW:return LJ;case $W:return SJ;case iJ:case oJ:var g=this.peekCodePoint(0),m=this.peekCodePoint(1);return g===CA&&(vc(m)||m===Ag)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case TE:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),vJ;if(this.peekCodePoint(0)===TE)return this.consumeCodePoint(),bJ;break;case VW:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),CJ;break;case La:return Dw}return cg(e)?(this.consumeWhiteSpace(),DJ):rs(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):rp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Zr(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();vc(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Ag&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Zr.apply(void 0,e.map(function(A){return A===Ag?m6:A})),16),i=parseInt(Zr.apply(void 0,e.map(function(A){return A===Ag?b6:A})),16);return{type:30,start:s,end:i}}var a=parseInt(Zr.apply(void 0,e),16);if(this.peekCodePoint(0)===Ss&&vc(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];vc(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var i=parseInt(Zr.apply(void 0,l),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===lg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===lg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===La)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===og||t===ag){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===La||this.peekCodePoint(0)===Dd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),dg)}for(;;){var s=this.consumeCodePoint();if(s===La||s===Dd)return{type:22,value:Zr.apply(void 0,e)};if(cg(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===La||this.peekCodePoint(0)===Dd?(this.consumeCodePoint(),{type:22,value:Zr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),dg);if(s===ag||s===og||s===lg||hJ(s))return this.consumeBadUrlRemnants(),dg;if(s===gu)if(cl(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dg;else e.push(s)}},r.prototype.consumeWhiteSpace=function(){for(;cg(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Dd||e===La)return;cl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var s=Math.min(t,e);n+=Zr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var s=this._value[n];if(s===La||s===void 0||s===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(s===tp)return this._value.splice(0,n),NJ;if(s===gu){var i=this._value[n+1];i!==La&&i!==void 0&&(i===tp?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):cl(s,i)&&(t+=this.consumeStringSlice(n),t+=Zr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=vh,n=this.peekCodePoint(0);for((n===CA||n===Ss)&&e.push(this.consumeCodePoint());rs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===ih&&rs(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=jE;rs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===w6||n===x6)&&((s===CA||s===Ss)&&rs(i)||rs(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=jE;rs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[gJ(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(fg(s,i,a)){var l=this.consumeName();return{type:15,number:t,flags:n,unit:l}}return s===UW?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(vc(e)){for(var t=Zr(e);vc(this.peekCodePoint(0))&&t.length<6;)t+=Zr(this.consumeCodePoint());cg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||AJ(n)||n>1114111?ME:n}return e===La?ME:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(DE(t))e+=Zr(t);else if(cl(t,this.peekCodePoint(0)))e+=Zr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),C6=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new v6;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||UJ(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Dw:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),Ch=function(r){return r.type===15},Hf=function(r){return r.type===17},Ar=function(r){return r.type===20},FJ=function(r){return r.type===0},Fw=function(r,e){return Ar(r)&&r.value===e},L6=function(r){return r.type!==31},jf=function(r){return r.type!==31&&r.type!==4},Qa=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},UJ=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Ql=function(r){return r.type===17||r.type===15},An=function(r){return r.type===16||Ql(r)},S6=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},zn={type:17,number:0,flags:vh},Yv={type:16,number:50,flags:vh},xl={type:16,number:100,flags:vh},$d=function(r,e,t){var n=r[0],s=r[1];return[yr(n,e),yr(typeof s<"u"?s:n,t)]},yr=function(r,e){if(r.type===16)return r.number/100*e;if(Ch(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},E6="deg",N6="grad",B6="rad",k6="turn",a1={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case E6:return Math.PI*e.number/180;case N6:return Math.PI/200*e.number;case B6:return e.number;case k6:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},j6=function(r){return r.type===15&&(r.unit===E6||r.unit===N6||r.unit===B6||r.unit===k6)},I6=function(r){var e=r.filter(Ar).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return Si(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,xl];case"to right":case"left":return Si(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[xl,xl];case"to bottom":case"top":return Si(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[xl,zn];case"to left":case"right":return Si(270)}return 0},Si=function(r){return Math.PI*r/180},jl={name:"color",parse:function(r,e){if(e.type===18){var t=RJ[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return yl(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return yl(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return yl(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return yl(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var l=Lo[e.value.toUpperCase()];if(typeof l<"u")return l}return Lo.TRANSPARENT}},Il=function(r){return(255&r)===0},En=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,s=255&r>>24;return e<255?"rgba("+s+","+n+","+t+","+e/255+")":"rgb("+s+","+n+","+t+")"},yl=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},FE=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},UE=function(r,e){var t=e.filter(jf);if(t.length===3){var n=t.map(FE),s=n[0],i=n[1],a=n[2];return yl(s,i,a,1)}if(t.length===4){var l=t.map(FE),s=l[0],i=l[1],a=l[2],A=l[3];return yl(s,i,a,A)}return 0};function L2(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var RE=function(r,e){var t=e.filter(jf),n=t[0],s=t[1],i=t[2],a=t[3],l=(n.type===17?Si(n.number):a1.parse(r,n))/(Math.PI*2),A=An(s)?s.number/100:0,c=An(i)?i.number/100:0,f=typeof a<"u"&&An(a)?yr(a,1):1;if(A===0)return yl(c*255,c*255,c*255,1);var d=c<=.5?c*(A+1):c+A-c*A,u=c*2-d,h=L2(u,d,l+1/3),g=L2(u,d,l),m=L2(u,d,l-1/3);return yl(h*255,g*255,m*255,f)},RJ={hsl:RE,hsla:RE,rgb:UE,rgba:UE},mu=function(r,e){return jl.parse(r,C6.create(e).parseComponentValue())},Lo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},_J={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Ar(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},PJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},o1=function(r,e){var t=jl.parse(r,e[0]),n=e[1];return n&&An(n)?{color:t,stop:n}:{color:t,stop:null}},_E=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=zn),n.stop===null&&(n.stop=xl);for(var s=[],i=0,a=0;a<r.length;a++){var l=r[a].stop;if(l!==null){var A=yr(l,e);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var c=null,a=0;a<s.length;a++){var f=s[a];if(f===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,u=s[c-1],h=(f-u)/(d+1),g=1;g<=d;g++)s[c+g-1]=h*g;c=null}}return r.map(function(m,y){var x=m.color;return{color:x,stop:Math.max(Math.min(1,s[y]/e),0)}})},QJ=function(r,e,t){var n=e/2,s=t/2,i=yr(r[0],e)-n,a=s-yr(r[1],t);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},OJ=function(r,e,t){var n=typeof r=="number"?r:QJ(r,e,t),s=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),i=e/2,a=t/2,l=s/2,A=Math.sin(n-Math.PI/2)*l,c=Math.cos(n-Math.PI/2)*l;return[s,i-c,i+c,a-A,a+A]},$i=function(r,e){return Math.sqrt(r*r+e*e)},PE=function(r,e,t,n,s){var i=[[0,0],[0,e],[r,0],[r,e]];return i.reduce(function(a,l){var A=l[0],c=l[1],f=$i(t-A,n-c);return(s?f<a.optimumDistance:f>a.optimumDistance)?{optimumCorner:l,optimumDistance:f}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},HJ=function(r,e,t,n,s){var i=0,a=0;switch(r.size){case 0:r.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-s)):r.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(r.shape===0)i=a=Math.min($i(e,t),$i(e,t-s),$i(e-n,t),$i(e-n,t-s));else if(r.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(e),Math.abs(e-n)),A=PE(n,s,e,t,!0),c=A[0],f=A[1];i=$i(c-e,(f-t)/l),a=l*i}break;case 1:r.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-s)):r.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(r.shape===0)i=a=Math.max($i(e,t),$i(e,t-s),$i(e-n,t),$i(e-n,t-s));else if(r.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(e),Math.abs(e-n)),d=PE(n,s,e,t,!1),c=d[0],f=d[1];i=$i(c-e,(f-t)/l),a=l*i}break}return Array.isArray(r.size)&&(i=yr(r.size[0],n),a=r.size.length===2?yr(r.size[1],s):i),[i,a]},zJ=function(r,e){var t=Si(180),n=[];return Qa(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){t=I6(s);return}else if(j6(a)){t=a1.parse(r,a);return}}var l=o1(r,s);n.push(l)}),{angle:t,stops:n,type:1}},ug=function(r,e){var t=Si(180),n=[];return Qa(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=I6(s);return}else if(j6(a)){t=(a1.parse(r,a)+Si(270))%Si(360);return}}var l=o1(r,s);n.push(l)}),{angle:t,stops:n,type:1}},GJ=function(r,e){var t=Si(180),n=[],s=1,i=0,a=3,l=[];return Qa(e).forEach(function(A,c){var f=A[0];if(c===0){if(Ar(f)&&f.value==="linear"){s=1;return}else if(Ar(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var d=jl.parse(r,f.values[0]);n.push({stop:zn,color:d})}else if(f.name==="to"){var d=jl.parse(r,f.values[0]);n.push({stop:xl,color:d})}else if(f.name==="color-stop"){var u=f.values.filter(jf);if(u.length===2){var d=jl.parse(r,u[1]),h=u[0];Hf(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),s===1?{angle:(t+Si(180))%Si(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:l,type:s}},T6="closest-side",M6="farthest-side",D6="closest-corner",F6="farthest-corner",U6="circle",R6="ellipse",_6="cover",P6="contain",KJ=function(r,e){var t=0,n=3,s=[],i=[];return Qa(e).forEach(function(a,l){var A=!0;if(l===0){var c=!1;A=a.reduce(function(d,u){if(c)if(Ar(u))switch(u.value){case"center":return i.push(Yv),d;case"top":case"left":return i.push(zn),d;case"right":case"bottom":return i.push(xl),d}else(An(u)||Ql(u))&&i.push(u);else if(Ar(u))switch(u.value){case U6:return t=0,!1;case R6:return t=1,!1;case"at":return c=!0,!1;case T6:return n=0,!1;case _6:case M6:return n=1,!1;case P6:case D6:return n=2,!1;case F6:return n=3,!1}else if(Ql(u)||An(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return d},A)}if(A){var f=o1(r,a);s.push(f)}}),{size:n,shape:t,stops:s,position:i,type:2}},hg=function(r,e){var t=0,n=3,s=[],i=[];return Qa(e).forEach(function(a,l){var A=!0;if(l===0?A=a.reduce(function(f,d){if(Ar(d))switch(d.value){case"center":return i.push(Yv),!1;case"top":case"left":return i.push(zn),!1;case"right":case"bottom":return i.push(xl),!1}else if(An(d)||Ql(d))return i.push(d),!1;return f},A):l===1&&(A=a.reduce(function(f,d){if(Ar(d))switch(d.value){case U6:return t=0,!1;case R6:return t=1,!1;case P6:case T6:return n=0,!1;case M6:return n=1,!1;case D6:return n=2,!1;case _6:case F6:return n=3,!1}else if(Ql(d)||An(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return f},A)),A){var c=o1(r,a);s.push(c)}}),{size:n,shape:t,stops:s,position:i,type:2}},$J=function(r){return r.type===1},VJ=function(r){return r.type===2},Wv={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=Q6[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function YJ(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!Q6[r.name])}var Q6={"linear-gradient":zJ,"-moz-linear-gradient":ug,"-ms-linear-gradient":ug,"-o-linear-gradient":ug,"-webkit-linear-gradient":ug,"radial-gradient":KJ,"-moz-radial-gradient":hg,"-ms-radial-gradient":hg,"-o-radial-gradient":hg,"-webkit-radial-gradient":hg,"-webkit-gradient":GJ},WJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return jf(n)&&YJ(n)}).map(function(n){return Wv.parse(r,n)})}},JJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Ar(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},qJ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Qa(e).map(function(t){return t.filter(An)}).map(S6)}},ZJ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Qa(e).map(function(t){return t.filter(Ar).map(function(n){return n.value}).join(" ")}).map(XJ)}},XJ=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Af;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Af||(Af={}));var eq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Qa(e).map(function(t){return t.filter(tq)})}},tq=function(r){return Ar(r)||An(r)},l1=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},rq=l1("top"),nq=l1("right"),sq=l1("bottom"),iq=l1("left"),A1=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return S6(t.filter(An))}}},aq=A1("top-left"),oq=A1("top-right"),lq=A1("bottom-right"),Aq=A1("bottom-left"),c1=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cq=c1("top"),fq=c1("right"),dq=c1("bottom"),uq=c1("left"),f1=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ch(t)?t.number:0}}},hq=f1("top"),gq=f1("right"),mq=f1("bottom"),pq=f1("left"),xq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},wq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(Ar).reduce(function(t,n){return t|bq(n.value)},0)}},bq=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Cq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},np;(function(r){r.NORMAL="normal",r.STRICT="strict"})(np||(np={}));var Lq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return np.STRICT;case"normal":default:return np.NORMAL}}},Sq={name:"line-height",initialValue:"normal",prefix:!1,type:4},QE=function(r,e){return Ar(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:An(r)?yr(r,e):e},Eq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:Wv.parse(r,e)}},Nq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Uw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},d1=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},Bq=d1("top"),kq=d1("right"),jq=d1("bottom"),Iq=d1("left"),Tq={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(Ar).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Mq={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},u1=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Dq=u1("top"),Fq=u1("right"),Uq=u1("bottom"),Rq=u1("left"),_q={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Pq={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Qq={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Fw(e[0],"none")?[]:Qa(e).map(function(t){for(var n={color:Lo.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},s=0,i=0;i<t.length;i++){var a=t[i];Ql(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=jl.parse(r,a)}return n})}},Oq={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Hq={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Kq[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},zq=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Gq=function(r){var e=r.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],l=e[13];return e[14],e[15],e.length===16?[t,n,s,i,a,l]:null},Kq={matrix:zq,matrix3d:Gq},OE={type:16,number:50,flags:vh},$q=[OE,OE],Vq={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(An);return t.length!==2?$q:[t[0],t[1]]}},Yq={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},pu;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(pu||(pu={}));var Wq={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return pu.BREAK_ALL;case"keep-all":return pu.KEEP_ALL;case"normal":default:return pu.NORMAL}}},Jq={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Hf(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},O6={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},qq={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Hf(e)?e.number:1}},Zq={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xq={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(Ar).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},eZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},tZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},rZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Hf(e))return e.number;if(Ar(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},nZ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(Ar).map(function(t){return t.value})}},sZ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bn=function(r,e){return(r&e)!==0},iZ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},aZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],s=e.filter(L6),i=0;i<s.length;i++){var a=s[i],l=s[i+1];if(a.type===20){var A=l&&Hf(l)?l.number:1;n.push({counter:a.value,increment:A})}}return n}},oZ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(L6),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(Ar(i)&&i.value!=="none"){var l=a&&Hf(a)?a.number:0;t.push({counter:i.value,reset:l})}}return t}},lZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(Ch).map(function(t){return O6.parse(r,t)})}},AZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],s=e.filter(FJ);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,l=s[i+1].value;n.push({open:a,close:l})}return n}},HE=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},cZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Fw(e[0],"none")?[]:Qa(e).map(function(t){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},s=0,i=0;i<t.length;i++){var a=t[i];Fw(a,"inset")?n.inset=!0:Ql(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=jl.parse(r,a)}return n})}},fZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(Ar).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},dZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},uZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return Ch(e)?e.number:0}},hZ=function(){function r(e,t){var n,s;this.animationDuration=Ge(e,lZ,t.animationDuration),this.backgroundClip=Ge(e,_J,t.backgroundClip),this.backgroundColor=Ge(e,PJ,t.backgroundColor),this.backgroundImage=Ge(e,WJ,t.backgroundImage),this.backgroundOrigin=Ge(e,JJ,t.backgroundOrigin),this.backgroundPosition=Ge(e,qJ,t.backgroundPosition),this.backgroundRepeat=Ge(e,ZJ,t.backgroundRepeat),this.backgroundSize=Ge(e,eq,t.backgroundSize),this.borderTopColor=Ge(e,rq,t.borderTopColor),this.borderRightColor=Ge(e,nq,t.borderRightColor),this.borderBottomColor=Ge(e,sq,t.borderBottomColor),this.borderLeftColor=Ge(e,iq,t.borderLeftColor),this.borderTopLeftRadius=Ge(e,aq,t.borderTopLeftRadius),this.borderTopRightRadius=Ge(e,oq,t.borderTopRightRadius),this.borderBottomRightRadius=Ge(e,lq,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ge(e,Aq,t.borderBottomLeftRadius),this.borderTopStyle=Ge(e,cq,t.borderTopStyle),this.borderRightStyle=Ge(e,fq,t.borderRightStyle),this.borderBottomStyle=Ge(e,dq,t.borderBottomStyle),this.borderLeftStyle=Ge(e,uq,t.borderLeftStyle),this.borderTopWidth=Ge(e,hq,t.borderTopWidth),this.borderRightWidth=Ge(e,gq,t.borderRightWidth),this.borderBottomWidth=Ge(e,mq,t.borderBottomWidth),this.borderLeftWidth=Ge(e,pq,t.borderLeftWidth),this.boxShadow=Ge(e,cZ,t.boxShadow),this.color=Ge(e,xq,t.color),this.direction=Ge(e,yq,t.direction),this.display=Ge(e,wq,t.display),this.float=Ge(e,vq,t.cssFloat),this.fontFamily=Ge(e,eZ,t.fontFamily),this.fontSize=Ge(e,tZ,t.fontSize),this.fontStyle=Ge(e,sZ,t.fontStyle),this.fontVariant=Ge(e,nZ,t.fontVariant),this.fontWeight=Ge(e,rZ,t.fontWeight),this.letterSpacing=Ge(e,Cq,t.letterSpacing),this.lineBreak=Ge(e,Lq,t.lineBreak),this.lineHeight=Ge(e,Sq,t.lineHeight),this.listStyleImage=Ge(e,Eq,t.listStyleImage),this.listStylePosition=Ge(e,Nq,t.listStylePosition),this.listStyleType=Ge(e,Uw,t.listStyleType),this.marginTop=Ge(e,Bq,t.marginTop),this.marginRight=Ge(e,kq,t.marginRight),this.marginBottom=Ge(e,jq,t.marginBottom),this.marginLeft=Ge(e,Iq,t.marginLeft),this.opacity=Ge(e,qq,t.opacity);var i=Ge(e,Tq,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ge(e,Mq,t.overflowWrap),this.paddingTop=Ge(e,Dq,t.paddingTop),this.paddingRight=Ge(e,Fq,t.paddingRight),this.paddingBottom=Ge(e,Uq,t.paddingBottom),this.paddingLeft=Ge(e,Rq,t.paddingLeft),this.paintOrder=Ge(e,fZ,t.paintOrder),this.position=Ge(e,Pq,t.position),this.textAlign=Ge(e,_q,t.textAlign),this.textDecorationColor=Ge(e,Zq,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Ge(e,Xq,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=Ge(e,Qq,t.textShadow),this.textTransform=Ge(e,Oq,t.textTransform),this.transform=Ge(e,Hq,t.transform),this.transformOrigin=Ge(e,Vq,t.transformOrigin),this.visibility=Ge(e,Yq,t.visibility),this.webkitTextStrokeColor=Ge(e,dZ,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ge(e,uZ,t.webkitTextStrokeWidth),this.wordBreak=Ge(e,Wq,t.wordBreak),this.zIndex=Ge(e,Jq,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Il(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return bn(this.display,4)||bn(this.display,33554432)||bn(this.display,268435456)||bn(this.display,536870912)||bn(this.display,67108864)||bn(this.display,134217728)},r}(),gZ=function(){function r(e,t){this.content=Ge(e,iZ,t.content),this.quotes=Ge(e,AZ,t.quotes)}return r}(),zE=function(){function r(e,t){this.counterIncrement=Ge(e,aZ,t.counterIncrement),this.counterReset=Ge(e,oZ,t.counterReset)}return r}(),Ge=function(r,e,t){var n=new v6,s=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(s);var i=new C6(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(r,Ar(a)?a.value:e.initialValue);case 0:return e.parse(r,i.parseComponentValue());case 1:return e.parse(r,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return a1.parse(r,i.parseComponentValue());case"color":return jl.parse(r,i.parseComponentValue());case"image":return Wv.parse(r,i.parseComponentValue());case"length":var l=i.parseComponentValue();return Ql(l)?l:zn;case"length-percentage":var A=i.parseComponentValue();return An(A)?A:zn;case"time":return O6.parse(r,i.parseComponentValue())}break}},mZ="data-html2canvas-debug",pZ=function(r){var e=r.getAttribute(mZ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Rw=function(r,e){var t=pZ(r);return t===1||e===t},Oa=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Rw(t,3))debugger;this.styles=new hZ(e,window.getComputedStyle(t,null)),Qw(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=s1(this.context,t),Rw(t,4)&&(this.flags|=16)}return r}(),xZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",GE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gg=0;gg<GE.length;gg++)Vd[GE.charCodeAt(gg)]=gg;var yZ=function(r){var e=r.length*.75,t=r.length,n,s=0,i,a,l,A;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)i=Vd[r.charCodeAt(n)],a=Vd[r.charCodeAt(n+1)],l=Vd[r.charCodeAt(n+2)],A=Vd[r.charCodeAt(n+3)],f[s++]=i<<2|a>>4,f[s++]=(a&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return c},wZ=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},bZ=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},IA=5,Jv=11,S2=2,vZ=Jv-IA,H6=65536>>IA,CZ=1<<IA,E2=CZ-1,LZ=1024>>IA,SZ=H6+LZ,EZ=SZ,NZ=32,BZ=EZ+NZ,kZ=65536>>Jv,jZ=1<<vZ,IZ=jZ-1,KE=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},TZ=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},MZ=function(r,e){var t=yZ(r),n=Array.isArray(t)?bZ(t):new Uint32Array(t),s=Array.isArray(t)?wZ(t):new Uint16Array(t),i=24,a=KE(s,i/2,n[4]/2),l=n[5]===2?KE(s,(i+n[4])/2):TZ(n,Math.ceil((i+n[4])/4));return new DZ(n[0],n[1],n[2],n[3],a,l)},DZ=function(){function r(e,t,n,s,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>IA],t=(t<<S2)+(e&E2),this.data[t];if(e<=65535)return t=this.index[H6+(e-55296>>IA)],t=(t<<S2)+(e&E2),this.data[t];if(e<this.highStart)return t=BZ-kZ+(e>>Jv),t=this.index[t],t+=e>>IA&IZ,t=this.index[t],t=(t<<S2)+(e&E2),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),$E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FZ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mg=0;mg<$E.length;mg++)FZ[$E.charCodeAt(mg)]=mg;var UZ=1,N2=2,B2=3,VE=4,YE=5,RZ=7,WE=8,k2=9,j2=10,JE=11,qE=12,ZE=13,XE=14,I2=15,_Z=function(r){for(var e=[],t=0,n=r.length;t<n;){var s=r.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){var i=r.charCodeAt(t++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},PZ=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],s=-1,i="";++s<t;){var a=r[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},QZ=MZ(xZ),yi="",T2="",OZ=function(r){return QZ.get(r)},HZ=function(r,e,t){var n=t-2,s=e[n],i=e[t-1],a=e[t];if(i===N2&&a===B2)return yi;if(i===N2||i===B2||i===VE||a===N2||a===B2||a===VE)return T2;if(i===WE&&[WE,k2,JE,qE].indexOf(a)!==-1||(i===JE||i===k2)&&(a===k2||a===j2)||(i===qE||i===j2)&&a===j2||a===ZE||a===YE||a===RZ||i===UZ)return yi;if(i===ZE&&a===XE){for(;s===YE;)s=e[--n];if(s===XE)return yi}if(i===I2&&a===I2){for(var l=0;s===I2;)l++,s=e[--n];if(l%2===0)return yi}return T2},zZ=function(r){var e=_Z(r),t=e.length,n=0,s=0,i=e.map(OZ);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=yi;n<t&&(a=HZ(e,i,++n))===yi;);if(a!==yi||n===t){var l=PZ.apply(null,e.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},GZ=function(r){for(var e=zZ(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},KZ=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var s=t.getBoundingClientRect(),i=Math.round(s.height);if(r.body.removeChild(n),i===e)return!0}}return!1},$Z=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=i1(n.data).map(function(A){return Zr(A)}),i=0,a={},l=s.every(function(A,c){t.setStart(n,i),t.setEnd(n,i+A.length);var f=t.getBoundingClientRect();i+=A.length;var d=f.x>a.x||f.y>a.y;return a=f,c===0?!0:d});return r.body.removeChild(e),l},VZ=function(){return typeof new Image().crossOrigin<"u"},YZ=function(){return typeof new XMLHttpRequest().responseType=="string"},WZ=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},eN=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},JZ=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var s=new Image,i=e.toDataURL();s.src=i;var a=_w(t,t,0,0,s);return n.fillStyle="red",n.fillRect(0,0,t,t),tN(a).then(function(l){n.drawImage(l,0,0);var A=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var c=r.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=t+"px",eN(A)?tN(_w(t,t,0,0,c)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),eN(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},_w=function(r,e,t,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",r.toString()),a.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(l),l.appendChild(s),a},tN=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Pn={get SUPPORT_RANGE_BOUNDS(){var r=KZ(document);return Object.defineProperty(Pn,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Pn.SUPPORT_RANGE_BOUNDS&&$Z(document);return Object.defineProperty(Pn,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=WZ(document);return Object.defineProperty(Pn,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?JZ(document):Promise.resolve(!1);return Object.defineProperty(Pn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=VZ();return Object.defineProperty(Pn,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=YZ();return Object.defineProperty(Pn,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Pn,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Pn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},xu=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),qZ=function(r,e,t,n){var s=eX(e,t),i=[],a=0;return s.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Pn.SUPPORT_RANGE_BOUNDS){var A=rN(n,a,l.length).getClientRects();if(A.length>1){var c=qv(l),f=0;c.forEach(function(u){i.push(new xu(u,To.fromDOMRectList(r,rN(n,f+a,u.length).getClientRects()))),f+=u.length})}else i.push(new xu(l,To.fromDOMRectList(r,A)))}else{var d=n.splitText(l.length);i.push(new xu(l,ZZ(r,n))),n=d}else Pn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));a+=l.length}),i},ZZ=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=s1(r,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return To.EMPTY},rN=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(r,e),s.setEnd(r,e+t),s},qv=function(r){if(Pn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return GZ(r)},XZ=function(r,e){if(Pn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return rX(r,e)},eX=function(r,e){return e.letterSpacing!==0?qv(r):XZ(r,e)},tX=[32,160,4961,65792,65793,4153,4241],rX=function(r,e){for(var t=kW(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),l=i1(a),A="";l.forEach(function(c){tX.indexOf(c)===-1?A+=Zr(c):(A.length&&n.push(A),n.push(Zr(c)),A="")}),A.length&&n.push(A)}};!(s=t.next()).done;)i();return n},nX=function(){function r(e,t,n){this.text=sX(t.data,n.textTransform),this.textBounds=qZ(e,this.text,n,t)}return r}(),sX=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(iX,aX);case 2:return r.toUpperCase();default:return r}},iX=/(^|\s|:|-|\(|\))([a-z])/g,aX=function(r,e,t){return r.length>0?e+t.toUpperCase():r},z6=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Oa),G6=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Oa),K6=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this,i=new XMLSerializer,a=s1(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Oa),$6=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.value=n.value,s}return e}(Oa),Pw=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Oa),oX=[{type:15,flags:0,unit:"px",number:3}],lX=[{type:16,flags:0,number:50}],AX=function(r){return r.width>r.height?new To(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new To(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},cX=function(r){var e=r.type===fX?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},sp="checkbox",ip="radio",fX="password",nN=707406591,Zv=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=cX(n),(s.type===sp||s.type===ip)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=AX(s.bounds)),s.type){case sp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=oX;break;case ip:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=lX;break}return s}return e}(Oa),V6=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Oa),Y6=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.value=n.value,s}return e}(Oa),W6=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=q6(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?mu(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Lo.TRANSPARENT,a=n.contentWindow.document.body?mu(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Lo.TRANSPARENT;s.backgroundColor=Il(i)?Il(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(Oa),dX=["OL","UL","MENU"],nm=function(r,e,t,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,Z6(s)&&s.data.trim().length>0)t.textNodes.push(new nX(r,s,t.styles));else if(Kc(s))if(rM(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return nm(r,l,t,n)});else{var a=J6(r,s);a.styles.isVisible()&&(uX(s,a,n)?a.flags|=4:hX(a.styles)&&(a.flags|=2),dX.indexOf(s.tagName)!==-1&&(a.flags|=8),t.elements.push(a),s.slot,s.shadowRoot?nm(r,s.shadowRoot,a,n):!ap(s)&&!X6(s)&&!op(s)&&nm(r,s,a,n))}},J6=function(r,e){return Ow(e)?new z6(r,e):eM(e)?new G6(r,e):X6(e)?new K6(r,e):gX(e)?new $6(r,e):mX(e)?new Pw(r,e):pX(e)?new Zv(r,e):op(e)?new V6(r,e):ap(e)?new Y6(r,e):tM(e)?new W6(r,e):new Oa(r,e)},q6=function(r,e){var t=J6(r,e);return t.flags|=4,nm(r,e,t,t),t},uX=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Xv(r)&&t.styles.isTransparent()},hX=function(r){return r.isPositioned()||r.isFloating()},Z6=function(r){return r.nodeType===Node.TEXT_NODE},Kc=function(r){return r.nodeType===Node.ELEMENT_NODE},Qw=function(r){return Kc(r)&&typeof r.style<"u"&&!sm(r)},sm=function(r){return typeof r.className=="object"},gX=function(r){return r.tagName==="LI"},mX=function(r){return r.tagName==="OL"},pX=function(r){return r.tagName==="INPUT"},xX=function(r){return r.tagName==="HTML"},X6=function(r){return r.tagName==="svg"},Xv=function(r){return r.tagName==="BODY"},eM=function(r){return r.tagName==="CANVAS"},sN=function(r){return r.tagName==="VIDEO"},Ow=function(r){return r.tagName==="IMG"},tM=function(r){return r.tagName==="IFRAME"},iN=function(r){return r.tagName==="STYLE"},yX=function(r){return r.tagName==="SCRIPT"},ap=function(r){return r.tagName==="TEXTAREA"},op=function(r){return r.tagName==="SELECT"},rM=function(r){return r.tagName==="SLOT"},aN=function(r){return r.tagName.indexOf("-")>0},wX=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var A=t.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var a=[];return i&&s.forEach(function(l){var A=t.counters[l.counter];a.push(l.counter),A||(A=t.counters[l.counter]=[]),A.push(l.reset)}),a},r}(),oN={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},lN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},bX={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},vX={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Cc=function(r,e,t,n,s,i){return r<e||r>t?ah(r,s,i.length>0):n.integers.reduce(function(a,l,A){for(;r>=l;)r-=l,a+=n.values[A];return a},"")+i},nM=function(r,e,t,n){var s="";do t||r--,s=n(r)+s,r/=e;while(r*e>=e);return s},qr=function(r,e,t,n,s){var i=t-e+1;return(r<0?"-":"")+(nM(Math.abs(r),i,n,function(a){return Zr(Math.floor(a%i)+e)})+s)},dA=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return nM(Math.abs(r),n,!1,function(s){return e[Math.floor(s%n)]})+t},kc=1,sl=2,il=4,Yd=8,fo=function(r,e,t,n,s,i){if(r<-9999||r>9999)return ah(r,4,s.length>0);var a=Math.abs(r),l=s;if(a===0)return e[0]+l;for(var A=0;a>0&&A<=4;A++){var c=a%10;c===0&&bn(i,kc)&&l!==""?l=e[c]+l:c>1||c===1&&A===0||c===1&&A===1&&bn(i,sl)||c===1&&A===1&&bn(i,il)&&r>100||c===1&&A>1&&bn(i,Yd)?l=e[c]+(A>0?t[A-1]:"")+l:c===1&&A>0&&(l=t[A-1]+l),a=Math.floor(a/10)}return(r<0?n:"")+l},AN="",cN="",fN="",M2="",ah=function(r,e,t){var n=t?". ":"",s=t?"":"",i=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var l=qr(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return dA(r,"",s);case 6:return Cc(r,1,3999,oN,3,n).toLowerCase();case 7:return Cc(r,1,3999,oN,3,n);case 8:return qr(r,945,969,!1,n);case 9:return qr(r,97,122,!1,n);case 10:return qr(r,65,90,!1,n);case 11:return qr(r,1632,1641,!0,n);case 12:case 49:return Cc(r,1,9999,lN,3,n);case 35:return Cc(r,1,9999,lN,3,n).toLowerCase();case 13:return qr(r,2534,2543,!0,n);case 14:case 30:return qr(r,6112,6121,!0,n);case 15:return dA(r,"",s);case 16:return dA(r,"",s);case 17:case 48:return fo(r,"",AN,"",s,sl|il|Yd);case 47:return fo(r,"",cN,"",s,kc|sl|il|Yd);case 42:return fo(r,"",AN,"",s,sl|il|Yd);case 41:return fo(r,"",cN,"",s,kc|sl|il|Yd);case 26:return fo(r,"","",fN,s,0);case 25:return fo(r,"","",fN,s,kc|sl|il);case 31:return fo(r,"","",M2,i,kc|sl|il);case 33:return fo(r,"","",M2,i,0);case 32:return fo(r,"","",M2,i,kc|sl|il);case 18:return qr(r,2406,2415,!0,n);case 20:return Cc(r,1,19999,vX,3,n);case 21:return qr(r,2790,2799,!0,n);case 22:return qr(r,2662,2671,!0,n);case 22:return Cc(r,1,10999,bX,3,n);case 23:return dA(r,"");case 24:return dA(r,"");case 27:return qr(r,3302,3311,!0,n);case 28:return dA(r,"",s);case 29:return dA(r,"",s);case 34:return qr(r,3792,3801,!0,n);case 37:return qr(r,6160,6169,!0,n);case 38:return qr(r,4160,4169,!0,n);case 39:return qr(r,2918,2927,!0,n);case 40:return qr(r,1776,1785,!0,n);case 43:return qr(r,3046,3055,!0,n);case 44:return qr(r,3174,3183,!0,n);case 45:return qr(r,3664,3673,!0,n);case 46:return qr(r,3872,3881,!0,n);case 3:default:return qr(r,48,57,!0,n)}},sM="data-html2canvas-ignore",dN=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new wX,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,s=CX(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,l=s.contentWindow,A=l.document,c=EX(s).then(function(){return ds(n,void 0,void 0,function(){var f,d;return ts(this,function(u){switch(u.label){case 0:return this.scrolledElements.forEach(jX),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),f=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:u.sent(),u.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,SX(A)]:[3,4];case 3:u.sent(),u.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(A,d)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(BX(document.doctype)+"<html></html>"),kX(this.referenceElement.ownerDocument,i,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},r.prototype.createElementClone=function(e){if(Rw(e,2))debugger;if(eM(e))return this.createCanvasClone(e);if(sN(e))return this.createVideoClone(e);if(iN(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Ow(t)&&(Ow(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),aN(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return D2(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},r.prototype.appendChildNode=function(e,t,n){(!Kc(t)||!yX(t)&&!t.hasAttribute(sM)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Kc(t)||!iN(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Kc(i)&&rM(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(l){return s.appendChildNode(t,l,n)})}else this.appendChildNode(t,i,n)},r.prototype.cloneNode=function(e,t){if(Z6(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Kc(e)&&(Qw(e)||sm(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&Qw(s)&&(this.clonedReferenceElement=s),Xv(s)&&MX(s);var A=this.counters.parse(new zE(this.context,i)),c=this.resolvePseudoContent(e,s,a,yu.BEFORE);aN(e)&&(t=!0),sN(e)||this.cloneChildNodes(e,s,t),c&&s.insertBefore(c,s.firstChild);var f=this.resolvePseudoContent(e,s,l,yu.AFTER);return f&&s.appendChild(f),this.counters.pop(A),(i&&(this.options.copyStyles||sm(e))&&!tM(e)||t)&&D2(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(ap(e)||op(e))&&(ap(s)||op(s))&&(s.value=e.value),s}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,s){var i=this;if(n){var a=n.content,l=t.ownerDocument;if(!(!l||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new zE(this.context,n));var A=new gZ(this.context,n),c=l.createElement("html2canvaspseudoelement");D2(n,c),A.content.forEach(function(d){if(d.type===0)c.appendChild(l.createTextNode(d.value));else if(d.type===22){var u=l.createElement("img");u.src=d.value,u.style.opacity="1",c.appendChild(u)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(Ar);h.length&&c.appendChild(l.createTextNode(e.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var g=d.values.filter(jf),m=g[0],y=g[1];if(m&&Ar(m)){var x=i.counters.getCounterValue(m.value),w=y&&Ar(y)?Uw.parse(i.context,y.value):3;c.appendChild(l.createTextNode(ah(x,w,!1)))}}else if(d.name==="counters"){var v=d.values.filter(jf),m=v[0],C=v[1],y=v[2];if(m&&Ar(m)){var N=i.counters.getCounterValues(m.value),B=y&&Ar(y)?Uw.parse(i.context,y.value):3,j=C&&C.type===0?C.value:"",M=N.map(function(T){return ah(T,B,!1)}).join(j);c.appendChild(l.createTextNode(M))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(l.createTextNode(HE(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(l.createTextNode(HE(A.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(l.createTextNode(d.value))}}),c.className=Hw+" "+zw;var f=s===yu.BEFORE?" "+Hw:" "+zw;return sm(t)?t.className.baseValue+=f:t.className+=f,c}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),yu;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(yu||(yu={}));var CX=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(sM,"true"),r.body.appendChild(t),t},LX=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},SX=function(r){return Promise.all([].slice.call(r.images,0).map(LX))},EX=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var s=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(r))},50)}})},NX=["all","d","content"],D2=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);NX.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},BX=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},kX=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},jX=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},IX=":before",TX=":after",Hw="___html2canvas___pseudoelement_before",zw="___html2canvas___pseudoelement_after",uN=`{
    content: "" !important;
    display: none !important;
}`,MX=function(r){DX(r,"."+Hw+IX+uN+`
         .`+zw+TX+uN)},DX=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},iM=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),FX=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(U2(e)||PX(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return ds(this,void 0,void 0,function(){var t,n,s,i,a=this;return ts(this,function(l){switch(l.label){case 0:return t=iM.isSameOrigin(e),n=!F2(e)&&this._options.useCORS===!0&&Pn.SUPPORT_CORS_IMAGES&&!t,s=!F2(e)&&!t&&!U2(e)&&typeof this._options.proxy=="string"&&Pn.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!F2(e)&&!U2(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,c){var f=new Image;f.onload=function(){return A(f)},f.onerror=c,(QX(i)||n)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return A(f)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var l=Pn.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(u){return a(u)},!1),d.readAsDataURL(A.response)}else a("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),t._options.imageTimeout){var f=t._options.imageTimeout;A.timeout=f,A.ontimeout=function(){return a("Timed out ("+f+"ms) proxying "+s)}}A.send()})},r}(),UX=/^data:image\/svg\+xml/i,RX=/^data:image\/.*;base64,/i,_X=/^data:image\/.*/i,PX=function(r){return Pn.SUPPORT_SVG_DRAWING||!OX(r)},F2=function(r){return _X.test(r)},QX=function(r){return RX.test(r)},U2=function(r){return r.substr(0,4)==="blob"},OX=function(r){return r.substr(-3).toLowerCase()==="svg"||UX.test(r)},ze=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),Lc=function(r,e,t){return new ze(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},pg=function(){function r(e,t,n,s){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=s}return r.prototype.subdivide=function(e,t){var n=Lc(this.start,this.startControl,e),s=Lc(this.startControl,this.endControl,e),i=Lc(this.endControl,this.end,e),a=Lc(n,s,e),l=Lc(s,i,e),A=Lc(a,l,e);return t?new r(this.start,n,a,A):new r(A,l,i,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),vi=function(r){return r.type===1},HX=function(){function r(e){var t=e.styles,n=e.bounds,s=$d(t.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],l=$d(t.borderTopRightRadius,n.width,n.height),A=l[0],c=l[1],f=$d(t.borderBottomRightRadius,n.width,n.height),d=f[0],u=f[1],h=$d(t.borderBottomLeftRadius,n.width,n.height),g=h[0],m=h[1],y=[];y.push((i+A)/n.width),y.push((g+d)/n.width),y.push((a+m)/n.height),y.push((c+u)/n.height);var x=Math.max.apply(Math,y);x>1&&(i/=x,a/=x,A/=x,c/=x,d/=x,u/=x,g/=x,m/=x);var w=n.width-A,v=n.height-u,C=n.width-d,N=n.height-m,B=t.borderTopWidth,j=t.borderRightWidth,M=t.borderBottomWidth,I=t.borderLeftWidth,U=yr(t.paddingTop,e.bounds.width),T=yr(t.paddingRight,e.bounds.width),P=yr(t.paddingBottom,e.bounds.width),G=yr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?kr(n.left+I/3,n.top+B/3,i-I/3,a-B/3,tr.TOP_LEFT):new ze(n.left+I/3,n.top+B/3),this.topRightBorderDoubleOuterBox=i>0||a>0?kr(n.left+w,n.top+B/3,A-j/3,c-B/3,tr.TOP_RIGHT):new ze(n.left+n.width-j/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=d>0||u>0?kr(n.left+C,n.top+v,d-j/3,u-M/3,tr.BOTTOM_RIGHT):new ze(n.left+n.width-j/3,n.top+n.height-M/3),this.bottomLeftBorderDoubleOuterBox=g>0||m>0?kr(n.left+I/3,n.top+N,g-I/3,m-M/3,tr.BOTTOM_LEFT):new ze(n.left+I/3,n.top+n.height-M/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?kr(n.left+I*2/3,n.top+B*2/3,i-I*2/3,a-B*2/3,tr.TOP_LEFT):new ze(n.left+I*2/3,n.top+B*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?kr(n.left+w,n.top+B*2/3,A-j*2/3,c-B*2/3,tr.TOP_RIGHT):new ze(n.left+n.width-j*2/3,n.top+B*2/3),this.bottomRightBorderDoubleInnerBox=d>0||u>0?kr(n.left+C,n.top+v,d-j*2/3,u-M*2/3,tr.BOTTOM_RIGHT):new ze(n.left+n.width-j*2/3,n.top+n.height-M*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||m>0?kr(n.left+I*2/3,n.top+N,g-I*2/3,m-M*2/3,tr.BOTTOM_LEFT):new ze(n.left+I*2/3,n.top+n.height-M*2/3),this.topLeftBorderStroke=i>0||a>0?kr(n.left+I/2,n.top+B/2,i-I/2,a-B/2,tr.TOP_LEFT):new ze(n.left+I/2,n.top+B/2),this.topRightBorderStroke=i>0||a>0?kr(n.left+w,n.top+B/2,A-j/2,c-B/2,tr.TOP_RIGHT):new ze(n.left+n.width-j/2,n.top+B/2),this.bottomRightBorderStroke=d>0||u>0?kr(n.left+C,n.top+v,d-j/2,u-M/2,tr.BOTTOM_RIGHT):new ze(n.left+n.width-j/2,n.top+n.height-M/2),this.bottomLeftBorderStroke=g>0||m>0?kr(n.left+I/2,n.top+N,g-I/2,m-M/2,tr.BOTTOM_LEFT):new ze(n.left+I/2,n.top+n.height-M/2),this.topLeftBorderBox=i>0||a>0?kr(n.left,n.top,i,a,tr.TOP_LEFT):new ze(n.left,n.top),this.topRightBorderBox=A>0||c>0?kr(n.left+w,n.top,A,c,tr.TOP_RIGHT):new ze(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||u>0?kr(n.left+C,n.top+v,d,u,tr.BOTTOM_RIGHT):new ze(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||m>0?kr(n.left,n.top+N,g,m,tr.BOTTOM_LEFT):new ze(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?kr(n.left+I,n.top+B,Math.max(0,i-I),Math.max(0,a-B),tr.TOP_LEFT):new ze(n.left+I,n.top+B),this.topRightPaddingBox=A>0||c>0?kr(n.left+Math.min(w,n.width-j),n.top+B,w>n.width+j?0:Math.max(0,A-j),Math.max(0,c-B),tr.TOP_RIGHT):new ze(n.left+n.width-j,n.top+B),this.bottomRightPaddingBox=d>0||u>0?kr(n.left+Math.min(C,n.width-I),n.top+Math.min(v,n.height-M),Math.max(0,d-j),Math.max(0,u-M),tr.BOTTOM_RIGHT):new ze(n.left+n.width-j,n.top+n.height-M),this.bottomLeftPaddingBox=g>0||m>0?kr(n.left+I,n.top+Math.min(N,n.height-M),Math.max(0,g-I),Math.max(0,m-M),tr.BOTTOM_LEFT):new ze(n.left+I,n.top+n.height-M),this.topLeftContentBox=i>0||a>0?kr(n.left+I+G,n.top+B+U,Math.max(0,i-(I+G)),Math.max(0,a-(B+U)),tr.TOP_LEFT):new ze(n.left+I+G,n.top+B+U),this.topRightContentBox=A>0||c>0?kr(n.left+Math.min(w,n.width+I+G),n.top+B+U,w>n.width+I+G?0:A-I+G,c-(B+U),tr.TOP_RIGHT):new ze(n.left+n.width-(j+T),n.top+B+U),this.bottomRightContentBox=d>0||u>0?kr(n.left+Math.min(C,n.width-(I+G)),n.top+Math.min(v,n.height+B+U),Math.max(0,d-(j+T)),u-(M+P),tr.BOTTOM_RIGHT):new ze(n.left+n.width-(j+T),n.top+n.height-(M+P)),this.bottomLeftContentBox=g>0||m>0?kr(n.left+I+G,n.top+N,Math.max(0,g-(I+G)),m-(M+P),tr.BOTTOM_LEFT):new ze(n.left+I+G,n.top+n.height-(M+P))}return r}(),tr;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(tr||(tr={}));var kr=function(r,e,t,n,s){var i=4*((Math.sqrt(2)-1)/3),a=t*i,l=n*i,A=r+t,c=e+n;switch(s){case tr.TOP_LEFT:return new pg(new ze(r,c),new ze(r,c-l),new ze(A-a,e),new ze(A,e));case tr.TOP_RIGHT:return new pg(new ze(r,e),new ze(r+a,e),new ze(A,c-l),new ze(A,c));case tr.BOTTOM_RIGHT:return new pg(new ze(A,e),new ze(A,e+l),new ze(r+a,c),new ze(r,c));case tr.BOTTOM_LEFT:default:return new pg(new ze(A,c),new ze(A-a,c),new ze(r,e+l),new ze(r,e))}},lp=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},zX=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},Ap=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},GX=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),xg=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),KX=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),$X=function(r){return r.type===0},aM=function(r){return r.type===1},VX=function(r){return r.type===2},hN=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},YX=function(r,e,t,n,s){return r.map(function(i,a){switch(a){case 0:return i.add(e,t);case 1:return i.add(e+n,t);case 2:return i.add(e+n,t+s);case 3:return i.add(e,t+s)}return i})},oM=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),lM=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new HX(this.container),this.container.styles.opacity<1&&this.effects.push(new KX(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new GX(n,s,i))}if(this.container.styles.overflowX!==0){var a=lp(this.curves),l=Ap(this.curves);hN(a,l)?this.effects.push(new xg(a,6)):(this.effects.push(new xg(a,2)),this.effects.push(new xg(l,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(A){return!aM(A)});if(t||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=lp(n.curves),l=Ap(n.curves);hN(a,l)||s.unshift(new xg(l,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(A){return bn(A.target,e)})},r}(),Gw=function(r,e,t,n){r.container.elements.forEach(function(s){var i=bn(s.flags,4),a=bn(s.flags,2),l=new lM(s,r);bn(s.styles.display,2048)&&n.push(l);var A=bn(s.flags,8)?[]:n;if(i||a){var c=i||s.styles.isPositioned()?t:e,f=new oM(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var u=0;c.negativeZIndex.some(function(g,m){return d>g.element.container.styles.zIndex.order?(u=m,!1):u>0}),c.negativeZIndex.splice(u,0,f)}else if(d>0){var h=0;c.positiveZIndex.some(function(g,m){return d>=g.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),c.positiveZIndex.splice(h,0,f)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?c.nonPositionedFloats.push(f):c.nonPositionedInlineLevel.push(f);Gw(l,f,i?f:t,A)}else s.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),Gw(l,e,t,A);bn(s.flags,8)&&AM(s,A)})},AM=function(r,e){for(var t=r instanceof Pw?r.start:1,n=r instanceof Pw?r.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof $6&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=ah(t,i.container.styles.listStyleType,!0),t+=n?-1:1}},WX=function(r){var e=new lM(r,null),t=new oM(e),n=[];return Gw(e,t,t,n),AM(e.container,n),t},gN=function(r,e){switch(e){case 0:return Ei(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Ei(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Ei(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Ei(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},JX=function(r,e){switch(e){case 0:return Ei(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Ei(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Ei(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Ei(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},qX=function(r,e){switch(e){case 0:return Ei(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Ei(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Ei(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Ei(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},ZX=function(r,e){switch(e){case 0:return yg(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return yg(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return yg(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return yg(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},yg=function(r,e){var t=[];return vi(r)?t.push(r.subdivide(.5,!1)):t.push(r),vi(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ei=function(r,e,t,n){var s=[];return vi(r)?s.push(r.subdivide(.5,!1)):s.push(r),vi(t)?s.push(t.subdivide(.5,!0)):s.push(t),vi(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),vi(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},cM=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},cp=function(r){var e=r.styles,t=r.bounds,n=yr(e.paddingLeft,t.width),s=yr(e.paddingRight,t.width),i=yr(e.paddingTop,t.width),a=yr(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},XX=function(r,e){return r===0?e.bounds:r===2?cp(e):cM(e)},eee=function(r,e){return r===0?e.bounds:r===2?cp(e):cM(e)},R2=function(r,e,t){var n=XX(jc(r.styles.backgroundOrigin,e),r),s=eee(jc(r.styles.backgroundClip,e),r),i=tee(jc(r.styles.backgroundSize,e),t,n),a=i[0],l=i[1],A=$d(jc(r.styles.backgroundPosition,e),n.width-a,n.height-l),c=ree(jc(r.styles.backgroundRepeat,e),A,i,n,s),f=Math.round(n.left+A[0]),d=Math.round(n.top+A[1]);return[c,f,d,a,l]},Sc=function(r){return Ar(r)&&r.value===Af.AUTO},wg=function(r){return typeof r=="number"},tee=function(r,e,t){var n=e[0],s=e[1],i=e[2],a=r[0],l=r[1];if(!a)return[0,0];if(An(a)&&l&&An(l))return[yr(a,t.width),yr(l,t.height)];var A=wg(i);if(Ar(a)&&(a.value===Af.CONTAIN||a.value===Af.COVER)){if(wg(i)){var c=t.width/t.height;return c<i!=(a.value===Af.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var f=wg(n),d=wg(s),u=f||d;if(Sc(a)&&(!l||Sc(l))){if(f&&d)return[n,s];if(!A&&!u)return[t.width,t.height];if(u&&A){var h=f?n:s*i,g=d?s:n/i;return[h,g]}var m=f?n:t.width,y=d?s:t.height;return[m,y]}if(A){var x=0,w=0;return An(a)?x=yr(a,t.width):An(l)&&(w=yr(l,t.height)),Sc(a)?x=w*i:(!l||Sc(l))&&(w=x/i),[x,w]}var v=null,C=null;if(An(a)?v=yr(a,t.width):l&&An(l)&&(C=yr(l,t.height)),v!==null&&(!l||Sc(l))&&(C=f&&d?v/n*s:t.height),C!==null&&Sc(a)&&(v=f&&d?C/s*n:t.width),v!==null&&C!==null)return[v,C];throw new Error("Unable to calculate background-size for element")},jc=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},ree=function(r,e,t,n,s){var i=e[0],a=e[1],l=t[0],A=t[1];switch(r){case 2:return[new ze(Math.round(n.left),Math.round(n.top+a)),new ze(Math.round(n.left+n.width),Math.round(n.top+a)),new ze(Math.round(n.left+n.width),Math.round(A+n.top+a)),new ze(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new ze(Math.round(n.left+i),Math.round(n.top)),new ze(Math.round(n.left+i+l),Math.round(n.top)),new ze(Math.round(n.left+i+l),Math.round(n.height+n.top)),new ze(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new ze(Math.round(n.left+i),Math.round(n.top+a)),new ze(Math.round(n.left+i+l),Math.round(n.top+a)),new ze(Math.round(n.left+i+l),Math.round(n.top+a+A)),new ze(Math.round(n.left+i),Math.round(n.top+a+A))];default:return[new ze(Math.round(s.left),Math.round(s.top)),new ze(Math.round(s.left+s.width),Math.round(s.top)),new ze(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ze(Math.round(s.left),Math.round(s.height+s.top))]}},nee="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",mN="Hidden Text",see=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=nee,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(mN)),n.appendChild(i),n.appendChild(s);var l=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(mN)),n.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:l,middle:A}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),fM=function(){function r(e,t){this.context=e,this.options=t}return r}(),iee=1e4,aee=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new see(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(t){this.ctx.save(),VX(t)&&(this.ctx.globalAlpha=t.opacity),$X(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),aM(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return ds(this,void 0,void 0,function(){var n;return ts(this,function(s){switch(s.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return ds(this,void 0,void 0,function(){return ts(this,function(n){switch(n.label){case 0:if(bn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,s){var i=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var a=qv(t.text);a.reduce(function(l,A){return i.ctx.fillText(A,l,t.bounds.top+s),l+i.ctx.measureText(A).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=fee(t.fontFamily).join(", "),i=Ch(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(t,n){return ds(this,void 0,void 0,function(){var s,i,a,l,A,c,f,d,u=this;return ts(this,function(h){return s=this.createFontStyle(n),i=s[0],a=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,l),c=A.baseline,f=A.middle,d=n.paintOrder,t.textBounds.forEach(function(g){d.forEach(function(m){switch(m){case 0:u.ctx.fillStyle=En(n.color),u.renderTextWithLetterSpacing(g,n.letterSpacing,c);var y=n.textShadow;y.length&&g.text.trim().length&&(y.slice(0).reverse().forEach(function(x){u.ctx.shadowColor=En(x.color),u.ctx.shadowOffsetX=x.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=x.offsetY.number*u.options.scale,u.ctx.shadowBlur=x.blur.number,u.renderTextWithLetterSpacing(g,n.letterSpacing,c)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),n.textDecorationLine.length&&(u.ctx.fillStyle=En(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:u.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+c),g.bounds.width,1);break;case 2:u.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:u.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+f),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(u.ctx.strokeStyle=En(n.webkitTextStrokeColor),u.ctx.lineWidth=n.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+c)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=cp(t),a=Ap(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return ds(this,void 0,void 0,function(){var n,s,i,a,l,A,w,w,c,f,d,u,C,h,g,N,m,y,x,w,v,C,N;return ts(this,function(B){switch(B.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,s=t.curves,i=n.styles,a=0,l=n.textNodes,B.label=1;case 1:return a<l.length?(A=l[a],[4,this.renderTextNode(A,i)]):[3,4];case 2:B.sent(),B.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof z6))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=B.sent(),this.renderReplacedElement(n,s,w),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof G6&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof K6))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=B.sent(),this.renderReplacedElement(n,s,w),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof W6&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:f=B.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),B.label=14;case 14:if(n instanceof Zv&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===sp?n.checked&&(this.ctx.save(),this.path([new ze(n.bounds.left+d*.39363,n.bounds.top+d*.79),new ze(n.bounds.left+d*.16,n.bounds.top+d*.5549),new ze(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new ze(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new ze(n.bounds.left+d*.72983,n.bounds.top+d*.23),new ze(n.bounds.left+d*.84,n.bounds.top+d*.34085),new ze(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=En(nN),this.ctx.fill(),this.ctx.restore()):n.type===ip&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=En(nN),this.ctx.fill(),this.ctx.restore())),oee(n)&&n.value.length){switch(u=this.createFontStyle(i),C=u[0],h=u[1],g=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=En(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Aee(n.styles.textAlign),N=cp(n),m=0,n.styles.textAlign){case 1:m+=N.width/2;break;case 2:m+=N.width;break}y=N.add(m,0,0,-N.height/2+1),this.ctx.save(),this.path([new ze(N.left,N.top),new ze(N.left+N.width,N.top),new ze(N.left+N.width,N.top+N.height),new ze(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new xu(n.value,y),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];w=void 0,v=x.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return w=B.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=En(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new To(n.bounds.left,n.bounds.top+yr(n.styles.paddingTop,n.bounds.width),n.bounds.width,QE(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new xu(t.listValue,N),i.letterSpacing,QE(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return ds(this,void 0,void 0,function(){var n,s,x,i,a,x,l,A,x,c,f,x,d,u,x,h,g,x,m,y,x;return ts(this,function(w){switch(w.label){case 0:if(bn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:w.sent(),n=0,s=t.negativeZIndex,w.label=2;case 2:return n<s.length?(x=s[n],[4,this.renderStack(x)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:w.sent(),i=0,a=t.nonInlineLevel,w.label=7;case 7:return i<a.length?(x=a[i],[4,this.renderNode(x)]):[3,10];case 8:w.sent(),w.label=9;case 9:return i++,[3,7];case 10:l=0,A=t.nonPositionedFloats,w.label=11;case 11:return l<A.length?(x=A[l],[4,this.renderStack(x)]):[3,14];case 12:w.sent(),w.label=13;case 13:return l++,[3,11];case 14:c=0,f=t.nonPositionedInlineLevel,w.label=15;case 15:return c<f.length?(x=f[c],[4,this.renderStack(x)]):[3,18];case 16:w.sent(),w.label=17;case 17:return c++,[3,15];case 18:d=0,u=t.inlineLevel,w.label=19;case 19:return d<u.length?(x=u[d],[4,this.renderNode(x)]):[3,22];case 20:w.sent(),w.label=21;case 21:return d++,[3,19];case 22:h=0,g=t.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return h<g.length?(x=g[h],[4,this.renderStack(x)]):[3,26];case 24:w.sent(),w.label=25;case 25:return h++,[3,23];case 26:m=0,y=t.positiveZIndex,w.label=27;case 27:return m<y.length?(x=y[m],[4,this.renderStack(x)]):[3,30];case 28:w.sent(),w.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(s,i){var a=vi(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),vi(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(t,n,s,i){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(t,n,s){var i;if(t.width===n&&t.height===s)return t;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=a.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,n,s),l},e.prototype.renderBackgroundImage=function(t){return ds(this,void 0,void 0,function(){var n,s,i,a,l,A;return ts(this,function(c){switch(c.label){case 0:n=t.styles.backgroundImage.length-1,s=function(f){var d,u,h,U,Z,oe,G,R,M,g,U,Z,oe,G,R,m,y,x,w,v,C,N,B,j,M,I,U,T,P,G,R,q,Z,oe,H,re,ce,le,D,K,Y,se;return ts(this,function(J){switch(J.label){case 0:if(f.type!==0)return[3,5];d=void 0,u=f.url,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,i.context.cache.match(u)];case 2:return d=J.sent(),[3,4];case 3:return J.sent(),i.context.logger.error("Error loading background-image "+u),[3,4];case 4:return d&&(h=R2(t,n,[d.width,d.height,d.width/d.height]),U=h[0],Z=h[1],oe=h[2],G=h[3],R=h[4],M=i.ctx.createPattern(i.resizeImage(d,G,R),"repeat"),i.renderRepeat(U,M,Z,oe)),[3,6];case 5:$J(f)?(g=R2(t,n,[null,null,null]),U=g[0],Z=g[1],oe=g[2],G=g[3],R=g[4],m=OJ(f.angle,G,R),y=m[0],x=m[1],w=m[2],v=m[3],C=m[4],N=document.createElement("canvas"),N.width=G,N.height=R,B=N.getContext("2d"),j=B.createLinearGradient(x,v,w,C),_E(f.stops,y).forEach(function(ie){return j.addColorStop(ie.stop,En(ie.color))}),B.fillStyle=j,B.fillRect(0,0,G,R),G>0&&R>0&&(M=i.ctx.createPattern(N,"repeat"),i.renderRepeat(U,M,Z,oe))):VJ(f)&&(I=R2(t,n,[null,null,null]),U=I[0],T=I[1],P=I[2],G=I[3],R=I[4],q=f.position.length===0?[Yv]:f.position,Z=yr(q[0],G),oe=yr(q[q.length-1],R),H=HJ(f,Z,oe,G,R),re=H[0],ce=H[1],re>0&&ce>0&&(le=i.ctx.createRadialGradient(T+Z,P+oe,0,T+Z,P+oe,re),_E(f.stops,re*2).forEach(function(ie){return le.addColorStop(ie.stop,En(ie.color))}),i.path(U),i.ctx.fillStyle=le,re!==ce?(D=t.bounds.left+.5*t.bounds.width,K=t.bounds.top+.5*t.bounds.height,Y=ce/re,se=1/Y,i.ctx.save(),i.ctx.translate(D,K),i.ctx.transform(1,0,0,Y,0,0),i.ctx.translate(-D,-K),i.ctx.fillRect(T,se*(P-K)+K,G,R*se),i.ctx.restore()):i.ctx.fill())),J.label=6;case 6:return n--,[2]}})},i=this,a=0,l=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<l.length?(A=l[a],[5,s(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,s){return ds(this,void 0,void 0,function(){return ts(this,function(i){return this.path(gN(s,n)),this.ctx.fillStyle=En(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,s,i){return ds(this,void 0,void 0,function(){var a,l;return ts(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(t,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return a=JX(i,s),this.path(a),this.ctx.fillStyle=En(t),this.ctx.fill(),l=qX(i,s),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return ds(this,void 0,void 0,function(){var n,s,i,a,l,A,c,f,d=this;return ts(this,function(u){switch(u.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,s=!Il(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=lee(jc(n.backgroundClip,0),t.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Il(n.backgroundColor)||(this.ctx.fillStyle=En(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var g=lp(t.curves),m=h.inset?0:iee,y=YX(g,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(g),d.ctx.clip(),d.mask(y)):(d.mask(g),d.ctx.clip(),d.path(y)),d.ctx.shadowOffsetX=h.offsetX.number+m,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=En(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?En(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),u.label=2;case 2:l=0,A=0,c=i,u.label=3;case 3:return A<c.length?(f=c[A],f.style!==0&&!Il(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return u.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,3)];case 6:return u.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,t.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,t.curves)];case 10:u.sent(),u.label=11;case 11:l++,u.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,s,i,a){return ds(this,void 0,void 0,function(){var l,A,c,f,d,u,h,g,m,y,x,w,v,C,N,B,N,B;return ts(this,function(j){return this.ctx.save(),l=ZX(i,s),A=gN(i,s),a===2&&(this.path(A),this.ctx.clip()),vi(A[0])?(c=A[0].start.x,f=A[0].start.y):(c=A[0].x,f=A[0].y),vi(A[1])?(d=A[1].end.x,u=A[1].end.y):(d=A[1].x,u=A[1].y),s===0||s===2?h=Math.abs(c-d):h=Math.abs(f-u),this.ctx.beginPath(),a===3?this.formatPath(l):this.formatPath(A.slice(0,2)),g=n<3?n*3:n*2,m=n<3?n*2:n,a===3&&(g=n,m=n),y=!0,h<=g*2?y=!1:h<=g*2+m?(x=h/(2*g+m),g*=x,m*=x):(w=Math.floor((h+m)/(g+m)),v=(h-w*g)/(w-1),C=(h-(w+1)*g)/w,m=C<=0||Math.abs(m-v)<Math.abs(m-C)?v:C),y&&(a===3?this.ctx.setLineDash([0,g+m]):this.ctx.setLineDash([g,m])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=En(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(vi(A[0])&&(N=A[3],B=A[0],this.ctx.beginPath(),this.formatPath([new ze(N.end.x,N.end.y),new ze(B.start.x,B.start.y)]),this.ctx.stroke()),vi(A[1])&&(N=A[1],B=A[2],this.ctx.beginPath(),this.formatPath([new ze(N.end.x,N.end.y),new ze(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return ds(this,void 0,void 0,function(){var n;return ts(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=WX(t),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(fM),oee=function(r){return r instanceof Y6||r instanceof V6?!0:r instanceof Zv&&r.type!==ip&&r.type!==sp},lee=function(r,e){switch(r){case 0:return lp(e);case 2:return zX(e);case 1:default:return Ap(e)}},Aee=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},cee=["-apple-system","system-ui"],fee=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return cee.indexOf(e)===-1}):r},dee=function(r){Aa(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(t){return ds(this,void 0,void 0,function(){var n,s;return ts(this,function(i){switch(i.label){case 0:return n=_w(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,uee(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=En(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(fM),uee=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},hee=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Z0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Z0([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Z0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Z0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),gee=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new hee({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new FX(this,e)}return r.instanceCount=1,r}(),dM=function(r,e){return e===void 0&&(e={}),mee(r,e)};typeof window<"u"&&iM.setContext(window);var mee=function(r,e){return ds(void 0,void 0,void 0,function(){var t,n,s,i,a,l,A,c,f,d,u,h,g,m,y,x,w,v,C,N,j,B,j,M,I,U,T,P,G,R,q,Z,oe,H,re,ce,le,D,K,Y;return ts(this,function(se){switch(se.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(M=e.allowTaint)!==null&&M!==void 0?M:!1,imageTimeout:(I=e.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:e.proxy,useCORS:(U=e.useCORS)!==null&&U!==void 0?U:!1},i=Cw({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},s),a={windowWidth:(P=e.windowWidth)!==null&&P!==void 0?P:n.innerWidth,windowHeight:(G=e.windowHeight)!==null&&G!==void 0?G:n.innerHeight,scrollX:(R=e.scrollX)!==null&&R!==void 0?R:n.pageXOffset,scrollY:(q=e.scrollY)!==null&&q!==void 0?q:n.pageYOffset},l=new To(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new gee(i,l),c=(Z=e.foreignObjectRendering)!==null&&Z!==void 0?Z:!1,f={allowTaint:(oe=e.allowTaint)!==null&&oe!==void 0?oe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new dN(A,r,f),u=d.clonedReferenceElement,u?[4,d.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=se.sent(),g=Xv(u)||xX(u)?YY(u.ownerDocument):s1(A,u),m=g.width,y=g.height,x=g.left,w=g.top,v=pee(A,u,e.backgroundColor),C={canvas:e.canvas,backgroundColor:v,scale:(re=(H=e.scale)!==null&&H!==void 0?H:n.devicePixelRatio)!==null&&re!==void 0?re:1,x:((ce=e.x)!==null&&ce!==void 0?ce:0)+x,y:((le=e.y)!==null&&le!==void 0?le:0)+w,width:(D=e.width)!==null&&D!==void 0?D:Math.ceil(m),height:(K=e.height)!==null&&K!==void 0?K:Math.ceil(y)},c?(A.logger.debug("Document cloned, using foreign object rendering"),j=new dee(A,C),[4,j.render(u)]):[3,3];case 2:return N=se.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+x+","+w+" with size "+m+"x"+y+" using computed rendering"),A.logger.debug("Starting DOM parsing"),B=q6(A,u),v===B.styles.backgroundColor&&(B.styles.backgroundColor=Lo.TRANSPARENT),A.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),j=new aee(A,C),[4,j.render(B)];case 4:N=se.sent(),se.label=5;case 5:return(!((Y=e.removeContainer)!==null&&Y!==void 0)||Y)&&(dN.destroy(h)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,N]}})})},pee=function(r,e,t){var n=e.ownerDocument,s=n.documentElement?mu(r,getComputedStyle(n.documentElement).backgroundColor):Lo.TRANSPARENT,i=n.body?mu(r,getComputedStyle(n.body).backgroundColor):Lo.TRANSPARENT,a=typeof t=="string"?mu(r,t):t===null?Lo.TRANSPARENT:4294967295;return e===n.documentElement?Il(s)?Il(i)?a:i:s:a};const xee=Object.freeze(Object.defineProperty({__proto__:null,default:dM},Symbol.toStringTag,{value:"Module"})),yee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState("");S.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:c}=await Ce.get("/instructor-admin/certificates");e(c)}catch(c){console.error("Error fetching certificates:",c)}finally{n(!1)}},l=r.filter(c=>{var f,d;return((f=c.userId)==null?void 0:f.name.toLowerCase().includes(s.toLowerCase()))||c.certificateNumber.toLowerCase().includes(s.toLowerCase())||((d=c.courseId)==null?void 0:d.title.toLowerCase().includes(s.toLowerCase()))}),A=async c=>{var d,u;const f=document.createElement("div");f.style.position="absolute",f.style.left="-9999px",f.style.width="1000px",f.style.height="600px",f.style.background="#0a0a0a",f.style.color="white",f.style.padding="40px",f.style.border="20px solid #d4af37",f.style.textAlign="center",f.innerHTML=`
            <div style="height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; font-family: 'serif';">
                <h1 style="color: #d4af37; font-size: 60px; margin-bottom: 20px;">Certificate of Completion</h1>
                <p style="font-size: 24px; margin-bottom: 30px;">This gets awarded to</p>
                <h2 style="font-size: 48px; border-bottom: 2px solid #d4af37; padding-bottom: 10px; margin-bottom: 30px;">${(d=c.userId)==null?void 0:d.name}</h2>
                <p style="font-size: 24px;">For successfully completing the course</p>
                <h3 style="font-size: 36px; margin: 20px 0; color: #d4af37;">${(u=c.courseId)==null?void 0:u.title}</h3>
                <div style="margin-top: 50px; display: flex; justify-content: space-between; width: 100%; padding: 0 50px;">
                    <div>
                        <p style="border-top: 1px solid white; padding-top: 10px; width: 200px;">Instructor</p>
                    </div>
                    <div>
                        <p style="border-top: 1px solid white; padding-top: 10px; width: 200px;">Date: ${new Date(c.issueDate).toLocaleDateString()}</p>
                    </div>
                </div>
                <p style="margin-top: 20px; font-size: 14px; opacity: 0.7;">ID: ${c.certificateNumber}</p>
            </div>
        `,document.body.appendChild(f);try{const g=(await dM(f)).toDataURL("image/png"),m=new ct("l","mm","a4"),y=m.internal.pageSize.getWidth(),x=m.internal.pageSize.getHeight();m.addImage(g,"PNG",0,0,y,x),m.save(`Certificate-${c.certificateNumber}.pdf`)}catch(h){console.error("Download error",h),alert("Error downloading certificate")}finally{document.body.removeChild(f)}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"Issued Certificates"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Manage and view certificates awarded to your students"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-muted",size:18}),o.jsx("input",{className:"bg-dark-layer1 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-white placeholder-dark-muted focus:border-brand-primary outline-none min-w-[300px]",placeholder:"Search student, course, or ID...",value:s,onChange:c=>i(c.target.value)})]})]}),t?o.jsxs("div",{className:"text-center py-20 text-dark-muted",children:[o.jsx(Co,{className:"animate-spin inline mr-2"})," Loading data..."]}):l.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(ps,{size:48,className:"mx-auto text-dark-muted opacity-50 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"No Certificates Issued Yet"}),o.jsx("p",{className:"text-dark-muted mt-2",children:"Certificates will appear here once students complete your courses."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map(c=>{var f,d,u;return o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-3xl p-6 group hover:border-brand-primary/30 transition-all relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-primary/5 rounded-full -mr-16 -mt-16 group-hover:bg-brand-primary/10 transition-all"}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center text-dark-bg",children:o.jsx(ps,{size:24,strokeWidth:2.5})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-white font-bold truncate",children:(f=c.courseId)==null?void 0:f.title}),o.jsxs("p",{className:"text-xs text-dark-muted mono mt-1",children:["ID: ",c.certificateNumber]})]})]}),o.jsxs("div",{className:"space-y-4 mb-6 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-layer2 flex items-center justify-center flex-shrink-0",children:(d=c.userId)!=null&&d.avatar?o.jsx("img",{src:c.userId.avatar,className:"w-full h-full rounded-full object-cover"}):o.jsx(ji,{size:14,className:"text-dark-muted"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-dark-muted uppercase font-bold tracking-wider",children:"Student"}),o.jsx("p",{className:"text-sm text-white font-bold",children:((u=c.userId)==null?void 0:u.name)||"Unknown User"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-layer2 flex items-center justify-center flex-shrink-0",children:o.jsx(Fa,{size:14,className:"text-dark-muted"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-dark-muted uppercase font-bold tracking-wider",children:"Issued On"}),o.jsx("p",{className:"text-sm text-white font-bold",children:new Date(c.issueDate).toLocaleDateString()})]})]})]}),o.jsxs("button",{onClick:()=>A(c),className:"w-full py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-brand-primary font-bold flex items-center justify-center gap-2 transition-all mt-auto",children:[o.jsx(xf,{size:18})," Download PDF"]})]})]},c._id)})})]})},wee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(null),[s,i]=S.useState([]),[a,l]=S.useState(!1),[A,c]=S.useState(!0),[f,d]=S.useState(""),[u,h]=S.useState(""),[g,m]=S.useState([]),y=S.useRef(null);S.useEffect(()=>{x()},[]),S.useEffect(()=>{t&&w(t._id)},[t]);const x=async()=>{try{c(!0);const{data:B}=await Ce.get("/instructor/courses");e(B),B.length>0&&n(B[0])}catch(B){console.error("Error fetching courses:",B)}finally{c(!1)}},w=async B=>{try{c(!0);const{data:j}=await Ce.get(`/practice/course/${B}`);i(j)}catch(j){console.error("Error fetching problems:",j)}finally{c(!1)}},v=async B=>{const j=B.target.files[0];if(!j)return;const M=new FormData;M.append("file",j);try{const{data:I}=await Ce.post("/upload",M,{headers:{"Content-Type":"multipart/form-data"}});m([...g,{name:I.filename,url:I.url,type:"file"}])}catch(I){console.error("Upload error:",I),alert("File upload failed")}},C=async B=>{B.preventDefault();try{const j={courseId:t._id,title:f,description:u,attachments:g},{data:M}=await Ce.post("/practice",j);i([M,...s]),l(!1),d(""),h(""),m([])}catch(j){console.error("Error creating problem:",j),alert("Failed to create practice problem")}},N=async B=>{if(window.confirm("Delete this problem?"))try{await Ce.delete(`/practice/${B}`),i(s.filter(j=>j._id!==B))}catch(j){console.error("Error deleting problem:",j)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center bg-dark-layer1 p-6 rounded-xl border border-dark-layer2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Daily Practice Problems"}),o.jsx("p",{className:"text-dark-muted",children:"Upload daily challenges for your students"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("select",{value:(t==null?void 0:t._id)||"",onChange:B=>n(r.find(j=>j._id===B.target.value)),className:"bg-dark-layer2 text-white px-4 py-2 rounded-lg border border-dark-layer2 focus:outline-none focus:border-brand-primary",children:r.map(B=>o.jsx("option",{value:B._id,children:B.title},B._id))}),o.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-brand-primary text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition-colors",children:[a?o.jsx(hs,{size:20}):o.jsx(xs,{size:20}),a?"Cancel":"New Problem"]})]})]}),a&&o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-xl border border-dark-layer2 animate-in fade-in slide-in-from-top-4",children:o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Title"}),o.jsx("input",{type:"text",value:f,onChange:B=>d(B.target.value),className:"w-full bg-dark-layer2 text-white px-4 py-2 rounded-lg focus:outline-none focus:border-brand-primary border border-dark-layer2",placeholder:"e.g., Daily Challenge #45",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Description"}),o.jsx("textarea",{value:u,onChange:B=>h(B.target.value),className:"w-full bg-dark-layer2 text-white px-4 py-2 rounded-lg focus:outline-none focus:border-brand-primary border border-dark-layer2 min-h-[100px]",placeholder:"Problem details...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-1",children:"Attachments (PDF/PPT)"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:g.map((B,j)=>o.jsxs("div",{className:"flex items-center gap-2 bg-dark-layer2 px-3 py-1 rounded-full border border-dark-layer2",children:[o.jsx(Qn,{size:14,className:"text-brand-primary"}),o.jsx("span",{className:"text-sm text-white",children:B.name}),o.jsx("button",{type:"button",onClick:()=>m(g.filter((M,I)=>I!==j)),className:"text-red-400 hover:text-red-300",children:o.jsx(hs,{size:14})})]},j))}),o.jsx("input",{type:"file",ref:y,className:"hidden",onChange:v}),o.jsxs("button",{type:"button",onClick:()=>{var B;return(B=y.current)==null?void 0:B.click()},className:"flex items-center gap-2 text-brand-primary hover:text-white transition-colors text-sm",children:[o.jsx(Tp,{size:16})," Upload File"]})]}),o.jsx("div",{className:"pt-4 flex justify-end",children:o.jsx("button",{type:"submit",className:"bg-brand-primary text-white px-6 py-2 rounded-lg hover:bg-opacity-90",children:"Create Problem"})})]})}),o.jsxs("div",{className:"grid gap-4",children:[s.map(B=>o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-xl border border-dark-layer2 hover:border-brand-primary/50 transition-colors",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:B.title}),o.jsx("p",{className:"text-dark-muted text-sm mb-4 whitespace-pre-wrap",children:B.description}),B.attachments&&B.attachments.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:B.attachments.map((j,M)=>o.jsxs("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-dark-layer2 px-3 py-1.5 rounded-lg text-sm text-brand-primary hover:bg-brand-primary hover:text-white transition-colors",children:[o.jsx(Qn,{size:14}),"View Attachment"]},M))})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-dark-muted",children:new Date(B.createdAt).toLocaleDateString()}),o.jsx("button",{onClick:()=>N(B._id),className:"text-dark-muted hover:text-red-400 p-1",children:o.jsx(os,{size:18})})]})]})},B._id)),s.length===0&&!A&&o.jsx("div",{className:"text-center py-12 text-dark-muted",children:"No practice problems created for this course yet."})]})]})},bee=()=>{var i,a,l,A,c,f,d,u,h,g,m,y,x,w,v,C,N,B,j,M,I,U,T,P,G,R,q,Z,oe,H,re,ce,le;const[r,e]=S.useState(null),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const D=await Ce.get("/superadmin/dashboard");e(D.data)}catch(D){console.error("Error fetching dashboard:",D)}finally{n(!1)}};return t?o.jsx("div",{className:"text-white",children:"Loading..."}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl p-8 text-white",children:[o.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Platform Overview"}),o.jsx("p",{className:"text-lg opacity-90",children:"Manage and monitor your entire platform"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Users"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Total Users"}),o.jsx(Zt,{className:"text-blue-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((a=(i=r==null?void 0:r.statistics)==null?void 0:i.users)==null?void 0:a.total)||0}),o.jsxs("p",{className:"text-sm text-dark-muted mt-2",children:["+",((A=(l=r==null?void 0:r.statistics)==null?void 0:l.users)==null?void 0:A.newLast30Days)||0," this month"]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Students"}),o.jsx(Kt,{className:"text-green-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((f=(c=r==null?void 0:r.statistics)==null?void 0:c.users)==null?void 0:f.students)||0})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Instructors"}),o.jsx(Zt,{className:"text-purple-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((u=(d=r==null?void 0:r.statistics)==null?void 0:d.users)==null?void 0:u.instructors)||0})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Pending Instructors"}),o.jsx(jn,{className:"text-yellow-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((g=(h=r==null?void 0:r.statistics)==null?void 0:h.users)==null?void 0:g.pendingInstructors)||0})]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Courses"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Total Courses"}),o.jsx(Kt,{className:"text-blue-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((y=(m=r==null?void 0:r.statistics)==null?void 0:m.courses)==null?void 0:y.total)||0}),o.jsxs("p",{className:"text-sm text-dark-muted mt-2",children:["+",((w=(x=r==null?void 0:r.statistics)==null?void 0:x.courses)==null?void 0:w.newLast30Days)||0," this month"]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Published"}),o.jsx(jo,{className:"text-green-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((C=(v=r==null?void 0:r.statistics)==null?void 0:v.courses)==null?void 0:C.published)||0})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Pending Approval"}),o.jsx(jn,{className:"text-yellow-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((B=(N=r==null?void 0:r.statistics)==null?void 0:N.courses)==null?void 0:B.pending)||0})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Drafts"}),o.jsx(Vb,{className:"text-gray-400",size:24})]}),o.jsx("p",{className:"text-3xl font-bold text-white",children:((M=(j=r==null?void 0:r.statistics)==null?void 0:j.courses)==null?void 0:M.draft)||0})]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Revenue"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Total Revenue"}),o.jsx(Cn,{className:"text-green-400",size:24})]}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",((T=(U=(I=r==null?void 0:r.statistics)==null?void 0:I.revenue)==null?void 0:U.total)==null?void 0:T.toFixed(2))||0]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Platform Earnings"}),o.jsx(sa,{className:"text-blue-400",size:24})]}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",((R=(G=(P=r==null?void 0:r.statistics)==null?void 0:P.revenue)==null?void 0:G.platformEarnings)==null?void 0:R.toFixed(2))||0]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-dark-muted",children:"Instructor Earnings"}),o.jsx(Cn,{className:"text-purple-400",size:24})]}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",((oe=(Z=(q=r==null?void 0:r.statistics)==null?void 0:q.revenue)==null?void 0:Z.instructorEarnings)==null?void 0:oe.toFixed(2))||0]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Recent Users"}),o.jsx("div",{className:"space-y-3",children:(re=(H=r==null?void 0:r.recentActivity)==null?void 0:H.users)==null?void 0:re.slice(0,5).map(D=>{var K;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-primary to-purple-500 flex items-center justify-center text-white font-bold",children:(K=D.name)==null?void 0:K.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:D.name}),o.jsx("p",{className:"text-dark-muted text-sm",children:D.email})]})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded ${D.role==="student"?"bg-blue-500/20 text-blue-400":D.role==="instructor"?"bg-purple-500/20 text-purple-400":"bg-red-500/20 text-red-400"}`,children:D.role})]},D._id)})})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-dark-layer2 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Recent Courses"}),o.jsx("div",{className:"space-y-3",children:(le=(ce=r==null?void 0:r.recentActivity)==null?void 0:ce.courses)==null?void 0:le.slice(0,5).map(D=>{var K;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium line-clamp-1",children:D.title}),o.jsxs("p",{className:"text-dark-muted text-sm",children:["by ",(K=D.instructorId)==null?void 0:K.name]})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded ${D.approvalStatus==="approved"?"bg-green-500/20 text-green-400":D.approvalStatus==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:D.approvalStatus})]},D._id)})})]})]})]})},vee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(""),[a,l]=S.useState(!1),[A,c]=S.useState(null),[f,d]=S.useState({sponsorshipType:"free",sponsorshipDiscount:100,sponsorshipReason:"",sponsorshipEndDate:""});S.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:B}=await Ce.get("/courses");e(B)}catch(B){console.error("Error fetching courses:",B)}finally{n(!1)}},h=async(B,j)=>{try{await Ce.put(`/admin/courses/${B}/approve`,{approvalStatus:j}),await u(),alert(`Course ${j==="approved"?"approved":"rejected"} successfully!`)}catch(M){console.error("Error approving course:",M),alert("Failed to update course status")}},g=B=>{var j,M;c(B),l(!0),(j=B.sponsorship)!=null&&j.isSponsored&&d({sponsorshipType:B.sponsorship.sponsorshipType,sponsorshipDiscount:B.sponsorship.sponsorshipDiscount,sponsorshipReason:B.sponsorship.sponsorshipReason,sponsorshipEndDate:((M=B.sponsorship.sponsorshipEndDate)==null?void 0:M.split("T")[0])||""})},m=async()=>{try{await Ce.post(`/admin/courses/${A._id}/sponsor`,f),await u(),l(!1),d({sponsorshipType:"free",sponsorshipDiscount:100,sponsorshipReason:"",sponsorshipEndDate:""}),alert("Course sponsored successfully!")}catch(B){console.error("Error sponsoring course:",B),alert("Failed to sponsor course")}},y=async B=>{if(window.confirm("Are you sure you want to remove sponsorship from this course?"))try{await Ce.delete(`/admin/courses/${B}/sponsor`),await u(),alert("Sponsorship removed successfully!")}catch(j){console.error("Error removing sponsorship:",j),alert("Failed to remove sponsorship")}},x=async B=>{if(window.confirm("Are you sure you want to delete this course? This cannot be undone."))try{await Ce.delete(`/admin/courses/${B}`),await u(),alert("Course deleted successfully!")}catch(j){console.error("Error deleting course:",j),alert("Failed to delete course")}},w=async(B,j)=>{try{await Ce.put(`/admin/courses/${B}/sponsor-status`,{status:j,sponsorshipType:"discounted",sponsorshipDiscount:50,sponsorshipStartDate:new Date,sponsorshipEndDate:null}),await u(),alert(`Sponsorship ${j} successfully!`)}catch(M){console.error("Error updating sponsorship status:",M),alert("Failed to update sponsorship status")}},[v,C]=S.useState("all"),N=r.filter(B=>{var M,I;return B.title.toLowerCase().includes(s.toLowerCase())||B.category.toLowerCase().includes(s.toLowerCase())?v==="all"?!0:v==="pending"?B.approvalStatus==="pending":v==="sponsored"?(M=B.sponsorship)==null?void 0:M.isSponsored:v==="sponsorship-pending"?((I=B.sponsorship)==null?void 0:I.requestStatus)==="pending":!0:!1});return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading courses..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Course Management"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>C("all"),className:`px-3 py-1 rounded text-sm ${v==="all"?"bg-brand-primary text-white":"bg-dark-layer2 text-dark-muted"}`,children:"All"}),o.jsx("button",{onClick:()=>C("pending"),className:`px-3 py-1 rounded text-sm ${v==="pending"?"bg-brand-primary text-white":"bg-dark-layer2 text-dark-muted"}`,children:"Pending Approval"}),o.jsx("button",{onClick:()=>C("sponsorship-pending"),className:`px-3 py-1 rounded text-sm ${v==="sponsorship-pending"?"bg-brand-primary text-white":"bg-dark-layer2 text-dark-muted"}`,children:"Sponsorship Requests"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-muted",size:20}),o.jsx("input",{type:"text",placeholder:"Search courses...",value:s,onChange:B=>i(B.target.value),className:"w-full bg-dark-layer1 border border-dark-layer2 rounded-lg py-3 pl-10 pr-4 text-white focus:border-brand-primary focus:outline-none"})]}),o.jsx("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-dark-layer2",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Course"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Instructor"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Price"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Status"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Enrollment"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:N.map(B=>{var j,M,I,U,T,P,G,R;return o.jsxs("tr",{className:"border-t border-dark-layer2 hover:bg-dark-layer2 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-white font-medium",children:B.title}),((j=B.sponsorship)==null?void 0:j.isSponsored)&&o.jsxs("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded flex items-center gap-1",children:[o.jsx(Pd,{size:12})," Sponsored"]}),((M=B.sponsorship)==null?void 0:M.requestStatus)==="pending"&&o.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded flex items-center gap-1",children:[o.jsx(Pd,{size:12})," Request Pending"]})]}),o.jsx("p",{className:"text-sm text-dark-muted",children:B.category}),((I=B.sponsorship)==null?void 0:I.requestStatus)==="pending"&&o.jsxs("p",{className:"text-xs text-purple-300 mt-1",children:["Reason: ",B.sponsorship.sponsorshipReason]})]})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-white",children:((U=B.instructorId)==null?void 0:U.name)||"Unknown"})}),o.jsx("td",{className:"p-4",children:o.jsx("div",{children:(T=B.sponsorship)!=null&&T.isSponsored?o.jsx("div",{className:"flex flex-col",children:B.sponsorship.sponsorshipType==="free"?o.jsx("span",{className:"text-green-400 font-bold",children:"FREE"}):o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-white font-bold",children:["$",(B.price*(1-B.sponsorship.sponsorshipDiscount/100)).toFixed(2)]}),o.jsxs("span",{className:"text-sm text-dark-muted line-through",children:["$",B.price]})]})}):o.jsxs("span",{className:"text-white",children:["$",B.price]})})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium w-fit ${B.isPublished?"bg-green-500/20 text-green-400":B.approvalStatus==="approved"?"bg-blue-500/20 text-blue-400":B.approvalStatus==="pending"?"bg-yellow-500/20 text-yellow-400":B.approvalStatus==="rejected"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:B.isPublished?"Published":B.approvalStatus}),B.isPublished&&B.publishedAt&&o.jsx("span",{className:"text-[10px] text-dark-muted",children:new Date(B.publishedAt).toLocaleDateString()})]})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zt,{size:14,className:"text-dark-muted"}),o.jsx("span",{className:"text-white",children:B.enrollmentCount||0})]})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[B.approvalStatus==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>h(B._id,"approved"),className:"p-2 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",title:"Approve Course",children:o.jsx(na,{size:16})}),o.jsx("button",{onClick:()=>h(B._id,"rejected"),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",title:"Reject Course",children:o.jsx(hs,{size:16})})]}),((P=B.sponsorship)==null?void 0:P.requestStatus)==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>g(B),className:"p-2 bg-purple-500/20 text-purple-400 rounded hover:bg-purple-500/30 transition-colors",title:"Approve Sponsorship",children:o.jsx(na,{size:16})}),o.jsx("button",{onClick:()=>w(B._id,"rejected"),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",title:"Reject Sponsorship",children:o.jsx(hs,{size:16})})]}),(G=B.sponsorship)!=null&&G.isSponsored?o.jsx("button",{onClick:()=>y(B._id),className:"p-2 bg-yellow-500/20 text-yellow-400 rounded hover:bg-yellow-500/30 transition-colors",title:"Remove Sponsorship",children:o.jsx(Pd,{size:16})}):!((R=B.sponsorship)!=null&&R.requestStatus)&&o.jsx("button",{onClick:()=>g(B),className:"p-2 bg-purple-500/20 text-purple-400 rounded hover:bg-purple-500/30 transition-colors",title:"Sponsor Course",children:o.jsx(Pd,{size:16})}),o.jsx("button",{onClick:()=>window.location.href=`/instructor/edit-course/${B._id}`,className:"p-2 bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/30 transition-colors",title:"Edit Course",children:o.jsx(Wk,{size:16})}),o.jsx("button",{onClick:()=>x(B._id),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",title:"Delete",children:o.jsx(os,{size:16})})]})})]},B._id)})})]})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 p-6 max-w-md w-full",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sponsor Course"}),o.jsxs("p",{className:"text-dark-muted mb-4",children:["Course: ",A==null?void 0:A.title]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Sponsorship Type"}),o.jsxs("select",{value:f.sponsorshipType,onChange:B=>{const j=B.target.value;d({...f,sponsorshipType:j,sponsorshipDiscount:j==="free"?100:50})},className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white",children:[o.jsx("option",{value:"free",children:"100% Free"}),o.jsx("option",{value:"discounted",children:"Discounted"})]})]}),f.sponsorshipType==="discounted"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Discount Percentage"}),o.jsx("input",{type:"number",min:"1",max:"100",value:f.sponsorshipDiscount,onChange:B=>d({...f,sponsorshipDiscount:parseInt(B.target.value)}),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"End Date (Optional)"}),o.jsx("input",{type:"date",value:f.sponsorshipEndDate,onChange:B=>d({...f,sponsorshipEndDate:B.target.value}),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Reason (Optional)"}),o.jsx("textarea",{value:f.sponsorshipReason,onChange:B=>d({...f,sponsorshipReason:B.target.value}),rows:3,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white",placeholder:"Why is this course being sponsored?"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-6",children:[o.jsx("button",{onClick:m,className:"flex-1 bg-brand-primary hover:bg-brand-hover text-white px-4 py-2 rounded transition-colors",children:"Sponsor Course"}),o.jsx("button",{onClick:()=>{l(!1),d({sponsorshipType:"free",sponsorshipDiscount:100,sponsorshipReason:"",sponsorshipEndDate:""})},className:"flex-1 bg-dark-layer2 hover:bg-dark-layer1 text-white px-4 py-2 rounded transition-colors",children:"Cancel"})]})]})})]})},Cee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(""),[a,l]=S.useState("all");S.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:g}=await Ce.get("/admin/users");e(g)}catch(g){console.error("Error fetching users:",g)}finally{n(!1)}},c=async(g,m)=>{try{await Ce.put(`/admin/users/${g}/role`,{role:m}),await A(),alert("User role updated successfully!")}catch(y){console.error("Error updating role:",y),alert("Failed to update user role")}},f=async(g,m)=>{try{await Ce.put(`/admin/users/${g}/ban`,{isBanned:!m,banReason:m?"":"Violated platform policies"}),await A(),alert(`User ${m?"unbanned":"banned"} successfully!`)}catch(y){console.error("Error toggling ban status:",y),alert("Failed to update ban status")}},d=async g=>{if(window.confirm("Are you sure you want to delete this user? This cannot be undone."))try{await Ce.delete(`/admin/users/${g}`),await A(),alert("User deleted successfully!")}catch(m){console.error("Error deleting user:",m),alert("Failed to delete user")}},u=r.filter(g=>{const m=g.name.toLowerCase().includes(s.toLowerCase())||g.email.toLowerCase().includes(s.toLowerCase()),y=a==="all"||g.role===a;return m&&y}),h=g=>{switch(g){case"superadmin":return"bg-red-500/20 text-red-400";case"admin":return"bg-orange-500/20 text-orange-400";case"instructor":return"bg-purple-500/20 text-purple-400";case"student":return"bg-blue-500/20 text-blue-400";default:return"bg-gray-500/20 text-gray-400"}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading users..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),o.jsxs("div",{className:"flex items-center gap-2 text-dark-muted",children:[o.jsx(Zt,{size:20}),o.jsxs("span",{children:[u.length," users"]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-muted",size:20}),o.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:g=>i(g.target.value),className:"w-full bg-dark-layer1 border border-dark-layer2 rounded-lg py-3 pl-10 pr-4 text-white focus:border-brand-primary focus:outline-none"})]}),o.jsxs("select",{value:a,onChange:g=>l(g.target.value),className:"bg-dark-layer1 border border-dark-layer2 rounded-lg px-4 py-3 text-white focus:border-brand-primary focus:outline-none",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"student",children:"Students"}),o.jsx("option",{value:"instructor",children:"Instructors"}),o.jsx("option",{value:"admin",children:"Admins"}),o.jsx("option",{value:"superadmin",children:"Super Admins"})]})]}),o.jsx("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-dark-layer2",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"User"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Role"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Status"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Joined"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:u.map(g=>o.jsxs("tr",{className:"border-t border-dark-layer2 hover:bg-dark-layer2 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:g.name.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:g.name}),o.jsx("p",{className:"text-sm text-dark-muted",children:g.email})]})]})}),o.jsx("td",{className:"p-4",children:o.jsxs("select",{value:g.role,onChange:m=>c(g._id,m.target.value),className:`px-3 py-1 rounded-full text-xs font-medium ${h(g.role)} bg-transparent border-0 cursor-pointer`,children:[o.jsx("option",{value:"student",children:"Student"}),o.jsx("option",{value:"instructor",children:"Instructor"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"superadmin",children:"Super Admin"})]})}),o.jsx("td",{className:"p-4",children:g.isBanned?o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 flex items-center gap-1 w-fit",children:[o.jsx(Vb,{size:14})," Banned"]}):o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 flex items-center gap-1 w-fit",children:[o.jsx(jo,{size:14})," Active"]})}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-white text-sm",children:new Date(g.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>f(g._id,g.isBanned),className:`p-2 rounded transition-colors ${g.isBanned?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-red-500/20 text-red-400 hover:bg-red-500/30"}`,title:g.isBanned?"Unban User":"Ban User",children:o.jsx(FR,{size:16})}),o.jsx("button",{onClick:()=>d(g._id),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",title:"Delete User",children:o.jsx(os,{size:16})})]})})]},g._id))})]})}),u.length===0&&o.jsx("div",{className:"text-center text-dark-muted py-10",children:"No users found matching your criteria."})]})},Lee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(""),[a,l]=S.useState("pending");S.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:d}=await Ce.get("/admin/users"),u=d.filter(h=>h.role==="instructor"||h.instructorApplicationDate);e(u)}catch(d){console.error("Error fetching instructors:",d)}finally{n(!1)}},c=async(d,u)=>{try{await Ce.put(`/admin/users/${d}/role`,{role:u?"instructor":"student"}),await A(),alert(`Instructor application ${u?"approved":"rejected"}!`)}catch(h){console.error("Error updating instructor status:",h),alert("Failed to update instructor status")}},f=r.filter(d=>{const u=d.name.toLowerCase().includes(s.toLowerCase())||d.email.toLowerCase().includes(s.toLowerCase());return a==="pending"?u&&d.instructorApplicationDate&&!d.isInstructorApproved:a==="approved"?u&&d.isInstructorApproved:u});return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading instructor applications..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Instructor Approvals"}),o.jsxs("div",{className:"flex items-center gap-2 text-dark-muted",children:[o.jsx(f_,{size:20}),o.jsxs("span",{children:[f.length," applications"]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-muted",size:20}),o.jsx("input",{type:"text",placeholder:"Search instructors...",value:s,onChange:d=>i(d.target.value),className:"w-full bg-dark-layer1 border border-dark-layer2 rounded-lg py-3 pl-10 pr-4 text-white focus:border-brand-primary focus:outline-none"})]}),o.jsxs("select",{value:a,onChange:d=>l(d.target.value),className:"bg-dark-layer1 border border-dark-layer2 rounded-lg px-4 py-3 text-white focus:border-brand-primary focus:outline-none",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"all",children:"All"})]})]}),o.jsx("div",{className:"grid gap-4",children:f.map(d=>{var u;return o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-bold text-xl",children:d.name.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:d.name}),d.isInstructorApproved?o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400",children:"Approved"}):o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-400",children:"Pending"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-dark-muted text-sm mb-3",children:[o.jsx(Kb,{size:14}),o.jsx("span",{children:d.email})]}),d.instructorProfile&&o.jsxs("div",{className:"space-y-2 text-sm",children:[d.instructorProfile.headline&&o.jsx("p",{className:"text-white font-medium",children:d.instructorProfile.headline}),((u=d.instructorProfile.expertise)==null?void 0:u.length)>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:d.instructorProfile.expertise.slice(0,5).map((h,g)=>o.jsx("span",{className:"px-2 py-1 bg-dark-layer2 text-dark-muted rounded text-xs",children:h},g))})]}),d.instructorApplicationDate&&o.jsxs("div",{className:"flex items-center gap-2 text-dark-muted text-xs mt-3",children:[o.jsx(jn,{size:12}),o.jsxs("span",{children:["Applied: ",new Date(d.instructorApplicationDate).toLocaleDateString()]})]})]})]}),!d.isInstructorApproved&&d.instructorApplicationDate&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>c(d._id,!0),className:"p-2 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",title:"Approve",children:o.jsx(na,{size:20})}),o.jsx("button",{onClick:()=>c(d._id,!1),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",title:"Reject",children:o.jsx(hs,{size:20})})]})]})},d._id)})}),f.length===0&&o.jsx("div",{className:"text-center text-dark-muted py-10",children:"No instructor applications found."})]})},See=()=>{const[r,e]=S.useState([]),[t,n]=S.useState({totalRevenue:0,thisMonthRevenue:0,transactionCount:0,pendingPayouts:0}),[s,i]=S.useState(!0),[a,l]=S.useState("all");S.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:d}=await Ce.get("/admin/payments");e(d);const u=d.reduce((m,y)=>m+y.amount,0),h=new Date;h.setDate(1);const g=d.filter(m=>new Date(m.createdAt)>=h).reduce((m,y)=>m+y.amount,0);n({totalRevenue:u,thisMonthRevenue:g,transactionCount:d.length,pendingPayouts:d.filter(m=>m.status==="pending").length})}catch(d){console.error("Error fetching payments:",d)}finally{i(!1)}},c=r.filter(d=>a==="all"?!0:d.status===a),f=d=>{switch(d){case"completed":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"failed":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}};return s?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading payments..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Payments & Payouts"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:o.jsx(Cn,{size:24,className:"text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Revenue"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",t.totalRevenue.toFixed(2)]})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:o.jsx(sa,{size:24,className:"text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"This Month"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",t.thisMonthRevenue.toFixed(2)]})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:o.jsx(Pu,{size:24,className:"text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Transactions"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:t.transactionCount})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-full",children:o.jsx(Fa,{size:24,className:"text-yellow-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Pending Payouts"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:t.pendingPayouts})]})]})})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("select",{value:a,onChange:d=>l(d.target.value),className:"bg-dark-layer1 border border-dark-layer2 rounded-lg px-4 py-2 text-white focus:border-brand-primary focus:outline-none",children:[o.jsx("option",{value:"all",children:"All Transactions"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"failed",children:"Failed"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-brand-primary hover:bg-brand-hover text-white rounded transition-colors",children:[o.jsx(xf,{size:18}),"Export"]})]}),o.jsx("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-dark-layer2",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Transaction ID"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"User"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Course"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Amount"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Status"}),o.jsx("th",{className:"text-left p-4 text-dark-muted font-medium",children:"Date"})]})}),o.jsx("tbody",{children:c.map(d=>{var u,h,g;return o.jsxs("tr",{className:"border-t border-dark-layer2 hover:bg-dark-layer2 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-white font-mono text-sm",children:d._id.slice(-8)})}),o.jsxs("td",{className:"p-4",children:[o.jsx("p",{className:"text-white",children:((u=d.userId)==null?void 0:u.name)||"Unknown"}),o.jsx("p",{className:"text-sm text-dark-muted",children:((h=d.userId)==null?void 0:h.email)||"N/A"})]}),o.jsx("td",{className:"p-4",children:o.jsx("p",{className:"text-white",children:((g=d.courseId)==null?void 0:g.title)||"Course Deleted"})}),o.jsx("td",{className:"p-4",children:o.jsxs("p",{className:"text-white font-bold",children:["$",d.amount]})}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f(d.status)}`,children:d.status})}),o.jsxs("td",{className:"p-4",children:[o.jsx("p",{className:"text-white text-sm",children:new Date(d.createdAt).toLocaleDateString()}),o.jsx("p",{className:"text-xs text-dark-muted",children:new Date(d.createdAt).toLocaleTimeString()})]})]},d._id)})})]})}),c.length===0&&o.jsx("div",{className:"text-center text-dark-muted py-10",children:"No transactions found."})]})},Eee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(!1),[a,l]=S.useState({title:"",message:"",priority:"medium",courseId:""});S.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:u}=await Ce.get("/admin/announcements");e(u)}catch(u){console.error("Error fetching announcements:",u)}finally{n(!1)}},c=async u=>{u.preventDefault();try{await Ce.post("/admin/announcements",a),await A(),i(!1),l({title:"",message:"",priority:"medium",courseId:""}),alert("Announcement created successfully!")}catch(h){console.error("Error creating announcement:",h),alert("Failed to create announcement")}},f=async u=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{await Ce.delete(`/admin/announcements/${u}`),await A(),alert("Announcement deleted successfully!")}catch(h){console.error("Error deleting announcement:",h),alert("Failed to delete announcement")}},d=u=>{switch(u){case"high":return"bg-red-500/20 text-red-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"low":return"bg-blue-500/20 text-blue-400";default:return"bg-gray-500/20 text-gray-400"}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading announcements..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Announcements"}),o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-primary hover:bg-brand-hover text-white rounded transition-colors",children:[o.jsx(xs,{size:18}),"New Announcement"]})]}),o.jsx("div",{className:"grid gap-4",children:r.map(u=>o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(ko,{size:20,className:"text-brand-primary"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:u.title}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${d(u.priority)}`,children:u.priority})]}),o.jsx("p",{className:"text-dark-muted mb-3",children:u.message}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-dark-muted",children:[u.courseId&&o.jsxs("span",{children:["Course: ",u.courseId.title]}),o.jsxs("span",{children:["Posted: ",new Date(u.createdAt).toLocaleDateString()]}),u.createdBy&&o.jsxs("span",{children:["By: ",u.createdBy.name]})]})]}),o.jsx("button",{onClick:()=>f(u._id),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",children:o.jsx(os,{size:18})})]})},u._id))}),r.length===0&&o.jsx("div",{className:"text-center text-dark-muted py-10",children:"No announcements yet. Create your first announcement!"}),s&&o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-lg border border-dark-layer2 p-6 max-w-lg w-full",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Create Announcement"}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Title"}),o.jsx("input",{type:"text",value:a.title,onChange:u=>l({...a,title:u.target.value}),required:!0,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white",placeholder:"Announcement title..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Message"}),o.jsx("textarea",{value:a.message,onChange:u=>l({...a,message:u.target.value}),required:!0,rows:4,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white",placeholder:"Announcement message..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Priority"}),o.jsxs("select",{value:a.priority,onChange:u=>l({...a,priority:u.target.value}),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-6",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-brand-primary hover:bg-brand-hover text-white px-4 py-2 rounded transition-colors",children:"Create"}),o.jsx("button",{type:"button",onClick:()=>{i(!1),l({title:"",message:"",priority:"medium",courseId:""})},className:"flex-1 bg-dark-layer2 hover:bg-dark-layer1 text-white px-4 py-2 rounded transition-colors",children:"Cancel"})]})]})]})})]})},Nee=()=>{var i,a,l,A;const[r,e]=S.useState(null),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c}=await Ce.get("/admin/stats");e(c)}catch(c){console.error("Error fetching analytics:",c)}finally{n(!1)}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading analytics..."}):r?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Analytics"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:o.jsx(Zt,{size:24,className:"text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalUsers})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:o.jsx(Kt,{size:24,className:"text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Courses"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalCourses})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:o.jsx(MR,{size:24,className:"text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Total Videos"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.totalVideos})]})]})}),o.jsx("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-orange-500/20 rounded-full",children:o.jsx(Cn,{size:24,className:"text-orange-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-dark-muted text-sm",children:"Storage Used"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[r.totalStorageGB," GB"]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Zt,{size:20,className:"text-brand-primary"}),"User Distribution"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-dark-muted",children:"Students"}),o.jsx("span",{className:"text-white font-semibold",children:((i=r.usersByRole)==null?void 0:i.student)||0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-dark-muted",children:"Instructors"}),o.jsx("span",{className:"text-white font-semibold",children:((a=r.usersByRole)==null?void 0:a.instructor)||0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-dark-muted",children:"Admins"}),o.jsx("span",{className:"text-white font-semibold",children:(((l=r.usersByRole)==null?void 0:l.admin)||0)+(((A=r.usersByRole)==null?void 0:A.superadmin)||0)})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(sa,{size:20,className:"text-brand-primary"}),"Platform Health"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-dark-muted",children:"Active Courses"}),o.jsx("span",{className:"text-green-400 font-semibold",children:r.activeCourses||r.totalCourses})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-dark-muted",children:"Pending Approvals"}),o.jsx("span",{className:"text-yellow-400 font-semibold",children:r.pendingCourses||0})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-dark-muted",children:"Storage Capacity"}),o.jsxs("span",{className:"text-white font-semibold",children:[r.totalStorageGB,"GB / 1000GB"]})]})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Quick Stats"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-brand-primary",children:r.totalVideos}),o.jsx("p",{className:"text-sm text-dark-muted mt-1",children:"Videos Uploaded"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-green-500",children:r.totalCourses}),o.jsx("p",{className:"text-sm text-dark-muted mt-1",children:"Courses Created"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-purple-500",children:r.totalUsers}),o.jsx("p",{className:"text-sm text-dark-muted mt-1",children:"Registered Users"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-blue-500",children:r.totalStorageGB}),o.jsx("p",{className:"text-sm text-dark-muted mt-1",children:"GB Storage Used"})]})]})]})]}):o.jsx("div",{className:"text-center mt-10 text-white",children:"Error loading analytics"})},Bee=()=>{const[r,e]=S.useState({siteName:"Course Launcher",siteDescription:"Premium online learning platform",supportEmail:"support@courselauncher.com",registrationEnabled:!0,courseApprovalRequired:!0,maxUploadSize:500,allowGuestBrowsing:!0}),[t,n]=S.useState(!1),s=()=>{n(!0),alert("Settings saved successfully!"),setTimeout(()=>n(!1),3e3)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Settings"}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(yf,{size:20,className:"text-brand-primary"}),"General Settings"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Site Name"}),o.jsx("input",{type:"text",value:r.siteName,onChange:i=>e({...r,siteName:i.target.value}),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Site Description"}),o.jsx("textarea",{value:r.siteDescription,onChange:i=>e({...r,siteDescription:i.target.value}),rows:3,className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Support Email"}),o.jsx("input",{type:"email",value:r.supportEmail,onChange:i=>e({...r,supportEmail:i.target.value}),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white"})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(wf,{size:20,className:"text-brand-primary"}),"Access Control"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Enable User Registration"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Allow new users to register on the platform"})]}),o.jsx("input",{type:"checkbox",checked:r.registrationEnabled,onChange:i=>e({...r,registrationEnabled:i.target.checked}),className:"w-5 h-5"})]}),o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Course Approval Required"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Require admin approval for new courses"})]}),o.jsx("input",{type:"checkbox",checked:r.courseApprovalRequired,onChange:i=>e({...r,courseApprovalRequired:i.target.checked}),className:"w-5 h-5"})]}),o.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Allow Guest Browsing"}),o.jsx("p",{className:"text-sm text-dark-muted",children:"Let visitors browse courses without logging in"})]}),o.jsx("input",{type:"checkbox",checked:r.allowGuestBrowsing,onChange:i=>e({...r,allowGuestBrowsing:i.target.checked}),className:"w-5 h-5"})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 p-6 rounded-lg border border-dark-layer2",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(ou,{size:20,className:"text-brand-primary"}),"Upload Settings"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-dark-muted mb-2",children:"Maximum Upload Size (MB)"}),o.jsx("input",{type:"number",value:r.maxUploadSize,onChange:i=>e({...r,maxUploadSize:parseInt(i.target.value)}),className:"w-full bg-dark-layer2 border border-dark-layer2 rounded p-2 text-white",min:"1",max:"5000"}),o.jsx("p",{className:"text-xs text-dark-muted mt-1",children:"Maximum file size for video uploads"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-6 py-3 rounded transition-colors ${t?"bg-green-500 text-white":"bg-brand-primary hover:bg-brand-hover text-white"}`,children:[o.jsx(Ip,{size:18}),t?"Saved!":"Save Settings"]})})]})},kee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(!1),[a,l]=S.useState(null),[A,c]=S.useState({name:"",price:"",period:"monthly",description:"",features:"",icon:"Rocket",color:"blue",isPopular:!1});S.useEffect(()=>{f()},[]);const f=async()=>{try{const m=await Ce.get("/mega/plans");e(m.data)}catch(m){console.error("Error fetching plans:",m)}finally{n(!1)}},d=async m=>{m.preventDefault();const y={...A,features:A.features.split(`
`).filter(x=>x.trim()!==""),price:Number(A.price)};try{a?await Ce.put(`/mega/plans/${a._id}`,y):await Ce.post("/mega/plans",y),f(),i(!1),l(null),h()}catch(x){alert("Error saving plan: "+x.message)}},u=async m=>{if(window.confirm("Are you sure you want to deactivate this plan?"))try{await Ce.put(`/mega/plans/${m}`,{isActive:!1}),f()}catch{alert("Error deactivating plan")}},h=()=>{c({name:"",price:"",period:"monthly",description:"",features:"",icon:"Rocket",color:"blue",isPopular:!1})},g=m=>{l(m),c({...m,features:m.features.join(`
`)}),i(!0)};return t?o.jsxs("div",{className:"flex items-center justify-center h-96 text-white",children:[o.jsx(Co,{className:"animate-spin mr-2"})," Loading Plans..."]}):o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("header",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white",children:"Subscription Manager"}),o.jsx("p",{className:"text-dark-muted",children:"Configure platform membership tiers and pricing"})]}),o.jsxs("button",{onClick:()=>{h(),l(null),i(!0)},className:"flex items-center gap-2 px-6 py-3 bg-brand-primary text-dark-bg font-bold rounded-xl hover:bg-brand-hover transition-all",children:[o.jsx(xs,{size:20})," Create New Plan"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(m=>o.jsxs("div",{className:`bg-dark-layer1 border border-white/10 rounded-3xl p-8 relative flex flex-col ${m.isActive?"":"opacity-50 grayscale"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsx("div",{className:`p-3 rounded-2xl bg-${m.color==="blue"?"blue":m.color==="orange"?"brand-primary":"purple"}-500/10 text-${m.color==="blue"?"blue":m.color==="orange"?"brand-primary":"purple"}-400`,children:m.icon==="Rocket"?o.jsx(Fl,{size:24}):m.icon==="Shield"?o.jsx($b,{size:24}):o.jsx(vo,{size:24})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g(m),className:"p-2 hover:bg-white/5 rounded-lg text-white transition-colors",children:o.jsx(e_,{size:16})}),o.jsx("button",{onClick:()=>u(m._id),className:"p-2 hover:bg-red-500/10 rounded-lg text-red-400 transition-colors",children:o.jsx(os,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[m.name,m.isPopular&&o.jsx("span",{className:"text-[10px] bg-brand-primary/20 text-brand-primary px-2 py-0.5 rounded-full",children:"Popular"})]}),o.jsx("p",{className:"text-sm text-dark-muted line-clamp-2",children:m.description})]}),o.jsxs("div",{className:"text-3xl font-black text-white mb-6",children:["$",m.price,o.jsxs("span",{className:"text-sm text-dark-muted font-normal",children:["/",m.period==="monthly"?"mo":m.period==="yearly"?"yr":"life"]})]}),o.jsxs("div",{className:"space-y-3 flex-1",children:[o.jsx("p",{className:"text-[10px] font-black text-dark-muted uppercase tracking-widest",children:"Features"}),m.features.slice(0,3).map((y,x)=>o.jsxs("div",{className:"flex items-center gap-2 text-xs text-dark-text/80",children:[o.jsx(na,{size:12,className:"text-brand-primary"})," ",y]},x)),m.features.length>3&&o.jsxs("p",{className:"text-[10px] text-dark-muted italic",children:["+",m.features.length-3," more"]})]})]},m._id))}),s&&o.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>i(!1)}),o.jsxs("div",{className:"relative bg-dark-layer1 border border-white/10 w-full max-w-lg rounded-[2.5rem] p-10 overflow-hidden",children:[o.jsx("h2",{className:"text-2xl font-black text-white mb-8",children:a?"Edit Plan":"Create New Plan"}),o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-dark-muted uppercase",children:"Plan Name"}),o.jsx("input",{type:"text",required:!0,value:A.name,onChange:m=>c({...A,name:m.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-brand-primary",placeholder:"e.g. Orbit Pro"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-dark-muted uppercase",children:"Price ($)"}),o.jsx("input",{type:"number",required:!0,value:A.price,onChange:m=>c({...A,price:m.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-brand-primary",placeholder:"0 for free"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-dark-muted uppercase",children:"Period"}),o.jsxs("select",{value:A.period,onChange:m=>c({...A,period:m.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-xl px-4 py-3 text-white focus:outline-none",children:[o.jsx("option",{value:"monthly",children:"Monthly"}),o.jsx("option",{value:"yearly",children:"Yearly"}),o.jsx("option",{value:"lifetime",children:"Lifetime"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-dark-muted uppercase",children:"Brand Color"}),o.jsxs("select",{value:A.color,onChange:m=>c({...A,color:m.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-xl px-4 py-3 text-white focus:outline-none",children:[o.jsx("option",{value:"blue",children:"Blue"}),o.jsx("option",{value:"orange",children:"Orange"}),o.jsx("option",{value:"purple",children:"Purple"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-dark-muted uppercase",children:"Description"}),o.jsx("textarea",{required:!0,value:A.description,onChange:m=>c({...A,description:m.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-xl px-4 py-3 text-white focus:outline-none h-24"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-dark-muted uppercase",children:"Features (One per line)"}),o.jsx("textarea",{required:!0,value:A.features,onChange:m=>c({...A,features:m.target.value}),className:"w-full bg-dark-layer2 border border-white/5 rounded-xl px-4 py-3 text-white focus:outline-none h-32",placeholder:"Access to courses\\nUnlimited downloads..."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:A.isPopular,onChange:m=>c({...A,isPopular:m.target.checked}),className:"w-4 h-4 accent-brand-primary"}),o.jsx("label",{className:"text-sm text-white",children:"Mark as Most Popular"})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 py-4 bg-white/5 text-white font-bold rounded-2xl hover:bg-white/10 transition-all",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 py-4 bg-brand-primary text-dark-bg font-black rounded-2xl hover:bg-brand-hover transition-all",children:"Save Plan"})]})]})]})]})]})},jee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c}=await Ce.get("/notifications");e(c.notifications)}catch(c){console.error("Error fetching notifications:",c)}finally{n(!1)}},i=async c=>{try{await Ce.put(`/notifications/${c}/read`),e(r.map(f=>f._id===c?{...f,isRead:!0}:f))}catch(f){console.error("Error marking as read:",f)}},a=async()=>{try{await Ce.put("/notifications/read-all"),e(r.map(c=>({...c,isRead:!0})))}catch(c){console.error("Error marking all as read:",c)}},l=async c=>{try{await Ce.delete(`/notifications/${c}`),e(r.filter(f=>f._id!==c))}catch(f){console.error("Error deleting notification:",f)}},A=async()=>{try{await Ce.delete("/notifications/clear-read"),e(r.filter(c=>!c.isRead))}catch(c){console.error("Error clearing read notifications:",c)}};return t?o.jsx("div",{className:"text-center mt-10 text-white",children:"Loading notifications..."}):o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[o.jsx(ko,{className:"text-brand-primary"}),"Notifications"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:a,className:"text-sm text-brand-primary hover:text-brand-hover transition-colors",children:"Mark all as read"}),o.jsx("button",{onClick:A,className:"text-sm text-red-400 hover:text-red-300 transition-colors",children:"Clear read"})]})]}),o.jsx("div",{className:"space-y-4",children:r.length===0?o.jsxs("div",{className:"text-center py-12 bg-dark-layer1 rounded-xl border border-dark-layer2",children:[o.jsx(ko,{size:48,className:"mx-auto text-dark-muted mb-4 opacity-50"}),o.jsx("p",{className:"text-dark-muted",children:"No notifications yet"})]}):r.map(c=>o.jsx("div",{className:`p-4 rounded-xl border transition-all ${c.isRead?"bg-dark-layer1 border-dark-layer2 opacity-75":"bg-dark-layer2 border-brand-primary/30 shadow-lg shadow-brand-primary/5"}`,children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-bold mb-1 ${c.isRead?"text-white":"text-brand-primary"}`,children:c.title}),o.jsx("p",{className:"text-dark-muted text-sm mb-3",children:c.message}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-dark-muted",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(jn,{size:12}),new Date(c.createdAt).toLocaleString()]}),c.link&&o.jsx("a",{href:c.link,className:"text-brand-primary hover:underline",children:"View Details"})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[!c.isRead&&o.jsx("button",{onClick:()=>i(c._id),className:"p-2 hover:bg-brand-primary/10 rounded-lg text-brand-primary transition-colors",title:"Mark as read",children:o.jsx(na,{size:16})}),o.jsx("button",{onClick:()=>l(c._id),className:"p-2 hover:bg-red-500/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:o.jsx(os,{size:16})})]})]})},c._id))})]})},Iee=()=>{const r=[{icon:Hb,title:"Courses & Learning",desc:"How to enroll, access content and track progress."},{icon:Cn,title:"Payments & Subscriptions",desc:"Managing your billing, refunds and invoices."},{icon:$b,title:"Account & Security",desc:"Password resets, 2FA and profile management."},{icon:qs,title:"Community Guidelines",desc:"Rules for interaction and forum behavior."}],e=["How do I request a refund?","Can I download course videos for offline viewing?","How do I become an instructor on Orbit?","Are the certificates recognized by employers?","How do I update my email address?"];return o.jsxs("div",{className:"max-w-5xl mx-auto space-y-16",children:[o.jsxs("header",{className:"text-center space-y-6 pt-8",children:[o.jsx("div",{className:"w-20 h-20 bg-brand-primary/20 rounded-[2rem] flex items-center justify-center mx-auto mb-4 border border-brand-primary/30 shadow-2xl shadow-brand-primary/10",children:o.jsx(KR,{className:"text-brand-primary",size:40})}),o.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:["How can we ",o.jsx("span",{className:"text-brand-primary italic",children:"help?"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto relative group",children:[o.jsx(ys,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-dark-muted group-focus-within:text-brand-primary transition-colors",size:24}),o.jsx("input",{type:"text",placeholder:"Search for articles, guides...",className:"w-full bg-dark-layer1 border-2 border-white/10 rounded-[2.5rem] py-5 pl-16 pr-8 text-lg focus:outline-none focus:border-brand-primary transition-all shadow-2xl placeholder:text-dark-muted/50"})]})]}),o.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((t,n)=>o.jsx("div",{className:"bg-dark-layer1 border border-white/10 rounded-[2.5rem] p-8 hover:border-brand-primary/50 transition-all duration-300 group cursor-pointer shadow-xl",children:o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center group-hover:bg-brand-primary transition-all",children:o.jsx(t.icon,{className:"text-dark-muted group-hover:text-dark-bg transition-colors",size:28})}),o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("h3",{className:"text-xl font-black text-white flex items-center justify-between",children:[t.title," ",o.jsx(jp,{size:18,className:"text-dark-muted group-hover:text-brand-primary -translate-x-2 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 transition-all"})]}),o.jsx("p",{className:"text-sm text-dark-muted leading-relaxed font-medium",children:t.desc})]})]})},n))}),o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-[2.5rem] p-10 shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-black text-white mb-8 border-b border-white/5 pb-4 tracking-tight",children:"Frequently Asked Questions"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6",children:e.map((t,n)=>o.jsxs("div",{className:"flex items-center justify-between group cursor-pointer py-1",children:[o.jsx("span",{className:"text-dark-muted hover:text-white font-bold transition-colors",children:t}),o.jsx(zb,{size:14,className:"text-dark-layer2 group-hover:text-brand-primary transition-colors"})]},n))})]}),o.jsxs("footer",{className:"bg-gradient-to-br from-brand-primary/10 to-indigo-600/10 border border-brand-primary/20 rounded-[2.5rem] p-12 text-center space-y-6",children:[o.jsx("h3",{className:"text-3xl font-black text-white tracking-tight leading-none",children:"Still have questions?"}),o.jsx("p",{className:"text-dark-muted max-w-xl mx-auto text-lg font-medium leading-relaxed",children:"If you couldn't find the answer in our help center, our human support team is ready to assist you!"}),o.jsxs("button",{className:"bg-brand-primary hover:bg-brand-hover text-dark-bg px-10 py-4 rounded-2xl font-black text-lg transition-all transform hover:scale-105 shadow-xl shadow-brand-primary/25 flex items-center gap-3 mx-auto uppercase tracking-widest",children:[o.jsx(Kb,{size:22})," Contact Orbit Support"]})]})]})},Tee=({activeTab:r,communities:e,myCommunities:t,selectedCommunity:n,setSelectedCommunity:s,posts:i})=>{const a={announcements:vo,general:qs,help:Mp,showcase:is,offtopic:yf,custom:Qu},l={announcements:"from-yellow-500 to-orange-500",general:"from-blue-500 to-indigo-500",help:"from-green-500 to-teal-500",showcase:"from-purple-500 to-pink-500",offtopic:"from-gray-500 to-slate-500",custom:"from-brand-primary to-purple-500"},A=r==="my_instructors"?t:e;return o.jsxs("aside",{className:"w-full lg:w-80 space-y-6",children:[o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-3xl p-6 shadow-2xl",children:[o.jsx("h3",{className:"text-[10px] font-black text-dark-muted uppercase tracking-[0.2em] mb-4",children:r==="my_instructors"?"My Instructor Communities":"All Communities"}),o.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[o.jsxs("button",{onClick:()=>s(null),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-sm transition-all ${n?"text-dark-muted hover:text-white hover:bg-white/5 border-2 border-transparent":"bg-brand-primary/10 text-brand-primary border-2 border-brand-primary"}`,children:[o.jsx(yf,{size:18})," All Posts"]}),A.map(c=>{const f=a[c.category]||Qu;return o.jsxs("button",{onClick:()=>s(c),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl font-bold text-sm transition-all ${(n==null?void 0:n._id)===c._id?"bg-brand-primary/10 text-brand-primary border-2 border-brand-primary":"text-dark-muted hover:text-white hover:bg-white/5 border-2 border-transparent"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-xl bg-gradient-to-br ${l[c.category]} flex items-center justify-center`,children:o.jsx(f,{size:14,className:"text-white"})}),o.jsx("span",{className:"truncate",children:c.name})]}),c.isOfficial&&o.jsx(vo,{size:14,className:"text-yellow-400"})]},c._id)}),A.length===0&&o.jsx("p",{className:"text-dark-muted text-xs text-center py-4",children:"No communities found."})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-indigo-600/20 to-purple-600/20 border border-indigo-500/20 rounded-3xl p-6 shadow-xl",children:[o.jsxs("h4",{className:"text-white font-black mb-3 flex items-center gap-2",children:[o.jsx(sa,{size:18,className:"text-brand-primary"}),"Community Stats"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-dark-muted",children:"Total Posts"}),o.jsx("span",{className:"text-lg font-black text-white",children:i.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-dark-muted",children:"Communities"}),o.jsx("span",{className:"text-lg font-black text-white",children:e.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-dark-muted",children:"Active Members"}),o.jsx("span",{className:"text-lg font-black text-brand-primary",children:"1,240+"})]})]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-3xl p-6 shadow-2xl",children:[o.jsxs("h4",{className:"text-white font-black mb-4 flex items-center gap-2",children:[o.jsx(Zt,{size:16})," Online Now"]}),o.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3,4,5,6,7,8].map(c=>o.jsxs("div",{className:"w-10 h-10 rounded-full border-3 border-dark-bg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-xs font-bold text-white shadow-lg relative",children:["U",c,o.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-dark-bg"})]},c)),o.jsx("div",{className:"w-10 h-10 rounded-full border-3 border-dark-bg bg-brand-primary flex items-center justify-center text-xs font-black text-dark-bg shadow-lg",children:"+1k"})]})]})]})},Mee=({post:r,currentUser:e,onVote:t,onLike:n,onDelete:s,onPin:i,onClick:a})=>{var f,d,u,h,g,m,y,x,w;const l=e&&((d=(f=r.communityId)==null?void 0:f.moderators)==null?void 0:d.some(v=>(typeof v=="string"?v:v._id)===e.id)),A=(e==null?void 0:e.role)==="superadmin"||l,c=v=>({announcement:"bg-yellow-500/10 border-yellow-500/20 text-yellow-400",question:"bg-blue-500/10 border-blue-500/20 text-blue-400",showcase:"bg-purple-500/10 border-purple-500/20 text-purple-400",discussion:"bg-green-500/10 border-green-500/20 text-green-400",poll:"bg-pink-500/10 border-pink-500/20 text-pink-400"})[v]||"bg-white/5 border-white/10 text-dark-muted";return o.jsxs("article",{className:"bg-dark-layer1 border border-white/10 rounded-[2rem] overflow-hidden shadow-2xl hover:border-brand-primary/30 transition-all duration-300 group cursor-pointer",onClick:()=>a(r),children:[o.jsxs("div",{className:"p-8 space-y-4",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center font-black text-white shadow-lg",children:((h=(u=r.authorId)==null?void 0:u.name)==null?void 0:h[0])||"U"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("p",{className:"text-sm font-black text-white tracking-tight",children:((g=r.authorId)==null?void 0:g.name)||"Unknown"}),((m=r.authorId)==null?void 0:m.role)==="instructor"&&o.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-[10px] font-black rounded uppercase",children:"Instructor"}),r.isPinned&&o.jsx(rL,{size:12,className:"text-brand-primary"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[o.jsx("p",{className:"text-[10px] text-dark-muted font-bold uppercase tracking-widest",children:new Date(r.createdAt).toLocaleDateString()}),r.communityId&&o.jsxs("span",{className:"text-[10px] text-brand-primary font-black flex items-center gap-1",children:[o.jsx(Qu,{size:10})," ",r.communityId.name]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-3 py-1.5 rounded-full border ${c(r.type)}`,children:r.type}),A&&o.jsx("button",{onClick:v=>{v.stopPropagation(),i(r._id)},className:`p-2 rounded-xl transition-all ${r.isPinned?"bg-brand-primary/10 text-brand-primary":"bg-white/5 text-dark-muted hover:text-white"}`,title:r.isPinned?"Unpin Post":"Pin Post",children:o.jsx(rL,{size:14,className:r.isPinned?"fill-current":""})}),e&&(((y=r.authorId)==null?void 0:y._id)===e.id||e.role==="superadmin")&&o.jsx("button",{onClick:v=>{v.stopPropagation(),s(r._id)},className:"p-2 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all",children:o.jsx(os,{size:14})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-2xl font-black text-white group-hover:text-brand-primary transition-colors line-clamp-2",children:r.title}),o.jsx("p",{className:"text-dark-muted leading-relaxed font-medium line-clamp-3",children:r.content}),r.media&&r.media.length>0&&r.media[0].type==="image"&&o.jsx("div",{className:"mt-4 rounded-xl overflow-hidden max-h-96",children:o.jsx("img",{src:r.media[0].url,alt:"Post content",className:"w-full h-full object-cover"})}),r.type==="poll"&&r.poll&&o.jsxs("div",{className:"mt-4 bg-dark-layer2/50 rounded-xl p-4 border border-white/5 space-y-3",onClick:v=>v.stopPropagation(),children:[r.poll.options.map((v,C)=>{const N=r.poll.options.reduce((M,I)=>M+I.votes.length,0),B=N===0?0:Math.round(v.votes.length/N*100),j=v.votes.includes(e==null?void 0:e.id);return o.jsxs("button",{onClick:()=>t(r._id,C),className:`relative w-full text-left p-3 rounded-lg text-sm font-bold border transition-all ${j?"border-brand-primary text-white bg-brand-primary/10":"border-white/10 text-dark-muted hover:bg-white/5"}`,children:[o.jsx("div",{className:`absolute inset-0 opacity-20 transition-all duration-1000 ${j?"bg-brand-primary":"bg-white"}`,style:{width:`${B}%`}}),o.jsxs("div",{className:"relative flex justify-between z-10",children:[o.jsx("span",{children:v.text}),o.jsxs("span",{children:[B,"%"]})]})]},C)}),o.jsxs("p",{className:"text-xs text-dark-muted text-center mt-2",children:[r.poll.options.reduce((v,C)=>v+C.votes.length,0)," votes  Ends ",new Date(r.poll.expiresAt).toLocaleDateString()]})]}),r.tags&&r.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:r.tags.map((v,C)=>o.jsxs("span",{className:"px-3 py-1 bg-white/5 text-brand-primary text-xs font-bold rounded-xl border border-white/10",children:["#",v]},C))})]})]}),o.jsxs("div",{className:"px-8 py-4 bg-dark-layer2/10 border-t border-white/5 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("button",{onClick:v=>{v.stopPropagation(),n(r._id)},className:`flex items-center gap-2 transition-colors ${(x=r.likes)!=null&&x.includes(e==null?void 0:e.id)?"text-red-400":"text-dark-muted hover:text-red-400"}`,children:[o.jsx(Dl,{size:20,className:(w=r.likes)!=null&&w.includes(e==null?void 0:e.id)?"fill-current":""}),o.jsx("span",{className:"text-sm font-black",children:r.likeCount||0})]}),o.jsxs("button",{className:"flex items-center gap-2 text-dark-muted hover:text-brand-primary transition-colors",children:[o.jsx(Ou,{size:20}),o.jsx("span",{className:"text-sm font-black",children:r.commentCount||0})]}),o.jsxs("div",{className:"flex items-center gap-2 text-dark-muted",children:[o.jsx(Im,{size:20}),o.jsx("span",{className:"text-sm font-black",children:r.viewCount||0})]})]}),o.jsx("button",{className:"px-5 py-2 rounded-xl bg-white/5 text-xs font-black text-white hover:bg-brand-primary hover:text-dark-bg transition-all uppercase tracking-widest border border-white/10",children:"View Discussion"})]})]})},Dee=()=>{var Ke,$e,je,Je,Oe;const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState([]),[a,l]=S.useState(null),[A,c]=S.useState("feed"),[f,d]=S.useState("recent"),[u,h]=S.useState(""),[g,m]=S.useState(!0),[y,x]=S.useState(!1),[w,v]=S.useState(!1),[C,N]=S.useState(null),[B,j]=S.useState(null),[M,I]=S.useState({title:"",content:"",type:"discussion",tags:""}),[U,T]=S.useState({name:"",description:"",category:"general",color:"#6366f1"}),[P,G]=S.useState(""),[R,q]=S.useState(["",""]),[Z,oe]=S.useState(1),[H,re]=S.useState(null),[ce,le]=S.useState(null),[D,K]=S.useState(!1),Y={announcements:vo,general:qs,help:Mp,showcase:is,offtopic:yf,custom:Qu},se={announcements:"from-yellow-500 to-orange-500",general:"from-blue-500 to-indigo-500",help:"from-green-500 to-teal-500",showcase:"from-purple-500 to-pink-500",offtopic:"from-gray-500 to-slate-500",custom:"from-brand-primary to-purple-500"};S.useEffect(()=>{const be=JSON.parse(localStorage.getItem("user"));j(be),J(),ie(),de()},[]),S.useEffect(()=>{de()},[a,f]);const J=async()=>{try{const{data:be}=await Ce.get("/community/communities");e(be)}catch(be){console.error("Error fetching communities:",be)}},ie=async()=>{try{const{data:be}=await Ce.get("/community/communities/enrolled");n(be)}catch(be){console.error("Error fetching my communities:",be)}},de=async()=>{m(!0);try{const be={communityId:a==null?void 0:a._id,sort:f},{data:Fe}=await Ce.get("/community/posts",{params:be});i(Fe.posts||[])}catch(be){console.error("Error fetching posts:",be)}finally{m(!1)}},ae=async be=>{be.preventDefault();try{const{data:Fe}=await Ce.post("/community/communities",U);e([Fe,...r]),v(!1),T({name:"",description:"",category:"general",color:"#6366f1"})}catch(Fe){console.error("Error creating community:",Fe),alert("Failed to create community")}},he=be=>{const Fe=be.target.files[0];Fe&&(re(Fe),le(URL.createObjectURL(Fe)))},Ee=async be=>{var Fe,rt;if(be.preventDefault(),!a){alert("Please select a community first");return}K(!0);try{let ot=[];if(H){const wt=new FormData;wt.append("file",H);const Ve=await Ce.post("/upload",wt,{headers:{"Content-Type":"multipart/form-data"}});ot.push({type:"image",url:Ve.data.url})}const dt={...M,communityId:a._id,tags:M.tags.split(",").map(wt=>wt.trim()).filter(Boolean),media:ot};if(M.type==="poll"){const wt=R.filter(mt=>mt.trim());if(wt.length<2)throw new Error("Poll must have at least 2 options");const Ve=new Date;Ve.setDate(Ve.getDate()+parseInt(Z)),dt.poll={question:M.title,options:wt.map(mt=>({text:mt})),expiresAt:Ve}}const{data:Et}=await Ce.post("/community/posts",dt);i([Et,...s]),x(!1),l(null),I({title:"",content:"",type:"discussion",tags:""}),re(null),le(null),q(["",""])}catch(ot){console.error("Error creating post:",ot),alert(((rt=(Fe=ot.response)==null?void 0:Fe.data)==null?void 0:rt.message)||"Failed to create post")}finally{K(!1)}},_e=async(be,Fe)=>{try{const{data:rt}=await Ce.post(`/community/posts/${be}/vote`,{optionIndex:Fe});i(s.map(ot=>ot._id===be?{...ot,poll:rt}:ot))}catch(rt){console.error("Error voting:",rt),alert("Failed to record vote")}},Pe=async be=>{try{const{data:Fe}=await Ce.post(`/community/posts/${be}/like`);i(s.map(rt=>rt._id===be?{...rt,likeCount:Fe.likeCount,likes:Fe.liked?[...rt.likes||[],B.id]:(rt.likes||[]).filter(ot=>ot!==B.id)}:rt))}catch(Fe){console.error("Error liking post:",Fe)}},We=async be=>{if(P.trim())try{const{data:Fe}=await Ce.post(`/community/posts/${be}/comment`,{content:P});i(s.map(rt=>rt._id===be?Fe:rt)),G("")}catch(Fe){console.error("Error adding comment:",Fe)}},W=async be=>{if(window.confirm("Delete this post?"))try{await Ce.delete(`/community/posts/${be}`),i(s.filter(Fe=>Fe._id!==be)),N(null)}catch(Fe){console.error("Error deleting post:",Fe)}},Ie=async be=>{try{const{data:Fe}=await Ce.post(`/community/posts/${be}/pin`);i(s.map(rt=>rt._id===be?{...rt,isPinned:Fe.isPinned}:rt))}catch(Fe){console.error("Error pinning post:",Fe),alert("Failed to pin post")}};return o.jsx("div",{className:"max-w-[1600px] mx-auto",children:o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-3xl p-6 mb-6 shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-black text-white tracking-tight flex items-center gap-3",children:[o.jsx(Io,{className:"text-brand-primary",size:36}),"Community ",o.jsx("span",{className:"text-brand-primary italic",children:"Hub"})]}),o.jsx("p",{className:"text-dark-muted text-sm mt-2 font-medium",children:"Connect, share, and learn with fellow orbiters"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-2xl text-sm transition-all transform hover:scale-105 shadow-xl shadow-brand-primary/30 flex items-center gap-2",children:[o.jsx(xs,{size:18})," Create Post"]}),(B==null?void 0:B.role)==="instructor"&&o.jsxs("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-white/5 hover:bg-white/10 text-white font-black rounded-2xl text-sm transition-all border border-white/10 flex items-center gap-2",children:[o.jsx(Zt,{size:18})," New Community"]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-6 border-t border-white/5 pt-6 overflow-x-auto",children:[o.jsxs("button",{onClick:()=>c("feed"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${A==="feed"?"bg-brand-primary text-dark-bg":"bg-white/5 text-dark-muted hover:text-white"}`,children:[o.jsx(qs,{className:"inline mr-2",size:16})," Feed"]}),o.jsxs("button",{onClick:()=>c("my_instructors"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${A==="my_instructors"?"bg-brand-primary text-dark-bg":"bg-white/5 text-dark-muted hover:text-white"}`,children:[o.jsx(vo,{className:"inline mr-2",size:16})," My Instructors"]}),o.jsxs("button",{onClick:()=>c("communities"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${A==="communities"?"bg-brand-primary text-dark-bg":"bg-white/5 text-dark-muted hover:text-white"}`,children:[o.jsx(Zt,{className:"inline mr-2",size:16})," All Communities"]}),o.jsxs("button",{onClick:()=>c("trending"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${A==="trending"?"bg-brand-primary text-dark-bg":"bg-white/5 text-dark-muted hover:text-white"}`,children:[o.jsx(Mm,{className:"inline mr-2",size:16})," Trending"]})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 relative",children:[o.jsx("div",{className:"hidden lg:block",children:o.jsx(Tee,{activeTab:A,communities:r,myCommunities:t,selectedCommunity:a,setSelectedCommunity:l,posts:s})}),o.jsxs("main",{className:"flex-1 space-y-6 pb-20 lg:pb-0",children:[o.jsx("div",{className:"lg:hidden",children:(A==="communities"||A==="my_instructors")&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>{l(null),c("feed")},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-sm transition-all ${a?"bg-dark-layer1 text-dark-muted hover:text-white border-2 border-transparent":"bg-brand-primary/10 text-brand-primary border-2 border-brand-primary"}`,children:[o.jsx(yf,{size:18})," All Posts"]}),(A==="my_instructors"?t:r).map(be=>{const Fe=Y[be.category]||Qu;return o.jsxs("button",{onClick:()=>{l(be),c("feed")},className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl font-bold text-sm transition-all bg-dark-layer1 border border-white/5 ${(a==null?void 0:a._id)===be._id?"bg-brand-primary/10 text-brand-primary border-brand-primary":"text-white"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-xl bg-gradient-to-br ${se[be.category]} flex items-center justify-center`,children:o.jsx(Fe,{size:14,className:"text-white"})}),o.jsx("span",{className:"truncate",children:be.name})]}),be.isOfficial&&o.jsx(vo,{size:14,className:"text-yellow-400"})]},be._id)})]})}),o.jsxs("div",{className:`${A==="communities"||A==="my_instructors"?"hidden lg:block":"block"}`,children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative w-full md:w-96",children:[o.jsx(ys,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-dark-muted"}),o.jsx("input",{type:"text",placeholder:"Search posts...",value:u,onChange:be=>h(be.target.value),className:"w-full bg-dark-layer1 border border-white/10 rounded-2xl py-3 pl-12 pr-4 text-sm focus:outline-none focus:border-brand-primary transition-all"})]}),o.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 scrollbar-hide",children:[o.jsxs("button",{onClick:()=>d("recent"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap ${f==="recent"?"bg-brand-primary text-dark-bg":"bg-white/5 text-dark-muted hover:text-white"}`,children:[o.jsx(jn,{size:14,className:"inline mr-1"})," Recent"]}),o.jsxs("button",{onClick:()=>d("popular"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap ${f==="popular"?"bg-brand-primary text-dark-bg":"bg-white/5 text-dark-muted hover:text-white"}`,children:[o.jsx(sa,{size:14,className:"inline mr-1"})," Popular"]}),o.jsxs("button",{onClick:()=>d("trending"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap ${f==="trending"?"bg-brand-primary text-dark-bg":"bg-white/5 text-dark-muted hover:text-white"}`,children:[o.jsx(Mm,{size:14,className:"inline mr-1"})," Trending"]})]})]}),g?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"}),o.jsx("p",{className:"text-dark-muted mt-4",children:"Loading posts..."})]}):s.length===0?o.jsxs("div",{className:"text-center py-20 bg-dark-layer1 border border-white/10 rounded-3xl",children:[o.jsx(qs,{className:"mx-auto text-dark-muted opacity-20 mb-4",size:64}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No posts yet"}),o.jsx("p",{className:"text-dark-muted mb-6",children:"Be the first to start a conversation!"}),o.jsx("button",{onClick:()=>x(!0),className:"hidden lg:inline-block px-6 py-3 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-2xl",children:"Create First Post"})]}):o.jsx("div",{className:"space-y-6",children:s.filter(be=>!u||be.title.toLowerCase().includes(u.toLowerCase())||be.content.toLowerCase().includes(u.toLowerCase())).map(be=>o.jsx(Mee,{post:be,currentUser:B,onVote:_e,onLike:Pe,onDelete:W,onPin:Ie,onClick:N},be._id))})]})]}),o.jsx("button",{onClick:()=>x(!0),className:"lg:hidden fixed bottom-24 right-6 w-14 h-14 bg-brand-primary text-dark-bg rounded-full shadow-2xl shadow-brand-primary/40 flex items-center justify-center z-40 hover:scale-110 transition-transform active:scale-95 border-2 border-white/20",children:o.jsx(xs,{size:28})})]}),y&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-3xl border border-white/10 p-8 max-w-2xl w-full shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-black text-white",children:"Create New Post"}),o.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-white/5 rounded-xl transition-colors",children:o.jsx(hs,{size:24,className:"text-dark-muted"})})]}),o.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Community"}),r.length===0?o.jsxs("div",{className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-dark-muted text-sm",children:["No communities available. ",(B==null?void 0:B.role)==="instructor"?"Create one first!":"Ask an instructor to create a community."]}):o.jsxs("select",{value:(a==null?void 0:a._id)||"",onChange:be=>l(r.find(Fe=>Fe._id===be.target.value)),className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",required:!0,children:[o.jsx("option",{value:"",children:"Select a community"}),r.map(be=>o.jsx("option",{value:be._id,children:be.name},be._id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Type"}),o.jsxs("select",{value:M.type,onChange:be=>I({...M,type:be.target.value}),className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",children:[o.jsx("option",{value:"discussion",children:"Discussion"}),o.jsx("option",{value:"question",children:"Question"}),o.jsx("option",{value:"showcase",children:"Showcase"}),o.jsx("option",{value:"poll",children:"Poll"})]})]}),M.type==="poll"&&o.jsxs("div",{className:"space-y-3 bg-dark-layer2/50 p-4 rounded-xl border border-white/5",children:[o.jsx("label",{className:"block text-sm font-bold text-brand-primary",children:"Poll Options"}),R.map((be,Fe)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:be,onChange:rt=>{const ot=[...R];ot[Fe]=rt.target.value,q(ot)},placeholder:`Option ${Fe+1}`,className:"flex-1 bg-dark-layer1 border border-white/10 rounded-lg p-2 text-white text-sm",required:!0}),R.length>2&&o.jsx("button",{type:"button",onClick:()=>q(R.filter((rt,ot)=>ot!==Fe)),className:"text-red-400 hover:bg-red-500/10 p-2 rounded-lg",children:o.jsx(os,{size:16})})]},Fe)),R.length<5&&o.jsxs("button",{type:"button",onClick:()=>q([...R,""]),className:"text-sm text-brand-primary font-bold hover:underline flex items-center gap-1",children:[o.jsx(xs,{size:14})," Add Option"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-1",children:"Duration (Days)"}),o.jsxs("select",{value:Z,onChange:be=>oe(be.target.value),className:"w-full bg-dark-layer1 border border-white/10 rounded-lg p-2 text-white text-sm",children:[o.jsx("option",{value:"1",children:"1 Day"}),o.jsx("option",{value:"3",children:"3 Days"}),o.jsx("option",{value:"7",children:"7 Days"}),o.jsx("option",{value:"30",children:"30 Days"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted",children:"Attachment"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{type:"button",onClick:()=>document.getElementById("post-image").click(),className:"px-4 py-2 bg-dark-layer2 hover:bg-white/5 text-white rounded-xl border border-white/10 transition-colors flex items-center gap-2 text-sm font-bold",children:[o.jsx(Hk,{size:16})," ",H?"Change Image":"Add Image"]}),o.jsx("input",{type:"file",id:"post-image",accept:"image/*",onChange:he,className:"hidden"}),H&&o.jsxs("div",{className:"flex items-center gap-2 bg-green-500/10 text-green-400 px-3 py-1 rounded-lg text-xs font-bold border border-green-500/20",children:[o.jsx(na,{size:12})," ",H.name,o.jsx("button",{type:"button",onClick:()=>{re(null),le(null)},className:"ml-2 hover:text-red-400",children:o.jsx(hs,{size:12})})]})]}),ce&&o.jsx("div",{className:"mt-2 text-center bg-dark-layer2 rounded-xl p-2 border border-white/10",children:o.jsx("img",{src:ce,alt:"Preview",className:"max-h-48 mx-auto rounded-lg"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Title"}),o.jsx("input",{type:"text",value:M.title,onChange:be=>I({...M,title:be.target.value}),placeholder:"What's on your mind?",className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Content"}),o.jsx("textarea",{value:M.content,onChange:be=>I({...M,content:be.target.value}),placeholder:"Share your thoughts with the community...",rows:6,className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white resize-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Tags (comma separated)"}),o.jsx("input",{type:"text",value:M.tags,onChange:be=>I({...M,tags:be.target.value}),placeholder:"react, javascript, web-dev",className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white"})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-brand-primary hover:bg-brand-hover text-dark-bg px-6 py-3 rounded-2xl font-black transition-all",disabled:D,children:D?o.jsx(Gb,{className:"animate-spin mx-auto",size:20}):"Publish Post"}),o.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 bg-white/5 hover:bg-white/10 text-white px-6 py-3 rounded-2xl font-black transition-all border border-white/10",children:"Cancel"})]})]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-3xl border border-white/10 p-8 max-w-xl w-full shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-black text-white",children:"Create Community"}),o.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-white/5 rounded-xl transition-colors",children:o.jsx(hs,{size:24,className:"text-dark-muted"})})]}),o.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Community Name"}),o.jsx("input",{type:"text",value:U.name,onChange:be=>T({...U,name:be.target.value}),placeholder:"Awesome Community",className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Description"}),o.jsx("textarea",{value:U.description,onChange:be=>T({...U,description:be.target.value}),placeholder:"What is your community about?",rows:4,className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white resize-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Category"}),o.jsxs("select",{value:U.category,onChange:be=>T({...U,category:be.target.value}),className:"w-full bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",children:[o.jsx("option",{value:"general",children:"General"}),o.jsx("option",{value:"help",children:"Help & Support"}),o.jsx("option",{value:"showcase",children:"Showcase"}),o.jsx("option",{value:"offtopic",children:"Off-Topic"}),o.jsx("option",{value:"custom",children:"Custom"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-dark-muted mb-2",children:"Color Theme"}),o.jsx("input",{type:"color",value:U.color,onChange:be=>T({...U,color:be.target.value}),className:"w-full h-12 bg-dark-layer2 border border-white/10 rounded-xl cursor-pointer"})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-brand-primary hover:bg-brand-hover text-dark-bg px-6 py-3 rounded-2xl font-black transition-all",children:"Create Community"}),o.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 bg-white/5 hover:bg-white/10 text-white px-6 py-3 rounded-2xl font-black transition-all border border-white/10",children:"Cancel"})]})]})]})}),C&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-dark-layer1 rounded-3xl border border-white/10 p-8 max-w-4xl w-full shadow-2xl my-8",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center font-black text-white shadow-lg",children:(($e=(Ke=C.authorId)==null?void 0:Ke.name)==null?void 0:$e[0])||"U"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-black text-white",children:((je=C.authorId)==null?void 0:je.name)||"Unknown"}),o.jsx("p",{className:"text-xs text-dark-muted",children:new Date(C.createdAt).toLocaleString()})]})]}),o.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:C.title}),o.jsx("p",{className:"text-dark-text leading-relaxed whitespace-pre-wrap",children:C.content})]}),o.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-white/5 rounded-xl transition-colors ml-4",children:o.jsx(hs,{size:24,className:"text-dark-muted"})})]}),o.jsxs("div",{className:"border-t border-white/5 pt-6 mt-6",children:[o.jsxs("h3",{className:"text-xl font-black text-white mb-4",children:["Comments (",((Je=C.comments)==null?void 0:Je.length)||0,")"]}),o.jsxs("div",{className:"flex gap-3 mb-6",children:[o.jsx("input",{type:"text",value:P,onChange:be=>G(be.target.value),placeholder:"Write a comment...",className:"flex-1 bg-dark-layer2 border border-white/10 rounded-xl p-3 text-white",onKeyPress:be=>be.key==="Enter"&&We(C._id)}),o.jsx("button",{onClick:()=>We(C._id),className:"px-6 py-3 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-xl transition-all",children:o.jsx(vf,{size:18})})]}),o.jsx("div",{className:"space-y-4",children:(Oe=C.comments)==null?void 0:Oe.map((be,Fe)=>{var rt,ot,dt,Et;return o.jsx("div",{className:"bg-dark-layer2/50 rounded-2xl p-4 border border-white/5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-xs font-bold text-white",children:((ot=(rt=be.authorId)==null?void 0:rt.name)==null?void 0:ot[0])||"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"text-sm font-bold text-white",children:((dt=be.authorId)==null?void 0:dt.name)||"Unknown"}),o.jsx("p",{className:"text-xs text-dark-muted",children:new Date(be.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-dark-text",children:be.content}),o.jsxs("button",{className:"mt-2 text-xs text-dark-muted hover:text-brand-primary flex items-center gap-1",children:[o.jsx(Dl,{size:12}),((Et=be.likes)==null?void 0:Et.length)||0]})]})]})},Fe)})})]})]})})]})})},Fee=()=>{const[r,e]=S.useState({name:"",email:"",subject:"General Inquiry",message:""}),[t,n]=S.useState({type:"",message:""}),[s,i]=S.useState(!1),a=async l=>{l.preventDefault(),i(!0),n({type:"",message:""});try{await new Promise(A=>setTimeout(A,1500)),n({type:"success",message:"Message launched! We will get back to you soon."}),e({name:"",email:"",subject:"General Inquiry",message:""})}catch{n({type:"error",message:"Failed to send message. Please try again."})}finally{i(!1)}};return o.jsx("div",{className:"max-w-6xl mx-auto py-12 px-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h1",{className:"text-5xl font-black text-white tracking-tight leading-tight",children:["Let's Talk ",o.jsx("br",{}),o.jsx("span",{className:"text-brand-primary",children:"Adventure."})]}),o.jsx("p",{className:"text-xl text-dark-muted font-medium max-w-lg leading-relaxed",children:"Have a question about a course, or just want to say hi? We're here to help you navigate your learning journey."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer p-2 rounded-3xl hover:bg-white/5 transition-all",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-brand-primary border border-white/5 group-hover:bg-brand-primary group-hover:text-dark-bg transition-all duration-300",children:o.jsx(Kb,{size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black text-dark-muted uppercase tracking-widest",children:"Email Us"}),o.jsx("p",{className:"text-lg font-bold text-white",children:"hello@orbitquest.com"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer p-2 rounded-3xl hover:bg-white/5 transition-all",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-brand-primary border border-white/5 group-hover:bg-brand-primary group-hover:text-dark-bg transition-all duration-300",children:o.jsx(r_,{size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black text-dark-muted uppercase tracking-widest",children:"Call Support"}),o.jsx("p",{className:"text-lg font-bold text-white",children:"+1 (555) ORBIT-XP"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer p-2 rounded-3xl hover:bg-white/5 transition-all",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-brand-primary border border-white/5 group-hover:bg-brand-primary group-hover:text-dark-bg transition-all duration-300",children:o.jsx(Vk,{size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black text-dark-muted uppercase tracking-widest",children:"Visit Base"}),o.jsx("p",{className:"text-lg font-bold text-white",children:"Silicon Valley, CA 94043"})]})]})]}),o.jsxs("div",{className:"pt-8",children:[o.jsx("p",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.3em] mb-4",children:"Follow the Journey"}),o.jsx("div",{className:"flex gap-4",children:[Zk,Ok,Kk].map((l,A)=>o.jsx("button",{className:"p-3.5 rounded-2xl bg-white/5 border border-white/5 text-dark-muted hover:text-brand-primary hover:bg-brand-primary/10 transition-all shadow-lg active:scale-90",children:o.jsx(l,{size:20})},A))})]})]}),o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 rounded-[2.5rem] p-10 shadow-2xl relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-[0.03] group-hover:opacity-10 transition-opacity duration-700 pointer-events-none",children:o.jsx(Ou,{size:300,className:"text-brand-primary"})}),t.type&&o.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${t.type==="success"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:[t.type==="success"?o.jsx(Qk,{size:20}):o.jsx(DR,{size:20}),o.jsx("p",{className:"text-sm font-bold",children:t.message})]}),o.jsxs("form",{className:"space-y-6 relative z-10",onSubmit:a,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-widest ml-1",children:"Full Name"}),o.jsx("input",{type:"text",required:!0,placeholder:"John Doe",value:r.name,onChange:l=>e({...r,name:l.target.value}),className:"w-full bg-dark-layer2/50 border border-white/5 rounded-2xl py-4.5 px-6 text-white focus:outline-none focus:border-brand-primary transition-all shadow-inner placeholder:text-dark-muted/30"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-widest ml-1",children:"Email Address"}),o.jsx("input",{type:"email",required:!0,placeholder:"john@example.com",value:r.email,onChange:l=>e({...r,email:l.target.value}),className:"w-full bg-dark-layer2/50 border border-white/5 rounded-2xl py-4.5 px-6 text-white focus:outline-none focus:border-brand-primary transition-all shadow-inner placeholder:text-dark-muted/30"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-widest ml-1",children:"Subject"}),o.jsxs("div",{className:"relative group/sel",children:[o.jsxs("select",{value:r.subject,onChange:l=>e({...r,subject:l.target.value}),className:"w-full bg-dark-layer2/50 border border-white/5 rounded-2xl py-4.5 px-6 text-white focus:outline-none focus:border-brand-primary transition-all appearance-none cursor-pointer shadow-inner",children:[o.jsx("option",{children:"General Inquiry"}),o.jsx("option",{children:"Course Feedback"}),o.jsx("option",{children:"Billing Issue"}),o.jsx("option",{children:"Instructor Partnership"})]}),o.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-dark-muted group-focus-within/sel:text-brand-primary transition-colors",children:o.jsx(Ou,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-black text-dark-muted uppercase tracking-widest ml-1",children:"Your Message"}),o.jsx("textarea",{rows:"4",required:!0,placeholder:"How can we help you reach your goals?",value:r.message,onChange:l=>e({...r,message:l.target.value}),className:"w-full bg-dark-layer2/50 border border-white/5 rounded-2xl py-4.5 px-6 text-white focus:outline-none focus:border-brand-primary transition-all resize-none shadow-inner placeholder:text-dark-muted/30"})]}),o.jsx("button",{disabled:s,className:`w-full py-5 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-2xl transition-all shadow-[0_10px_30px_rgba(255,161,22,0.2)] flex items-center justify-center gap-3 active:scale-[0.98] uppercase tracking-[0.2em] text-sm ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Preparing Launch...":o.jsxs(o.Fragment,{children:[o.jsx(vf,{size:20})," Launch Message"]})})]})]})]})})},Uee=()=>{var u,h;const[r,e]=S.useState(null),[t,n]=S.useState(""),[s,i]=S.useState(""),[a,l]=S.useState(!0),[A,c]=S.useState(!1);S.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:g}=await Ce.get("/referrals/stats");e(g.stats),n(g.link),i(g.referralCode)}catch(g){console.error("Error fetching referral stats:",g)}finally{l(!1)}},d=()=>{navigator.clipboard.writeText(t),c(!0),setTimeout(()=>c(!1),2e3)};return a?o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx(Gb,{className:"animate-spin text-brand-primary",size:40})}):o.jsxs("div",{className:"max-w-6xl mx-auto py-12 px-6 space-y-24",children:[o.jsxs("header",{className:"flex flex-col lg:flex-row items-center gap-16 text-center lg:text-left pt-8",children:[o.jsxs("div",{className:"flex-1 space-y-8",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-purple-500/10 border border-purple-500/20 text-purple-400 text-xs font-black uppercase tracking-widest animate-pulse",children:[o.jsx(Pd,{size:16})," Affiliate Program"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h1",{className:"text-5xl lg:text-8xl font-black text-white tracking-tighter leading-[0.9]",children:["Grow Together. ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-orange-500",children:"Earn Forever."})]}),o.jsxs("p",{className:"text-xl text-dark-muted font-medium max-w-2xl leading-relaxed",children:["Invite your friends to the OrbitQuest community and earn ",o.jsx("span",{className:"text-white font-black underline decoration-brand-primary underline-offset-4",children:"20% commission"})," on every single course they purchase. Life-time payouts."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 pt-4",children:[o.jsxs("button",{onClick:()=>document.getElementById("referral-toolbox").scrollIntoView({behavior:"smooth"}),className:"px-10 py-5 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-2xl transition-all flex items-center justify-center gap-3 shadow-[0_10px_30px_rgba(255,161,22,0.3)] transform hover:-translate-y-1",children:["Get My Link ",o.jsx(jp,{size:20})]}),o.jsx("button",{className:"px-10 py-5 bg-white/5 border border-white/10 text-white font-black rounded-2xl hover:bg-white/10 transition-all uppercase tracking-widest text-sm",children:"How it works"})]})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-primary/30 blur-[120px] rounded-full group-hover:bg-brand-primary/40 transition-all duration-700"}),o.jsx("div",{className:"relative bg-dark-layer1 border-2 border-white/10 p-12 rounded-[4rem] shadow-2xl -rotate-2 group-hover:rotate-0 transition-transform duration-500",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-dark-layer2 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-inner border border-white/5",children:o.jsx(Fl,{size:48,className:"text-brand-primary drop-shadow-[0_0_15px_rgba(255,161,22,0.5)]"})}),o.jsxs("p",{className:"text-5xl font-black text-white tracking-tighter",children:["$",((u=r==null?void 0:r.totalEarnings)==null?void 0:u.toFixed(2))||"0.00"]}),o.jsx("p",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.3em]",children:"Total Earnings"}),o.jsx("div",{className:"h-3 bg-dark-layer2 rounded-full mt-10 overflow-hidden p-0.5 border border-white/5",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-brand-primary to-orange-500 rounded-full shadow-[0_0_15px_rgba(255,161,22,0.6)] transition-all duration-1000",style:{width:`${Math.min(((r==null?void 0:r.totalEarnings)||0)/1e3*100,100)}%`}})}),o.jsx("p",{className:"text-[10px] text-dark-muted font-bold mt-4",children:"Payouts are processed monthly"})]})})]})]}),o.jsx("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:Jk,title:"Share Link",desc:"Copy your unique referral link and share it across your network or social media."},{icon:Zt,title:"They Join",desc:"Your friends sign up using your link and start their learning adventure on Orbit."},{icon:Cn,title:"You Earn",desc:"Get 20% of every purchase they make. No limits, no caps on earnings."}].map((g,m)=>o.jsxs("div",{className:"bg-dark-layer1 border border-white/10 p-10 rounded-[3rem] relative group hover:border-brand-primary/40 hover:bg-dark-layer1/50 transition-all duration-300 shadow-2xl",children:[o.jsx("div",{className:"w-16 h-16 rounded-[1.5rem] bg-white/5 flex items-center justify-center text-brand-primary mb-8 group-hover:bg-brand-primary group-hover:text-dark-bg transition-all duration-500",children:o.jsx(g.icon,{size:32})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:g.title}),o.jsx("p",{className:"text-dark-muted font-medium text-base leading-relaxed",children:g.desc})]},m))}),o.jsxs("div",{id:"referral-toolbox",className:"bg-dark-layer1 border-2 border-white/10 rounded-[4rem] p-10 lg:p-20 relative overflow-hidden shadow-2xl",children:[o.jsx("div",{className:"absolute -top-24 -right-24 p-32 opacity-5 pointer-events-none rotate-12",children:o.jsx(Io,{size:400,className:"text-white"})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-16 relative z-10",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-4xl font-black text-white tracking-tight mb-2",children:"Referral Toolbox"}),o.jsx("p",{className:"text-dark-muted font-medium italic",children:"Empower your network with world-class education."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"text-[10px] font-black text-dark-muted uppercase tracking-[0.3em] ml-2",children:"Your Unique Link"}),o.jsxs("div",{className:"flex gap-2 p-3 bg-dark-layer2/50 border border-white/5 rounded-3xl group focus-within:border-brand-primary transition-all shadow-inner",children:[o.jsx("input",{readOnly:!0,value:t||"Loading...",className:"flex-1 bg-transparent border-none focus:ring-0 text-white font-black ml-4 text-base"}),o.jsxs("button",{onClick:d,className:`p-4 ${A?"bg-green-500 text-white":"bg-dark-layer1 text-brand-primary hover:bg-brand-primary hover:text-dark-bg"} rounded-2xl transition-all flex items-center gap-2 font-black text-xs uppercase tracking-[0.2em] shadow-xl border border-white/5 active:scale-95`,children:[o.jsx(HR,{size:18})," ",A?"Copied!":"Copy Link"]})]}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-dark-muted text-xs",children:["Referral Code: ",o.jsx("span",{className:"text-white font-bold",children:s})]})})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-6",children:[{label:"Total Clicks",val:(r==null?void 0:r.clicks)||0,trend:"Active"},{label:"Referrals",val:(r==null?void 0:r.totalReferrals)||0,trend:"Lifetime"},{label:"Conversion",val:(r==null?void 0:r.clicks)>0?`${(r.totalReferrals/r.clicks*100).toFixed(1)}%`:"0%",trend:"Optimum"},{label:"Earned",val:`$${((h=r==null?void 0:r.totalEarnings)==null?void 0:h.toFixed(2))||"0.00"}`,trend:"Live"}].map((g,m)=>o.jsxs("div",{className:"p-8 bg-white/5 rounded-[2.5rem] border border-white/10 flex flex-col justify-between hover:bg-white/[0.07] transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("p",{className:"text-[10px] font-black text-dark-muted uppercase tracking-widest",children:g.label}),o.jsx("span",{className:"text-[8px] font-black py-0.5 px-2 bg-brand-primary/20 text-brand-primary rounded-full",children:g.trend})]}),o.jsx("p",{className:"text-3xl font-black text-white tracking-tighter",children:g.val})]},m))})]})]}),o.jsxs("footer",{className:"text-center py-8",children:[o.jsx("p",{className:"text-xs font-bold text-dark-muted uppercase tracking-[0.5em] mb-4",children:"Our Partners"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-12 opacity-30 grayscale",children:[o.jsx("span",{className:"text-xl font-black italic",children:"TECHHUB"}),o.jsx("span",{className:"text-xl font-black italic",children:"LEARNLY"}),o.jsx("span",{className:"text-xl font-black italic",children:"DEVFLOW"}),o.jsx("span",{className:"text-xl font-black italic",children:"SKILLSYNC"})]})]})]})},Ree=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),[s,i]=S.useState(null),[a,l]=S.useState(!1),A=[{name:"Pioneer",price:0,description:"Start your learning journey with essential access.",features:["Access to Free Courses","Community Hub Access","Basic Progress Tracking"],icon:"Rocket",color:"blue",border:"border-blue-500/20"},{name:"Orbit Pro",price:19.99,description:"The most popular choice for dedicated learners.",features:["Unlock All Premium Courses","Unlimited Certificates","Exclusive Study Groups","Priority Support"],icon:"Shield",color:"orange",isPopular:!0},{name:"Mastery Elite",price:49.99,description:"Unlimited power for high-performance careers.",features:["Everything in Pro","1-on-1 Mentorship Sessions","Early Access to New Courses"],icon:"Crown",color:"purple"}];S.useEffect(()=>{(async()=>{try{const h=await Ce.get("/mega/plans");h.data&&h.data.length>0?e(h.data):e(A)}catch(h){console.error("Error fetching plans:",h),e(A)}finally{n(!1)}})()},[]);const c=u=>{i(u),setTimeout(()=>l(!0),500)},f=u=>{switch(u){case"Rocket":return Fl;case"Shield":return $b;case"Crown":return vo;default:return Fl}},d=u=>{switch(u){case"blue":return{text:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20 shadow-blue-500/5"};case"orange":return{text:"text-brand-primary",bg:"bg-brand-primary/10",border:"border-brand-primary/20 shadow-brand-primary/5"};case"purple":return{text:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/20 shadow-purple-500/5"};default:return{text:"text-brand-primary",bg:"bg-brand-primary/10",border:"border-brand-primary/20 shadow-brand-primary/5"}}};return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-16 py-8 relative",children:[a&&o.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:o.jsxs("div",{className:"bg-dark-layer1 border border-brand-primary/30 rounded-[2.5rem] p-10 max-w-sm w-full text-center shadow-2xl animate-in zoom-in-95 duration-300",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-green-500/20",children:o.jsx(Qk,{className:"text-green-400",size:40})}),o.jsxs("h2",{className:"text-2xl font-black text-white mb-2 uppercase tracking-tighter",children:["Welcome to ",s==null?void 0:s.name,"!"]}),o.jsx("p",{className:"text-dark-muted mb-8 font-medium italic",children:"Your journey to mastery has officially accelerated. Let's reach for the stars."}),o.jsx("button",{onClick:()=>l(!1),className:"w-full py-4 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-2xl transition-all shadow-xl shadow-brand-primary/20 uppercase tracking-widest text-xs",children:"Launch Experience"})]})}),o.jsxs("header",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-brand-primary/10 border border-brand-primary/20 text-brand-primary text-sm font-black uppercase tracking-widest",children:[o.jsx(Io,{size:16})," Subscription Plans"]}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tight leading-tight",children:["Level up your ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-orange-500 italic",children:"Potential."})]}),o.jsx("p",{className:"text-dark-muted max-w-2xl mx-auto text-lg font-medium leading-relaxed",children:"Choose the plan that fits your ambition. Gain unlimited access to premium content and expert mentorship."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 px-4",children:t?o.jsxs("div",{className:"col-span-3 flex flex-col items-center justify-center py-20 space-y-4",children:[o.jsx(Co,{className:"w-12 h-12 text-brand-primary animate-spin"}),o.jsx("p",{className:"text-dark-muted font-bold tracking-widest uppercase",children:"Initializing Orbit Plans..."})]}):r.map((u,h)=>{const g=f(u.icon),m=d(u.color);return o.jsxs("div",{className:`relative bg-dark-layer1 border-2 ${m.border} rounded-[3rem] p-10 flex flex-col shadow-2xl transition-all duration-500 hover:-translate-y-2 group overflow-hidden`,children:[u.isPopular&&o.jsx("div",{className:"absolute top-0 right-0 py-2.5 px-10 bg-brand-primary text-dark-bg text-[10px] font-black uppercase tracking-widest rounded-bl-3xl shadow-lg z-20",children:"Most Popular"}),o.jsx("div",{className:"absolute -top-12 -right-12 w-40 h-40 bg-white/5 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("div",{className:"space-y-7 flex-1 relative z-10",children:[o.jsx("div",{className:`w-16 h-16 ${m.bg} ${m.text} rounded-[1.5rem] flex items-center justify-center mb-4 shadow-inner border border-white/5`,children:o.jsx(g,{size:32})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-black text-white tracking-tight",children:u.name}),o.jsx("p",{className:"text-sm text-dark-muted font-medium mt-1 pr-4",children:u.description})]}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-5xl font-black text-white tracking-tighter",children:u.price===0?"Free":`$${u.price}`}),u.price>0&&o.jsx("span",{className:"text-dark-muted font-bold text-lg",children:"/mo"})]}),o.jsx("ul",{className:"space-y-4 pt-6",children:u.features.map((y,x)=>o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`mt-1 w-5 h-5 rounded-full ${m.bg} flex items-center justify-center shrink-0 border border-white/5`,children:o.jsx(na,{className:m.text,size:12,strokeWidth:4})}),o.jsx("span",{className:"text-sm text-dark-text/80 font-medium",children:y})]},x))})]}),o.jsxs("button",{onClick:()=>c(u),className:`w-full py-5 rounded-[1.5rem] font-black text-sm uppercase tracking-[0.2em] mt-12 transition-all relative z-10 ${u.isPopular?"bg-brand-primary hover:bg-brand-hover text-dark-bg shadow-xl shadow-brand-primary/20 transform hover:scale-[1.02] active:scale-95":"bg-white/5 hover:bg-white/10 text-white border border-white/5 shadow-lg active:scale-95"}`,children:["Select ",u.name]})]},h)})}),o.jsxs("footer",{className:"bg-dark-layer2/30 border border-white/5 rounded-[3.5rem] p-12 text-center max-w-4xl mx-auto space-y-8 shadow-2xl backdrop-blur-sm",children:[o.jsxs("div",{className:"flex justify-center -space-x-3 mb-4",children:[[1,2,3,4,5].map(u=>o.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-dark-bg bg-dark-layer1 flex items-center justify-center overflow-hidden shadow-lg transform hover:z-20 hover:scale-110 transition-all cursor-pointer",children:o.jsx("img",{src:`https://i.pravatar.cc/150?u=${u+10}`,alt:"user",className:"w-full h-full object-cover"})},u)),o.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-dark-bg bg-brand-primary flex items-center justify-center text-[10px] font-black text-dark-bg shadow-lg transform hover:scale-110 transition-all cursor-pointer",children:"+5k"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white tracking-tighter leading-none italic",children:"Joined by 10,000+ ambitious learners"}),o.jsx("p",{className:"text-dark-muted font-medium italic text-lg opacity-80 max-w-2xl mx-auto leading-relaxed",children:`"Orbit Pro changed my career. The structured roadmap and community support are unparalleled. Best investment I've made."`})]})]})]})},_ee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState(!0),s=[{title:"Full-Stack Mastery Web Hub",courses:[{title:"React Deep Dive"},{title:"Node.js Backend Architecture"},{title:"Advanced CSS Orbit"},{title:"Database Scaling"}],price:149,discountPercentage:50,tag:"BEST SELLER",bg:"from-brand-primary to-orange-600",rating:4.9,students:"1.2k",lessons:145},{title:"UI/UX Design Space Camp",courses:[{title:"Figma Fundamentals"},{title:"Prototyping Motion"},{title:"User Psychology"},{title:"Design Systems"}],price:99,discountPercentage:50,tag:"TRENDING",bg:"from-purple-500 to-indigo-600",rating:4.8,students:"800",lessons:92}];return S.useEffect(()=>{(async()=>{try{const a=await Ce.get("/mega/bundles");a.data&&a.data.length>0?e(a.data):e(s)}catch(a){console.error("Error fetching bundles:",a),e(s)}finally{n(!1)}})()},[]),o.jsxs("div",{className:"max-w-7xl mx-auto space-y-20 py-12",children:[o.jsxs("header",{className:"flex flex-col md:flex-row items-end justify-between gap-8 border-b border-white/10 pb-16",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-black uppercase tracking-widest",children:[o.jsx(bf,{size:16})," Course Bundles"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter leading-[0.9]",children:["Bundled Knowledge. ",o.jsx("br",{}),o.jsx("span",{className:"text-brand-primary italic",children:"Massive Savings."})]}),o.jsx("p",{className:"text-dark-muted max-w-xl text-lg font-medium leading-relaxed",children:"Level up faster by mastering multiple related skills at once with our curated expert bundles at half the cost."})]})]}),o.jsx("div",{className:"hidden xl:block",children:o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-[2.5rem] border border-white/5 flex items-center gap-10 shadow-2xl relative overflow-hidden group hover:border-white/10 transition-colors",children:[o.jsx("div",{className:"absolute inset-0 bg-blue-500/5 blur-3xl opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("div",{className:"text-center relative z-10",children:[o.jsx("p",{className:"text-5xl font-black text-white tracking-tighter",children:"40+"}),o.jsx("p",{className:"text-[10px] font-black text-dark-muted uppercase tracking-[0.2em] mt-1",children:"Curated Bundles"})]}),o.jsx("div",{className:"h-16 w-px bg-white/10 relative z-10"}),o.jsxs("div",{className:"text-center relative z-10",children:[o.jsx("p",{className:"text-5xl font-black text-brand-primary tracking-tighter",children:"60%"}),o.jsx("p",{className:"text-[10px] font-black text-dark-muted uppercase tracking-[0.2em] mt-1",children:"Avg. Savings"})]})]})})]}),o.jsx("div",{className:"space-y-20",children:t?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[o.jsx(Co,{className:"w-12 h-12 text-brand-primary animate-spin"}),o.jsx("p",{className:"text-dark-muted font-bold tracking-widest uppercase",children:"Syncing Orbital Bundles..."})]}):r.map((i,a)=>{const l=i.discountPercentage>0?(i.price/(1-i.discountPercentage/100)).toFixed(0):i.price;return o.jsx("div",{className:"group relative bg-dark-layer1 border border-white/10 rounded-[4rem] overflow-hidden shadow-2xl transition-all duration-500 hover:border-white/20 hover:shadow-brand-primary/10",children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12",children:[o.jsxs("div",{className:`xl:col-span-5 bg-gradient-to-br ${i.bg||"from-brand-primary to-orange-600"} p-16 flex flex-col justify-between relative overflow-hidden`,children:[o.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 group-hover:scale-125 transition-transform duration-1000 rotate-12",children:o.jsx(bf,{size:280,className:"text-white"})}),o.jsxs("div",{className:"relative z-10 space-y-8",children:[i.tag&&o.jsx("span",{className:"px-5 py-2 bg-white/15 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-[0.3em] rounded-full border border-white/10 shadow-lg",children:i.tag}),o.jsx("h2",{className:"text-5xl font-black text-white leading-[1] tracking-tighter drop-shadow-lg",children:i.title}),o.jsxs("div",{className:"flex items-center gap-6 text-white font-bold bg-black/10 w-fit px-6 py-2.5 rounded-2xl backdrop-blur-sm border border-white/5 shadow-inner",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(is,{size:18,fill:"currentColor",strokeWidth:0})," ",i.rating||4.9]}),o.jsx("div",{className:"h-4 w-px bg-white/20"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zt,{size:18,strokeWidth:3})," ",i.students||(Math.random()*1e3).toFixed(0)," Students"]})]})]}),o.jsxs("div",{className:"relative z-10 pt-16",children:[i.discountPercentage>0&&o.jsxs("p",{className:"text-white/60 text-sm font-black uppercase tracking-[0.3em] line-through decoration-white/40 decoration-2 mb-2",children:["$",l]}),o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsxs("p",{className:"text-7xl font-black text-white tracking-widest leading-none bg-clip-text text-transparent bg-gradient-to-r from-white to-white/70",children:["$",i.price]}),i.discountPercentage>0&&o.jsxs("span",{className:"px-5 py-2 bg-white text-dark-bg text-[10px] font-black rounded-[0.75rem] shadow-xl animate-bounce uppercase tracking-widest",children:[i.discountPercentage,"% OFF"]})]})]})]}),o.jsxs("div",{className:"xl:col-span-7 p-12 lg:p-16 space-y-12 bg-dark-layer1/50 backdrop-blur-xl",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xs font-black text-dark-muted uppercase tracking-[0.5em] ml-1",children:"Included in this Master-Bundle"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:i.courses.map((A,c)=>o.jsxs("div",{className:"flex items-center gap-4 p-5 bg-dark-layer2/30 border border-white/5 rounded-3xl group/item hover:bg-dark-layer2 hover:border-brand-primary/30 transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-dark-muted group-hover/item:bg-brand-primary group-hover/item:text-dark-bg transition-all duration-300 shadow-inner",children:o.jsx(Mm,{size:24})}),o.jsx("p",{className:"text-base font-black text-white tracking-tight group-hover/item:text-brand-primary transition-colors",children:A.title})]},c))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-8 pt-10 border-t border-white/5",children:[o.jsxs("div",{className:"flex items-center gap-10 text-dark-muted font-bold text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx(jn,{size:20,className:"text-brand-primary"})," ",i.lessons||120," Dynamic Lessons"]}),o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx(A_,{size:20,className:"text-brand-primary"})," Lifetime Access"]})]}),o.jsxs("button",{className:"w-full sm:w-auto px-12 py-5 bg-brand-primary hover:bg-brand-hover text-dark-bg font-black rounded-2xl transition-all flex items-center justify-center gap-3 shadow-2xl shadow-brand-primary/20 uppercase tracking-[0.2em] text-sm active:scale-95 group/btn",children:["Unlock Bundle ",o.jsx(RA,{size:20,className:"group-hover/btn:translate-x-1 transition-transform"})]})]})]})]})},a)})}),o.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-indigo-800 to-purple-900 rounded-[4rem] p-16 lg:p-24 relative overflow-hidden text-center space-y-10 shadow-2xl border border-white/10 group",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 animate-pulse-slow"}),o.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-brand-primary/20 blur-[150px] rounded-full"}),o.jsxs("div",{className:"relative z-10 space-y-8",children:[o.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-[2rem] flex items-center justify-center mx-auto mb-6 backdrop-blur-xl border border-white/10 group-hover:rotate-12 transition-transform duration-700 shadow-2xl",children:o.jsx(Io,{size:48,className:"text-white animate-pulse"})}),o.jsx("h2",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter leading-none",children:"Custom Bundle Creator"}),o.jsxs("p",{className:"text-xl md:text-2xl text-white/80 max-w-3xl mx-auto font-medium leading-relaxed italic",children:["Want something unique? Pick any 5 courses and get a ",o.jsx("span",{className:"text-white font-black underline decoration-brand-primary decoration-4 underline-offset-8",children:"personalized 40% discount"})," automatically applied at checkout."]}),o.jsxs("button",{className:"px-16 py-6 bg-white text-indigo-700 font-black rounded-[2rem] text-xl hover:scale-110 transition-all shadow-[0_20px_60px_rgba(255,161,22,0.3)] uppercase tracking-[0.3em] relative group/sub overflow-hidden hover:bg-brand-primary hover:text-dark-bg",children:[o.jsx("span",{className:"relative z-10",children:"Start Building Bundle"}),o.jsx("div",{className:"absolute inset-0 bg-white blur-3xl -z-10 opacity-0 group-hover/sub:opacity-100 transition-opacity"})]})]})]})]})},Pee=()=>{const[r,e]=S.useState([]),[t,n]=S.useState([]),[s,i]=S.useState(!0);S.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:l}=await Ce.get("/enrollment/leaderboard"),{data:A}=await Ce.get("/users/instructors/top");e(l||[]),n(A||[])}catch(l){console.error("Error fetching leaderboards:",l),e([]),n([])}finally{i(!1)}};return s?o.jsxs("div",{className:"text-center mt-20",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"}),o.jsx("p",{className:"text-dark-muted mt-4",children:"Loading leaderboards..."})]}):o.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[o.jsxs("header",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-brand-primary/10 border border-brand-primary/20 text-brand-primary text-sm font-bold",children:[o.jsx(c_,{size:16})," Global Leaderboard"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:"Top Performers"}),o.jsx("p",{className:"text-dark-muted max-w-2xl mx-auto text-lg leading-relaxed",children:"Celebrate the dedication and achievements of our most active students and top-rated instructors."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("section",{className:"bg-dark-layer1 border border-white/10 rounded-[2.5rem] overflow-hidden shadow-2xl",children:[o.jsx("div",{className:"p-8 border-b border-white/5 bg-gradient-to-r from-brand-primary/10 to-transparent flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-brand-primary/20 flex items-center justify-center",children:o.jsx(Zt,{className:"text-brand-primary",size:28})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black text-white",children:"Top Students"}),o.jsx("p",{className:"text-xs text-dark-muted font-bold uppercase tracking-widest",children:"Global Ranking"})]})]})}),o.jsx("div",{className:"p-4",children:r.length===0?o.jsx("div",{className:"text-center py-8 text-dark-muted",children:"No student data available yet"}):r.map((l,A)=>{var h;const c=A+1,f=((h=l.userId)==null?void 0:h.name)||l.name||"Unknown Student",d=l.points||l.coursesCompleted*100||0,u=l.coursesCompleted||l.courses||0;return o.jsxs("div",{className:"flex items-center justify-between p-5 rounded-3xl hover:bg-white/5 transition-all duration-300 group cursor-default",children:[o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-black text-xl shadow-lg ${c===1?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-dark-bg ring-4 ring-yellow-500/20":c===2?"bg-gradient-to-br from-gray-300 to-gray-500 text-dark-bg ring-4 ring-gray-400/20":c===3?"bg-gradient-to-br from-amber-600 to-amber-800 text-white ring-4 ring-amber-700/20":"bg-dark-layer2 text-dark-text border border-white/5"}`,children:f.charAt(0).toUpperCase()}),c<=3&&o.jsx("div",{className:"absolute -top-3 -right-3 animate-bounce",children:o.jsx(Yk,{size:24,className:c===1?"text-yellow-400 drop-shadow-[0_0_8px_rgba(234,179,8,0.5)]":c===2?"text-gray-300 drop-shadow-[0_0_8px_rgba(209,213,219,0.5)]":"text-amber-600 drop-shadow-[0_0_8px_rgba(180,83,9,0.5)]"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-black text-white group-hover:text-brand-primary transition-colors",children:f}),o.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:o.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/5 px-2 py-0.5 rounded-full border border-white/5 font-bold uppercase tracking-wider",children:[o.jsx(Kt,{size:10,className:"text-brand-primary"})," ",u," Courses"]})})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[o.jsx(Io,{size:14,className:"text-brand-primary animate-pulse"}),o.jsx("p",{className:"text-xl font-black text-white",children:d.toLocaleString()})]}),o.jsx("p",{className:"text-[10px] font-black text-dark-muted uppercase tracking-[0.2em] mt-0.5",children:"Quest XP"})]})]},l._id)})}),o.jsx("div",{className:"p-6 text-center border-t border-white/5",children:o.jsx("button",{className:"text-sm font-black text-brand-primary hover:text-white transition-colors uppercase tracking-widest",children:"View Full Standings"})})]}),o.jsxs("section",{className:"bg-dark-layer1 border border-white/10 rounded-[2.5rem] overflow-hidden shadow-2xl",children:[o.jsx("div",{className:"p-8 border-b border-white/5 bg-gradient-to-r from-purple-500/10 to-transparent flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-500/20 flex items-center justify-center",children:o.jsx(sa,{className:"text-purple-400",size:28})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black text-white",children:"Elite Mentors"}),o.jsx("p",{className:"text-xs text-dark-muted font-bold uppercase tracking-widest",children:"Master Instructors"})]})]})}),o.jsx("div",{className:"p-4",children:t.length===0?o.jsx("div",{className:"text-center py-8 text-dark-muted",children:"No instructor data available yet"}):t.map((l,A)=>{const c=A+1;return o.jsxs("div",{className:"flex items-center justify-between p-5 rounded-3xl hover:bg-white/5 transition-all duration-300 group cursor-default",children:[o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsxs("div",{className:"text-3xl font-black text-dark-layer2 w-12 text-center group-hover:text-purple-500/50 transition-colors tracking-tighter",children:["#",c]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-black text-white group-hover:text-purple-400 transition-colors",children:l.name}),o.jsxs("p",{className:"text-xs text-dark-muted font-medium mt-0.5",children:[(l.studentCount||l.students||0).toLocaleString()," Students Enrolled"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 py-1.5 px-4 rounded-2xl border border-yellow-500/20 shadow-inner",children:[o.jsx(is,{size:16,className:"text-yellow-500 fill-yellow-500"}),o.jsx("span",{className:"text-lg font-black text-yellow-500",children:l.rating||0})]})]},l._id)})}),o.jsx("div",{className:"p-6 mt-auto",children:o.jsx("div",{className:"bg-dark-layer2/50 rounded-2xl p-6 border border-white/5 text-center",children:o.jsx("p",{className:"text-sm text-dark-muted font-medium italic",children:`"The best instructors are those who show you where to look but don't tell you what to see."`})})})]})]})]})},Qee=({user:r})=>{const e=_a(),i=(r==null?void 0:r.role)==="instructor"?[{to:"/instructor",icon:YR,label:"Dashboard"},{to:"/instructor/courses",icon:Kt,label:"Courses"},{to:"/reels",icon:Tm,label:"Shorts"},{to:"/instructor/analytics",icon:OR,label:"Analytics"},{to:"/profile",icon:ji,label:"Profile"}]:[{to:"/dashboard",icon:$R,label:"Home"},{to:"/reels",icon:Tm,label:"Shorts"},{to:"/my-learning",icon:Kt,label:"My Learning"},{to:"/community",icon:Zt,label:"Community"},{to:"/profile",icon:ji,label:"Profile"}];return o.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-dark-layer1/90 backdrop-blur-xl border-t border-white/10 pb-safe-area-bottom",children:o.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:i.map(a=>{const l=e.pathname===a.to,A=a.icon;return o.jsxs(NR,{to:a.to,className:`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all duration-300 relative ${l?"text-brand-primary":"text-dark-muted hover:text-white"}`,children:[l&&o.jsx("div",{className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-12 h-[2px] bg-brand-primary shadow-[0_0_10px_rgba(99,102,241,0.5)] rounded-full"}),o.jsx("div",{className:`p-1.5 rounded-xl transition-all duration-300 ${l?"bg-brand-primary/10":""}`,children:o.jsx(A,{size:20,className:l?"fill-current":"",strokeWidth:l?2.5:2})}),o.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:a.label})]},a.to)})})})},Ct=({children:r})=>localStorage.getItem("token")?r:o.jsx(su,{to:"/login"}),Oee=r=>{try{return JSON.parse(atob(r.split(".")[1]))}catch{return null}},Dt=({children:r,allowedRoles:e})=>{const t=localStorage.getItem("token");let n="";if(t){const a=Oee(t);a&&a.role&&(n=a.role.toLowerCase())}if(!n)try{const a=localStorage.getItem("user");if(a){const l=JSON.parse(a);l.role&&(n=l.role.toLowerCase())}}catch(a){console.error("Error parsing user data:",a),localStorage.removeItem("user")}if(!t)return o.jsx(su,{to:"/login",replace:!0});const s=e.map(a=>a.toLowerCase());return s.includes(n)?r:(console.log(`Access denied. User role: '${n}', Allowed: ${s.join(", ")}`),o.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-dark-bg text-white",children:o.jsxs("div",{className:"bg-dark-layer1 p-8 rounded-lg border border-dark-layer2 max-w-md text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Denied"}),o.jsxs("p",{className:"text-dark-muted mb-6",children:["You do not have permission to view this page.",o.jsx("br",{}),"Required Role: ",o.jsx("span",{className:"font-mono text-brand-primary",children:s.join(", ")}),o.jsx("br",{}),"Your Role: ",o.jsx("span",{className:"font-mono text-yellow-500",children:n})]}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-dark-layer2 hover:bg-dark-layer1 rounded transition-colors",children:"Go Back"}),o.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},className:"px-4 py-2 bg-brand-primary hover:bg-brand-hover text-white rounded transition-colors",children:"Login with Different Account"})]})]})}))},bg=({children:r})=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const n=JSON.parse(t);return n.role==="superadmin"||n.role==="admin"?o.jsx(su,{to:"/admin",replace:!0}):n.role==="instructor"?o.jsx(su,{to:"/instructor",replace:!0}):o.jsx(su,{to:"/dashboard",replace:!0})}catch{return r}return r},ft=({children:r})=>{const[e,t]=S.useState(null),n=ii();S.useEffect(()=>{const i=localStorage.getItem("user");i&&t(JSON.parse(i))},[]);const s=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n("/login")};return o.jsxs("div",{className:"flex flex-col h-screen bg-dark-bg text-dark-text overflow-hidden",children:[o.jsx(Zb,{}),o.jsxs("div",{className:"flex flex-1 overflow-hidden pt-[60px] md:pt-[72px]",children:[e&&o.jsx("div",{className:"hidden md:block",children:o.jsx(u_,{user:e,onLogout:s})}),o.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-24 md:pb-8 scroll-smooth hover:scroll-auto",children:r})]}),e&&o.jsx(Qee,{user:e})]})};function Hee(){return o.jsx(LR,{children:o.jsxs(mR,{children:[o.jsx(it,{path:"/",element:o.jsx(bg,{children:o.jsx(KP,{})})}),o.jsx(it,{path:"/instructor-home",element:o.jsx(bg,{children:o.jsx($P,{})})}),o.jsx(it,{path:"/login",element:o.jsx(bg,{children:o.jsx(zP,{})})}),o.jsx(it,{path:"/register",element:o.jsx(bg,{children:o.jsx(GP,{})})}),o.jsx(it,{path:"/instructor/profile/:instructorId",element:o.jsx(ft,{children:o.jsx(e8,{})})}),o.jsx(it,{path:"/blog",element:o.jsx(ft,{children:o.jsx(VP,{})})}),o.jsx(it,{path:"/blog/:slug",element:o.jsx(ft,{children:o.jsx(YP,{})})}),o.jsx(it,{path:"/u/:studentKey",element:o.jsx(ft,{children:o.jsx(pH,{})})}),o.jsx(it,{path:"/dashboard",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(WP,{})})})})}),o.jsx(it,{path:"/browse",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(JP,{})})})})}),o.jsx(it,{path:"/instructors",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(qP,{})})})})}),o.jsx(it,{path:"/my-instructors",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(ZP,{})})})})}),o.jsx(it,{path:"/profile",element:o.jsx(Ct,{children:o.jsx(ft,{children:o.jsx(XP,{})})})}),o.jsx(it,{path:"/my-learning",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(t8,{})})})})}),o.jsx(it,{path:"/wishlist",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(r8,{})})})})}),o.jsx(it,{path:"/announcements",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(uH,{})})})})}),o.jsx(it,{path:"/categories",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(s8,{})})})})}),o.jsx(it,{path:"/certificates",element:o.jsx(Ct,{children:o.jsx(ft,{children:o.jsx(n8,{})})})}),o.jsx(it,{path:"/course/:id",element:o.jsx(Ct,{children:o.jsx(ft,{children:o.jsx(dH,{})})})}),o.jsx(it,{path:"/live",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(hH,{})})})})}),o.jsx(it,{path:"/my-notes",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(gH,{})})})})}),o.jsx(it,{path:"/purchase-history",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(mH,{})})})})}),o.jsx(it,{path:"/my-reviews",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(xH,{})})})})}),o.jsx(it,{path:"/practice",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["student"],children:o.jsx(ft,{children:o.jsx(yH,{})})})})})," ",o.jsx(it,{path:"/reels",element:o.jsx(Ct,{children:o.jsx(ft,{children:o.jsx(bH,{})})})})," ",o.jsx(it,{path:"/instructor",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor"],children:o.jsx(ft,{children:o.jsx(CH,{})})})})}),o.jsx(it,{path:"/instructor/admin",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(LH,{})})})})}),o.jsx(it,{path:"/instructor/courses",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(SH,{})})})})}),o.jsx(it,{path:"/instructor/upload",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(UploadCourse,{})})})})}),o.jsx(it,{path:"/instructor/announcements",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(ZK,{})})})})}),o.jsx(it,{path:"/instructor/edit-course/:id",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","admin","superadmin"],children:o.jsx(ft,{children:o.jsx(IH,{})})})})}),o.jsx(it,{path:"/instructor/students",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(EH,{})})})})}),o.jsx(it,{path:"/instructor/earnings",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(NH,{})})})})}),o.jsx(it,{path:"/instructor/analytics",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(BH,{})})})})}),o.jsx(it,{path:"/instructor/promotions",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(XK,{})})})})}),o.jsx(it,{path:"/instructor/bundles",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(e$,{})})})})}),o.jsx(it,{path:"/instructor/assessments",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(t$,{})})})})}),o.jsx(it,{path:"/instructor/reviews",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(kH,{})})})})}),o.jsx(it,{path:"/instructor/settings",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(jH,{})})})})}),o.jsx(it,{path:"/instructor/live",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(r$,{})})})})}),o.jsx(it,{path:"/instructor/articles",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(n$,{})})})})}),o.jsx(it,{path:"/instructor/certificates",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(yee,{})})})})}),o.jsx(it,{path:"/instructor/practice",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["instructor","superadmin"],children:o.jsx(ft,{children:o.jsx(wee,{})})})})})," ",o.jsx(it,{path:"/admin",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(bee,{})})})})}),o.jsx(it,{path:"/admin/users",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(Cee,{})})})})}),o.jsx(it,{path:"/admin/courses",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(vee,{})})})})}),o.jsx(it,{path:"/admin/instructors",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(Lee,{})})})})}),o.jsx(it,{path:"/admin/payments",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(See,{})})})})}),o.jsx(it,{path:"/admin/subscriptions",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(kee,{})})})})}),o.jsx(it,{path:"/admin/announcements",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(Eee,{})})})})}),o.jsx(it,{path:"/admin/analytics",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(Nee,{})})})})}),o.jsx(it,{path:"/admin/settings",element:o.jsx(Ct,{children:o.jsx(Dt,{allowedRoles:["superadmin","admin"],children:o.jsx(ft,{children:o.jsx(Bee,{})})})})}),o.jsx(it,{path:"/notifications",element:o.jsx(Ct,{children:o.jsx(ft,{children:o.jsx(jee,{})})})}),o.jsx(it,{path:"/help",element:o.jsx(ft,{children:o.jsx(Iee,{})})}),o.jsx(it,{path:"/community",element:o.jsx(ft,{children:o.jsx(Dee,{})})}),o.jsx(it,{path:"/leaderboard",element:o.jsx(ft,{children:o.jsx(Pee,{})})}),o.jsx(it,{path:"/contact",element:o.jsx(ft,{children:o.jsx(Fee,{})})}),o.jsx(it,{path:"/referral",element:o.jsx(ft,{children:o.jsx(Uee,{})})}),o.jsx(it,{path:"/subscriptions",element:o.jsx(ft,{children:o.jsx(Ree,{})})}),o.jsx(it,{path:"/bundles",element:o.jsx(ft,{children:o.jsx(_ee,{})})})]})})}_2.createRoot(document.getElementById("root")).render(o.jsx(wo.StrictMode,{children:o.jsx(Hee,{})}));export{ar as _,Gee as c,XM as g};
